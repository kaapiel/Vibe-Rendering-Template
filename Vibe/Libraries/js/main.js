function CSXSWindowType(){}function Version(e,t,n,i){this.major=e,this.minor=t,this.micro=n,this.special=i}function VersionBound(e,t){this.version=e,this.inclusive=t}function VersionRange(e,t){this.lowerBound=e,this.upperBound=t}function Runtime(e,t){this.name=e,this.versionRange=t}function Extension(e,t,n,i,r,o,a,s,l,c,u,d,p,h,f,g){this.id=e,this.name=t,this.mainPath=n,this.basePath=i,this.windowType=r,this.width=o,this.height=a,this.minWidth=s,this.minHeight=l,this.maxWidth=c,this.maxHeight=u,this.defaultExtensionDataXml=d,this.specialExtensionDataXml=p,this.requiredRuntimeList=h,this.isAutoVisible=f,this.isPluginExtension=g}function CSEvent(e,t,n,i){this.type=e,this.scope=t,this.appId=n,this.extensionId=i}function SystemPath(){}function ColorType(){}function RGBColor(e,t,n,i){this.red=e,this.green=t,this.blue=n,this.alpha=i}function Direction(e,t){this.x=e,this.y=t}function GradientStop(e,t){this.offset=e,this.rgbColor=t}function GradientColor(e,t,n,i){this.type=e,this.direction=t,this.numStops=n,this.arrGradientStop=i}function UIColor(e,t,n){this.type=e,this.antialiasLevel=t,this.color=n}function AppSkinInfo(e,t,n,i,r,o,a){this.baseFontFamily=e,this.baseFontSize=t,this.appBarBackgroundColor=n,this.panelBackgroundColor=i,this.appBarBackgroundColorSRGB=r,this.panelBackgroundColorSRGB=o,this.systemHighlightColor=a}function HostEnvironment(e,t,n,i,r,o,a){this.appName=e,this.appVersion=t,this.appLocale=n,this.appUILocale=i,this.appId=r,this.isAppOnline=o,this.appSkinInfo=a}function HostCapabilities(e,t,n,i,r){this.EXTENDED_PANEL_MENU=e,this.EXTENDED_PANEL_ICONS=t,this.DELEGATE_APE_ENGINE=n,this.SUPPORT_HTML_EXTENSIONS=i,this.DISABLE_FLASH_EXTENSIONS=r}function ApiVersion(e,t,n){this.major=e,this.minor=t,this.micro=n}function MenuItemStatus(e,t,n){this.menuItemLabel=e,this.enabled=t,this.checked=n}function ContextMenuItemStatus(e,t,n){this.menuItemID=e,this.enabled=t,this.checked=n}function CSInterface(){}function Vulcan(){}function VulcanMessage(e){this.type=e,this.scope=VulcanMessage.SCOPE_SUITE,this.appId=VulcanMessage.DEFAULT_APP_ID,this.appVersion=VulcanMessage.DEFAULT_APP_VERSION,this.data=VulcanMessage.DEFAULT_DATA}function GetValueByKey(e,t){if(window.DOMParser){var n=new window.DOMParser;try{var i=n.parseFromString(e,"text/xml"),r=i.getElementsByTagName(t)[0];if(r&&r.childNodes[0])return r.childNodes[0].nodeValue}catch(e){}}return""}function requiredParamsValid(){for(var e=0;e<arguments.length;e++){var t=arguments[e];if(void 0===t||null===t)return!1}return!0}function strStartsWith(e,t){return"string"==typeof e&&0===e.indexOf(t)}function AAMStatus(e,t,n){this.status=e,this.callerId=t,this.payload=n}function IMSInterface(){}function Visitor(e,t){if(!e)throw"Visitor requires Adobe Marketing Cloud Org ID";var n=this;n.version="1.3";var i=window;i.s_c_in||(i.s_c_il=[],i.s_c_in=0),n._c="Visitor",n._il=i.s_c_il,n._in=i.s_c_in,n._il[n._in]=n,i.s_c_in++;var r=i.document,o=i.P;o||(o=null);var a=i.Q;a||(a=!0);var s=i.O;s||(s=!1),n.D=function(e){var t,n,i=0;if(e)for(t=0;t<e.length;t++)n=e.charCodeAt(t),i=(i<<5)-i+n,i&=i;return i},n.n=function(e){var t,n="0123456789",i="",r="",o=8,a=10,s=10;if(1==e){for(n+="ABCDEF",e=0;16>e;e++)t=Math.floor(Math.random()*o),i+=n.substring(t,t+1),t=Math.floor(Math.random()*o),r+=n.substring(t,t+1),o=16;return i+"-"+r}for(e=0;19>e;e++)t=Math.floor(Math.random()*a),i+=n.substring(t,t+1),a=0==e&&9==t?3:10,t=Math.floor(Math.random()*s),r+=n.substring(t,t+1),s=0==e&&9==t?3:10;return i+r},n.J=function(){var e;if(!e&&i.location&&(e=i.location.hostname),e)if(/^[0-9.]+$/.test(e))e="";else{var t=e.split("."),n=t.length-1,r=n-1;if(1<n&&2>=t[n].length&&0>",ac,ad,ae,af,ag,ai,al,am,an,ao,aq,ar,as,at,au,aw,ax,az,ba,bb,be,bf,bg,bh,bi,bj,bm,bo,br,bs,bt,bv,bw,by,bz,ca,cc,cd,cf,cg,ch,ci,cl,cm,cn,co,cr,cu,cv,cw,cx,cz,de,dj,dk,dm,do,dz,ec,ee,eg,es,eu,fi,fm,fo,fr,ga,gb,gd,ge,gf,gg,gh,gi,gl,gm,gn,gp,gq,gr,gs,gt,gw,gy,hk,hm,hn,hr,ht,hu,id,ie,im,in,io,iq,ir,is,it,je,jo,jp,kg,ki,km,kn,kp,kr,ky,kz,la,lb,lc,li,lk,lr,ls,lt,lu,lv,ly,ma,mc,md,me,mg,mh,mk,ml,mn,mo,mp,mq,mr,ms,mt,mu,mv,mw,mx,my,na,nc,ne,nf,ng,nl,no,nr,nu,om,pa,pe,pf,ph,pk,pl,pm,pn,pr,ps,pt,pw,py,qa,re,ro,rs,ru,rw,sa,sb,sc,sd,se,sg,sh,si,sj,sk,sl,sm,sn,so,sr,st,su,sv,sx,sy,sz,tc,td,tf,tg,th,tj,tk,tl,tm,tn,to,tp,tt,tv,tw,tz,ua,ug,us,uy,uz,va,vc,ve,vg,vi,vn,vu,wf,ws,yt,".indexOf(","+t[n]+",")&&r--,0<r)for(e="";n>=r;)e=t[n]+(e?".":"")+e,n--}return e},n.cookieRead=function(e){var e=encodeURIComponent(e),t=(";"+r.cookie).split(" ").join(";"),n=t.indexOf(";"+e+"="),i=0>n?n:t.indexOf(";",n+1);return 0>n?"":decodeURIComponent(t.substring(n+2+e.length,0>i?t.length:i))},n.cookieWrite=function(e,t,i){var o,a=n.cookieLifetime,t=""+t,a=a?(""+a).toUpperCase():"";return i&&"SESSION"!=a&&"NONE"!=a?(o=""!=t?parseInt(a?a:0):-60)?(i=new Date,i.setTime(i.getTime()+1e3*o)):1==i&&(i=new Date,o=i.getYear(),i.setYear(o+2+(1900>o?1900:0))):i=0,e&&"NONE"!=a?(r.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(i?" expires="+i.toGMTString()+";":"")+(n.m?" domain="+n.m+";":""),n.cookieRead(e)==t):0},n.d=o,n.z=function(e,t){try{"function"==typeof e?e.apply(i,t):e[1].apply(e[0],t)}catch(e){}},n.M=function(e,t){t&&(n.d==o&&(n.d={}),void 0==n.d[e]&&(n.d[e]=[]),n.d[e].push(t))},n.l=function(e,t){if(n.d!=o){var i=n.d[e];if(i)for(;0<i.length;)n.z(i.shift(),t)}},n.h=o,n.K=function(e,t,i){!t&&i&&i();var a=r.getElementsByTagName("HEAD")[0],s=r.createElement("SCRIPT");s.type="text/javascript",s.setAttribute("async","async"),s.src=t,a.firstChild?a.insertBefore(s,a.firstChild):a.appendChild(s),i&&(n.h==o&&(n.h={}),n.h[e]=setTimeout(i,n.loadTimeout))},n.I=function(e){n.h!=o&&n.h[e]&&(clearTimeout(n.h[e]),n.h[e]=0)},n.F=s,n.G=s,n.isAllowed=function(){return!n.F&&(n.F=a,n.cookieRead(n.cookieName)||n.cookieWrite(n.cookieName,"T",1))&&(n.G=a),n.G},n.a=o,n.c=o;var l=n.W;l||(l="MC");var c=n.Y;c||(c="MCMID");var u=n.X;u||(u="MCCIDH");var d=n.U;d||(d="A");var p=n.R;p||(p="MCAID");var h=n.V;h||(h="AAM");var f=n.T;f||(f="MCAAMLH");var g=n.S;g||(g="MCAAMB");var m=n.Z;if(m||(m="NONE"),n.u=0,n.C=function(){if(!n.u){var e=n.version;if(n.customerIDMappingServer&&(e+="|"+n.customerIDMappingServer),n.customerIDMappingServerSecure&&(e+="|"+n.customerIDMappingServerSecure),n.audienceManagerServer&&(e+="|"+n.audienceManagerServer),n.audienceManagerServerSecure&&(e+="|"+n.audienceManagerServerSecure),n.audienceManagerCustomerIDDPIDs)for(var t in n.audienceManagerCustomerIDDPIDs)!Object.prototype[t]&&n.audienceManagerCustomerIDDPIDs[t]&&(e+=t+"="+n.audienceManagerCustomerIDDPIDs[t]);n.u=n.D(e)}return n.u},n.H=s,n.j=function(){if(!n.H){n.H=a;var e,t,i,r=n.C(),l=s,c=n.cookieRead(n.cookieName),d=new Date;if(n.a==o&&(n.a={}),c&&"T"!=c)for(c=c.split("|"),c[0].match(/^[\-0-9]+$/)&&(parseInt(c[0])!=r&&(l=a),c.shift()),1==c.length%2&&c.pop(),r=0;r<c.length;r+=2)e=c[r].split("-"),t=e[0],i=c[r+1],e=1<e.length?parseInt(e[1]):0,l&&(t==u&&(i=""),0<e&&(e=d.getTime()/1e3-60)),t&&i&&(n.g(t,i,1),0<e&&(n.a["expire"+t]=e,d.getTime()>=1e3*e&&(n.c||(n.c={}),n.c[t]=a)));!n.b(p)&&(c=n.cookieRead("s_vi"))&&(c=c.split("|"),1<c.length&&0<=c[0].indexOf("v1")&&(i=c[1],r=i.indexOf("["),0<=r&&(i=i.substring(0,r)),i&&i.match(/^[0-9a-fA-F\-]+$/)&&n.g(p,i)))}},n.N=function(){var e,t,i=n.C();for(e in n.a)!Object.prototype[e]&&n.a[e]&&"expire"!=e.substring(0,6)&&(t=n.a[e],i+=(i?"|":"")+e+(n.a["expire"+e]?"-"+n.a["expire"+e]:"")+"|"+t);n.cookieWrite(n.cookieName,i,1)},n.b=function(e,t){return n.a==o||!t&&n.c&&n.c[e]?o:n.a[e]},n.g=function(e,t,i){n.a==o&&(n.a={}),n.a[e]=t,i||n.N()},n.t=function(e,t){var i=new Date;i.setTime(i.getTime()+1e3*t),n.a==o&&(n.a={}),n.a["expire"+e]=Math.floor(i.getTime()/1e3),0>t&&(n.c||(n.c={}),n.c[e]=a)},n.B=function(e){return e&&("object"==typeof e&&(e=e.d_mid?e.d_mid:e.visitorID?e.visitorID:e.id?e.id:e.uuid?e.uuid:""+e),e&&(e=e.toUpperCase(),"NOTARGET"==e&&(e=m)),!e||e!=m&&!e.match(/^[0-9a-fA-F\-]+$/))&&(e=""),e},n.i=function(e,t){if(n.I(e),n.f!=o&&(n.f[e]=s),e==l){var i=n.b(c);if(!i){if(i="object"==typeof t&&t.mid?t.mid:n.B(t),!i){if(n.q)return void n.getAnalyticsVisitorID(null,!1,!0);i=n.n()}n.g(c,i)}i&&i!=m||(i=""),"object"==typeof t&&((t.d_region||t.dcs_region||t.d_blob||t.blob)&&n.i(h,t),n.q&&t.mid&&n.i(d,{id:t.id})),n.l(c,[i])}if(e==h&&"object"==typeof t){i=604800,void 0!=t.id_sync_ttl&&t.id_sync_ttl&&(i=parseInt(t.id_sync_ttl));var r=n.b(f);r||((r=t.d_region)||(r=t.dcs_region),r&&(n.t(f,i),n.g(f,r))),r||(r=""),n.l(f,[r]),r=n.b(g),(t.d_blob||t.blob)&&((r=t.d_blob)||(r=t.blob),n.t(g,i),n.g(g,r)),r||(r=""),n.l(g,[r])}e==d&&(i=n.b(p),i||((i=n.B(t))||(i=m),n.g(p,i)),i&&i!=m||(i=""),n.l(p,[i]))},n.f=o,n.o=function(e,t,i,r){var s,u="";return n.isAllowed()&&(n.j(),u=n.b(e),!u&&(e==c?s=l:e==f||e==g?s=h:e==p&&(s=d),s))?(n.f!=o&&n.f[s]||(n.f==o&&(n.f={}),n.f[s]=a,n.K(s,t,function(){if(!n.b(e)){var t="";e==c&&(t=n.n()),n.i(s,t)}})),n.M(e,i),""):(e!=c&&e!=p||u!=m||(u="",r=a),i&&r&&n.z(i,[u]),u)},n._setMarketingCloudFields=function(e){n.j(),n.i(l,e)},n.setMarketingCloudVisitorID=function(e){n._setMarketingCloudFields(e)},n.q=s,n.getMarketingCloudVisitorID=function(e,t){return n.isAllowed()?(n.marketingCloudServer&&0>n.marketingCloudServer.indexOf(".demdex.net")&&(n.q=a),n.o(c,n.r("_setMarketingCloudFields"),e,t)):""},n._mapCustomerIDsDone=function(e){e&&"success"==e.status&&n.g(u,n.s)},n.L=function(){n._mapCustomerIDsDone({status:"success"})},n.e={},n.A=s,n.s="",n.setCustomerIDs=function(e){if(n.e=e,n.isAllowed()){n.j();var t,i,e=n.b(u),r="";e||(e=0);for(t in n.e)i=n.e[t],!Object.prototype[t]&&i&&(r+=(r?"|":"")+t+"|"+i);n.s=n.D(r),n.s!=e&&(n.A=a,n.L())}},n.getCustomerIDs=function(){return n.e},n._setAnalyticsFields=function(e){n.j(),n.i(d,e)},n.setAnalyticsVisitorID=function(e){n._setAnalyticsFields(e)},n.getAnalyticsVisitorID=function(e,t,i){if(n.isAllowed()){var r="";if(i||(r=n.getMarketingCloudVisitorID(function(){n.getAnalyticsVisitorID(e,a)})),r||i){var o=i?n.marketingCloudServer:n.trackingServer,s="";return n.loadSSL&&(i?n.marketingCloudServerSecure&&(o=n.marketingCloudServerSecure):n.trackingServerSecure&&(o=n.trackingServerSecure)),o&&(s="http"+(n.loadSSL?"s":"")+"://"+o+"/id?callback=s_c_il%5B"+n._in+"%5D._set"+(i?"MarketingCloud":"Analytics")+"Fields&mcorgid="+encodeURIComponent(n.marketingCloudOrgID)+(r?"&mid="+r:"")),n.o(i?c:p,s,e,t)}}return""},n._setAudienceManagerFields=function(e){n.j(),n.i(h,e)},n.r=function(e){var t,i,r=n.audienceManagerServer,o="",s=n.b(c),l=n.b(g,a),u="";if(n.loadSSL&&n.audienceManagerServerSecure&&(r=n.audienceManagerServerSecure),r){if(n.e&&n.audienceManagerCustomerIDDPIDs)for(t in n.e)Object.prototype[t]||(o=n.e[t],i=n.audienceManagerCustomerIDDPIDs[t],o&&i&&(u+=(u?"%01":"&d_cid=")+i+"%01"+encodeURIComponent(o)));e||(e="_setAudienceManagerFields"),o="http"+(n.loadSSL?"s":"")+"://"+r+"/id?d_rtbd=json&d_ver=2"+(!s&&n.q?"&d_verify=1":"")+"&d_orgid="+encodeURIComponent(n.marketingCloudOrgID)+(s?"&d_mid="+s:"")+(l?"&d_blob="+encodeURIComponent(l):"")+u+"&d_cb=s_c_il%5B"+n._in+"%5D."+e}return o},n.getAudienceManagerLocationHint=function(e,t){return n.isAllowed()&&n.getMarketingCloudVisitorID(function(){n.getAudienceManagerLocationHint(e,a)})?n.o(f,n.r(),e,t):""},n.getAudienceManagerBlob=function(e,t){if(n.isAllowed()&&n.getMarketingCloudVisitorID(function(){n.getAudienceManagerBlob(e,a)})){var i=n.r();return n.A&&n.t(g,-1),n.o(g,i,e,t)}return""},n.k="",n.p={},n.v="",n.w={},n.getSupplementalDataID=function(e,t){!n.k&&!t&&(n.k=n.n(1));var i=n.k;return n.v&&!n.w[e]?(i=n.v,n.w[e]=a):i&&(n.p[e]&&(n.v=n.k,n.w=n.p,n.k=i=t?"":n.n(1),n.p={}),i&&(n.p[e]=a)),i},0>e.indexOf("@")&&(e+="@AdobeOrg"),n.marketingCloudOrgID=e,n.namespace=t,n.cookieName="AMCV_"+e,n.m=n.J(),n.m==i.location.hostname&&(n.m=""),t){var v="AMCV_"+t,_=n.cookieRead(n.cookieName),y=n.cookieRead(v);!_&&y&&(n.cookieWrite(n.cookieName,y,1),n.cookieWrite(v,"",-60))}n.loadSSL=0<=i.location.protocol.toLowerCase().indexOf("https"),n.loadTimeout=500,n.marketingCloudServer=n.audienceManagerServer="dpm.demdex.net",n.customerIDMappingServer="map.adobecrs.com"}function AppMeasurement(){var e=this;e.version="1.3.2";var t=window;t.s_c_in||(t.s_c_il=[],t.s_c_in=0),e._il=t.s_c_il,e._in=t.s_c_in,e._il[e._in]=e,t.s_c_in++,e._c="s_c";var n=t.ob;n||(n=null);var i,r,o=t;try{for(i=o.parent,r=o.location;i&&i.location&&r&&""+i.location!=""+r&&o.location&&""+i.location!=""+o.location&&i.location.host==r.host;)o=i,i=o.parent}catch(e){}e.Za=function(e){try{console.log(e)}catch(e){}},e.oa=function(e){return""+parseInt(e)==""+e},e.replace=function(e,t,n){return!e||e.indexOf(t)<0?e:e.split(t).join(n)},e.escape=function(t){var n,i;if(!t)return t;for(t=encodeURIComponent(t),n=0;n<7;n++)i="+~!*()'".substring(n,n+1),t.indexOf(i)>=0&&(t=e.replace(t,i,"%"+i.charCodeAt(0).toString(16).toUpperCase()));return t},e.unescape=function(t){if(!t)return t;t=t.indexOf("+")>=0?e.replace(t,"+"," "):t;try{return decodeURIComponent(t)}catch(e){}return unescape(t)},e.Qa=function(){var n,i=t.location.hostname,r=e.fpCookieDomainPeriods;if(r||(r=e.cookieDomainPeriods),i&&!e.ha&&!/^[0-9.]+$/.test(i)&&(r=r?parseInt(r):2,r=r>2?r:2,n=i.lastIndexOf("."),n>=0)){for(;n>=0&&r>1;)n=i.lastIndexOf(".",n-1),r--;e.ha=n>0?i.substring(n):i}return e.ha},e.c_r=e.cookieRead=function(t){t=e.escape(t);var n=" "+e.d.cookie,i=n.indexOf(" "+t+"="),r=i<0?i:n.indexOf(";",i);return t=i<0?"":e.unescape(n.substring(i+2+t.length,r<0?n.length:r)),"[[B]]"!=t?t:""},e.c_w=e.cookieWrite=function(t,n,i){var r,o=e.Qa(),a=e.cookieLifetime;return n=""+n,a=a?(""+a).toUpperCase():"",i&&"SESSION"!=a&&"NONE"!=a&&((r=""!=n?parseInt(a?a:0):-60)?(i=new Date,i.setTime(i.getTime()+1e3*r)):1==i&&(i=new Date,r=i.getYear(),i.setYear(r+5+(r<1900?1900:0)))),t&&"NONE"!=a?(e.d.cookie=t+"="+e.escape(""!=n?n:"[[B]]")+"; path=/;"+(i&&"SESSION"!=a?" expires="+i.toGMTString()+";":"")+(o?" domain="+o+";":""),e.cookieRead(t)==n):0},e.D=[],e.C=function(t,n,i){if(e.ia)return 0;e.maxDelay||(e.maxDelay=250);var r=0,o=(new Date).getTime()+e.maxDelay,a=e.d.mb,s=["webkitvisibilitychange","visibilitychange"];if(a||(a=e.d.nb),a&&"prerender"==a){if(!e.V)for(e.V=1,i=0;i<s.length;i++)e.d.addEventListener(s[i],function(){var t=e.d.mb;t||(t=e.d.nb),"visible"==t&&(e.V=0,e.delayReady())});r=1,o=0}else i||e.r("_d")&&(r=1);return r&&(e.D.push({m:t,a:n,t:o}),e.V||setTimeout(e.delayReady,e.maxDelay)),r},e.delayReady=function(){var t,n=(new Date).getTime(),i=0;for(e.r("_d")&&(i=1);e.D.length>0;){if(t=e.D.shift(),i&&!t.t&&t.t>n){e.D.unshift(t),setTimeout(e.delayReady,parseInt(e.maxDelay/2));break}e.ia=1,e[t.m].apply(e,t.a),e.ia=0}},e.setAccount=e.sa=function(t){var n,i;if(!e.C("setAccount",arguments))if(e.account=t,e.allAccounts)for(n=e.allAccounts.concat(t.split(",")),e.allAccounts=[],n.sort(),i=0;i<n.length;i++)(0==i||n[i-1]!=n[i])&&e.allAccounts.push(n[i]);else e.allAccounts=t.split(",")},e.foreachVar=function(t,n){var i,r,o,a,s="";for(o=r="",e.lightProfileID?(i=e.H,(s=e.lightTrackVars)&&(s=","+s+","+e.Y.join(",")+",")):(i=e.c,(e.pe||e.linkType)&&(s=e.linkTrackVars,r=e.linkTrackEvents,e.pe&&(o=e.pe.substring(0,1).toUpperCase()+e.pe.substring(1),e[o])&&(s=e[o].lb,r=e[o].kb)),s&&(s=","+s+","+e.A.join(",")+","),r&&s&&(s+=",events,")),n&&(n=","+n+","),r=0;r<i.length;r++)o=i[r],(a=e[o])&&(!s||s.indexOf(","+o+",")>=0)&&(!n||n.indexOf(","+o+",")>=0)&&t(o,a)},e.J=function(t,n,i,r,o){var a,s,l,c,u="",d=0;if("contextData"==t&&(t="c"),n){for(a in n)if(!Object.prototype[a]&&(!o||a.substring(0,o.length)==o)&&n[a]&&(!i||i.indexOf(","+(r?r+".":"")+a+",")>=0)){if(l=!1,d)for(s=0;s<d.length;s++)a.substring(0,d[s].length)==d[s]&&(l=!0);if(!l&&(""==u&&(u+="&"+t+"."),s=n[a],o&&(a=a.substring(o.length)),a.length>0))if(l=a.indexOf("."),l>0)s=a.substring(0,l),l=(o?o:"")+s+".",d||(d=[]),d.push(l),u+=e.J(s,n,i,r,l);else if("boolean"==typeof s&&(s=s?"true":"false"),s){if("retrieveLightData"==r&&o.indexOf(".contextData.")<0)switch(l=a.substring(0,4),c=a.substring(4),a){case"transactionID":a="xact";break;case"channel":a="ch";break;case"campaign":a="v0";break;default:e.oa(c)&&("prop"==l?a="c"+c:"eVar"==l?a="v"+c:"list"==l?a="l"+c:"hier"==l&&(a="h"+c,s=s.substring(0,255)))}u+="&"+e.escape(a)+"="+e.escape(s)}}""!=u&&(u+="&."+t)}return u},e.Sa=function(){var t,n,i,r,o,a,s,l,c="",u="",d="",p=n="";for(e.lightProfileID?(t=e.H,(u=e.lightTrackVars)&&(u=","+u+","+e.Y.join(",")+",")):(t=e.c,(e.pe||e.linkType)&&(u=e.linkTrackVars,d=e.linkTrackEvents,e.pe&&(n=e.pe.substring(0,1).toUpperCase()+e.pe.substring(1),e[n])&&(u=e[n].lb,d=e[n].kb)),u&&(u=","+u+","+e.A.join(",")+","),d&&(d=","+d+",",u&&(u+=",events,")),e.events2&&(p+=(""!=p?",":"")+e.events2)),e.AudienceManagement&&e.AudienceManagement.isReady()&&(c+=e.J("d",e.AudienceManagement.getEventCallConfigParams())),n=0;n<t.length;n++){if(r=t[n],o=e[r],i=r.substring(0,4),a=r.substring(4),!o&&"events"==r&&p&&(o=p,p=""),o&&(!u||u.indexOf(","+r+",")>=0)){switch(r){case"supplementalDataID":r="sdid";break;case"timestamp":r="ts";break;case"dynamicVariablePrefix":r="D";break;case"visitorID":r="vid";break;case"marketingCloudVisitorID":r="mid";break;case"analyticsVisitorID":r="aid";break;case"audienceManagerLocationHint":r="aamlh";break;case"audienceManagerBlob":r="aamb";break;case"pageURL":r="g",o.length>255&&(e.pageURLRest=o.substring(255),o=o.substring(0,255));break;case"pageURLRest":r="-g";break;case"referrer":r="r";break;case"vmk":case"visitorMigrationKey":r="vmt";break;case"visitorMigrationServer":r="vmf",e.ssl&&e.visitorMigrationServerSecure&&(o="");break;case"visitorMigrationServerSecure":r="vmf",!e.ssl&&e.visitorMigrationServer&&(o="");break;case"charSet":r="ce";break;case"visitorNamespace":r="ns";break;case"cookieDomainPeriods":r="cdp";break;case"cookieLifetime":r="cl";break;case"variableProvider":r="vvp";break;case"currencyCode":r="cc";break;case"channel":r="ch";break;case"transactionID":r="xact";break;case"campaign":r="v0";break;case"resolution":r="s";break;case"colorDepth":r="c";break;case"javascriptVersion":r="j";break;case"javaEnabled":r="v";break;case"cookiesEnabled":r="k";break;case"browserWidth":r="bw";break;case"browserHeight":r="bh";break;case"connectionType":r="ct";break;case"homepage":r="hp";break;case"plugins":r="p";break;case"events":if(p&&(o+=(""!=o?",":"")+p),d)for(a=o.split(","),o="",i=0;i<a.length;i++)s=a[i],l=s.indexOf("="),l>=0&&(s=s.substring(0,l)),l=s.indexOf(":"),l>=0&&(s=s.substring(0,l)),d.indexOf(","+s+",")>=0&&(o+=(o?",":"")+a[i]);break;case"events2":o="";break;case"contextData":c+=e.J("c",e[r],u,r),o="";break;case"lightProfileID":r="mtp";break;case"lightStoreForSeconds":r="mtss",e.lightProfileID||(o="");break;case"lightIncrementBy":r="mti",e.lightProfileID||(o="");break;case"retrieveLightProfiles":r="mtsr";break;case"deleteLightProfiles":r="mtsd";break;case"retrieveLightData":e.retrieveLightProfiles&&(c+=e.J("mts",e[r],u,r)),o="";break;default:e.oa(a)&&("prop"==i?r="c"+a:"eVar"==i?r="v"+a:"list"==i?r="l"+a:"hier"==i&&(r="h"+a,o=o.substring(0,255)))}o&&(c+="&"+r+"="+("pev"!=r.substring(0,3)?e.escape(o):o))}"pev3"==r&&e.g&&(c+=e.g)}return c},e.v=function(e){var t=e.tagName;return""+e.sb!="undefined"||""+e.eb!="undefined"&&"HTML"!=(""+e.eb).toUpperCase()?"":(t=t&&t.toUpperCase?t.toUpperCase():"","SHAPE"==t&&(t=""),t&&(("INPUT"==t||"BUTTON"==t)&&e.type&&e.type.toUpperCase?t=e.type.toUpperCase():!t&&e.href&&(t="A")),t)},e.ka=function(e){var t,n,i,r=e.href?e.href:"";return t=r.indexOf(":"),n=r.indexOf("?"),i=r.indexOf("/"),r&&(t<0||n>=0&&t>n||i>=0&&t>i)&&(n=e.protocol&&e.protocol.length>1?e.protocol:l.protocol?l.protocol:"",t=l.pathname.lastIndexOf("/"),r=(n?n+"//":"")+(e.host?e.host:l.host?l.host:"")+("/"!=h.substring(0,1)?l.pathname.substring(0,t<0?0:t)+"/":"")+r),r},e.F=function(t){var n,i,r=e.v(t),o="",a=0;return r&&(n=t.protocol,i=t.onclick,!t.href||"A"!=r&&"AREA"!=r||i&&n&&!(n.toLowerCase().indexOf("javascript")<0)?i?(o=e.replace(e.replace(e.replace(e.replace(""+i,"\r",""),"\n",""),"\t","")," ",""),a=2):"INPUT"==r||"SUBMIT"==r?(t.value?o=t.value:t.innerText?o=t.innerText:t.textContent&&(o=t.textContent),a=3):t.src&&"IMAGE"==r&&(o=t.src):o=e.ka(t),o)?{id:o.substring(0,100),type:a}:0},e.pb=function(t){for(var n=e.v(t),i=e.F(t);t&&!i&&"BODY"!=n;)(t=t.parentElement?t.parentElement:t.parentNode)&&(n=e.v(t),i=e.F(t));return i&&"BODY"!=n||(t=0),t&&(n=t.onclick?""+t.onclick:"",n.indexOf(".tl(")>=0||n.indexOf(".trackLink(")>=0)&&(t=0),t},e.bb=function(){var n,i,r,o,a=e.linkObject,s=e.linkType,l=e.linkURL;if(e.Z=1,a||(e.Z=0,a=e.j),a){for(n=e.v(a),i=e.F(a);a&&!i&&"BODY"!=n;)(a=a.parentElement?a.parentElement:a.parentNode)&&(n=e.v(a),i=e.F(a));if(i&&"BODY"!=n||(a=0),a){var c=a.onclick?""+a.onclick:"";(c.indexOf(".tl(")>=0||c.indexOf(".trackLink(")>=0)&&(a=0)}}else e.Z=1;if(!l&&a&&(l=e.ka(a)),l&&!e.linkLeaveQueryString&&(r=l.indexOf("?"),r>=0&&(l=l.substring(0,r))),!s&&l){var u,d=0,p=0;if(e.trackDownloadLinks&&e.linkDownloadFileTypes)for(c=l.toLowerCase(),r=c.indexOf("?"),o=c.indexOf("#"),r>=0?o>=0&&o<r&&(r=o):r=o,r>=0&&(c=c.substring(0,r)),r=e.linkDownloadFileTypes.toLowerCase().split(","),o=0;o<r.length;o++)(u=r[o])&&c.substring(c.length-(u.length+1))=="."+u&&(s="d");if(e.trackExternalLinks&&!s&&(c=l.toLowerCase(),e.na(c))&&(e.linkInternalFilters||(e.linkInternalFilters=t.location.hostname),r=0,e.linkExternalFilters?(r=e.linkExternalFilters.toLowerCase().split(","),d=1):e.linkInternalFilters&&(r=e.linkInternalFilters.toLowerCase().split(",")),r)){for(o=0;o<r.length;o++)u=r[o],c.indexOf(u)>=0&&(p=1);p?d&&(s="e"):d||(s="e")}}e.linkObject=a,e.linkURL=l,e.linkType=s,(e.trackClickMap||e.trackInlineStats)&&(e.g="",a&&(s=e.pageName,l=1,a=a.sourceIndex,s||(s=e.pageURL,l=0),t.s_objectID&&(i.id=t.s_objectID,a=i.type=1),s&&i&&i.id&&n&&(e.g="&pid="+e.escape(s.substring(0,255))+(l?"&pidt="+l:"")+"&oid="+e.escape(i.id.substring(0,100))+(i.type?"&oidt="+i.type:"")+"&ot="+n+(a?"&oi="+a:""))))},e.Ta=function(){var t=e.Z,n=e.linkType,i=e.linkURL,r=e.linkName;if(n&&(i||r)&&(n=n.toLowerCase(),"d"!=n&&"e"!=n&&(n="o"),e.pe="lnk_"+n,e.pev1=i?e.escape(i):"",e.pev2=r?e.escape(r):"",t=1),e.abort&&(t=0),e.trackClickMap||e.trackInlineStats){n={},i=0;var o,a,s,l=e.cookieRead("s_sq"),c=l?l.split("&"):0;if(l=0,c)for(o=0;o<c.length;o++)a=c[o].split("="),r=e.unescape(a[0]).split(","),a=e.unescape(a[1]),n[a]=r;if(r=e.account.split(","),t||e.g){t&&!e.g&&(l=1);for(a in n)if(!Object.prototype[a])for(o=0;o<r.length;o++)for(l&&(s=n[a].join(","),s==e.account&&(e.g+=("&"!=a.charAt(0)?"&":"")+a,n[a]=[],i=1)),c=0;c<n[a].length;c++)s=n[a][c],s==r[o]&&(l&&(e.g+="&u="+e.escape(s)+("&"!=a.charAt(0)?"&":"")+a+"&u=0"),n[a].splice(c,1),i=1);if(t||(i=1),i){l="",o=2,!t&&e.g&&(l=e.escape(r.join(","))+"="+e.escape(e.g),o=1);for(a in n)!Object.prototype[a]&&o>0&&n[a].length>0&&(l+=(l?"&":"")+e.escape(n[a].join(","))+"="+e.escape(a),o--);e.cookieWrite("s_sq",l)}}}return t},e.Ua=function(){if(!e.jb){var t,n,i,r=new Date,a=o.location,s=i=n=t="",l="",c="",u="1.2",d=e.cookieWrite("s_cc","true",0)?"Y":"N",p="",h="",f=0;if(r.setUTCDate&&(u="1.3",f.toPrecision&&(u="1.5",t=[],t.forEach))){u="1.6",i=0,n={};try{i=new Iterator(n),i.next&&(u="1.7",t.reduce&&(u="1.8",u.trim&&(u="1.8.1",Date.parse&&(u="1.8.2",Object.create&&(u="1.8.5")))))}catch(e){}}t=screen.width+"x"+screen.height,i=navigator.javaEnabled()?"Y":"N",n=screen.pixelDepth?screen.pixelDepth:screen.colorDepth,l=e.w.innerWidth?e.w.innerWidth:e.d.documentElement.offsetWidth,c=e.w.innerHeight?e.w.innerHeight:e.d.documentElement.offsetHeight,r=navigator.plugins;try{e.b.addBehavior("#default#homePage"),p=e.b.qb(a)?"Y":"N"}catch(e){}try{e.b.addBehavior("#default#clientCaps"),h=e.b.connectionType}catch(e){}if(r)for(;f<r.length&&f<30;)(a=r[f].name)&&(a=a.substring(0,100)+";",s.indexOf(a)<0&&(s+=a)),f++;e.resolution=t,e.colorDepth=n,e.javascriptVersion=u,e.javaEnabled=i,e.cookiesEnabled=d,e.browserWidth=l,e.browserHeight=c,e.connectionType=h,e.homepage=p,e.plugins=s,e.jb=1}},e.I={},e.loadModule=function(n,i){var r=e.I[n];if(!r){r=t["AppMeasurement_Module_"+n]?new t["AppMeasurement_Module_"+n](e):{},e.I[n]=e[n]=r,r.Ba=function(){return r.Ea},r.Fa=function(t){(r.Ea=t)&&(e[n+"_onLoad"]=t,e.C(n+"_onLoad",[e,r],1)||t(e,r))};try{Object.defineProperty?Object.defineProperty(r,"onLoad",{get:r.Ba,set:r.Fa}):r._olc=1}catch(e){r._olc=1}}i&&(e[n+"_onLoad"]=i,e.C(n+"_onLoad",[e,r],1)||i(e,r))},e.r=function(t){var n,i;for(n in e.I)if(!Object.prototype[n]&&(i=e.I[n])&&(i._olc&&i.onLoad&&(i._olc=0,i.onLoad(e,i)),i[t]&&i[t]()))return 1;return 0},e.Xa=function(){var t=Math.floor(1e13*Math.random()),n=e.visitorSampling,i=e.visitorSamplingGroup;i="s_vsn_"+(e.visitorNamespace?e.visitorNamespace:e.account)+(i?"_"+i:"");var r=e.cookieRead(i);if(n){if(r&&(r=parseInt(r)),!r){if(!e.cookieWrite(i,t))return 0;r=t}if(r%1e4>v)return 0}return 1},e.K=function(t,n){var i,r,o,a,s,l;for(i=0;i<2;i++)for(r=i>0?e.ea:e.c,o=0;o<r.length;o++)if(a=r[o],(s=t[a])||t["!"+a]){if(!n&&("contextData"==a||"retrieveLightData"==a)&&e[a])for(l in e[a])s[l]||(s[l]=e[a][l]);e[a]=s}},e.wa=function(t,n){var i,r,o,a;for(i=0;i<2;i++)for(r=i>0?e.ea:e.c,o=0;o<r.length;o++)a=r[o],t[a]=e[a],!n&&!t[a]&&(t["!"+a]=1)},e.Pa=function(e){var t,n,i,r,o,a,s=0,l="",c="";if(e&&e.length>255&&(t=""+e,n=t.indexOf("?"),n>0&&(a=t.substring(n+1),t=t.substring(0,n),r=t.toLowerCase(),i=0,"http://"==r.substring(0,7)?i+=7:"https://"==r.substring(0,8)&&(i+=8),n=r.indexOf("/",i),n>0&&(r=r.substring(i,n),o=t.substring(n),t=t.substring(0,n),r.indexOf("google")>=0?s=",q,ie,start,search_key,word,kw,cd,":r.indexOf("yahoo.co")>=0&&(s=",p,ei,"),s&&a)))){if((e=a.split("&"))&&e.length>1){for(i=0;i<e.length;i++)r=e[i],n=r.indexOf("="),n>0&&s.indexOf(","+r.substring(0,n)+",")>=0?l+=(l?"&":"")+r:c+=(c?"&":"")+r;l&&c?a=l+"&"+c:c=""}n=253-(a.length-c.length)-t.length,e=t+(n>0?o.substring(0,n):"")+"?"+a}return e},e.S=!1,e.O=!1,e.Da=function(t){e.marketingCloudVisitorID=t,e.O=!0,e.l()},e.P=!1,e.L=!1,e.ya=function(t){e.analyticsVisitorID=t,e.L=!0,e.l()},e.R=!1,e.N=!1,e.Aa=function(t){e.audienceManagerLocationHint=t,e.N=!0,e.l()},e.Q=!1,e.M=!1,e.za=function(t){e.audienceManagerBlob=t,e.M=!0,e.l()},e.isReadyToTrack=function(){var t=!0,n=e.visitor;return n&&n.isAllowed()&&(!e.S&&!e.marketingCloudVisitorID&&n.getMarketingCloudVisitorID&&(e.S=!0,e.marketingCloudVisitorID=n.getMarketingCloudVisitorID([e,e.Da]),e.marketingCloudVisitorID)&&(e.O=!0),!e.P&&!e.analyticsVisitorID&&n.getAnalyticsVisitorID&&(e.P=!0,e.analyticsVisitorID=n.getAnalyticsVisitorID([e,e.ya]),e.analyticsVisitorID)&&(e.L=!0),!e.R&&!e.audienceManagerLocationHint&&n.getAudienceManagerLocationHint&&(e.R=!0,e.audienceManagerLocationHint=n.getAudienceManagerLocationHint([e,e.Aa]),e.audienceManagerLocationHint)&&(e.N=!0),!e.Q&&!e.audienceManagerBlob&&n.getAudienceManagerBlob&&(e.Q=!0,e.audienceManagerBlob=n.getAudienceManagerBlob([e,e.za]),e.audienceManagerBlob)&&(e.M=!0),(e.S&&!e.O&&!e.marketingCloudVisitorID||e.P&&!e.L&&!e.analyticsVisitorID||e.R&&!e.N&&!e.audienceManagerLocationHint||e.Q&&!e.M&&!e.audienceManagerBlob)&&(t=!1)),t},e.k=n,e.o=0,e.callbackWhenReadyToTrack=function(t,i,r){var o;o={},o.Ja=t,o.Ia=i,o.Ga=r,e.k==n&&(e.k=[]),e.k.push(o),0==e.o&&(e.o=setInterval(e.l,100))},e.l=function(){var t;if(e.isReadyToTrack()&&(e.o&&(clearInterval(e.o),e.o=0),e.k!=n))for(;e.k.length>0;)t=e.k.shift(),t.Ia.apply(t.Ja,t.Ga)},e.Ca=function(t){var i,r,o=n,a=n;if(!e.isReadyToTrack()){if(i=[],t!=n)for(r in o={},t)o[r]=t[r];return a={},e.wa(a,!0),i.push(o),i.push(a),e.callbackWhenReadyToTrack(e,e.track,i),!0}return!1},e.Ra=function(){var t,n=e.cookieRead("s_fid"),i="",r="";t=8;var o=4;if(!n||n.indexOf("-")<0){for(n=0;n<16;n++)t=Math.floor(Math.random()*t),i+="0123456789ABCDEF".substring(t,t+1),t=Math.floor(Math.random()*o),r+="0123456789ABCDEF".substring(t,t+1),t=o=16;n=i+"-"+r}return e.cookieWrite("s_fid",n,1)||(n=0),n},e.t=e.track=function(n,i){var r,a=new Date,s="s"+Math.floor(a.getTime()/108e5)%10+Math.floor(1e13*Math.random()),l=a.getYear();l="t="+e.escape(a.getDate()+"/"+a.getMonth()+"/"+(l<1900?l+1900:l)+" "+a.getHours()+":"+a.getMinutes()+":"+a.getSeconds()+" "+a.getDay()+" "+a.getTimezoneOffset()),!e.supplementalDataID&&e.visitor&&e.visitor.getSupplementalDataID&&(e.supplementalDataID=e.visitor.getSupplementalDataID("AppMeasurement:"+e._in,!e.expectSupplementalData)),e.r("_s"),e.C("track",arguments)||(e.Ca(n)||(i&&e.K(i),n&&(r={},e.wa(r,0),e.K(n)),e.Xa()&&(e.analyticsVisitorID||e.marketingCloudVisitorID||(e.fid=e.Ra()),e.bb(),e.usePlugins&&e.doPlugins&&e.doPlugins(e),e.account&&(e.abort||(e.trackOffline&&!e.timestamp&&(e.timestamp=Math.floor(a.getTime()/1e3)),a=t.location,e.pageURL||(e.pageURL=a.href?a.href:a),e.referrer||e.xa||(e.referrer=o.document.referrer,e.xa=1),e.referrer=e.Pa(e.referrer),e.r("_g")),e.Ta()&&!e.abort&&(e.Ua(),l+=e.Sa(),e.ab(s,l),e.r("_t"),e.referrer=""))),n&&e.K(r,1)),e.abort=e.supplementalDataID=e.timestamp=e.pageURLRest=e.linkObject=e.j=e.linkURL=e.linkName=e.linkType=t.rb=e.pe=e.pev1=e.pev2=e.pev3=e.g=0)},e.tl=e.trackLink=function(t,n,i,r,o){return e.linkObject=t,e.linkType=n,e.linkName=i,o&&(e.i=t,e.q=o),e.track(r)},e.trackLight=function(t,n,i,r){return e.lightProfileID=t,e.lightStoreForSeconds=n,e.lightIncrementBy=i,e.track(r)},e.clearVars=function(){var t,n;for(t=0;t<e.c.length;t++)n=e.c[t],("prop"==n.substring(0,4)||"eVar"==n.substring(0,4)||"hier"==n.substring(0,4)||"list"==n.substring(0,4)||"channel"==n||"events"==n||"eventList"==n||"products"==n||"productList"==n||"purchaseID"==n||"transactionID"==n||"state"==n||"zip"==n||"campaign"==n)&&(e[n]=void 0)},e.ab=function(t,n){var i,r=e.trackingServer;i="";var o=e.dc,a="sc.",s=e.visitorNamespace;r?e.trackingServerSecure&&e.ssl&&(r=e.trackingServerSecure):(s||(s=e.account,r=s.indexOf(","),r>=0&&(s=s.substring(0,r)),s=s.replace(/[^A-Za-z0-9]/g,"")),i||(i="2o7.net"),o=o?(""+o).toLowerCase():"d1","2o7.net"==i&&("d1"==o?o="112":"d2"==o&&(o="122"),a=""),r=s+"."+o+"."+a+i),i=e.ssl?"https://":"http://",o=e.AudienceManagement&&e.AudienceManagement.isReady(),i+=r+"/b/ss/"+e.account+"/"+(e.mobile?"5.":"")+(o?"10":"1")+"/JS-"+e.version+(e.ib?"T":"")+"/"+t+"?AQB=1&ndh=1&"+(o?"callback=s_c_il["+e._in+"].AudienceManagement.passData&":"")+n+"&AQE=1",e.Wa&&(i=i.substring(0,2047)),e.Na(i),e.W()},e.Na=function(t){e.e||e.Va(),e.e.push(t),e.X=e.u(),e.va()},e.Va=function(){e.e=e.Ya(),e.e||(e.e=[])},e.Ya=function(){var n,i;if(e.ba()){try{(i=t.localStorage.getItem(e.$()))&&(n=t.JSON.parse(i))}catch(e){}return n}},e.ba=function(){var n=!0;return e.trackOffline&&e.offlineFilename&&t.localStorage&&t.JSON||(n=!1),n},e.la=function(){var t=0;return e.e&&(t=e.e.length),e.z&&t++,t},e.W=function(){if(!e.z)if(e.ma=n,e.aa)e.X>e.G&&e.ta(e.e),e.da(6e4);else{var t=e.Ha();t>0?e.da(t):(t=e.ja())&&(e.z=1,e.$a(t),e.fb(t))}},e.da=function(t){e.ma||(t||(t=0),e.ma=setTimeout(e.W,t))},e.Ha=function(){var t;return!e.trackOffline||e.offlineThrottleDelay<=0?0:(t=e.u()-e.ra,e.offlineThrottleDelay<t?0:e.offlineThrottleDelay-t)},e.ja=function(){if(e.e.length>0)return e.e.shift()},e.$a=function(t){if(e.debugTracking){var n="AppMeasurement Debug: "+t;t=t.split("&");var i;for(i=0;i<t.length;i++)n+="\n\t"+e.unescape(t[i]);e.Za(n)}},e.fb=function(n){var i,r,o;if(!i&&e.d.createElement&&e.AudienceManagement&&e.AudienceManagement.isReady()&&(i=e.d.createElement("SCRIPT"))&&"async"in i&&((o=(o=e.d.getElementsByTagName("HEAD"))&&o[0]?o[0]:e.d.body)?(i.type="text/javascript",i.setAttribute("async","async"),r=3):i=0),i||(i=new Image,i.alt=""),i.ga=function(){try{e.ca&&(clearTimeout(e.ca),e.ca=0),i.timeout&&(clearTimeout(i.timeout),i.timeout=0)}catch(e){}},i.onload=i.hb=function(){i.ga(),e.Ma(),e.T(),e.z=0,e.W()},i.onabort=i.onerror=i.Oa=function(){i.ga(),(e.trackOffline||e.aa)&&e.z&&e.e.unshift(e.La),e.z=0,e.X>e.G&&e.ta(e.e),e.T(),e.da(6e4)},i.onreadystatechange=function(){4==i.readyState&&(200==i.status?i.hb():i.Oa())},e.ra=e.u(),1==r)i.open("GET",n,!0),i.send();else if(2==r)i.open("GET",n),i.send();else if(i.src=n,3==r){if(e.pa)try{o.removeChild(e.pa)}catch(e){}o.firstChild?o.insertBefore(i,o.firstChild):o.appendChild(i),e.pa=e.Ka}i.abort&&(e.ca=setTimeout(i.abort,5e3)),e.La=n,e.Ka=t["s_i_"+e.replace(e.account,",","_")]=i,(e.useForcedLinkTracking&&e.B||e.q)&&(e.forcedLinkTrackingTimeout||(e.forcedLinkTrackingTimeout=250),e.U=setTimeout(e.T,e.forcedLinkTrackingTimeout));
},e.Ma=function(){if(e.ba()&&!(e.qa>e.G))try{t.localStorage.removeItem(e.$()),e.qa=e.u()}catch(e){}},e.ta=function(n){if(e.ba()){e.va();try{t.localStorage.setItem(e.$(),t.JSON.stringify(n)),e.G=e.u()}catch(e){}}},e.va=function(){if(e.trackOffline)for((!e.offlineLimit||e.offlineLimit<=0)&&(e.offlineLimit=10);e.e.length>e.offlineLimit;)e.ja()},e.forceOffline=function(){e.aa=!0},e.forceOnline=function(){e.aa=!1},e.$=function(){return e.offlineFilename+"-"+e.visitorNamespace+e.account},e.u=function(){return(new Date).getTime()},e.na=function(e){return e=e.toLowerCase(),0!=e.indexOf("#")&&0!=e.indexOf("about:")&&0!=e.indexOf("opera:")&&0!=e.indexOf("javascript:")},e.setTagContainer=function(t){var n,i,r;for(e.ib=t,n=0;n<e._il.length;n++)if((i=e._il[n])&&"s_l"==i._c&&i.tagContainerName==t){if(e.K(i),i.lmq)for(n=0;n<i.lmq.length;n++)r=i.lmq[n],e.loadModule(r.n);if(i.ml)for(r in i.ml)if(e[r])for(n in t=e[r],r=i.ml[r])!Object.prototype[n]&&("function"!=typeof r[n]||(""+r[n]).indexOf("s_c_il")<0)&&(t[n]=r[n]);if(i.mmq)for(n=0;n<i.mmq.length;n++)r=i.mmq[n],e[r.m]&&(t=e[r.m],t[r.f]&&"function"==typeof t[r.f]&&(r.a?t[r.f].apply(t,r.a):t[r.f].apply(t)));if(i.tq)for(n=0;n<i.tq.length;n++)e.track(i.tq[n]);i.s=e;break}},e.Util={urlEncode:e.escape,urlDecode:e.unescape,cookieRead:e.cookieRead,cookieWrite:e.cookieWrite,getQueryParam:function(n,i,r){var o;return i||(i=e.pageURL?e.pageURL:t.location),r||(r="&"),n&&i&&(i=""+i,o=i.indexOf("?"),o>=0&&(i=r+i.substring(o+1)+r,o=i.indexOf(r+n+"="),o>=0&&(i=i.substring(o+r.length+n.length+1),o=i.indexOf(r),o>=0&&(i=i.substring(0,o)),i.length>0)))?e.unescape(i):""}},e.A=["supplementalDataID","timestamp","dynamicVariablePrefix","visitorID","marketingCloudVisitorID","analyticsVisitorID","audienceManagerLocationHint","fid","vmk","visitorMigrationKey","visitorMigrationServer","visitorMigrationServerSecure","charSet","visitorNamespace","cookieDomainPeriods","fpCookieDomainPeriods","cookieLifetime","pageName","pageURL","referrer","contextData","currencyCode","lightProfileID","lightStoreForSeconds","lightIncrementBy","retrieveLightProfiles","deleteLightProfiles","retrieveLightData","pe","pev1","pev2","pev3","pageURLRest"],e.c=e.A.concat(["purchaseID","variableProvider","channel","server","pageType","transactionID","campaign","state","zip","events","events2","products","audienceManagerBlob","tnt"]),e.Y=["timestamp","charSet","visitorNamespace","cookieDomainPeriods","cookieLifetime","contextData","lightProfileID","lightStoreForSeconds","lightIncrementBy"],e.H=e.Y.slice(0),e.ea=["account","allAccounts","debugTracking","visitor","trackOffline","offlineLimit","offlineThrottleDelay","offlineFilename","usePlugins","doPlugins","configURL","visitorSampling","visitorSamplingGroup","linkObject","linkURL","linkName","linkType","trackDownloadLinks","trackExternalLinks","trackClickMap","trackInlineStats","linkLeaveQueryString","linkTrackVars","linkTrackEvents","linkDownloadFileTypes","linkExternalFilters","linkInternalFilters","useForcedLinkTracking","forcedLinkTrackingTimeout","trackingServer","trackingServerSecure","ssl","abort","mobile","dc","lightTrackVars","maxDelay","expectSupplementalData","AudienceManagement"];for(i=0;i<=75;i++)e.c.push("prop"+i),e.H.push("prop"+i),e.c.push("eVar"+i),e.H.push("eVar"+i),i<6&&e.c.push("hier"+i),i<4&&e.c.push("list"+i);i=["resolution","colorDepth","javascriptVersion","javaEnabled","cookiesEnabled","browserWidth","browserHeight","connectionType","homepage","plugins"],e.c=e.c.concat(i),e.A=e.A.concat(i),e.ssl=t.location.protocol.toLowerCase().indexOf("https")>=0,e.charSet="UTF-8",e.contextData={},e.offlineThrottleDelay=0,e.offlineFilename="AppMeasurement.offline",e.ra=0,e.X=0,e.G=0,e.qa=0,e.linkDownloadFileTypes="exe,zip,wav,mp3,mov,mpg,avi,wmv,pdf,doc,docx,xls,xlsx,ppt,pptx",e.w=t,e.d=t.document;try{e.Wa="Microsoft Internet Explorer"==navigator.appName}catch(e){}e.T=function(){e.U&&(t.clearTimeout(e.U),e.U=n),e.i&&e.B&&e.i.dispatchEvent(e.B),e.q&&("function"==typeof e.q?e.q():e.i&&e.i.href&&(e.d.location=e.i.href)),e.i=e.B=e.q=0},e.ua=function(){e.b=e.d.body,e.b?(e.p=function(n){var i,r,o,a,s;if(!(e.d&&e.d.getElementById("cppXYctnr")||n&&n.cb)){if(e.fa){if(!e.useForcedLinkTracking)return e.b.removeEventListener("click",e.p,!0),void(e.fa=e.useForcedLinkTracking=0);e.b.removeEventListener("click",e.p,!1)}else e.useForcedLinkTracking=0;e.j=n.srcElement?n.srcElement:n.target;try{if(e.j&&(e.j.tagName||e.j.parentElement||e.j.parentNode)&&(o=e.la(),e.track(),o<e.la()&&e.useForcedLinkTracking&&n.target)){for(a=n.target;a&&a!=e.b&&"A"!=a.tagName.toUpperCase()&&"AREA"!=a.tagName.toUpperCase();)a=a.parentNode;if(a&&(s=a.href,e.na(s)||(s=0),r=a.target,n.target.dispatchEvent&&s&&(!r||"_self"==r||"_top"==r||"_parent"==r||t.name&&r==t.name))){try{i=e.d.createEvent("MouseEvents")}catch(e){i=new t.MouseEvent}if(i){try{i.initMouseEvent("click",n.bubbles,n.cancelable,n.view,n.detail,n.screenX,n.screenY,n.clientX,n.clientY,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,n.button,n.relatedTarget)}catch(e){i=0}i&&(i.cb=1,n.stopPropagation(),n.gb&&n.gb(),n.preventDefault(),e.i=n.target,e.B=i)}}}}catch(e){}e.j=0}},e.b&&e.b.attachEvent?e.b.attachEvent("onclick",e.p):e.b&&e.b.addEventListener&&(navigator&&(navigator.userAgent.indexOf("WebKit")>=0&&e.d.createEvent||navigator.userAgent.indexOf("Firefox/2")>=0&&t.MouseEvent)&&(e.fa=1,e.useForcedLinkTracking=1,e.b.addEventListener("click",e.p,!0)),e.b.addEventListener("click",e.p,!1))):setTimeout(e.ua,30)},e.ua()}function s_gi(e){var t,n,i,r,o,a=window.s_c_il,s=e.split(","),l=0;if(a)for(n=0;!l&&n<a.length;){if(t=a[n],"s_c"==t._c&&(t.account||t.oun))if(t.account&&t.account==e)l=1;else for(i=t.account?t.account:t.oun,i=t.allAccounts?t.allAccounts:i.split(","),r=0;r<s.length;r++)for(o=0;o<i.length;o++)s[r]==i[o]&&(l=1);n++}return l||(t=new AppMeasurement),t.setAccount?t.setAccount(e):t.sa&&t.sa(e),t}function s_pgicq(){var e,t,n,i=window,r=i.s_giq;if(r)for(e=0;e<r.length;e++)t=r[e],n=s_gi(t.oun),n.setAccount(t.un),n.setTagContainer(t.tagContainerName);i.s_giq=0}var requirejs,require,define;!function(e){function t(e,t){return _.call(e,t)}function n(e,t){var n,i,r,o,a,s,l,c,u,d,p,h,f=t&&t.split("/"),g=m.map,v=g&&g["*"]||{};if(e){for(e=e.split("/"),a=e.length-1,m.nodeIdCompat&&E.test(e[a])&&(e[a]=e[a].replace(E,"")),"."===e[0].charAt(0)&&f&&(h=f.slice(0,f.length-1),e=h.concat(e)),u=0;u<e.length;u++)if(p=e[u],"."===p)e.splice(u,1),u-=1;else if(".."===p){if(0===u||1===u&&".."===e[2]||".."===e[u-1])continue;u>0&&(e.splice(u-1,2),u-=2)}e=e.join("/")}if((f||v)&&g){for(n=e.split("/"),u=n.length;u>0;u-=1){if(i=n.slice(0,u).join("/"),f)for(d=f.length;d>0;d-=1)if(r=g[f.slice(0,d).join("/")],r&&(r=r[i])){o=r,s=u;break}if(o)break;!l&&v&&v[i]&&(l=v[i],c=u)}!o&&l&&(o=l,s=c),o&&(n.splice(0,s,o),e=n.join("/"))}return e}function i(t,n){return function(){var i=y.call(arguments,0);return"string"!=typeof i[0]&&1===i.length&&i.push(null),d.apply(e,i.concat([t,n]))}}function r(e){return function(t){return n(t,e)}}function o(e){return function(t){f[e]=t}}function a(n){if(t(g,n)){var i=g[n];delete g[n],v[n]=!0,u.apply(e,i)}if(!t(f,n)&&!t(v,n))throw new Error("No "+n);return f[n]}function s(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function l(e){return e?s(e):[]}function c(e){return function(){return m&&m.config&&m.config[e]||{}}}var u,d,p,h,f={},g={},m={},v={},_=Object.prototype.hasOwnProperty,y=[].slice,E=/\.js$/;p=function(e,t){var i,o=s(e),l=o[0],c=t[1];return e=o[1],l&&(l=n(l,c),i=a(l)),l?e=i&&i.normalize?i.normalize(e,r(c)):n(e,c):(e=n(e,c),o=s(e),l=o[0],e=o[1],l&&(i=a(l))),{f:l?l+"!"+e:e,n:e,pr:l,p:i}},h={require:function(e){return i(e)},exports:function(e){var t=f[e];return"undefined"!=typeof t?t:f[e]={}},module:function(e){return{id:e,uri:"",exports:f[e],config:c(e)}}},u=function(n,r,s,c){var u,d,m,_,y,E,b,T=[],S=typeof s;if(c=c||n,E=l(c),"undefined"===S||"function"===S){for(r=!r.length&&s.length?["require","exports","module"]:r,y=0;y<r.length;y+=1)if(_=p(r[y],E),d=_.f,"require"===d)T[y]=h.require(n);else if("exports"===d)T[y]=h.exports(n),b=!0;else if("module"===d)u=T[y]=h.module(n);else if(t(f,d)||t(g,d)||t(v,d))T[y]=a(d);else{if(!_.p)throw new Error(n+" missing "+d);_.p.load(_.n,i(c,!0),o(d),{}),T[y]=f[d]}m=s?s.apply(f[n],T):void 0,n&&(u&&u.exports!==e&&u.exports!==f[n]?f[n]=u.exports:m===e&&b||(f[n]=m))}else n&&(f[n]=s)},requirejs=require=d=function(t,n,i,r,o){if("string"==typeof t)return h[t]?h[t](n):a(p(t,l(n)).f);if(!t.splice){if(m=t,m.deps&&d(m.deps,m.callback),!n)return;n.splice?(t=n,n=i,i=null):t=e}return n=n||function(){},"function"==typeof i&&(i=r,r=o),r?u(e,t,n,i):setTimeout(function(){u(e,t,n,i)},4),d},d.config=function(e){return d(e)},requirejs._defined=f,define=function(e,n,i){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");n.splice||(i=n,n=[]),t(f,e)||t(g,e)||(g[e]=[e,n,i])},define.amd={jQuery:!0}}(),define("../../node_modules/almond/almond",function(){}),CSXSWindowType._PANEL="Panel",CSXSWindowType._MODELESS="Modeless",CSXSWindowType._MODAL_DIALOG="ModalDialog",EvalScript_ErrMessage="EvalScript error.",Version.MAX_NUM=999999999,CSEvent.prototype.data="",SystemPath.USER_DATA="userData",SystemPath.COMMON_FILES="commonFiles",SystemPath.MY_DOCUMENTS="myDocuments",SystemPath.APPLICATION="application",SystemPath.EXTENSION="extension",SystemPath.HOST_APPLICATION="hostApplication",ColorType.RGB="rgb",ColorType.GRADIENT="gradient",ColorType.NONE="none",CSInterface.THEME_COLOR_CHANGED_EVENT="com.adobe.csxs.events.ThemeColorChanged",CSInterface.prototype.hostEnvironment=window.__adobe_cep__?JSON.parse(window.__adobe_cep__.getHostEnvironment()):"",CSInterface.prototype.getHostEnvironment=function(){return this.hostEnvironment=JSON.parse(window.__adobe_cep__.getHostEnvironment()),this.hostEnvironment},CSInterface.prototype.closeExtension=function(){window.__adobe_cep__.closeExtension()},CSInterface.prototype.getSystemPath=function(e){var t=decodeURI(window.__adobe_cep__.getSystemPath(e)),n=this.getOSInformation();return n.indexOf("Windows")>=0?t=t.replace("file:///",""):n.indexOf("Mac")>=0&&(t=t.replace("file://","")),t},CSInterface.prototype.evalScript=function(e,t){null!==t&&void 0!==t||(t=function(e){}),window.__adobe_cep__.evalScript(e,t)},CSInterface.prototype.getApplicationID=function(){var e=this.hostEnvironment.appId;return e},CSInterface.prototype.getHostCapabilities=function(){var e=JSON.parse(window.__adobe_cep__.getHostCapabilities());return e},CSInterface.prototype.dispatchEvent=function(e){"object"==typeof e.data&&(e.data=JSON.stringify(e.data)),window.__adobe_cep__.dispatchEvent(e)},CSInterface.prototype.addEventListener=function(e,t,n){window.__adobe_cep__.addEventListener(e,t,n)},CSInterface.prototype.removeEventListener=function(e,t,n){window.__adobe_cep__.removeEventListener(e,t,n)},CSInterface.prototype.requestOpenExtension=function(e,t){window.__adobe_cep__.requestOpenExtension(e,t)},CSInterface.prototype.getExtensions=function(e){var t=JSON.stringify(e),n=window.__adobe_cep__.getExtensions(t),i=JSON.parse(n);return i},CSInterface.prototype.getNetworkPreferences=function(){var e=window.__adobe_cep__.getNetworkPreferences(),t=JSON.parse(e);return t},CSInterface.prototype.initResourceBundle=function(){for(var e=JSON.parse(window.__adobe_cep__.initResourceBundle()),t=document.querySelectorAll("[data-locale]"),n=0;n<t.length;n++){var i=t[n],r=i.getAttribute("data-locale");if(r)for(var o in e)if(0===o.indexOf(r)){var a=e[o];if(o.length==r.length)i.innerHTML=a;else if("."==o.charAt(r.length)){var s=o.substring(r.length+1);i[s]=a}}}return e},CSInterface.prototype.dumpInstallationInfo=function(){return window.__adobe_cep__.dumpInstallationInfo()},CSInterface.prototype.getOSInformation=function(){var e=navigator.userAgent;if("Win32"==navigator.platform||"Windows"==navigator.platform){var t="Windows",n="";return e.indexOf("Windows")>-1&&(e.indexOf("Windows NT 5.0")>-1?t="Windows 2000":e.indexOf("Windows NT 5.1")>-1?t="Windows XP":e.indexOf("Windows NT 5.2")>-1?t="Windows Server 2003":e.indexOf("Windows NT 6.0")>-1?t="Windows Vista":e.indexOf("Windows NT 6.1")>-1?t="Windows 7":e.indexOf("Windows NT 6.2")>-1?t="Windows 8":e.indexOf("Windows NT 6.3")>-1?t="Windows 8.1":e.indexOf("Windows NT 10")>-1&&(t="Windows 10"),n=e.indexOf("WOW64")>-1?" 64-bit":" 32-bit"),t+n}if("MacIntel"==navigator.platform||"Macintosh"==navigator.platform){var i="Mac OS X";return e.indexOf("Mac OS X")>-1&&(i=e.substring(e.indexOf("Mac OS X"),e.indexOf(")")),i=i.replace(/_/g,".")),i}return"Unknown Operation System"},CSInterface.prototype.openURLInDefaultBrowser=function(e){return cep.util.openURLInDefaultBrowser(e)},CSInterface.prototype.getExtensionID=function(){return window.__adobe_cep__.getExtensionId()},CSInterface.prototype.getScaleFactor=function(){return window.__adobe_cep__.getScaleFactor()},CSInterface.prototype.setScaleFactorChangedHandler=function(e){window.__adobe_cep__.setScaleFactorChangedHandler(e)},CSInterface.prototype.getCurrentApiVersion=function(){var e=JSON.parse(window.__adobe_cep__.getCurrentApiVersion());return e},CSInterface.prototype.setPanelFlyoutMenu=function(e){"string"==typeof e&&window.__adobe_cep__.invokeSync("setPanelFlyoutMenu",e)},CSInterface.prototype.updatePanelMenuItem=function(e,t,n){var i=!1;if(this.getHostCapabilities().EXTENDED_PANEL_MENU){var r=new MenuItemStatus(e,t,n);i=window.__adobe_cep__.invokeSync("updatePanelMenuItem",JSON.stringify(r))}return i},CSInterface.prototype.setContextMenu=function(e,t){"string"==typeof e&&window.__adobe_cep__.invokeAsync("setContextMenu",e,t)},CSInterface.prototype.setContextMenuByJSON=function(e,t){"string"==typeof e&&window.__adobe_cep__.invokeAsync("setContextMenuByJSON",e,t)},CSInterface.prototype.updateContextMenuItem=function(e,t,n){var i=new ContextMenuItemStatus(e,t,n);ret=window.__adobe_cep__.invokeSync("updateContextMenuItem",JSON.stringify(i))},CSInterface.prototype.isWindowVisible=function(){return window.__adobe_cep__.invokeSync("isWindowVisible","")},CSInterface.prototype.resizeContent=function(e,t){window.__adobe_cep__.resizeContent(e,t)},CSInterface.prototype.registerInvalidCertificateCallback=function(e){return window.__adobe_cep__.registerInvalidCertificateCallback(e)},CSInterface.prototype.registerKeyEventsInterest=function(e){return window.__adobe_cep__.registerKeyEventsInterest(e)},CSInterface.prototype.setWindowTitle=function(e){window.__adobe_cep__.invokeSync("setWindowTitle",e)},CSInterface.prototype.getWindowTitle=function(){return window.__adobe_cep__.invokeSync("getWindowTitle","")},define("libs/CSInterface",function(){}),Vulcan.prototype.getTargetSpecifiers=function(){var e={};return JSON.parse(window.__adobe_cep__.invokeSync("vulcanGetTargetSpecifiers",JSON.stringify(e)))},Vulcan.prototype.launchApp=function(e,t,n){if(!requiredParamsValid(e))return!1;var i={};return i.targetSpecifier=e,i.focus=t?"true":"false",i.cmdLine=void 0===n||null===n?"":n,JSON.parse(window.__adobe_cep__.invokeSync("vulcanLaunchApp",JSON.stringify(i))).result},Vulcan.prototype.isAppRunning=function(e){if(!requiredParamsValid(e))return!1;var t={};return t.targetSpecifier=e,JSON.parse(window.__adobe_cep__.invokeSync("vulcanIsAppRunning",JSON.stringify(t))).result},Vulcan.prototype.isAppInstalled=function(e){if(!requiredParamsValid(e))return!1;var t={};return t.targetSpecifier=e,JSON.parse(window.__adobe_cep__.invokeSync("vulcanIsAppInstalled",JSON.stringify(t))).result},Vulcan.prototype.getAppPath=function(e){if(!requiredParamsValid(e))return"";var t={};return t.targetSpecifier=e,JSON.parse(window.__adobe_cep__.invokeSync("vulcanGetAppPath",JSON.stringify(t))).result},Vulcan.prototype.addMessageListener=function(e,t,n){if(requiredParamsValid(e,t)&&strStartsWith(e,VulcanMessage.TYPE_PREFIX)){var i={};i.type=e,window.__adobe_cep__.invokeAsync("vulcanAddMessageListener",JSON.stringify(i),t,n)}},Vulcan.prototype.removeMessageListener=function(e,t,n){if(requiredParamsValid(e,t)&&strStartsWith(e,VulcanMessage.TYPE_PREFIX)){var i={};i.type=e,window.__adobe_cep__.invokeAsync("vulcanRemoveMessageListener",JSON.stringify(i),t,n)}},Vulcan.prototype.dispatchMessage=function(e){if(requiredParamsValid(e)&&strStartsWith(e.type,VulcanMessage.TYPE_PREFIX)){var t={},n=new VulcanMessage(e.type);n.initialize(e),t.vulcanMessage=n,window.__adobe_cep__.invokeSync("vulcanDispatchMessage",JSON.stringify(t))}},Vulcan.prototype.getPayload=function(e){if(!requiredParamsValid(e)||!strStartsWith(e.type,VulcanMessage.TYPE_PREFIX))return null;var t=new VulcanMessage(e.type);return t.initialize(e),t.getPayload()};var VulcanInterface=new Vulcan;if(VulcanMessage.TYPE_PREFIX="vulcan.SuiteMessage.",VulcanMessage.SCOPE_SUITE="GLOBAL",VulcanMessage.DEFAULT_APP_ID="UNKNOWN",VulcanMessage.DEFAULT_APP_VERSION="UNKNOWN",VulcanMessage.DEFAULT_DATA="<data><payload></payload></data>",VulcanMessage.dataTemplate="<data>{0}</data>",VulcanMessage.payloadTemplate="<payload>{0}</payload>",VulcanMessage.prototype.initialize=function(e){this.type=e.type,this.scope=e.scope,this.appId=e.appId,this.appVersion=e.appVersion,this.data=e.data},VulcanMessage.prototype.xmlData=function(){if(void 0===this.data){var e="";e=String.format(VulcanMessage.payloadTemplate,e),this.data=String.format(VulcanMessage.dataTemplate,e)}return this.data},VulcanMessage.prototype.setPayload=function(e){var t=cep.encoding.convertion.utf8_to_b64(e);t=String.format(VulcanMessage.payloadTemplate,t),this.data=String.format(VulcanMessage.dataTemplate,t)},VulcanMessage.prototype.getPayload=function(){var e=GetValueByKey(this.data,"payload");return null!==e?cep.encoding.convertion.b64_to_utf8(e):null},VulcanMessage.prototype.toString=function(){var e="type="+this.type;return e+=", scope="+this.scope,e+=", appId="+this.appId,e+=", appVersion="+this.appVersion,e+=", data="+this.xmlData()},String.format=function(e){if(0===arguments.length)return null;var t=Array.prototype.slice.call(arguments,1);return e.replace(/\{(\d+)\}/g,function(e,n){return t[n]})},define("libs/Vulcan",function(){}),IMSInterface.prototype.addEventListener=function(e,t){window.__adobe_cep__.addEventListener(e,t)},IMSInterface.prototype.removeEventListener=function(e,t){window.__adobe_cep__.removeEventListener(e,t)},IMSInterface.prototype.imsConnect=function(){var e=window.__adobe_cep__.imsConnect();return e},IMSInterface.prototype.imsDisconnect=function(e){window.__adobe_cep__.imsDisconnect(e)},IMSInterface.prototype.imsFetchAccounts=function(e,t){var n=window.__adobe_cep__.imsFetchAccounts(e,t);return n},IMSInterface.prototype.imsFetchAccessToken=function(e,t,n,i,r,o){return window.__adobe_cep__.imsFetchAccessToken(e,t,n,i,r,o)},IMSInterface.prototype.imsRevokeDeviceToken=function(e,t,n,i,r){return window.__adobe_cep__.imsFetchAccessToken(e,t,n,i,r,"REVOKE")},IMSInterface.prototype.imsSetProxyCredentials=function(e,t){window.__adobe_cep__.imsSetProxyCredentials(e,t)},IMSInterface.prototype.showAAM=function(e,t,n,i,r,o){return window.__adobe_cep__.showAAM(e,t,n,i,r,o)},IMSInterface.prototype.imsGetCurrentUserId=function(){var e=window.__adobe_cep__.getCurrentImsUserId();return e},IMSInterface.prototype.imsGetCurrentUserIdHelper=function(e){var t=JSON.parse(window.__adobe_cep__.getHostEnvironment()),n=t.appName;if("ILST"===n)window.__adobe_cep__.evalScript("app.userGUID",function(t){e(t)});else if("IDSN"===n)window.__adobe_cep__.evalScript("app.userGuid",function(t){e(t)});else if("PHSP"===n||"PHXS"===n)window.__adobe_cep__.evalScript("var getUserIdPhotoshop = function() {var userId = '';try {var bhnc = app.charIDToTypeID('bhnc');var ref = new ActionReference();ref.putProperty(app.charIDToTypeID('Prpr'), bhnc);ref.putEnumerated(app.charIDToTypeID('capp'), app.charIDToTypeID('Ordn'), app.charIDToTypeID('Trgt'));var appDesc = app.executeActionGet(ref);if (appDesc.hasKey(bhnc)) {userId = appDesc.getString(bhnc);}} catch (e) {}return userId;};",function(t){window.__adobe_cep__.evalScript("getUserIdPhotoshop()",function(t){e(t)})});else{var i=window.__adobe_cep__.getCurrentImsUserId();e(i)}},IMSInterface.prototype.imsConnectWithEndpoint=function(e){var t={};return t.imsEndpoint=void 0===e||null===e||""===e?"undefined":e,JSON.parse(window.__adobe_cep__.invokeSync("imsConnectWithEndpoint",JSON.stringify(t))).result},IMSInterface.prototype.imsFetchContinueToken=function(e,t,n,i,r,o,a){void 0!==i&&null!==i||(i=""),void 0!==r&&null!==r||(r=""),void 0!==o&&null!==o||(o=""),void 0!==a&&null!==a||(a="");var s={};return s.imsRef=e,s.bearerToken=t,s.targetClientId=n,s.redirectUri=i,s.scope=r,s.responseType=o,s.locale=a,JSON.parse(window.__adobe_cep__.invokeSync("imsFetchContinueToken",JSON.stringify(s))).result},IMSInterface.prototype.imsLogoutUser=function(e,t,n){var i={};return i.imsRef=e,i.userAccountGuid=t,i.clientId=n,JSON.parse(window.__adobe_cep__.invokeSync("imsLogoutUser",JSON.stringify(i))).result},IMSInterface.prototype.imsFetchUserProfileData=function(e,t){var n={};return n.imsRef=e,n.userAccountGuid=t,window.__adobe_cep__.invokeSync("imsFetchUserProfileData",JSON.stringify(n))},IMSInterface.prototype.imsAttemptSSOJumpWorkflows=function(e,t,n,i,r,o,a,s,l,c,u){e||(e=!1),void 0!==i&&null!==i||(i=""),void 0!==r&&null!==r||(r=""),void 0!==o&&null!==o||(o=""),void 0!==s&&null!==s||(s=""),void 0!==l&&null!==l||(l=""),void 0!==c&&null!==c||(c=""),void 0!==n&&null!==n||(n=""),void 0!==a&&null!==a||(a="");var d={};return d.imsRef=n,d.openBrowser=e,d.url=t,d.clientId=i,d.clientSecret=r,d.scope=o,d.userAccountGuid=a,d.targetClientId=s,d.targetScope=l,d.targetResponseType=c,d.targetLocale=u,JSON.parse(window.__adobe_cep__.invokeSync("imsAttemptSSOJumpWorkflows",JSON.stringify(d))).result},IMSInterface.events={imsFetchAccessTokenWithStatus:"com.adobe.csxs.events.internal.ims.FetchAccessTokenWithStatus",imsFetchAccessToken:"com.adobe.csxs.events.internal.ims.FetchAccessToken",imsRevokeAccessToken:"com.adobe.csxs.events.internal.ims.FetchAccessTokenWithStatus",imsFetchContinueToken:"com.adobe.csxs.events.internal.ims.FetchAccessTokenWithStatus",imsAAMIMSStatus:"vulcan.SuiteMessage.com.adobe.aam.AAMIMSStatus",imsLogoutUser:"com.adobe.csxs.events.internal.ims.LogoutUser",imsSSOStatus:"com.adobe.csxs.events.internal.ims.SSOStatus"},IMSInterface.status={IMS_SUCCESS:"0",IMS_ERROR_FAILURE:"1",IMS_ERROR_INVALID_ARGUMENTS:"2",IMS_ERROR_CANCEL:"20",IMS_ERROR_TIMEOUT:"21",IMS_ERROR_HTTPFAILURE:"22",IMS_ERROR_SSLFAILURE:"23",IMS_ERROR_AUTH_PROXY_REQUIRED:"24",IMS_ERROR_AUTH_PROXY_FAILED:"25",IMS_ERROR_IN_ACCESS_IDP:"26",IMS_ERROR_ANOTHER_REQUEST_IN_PROCESS:"40",IMS_ERROR_IN_READ_USER_DATA:"60",IMS_ERROR_IN_SAVE_USER_DATA:"61",IMS_ERROR_IN_REMOVE_USER_DATA:"62",IMS_ERROR_USER_DATA_NOT_PRESENT:"63",IMS_ERROR_IN_READ_DEVICE_TOKEN:"64",IMS_ERROR_IN_SAVE_DEVICE_TOKEN:"65",IMS_ERROR_IN_REMOVE_DEVICE_TOKEN:"66",IMS_ERROR_DEVICE_TOKEN_NOT_PRESENT:"67",IMS_ERROR_INVALID_DEVICE_TOKEN:"68",IMS_ERROR_CLIENTID_NOT_PRESENT:"69",IMS_ERROR_IN_FETCH_USER_ACCOUNTS:"70",IMS_ERROR_IN_SAVE_USER_FOR_CLIENTID:"71",IMS_ERROR_DEVICE_ID_NOT_PRESENT:"72",IMS_ERROR_DEFAULT_USER_FOR_CLIENTID_NOT_PRESENT:"73",IMS_ERROR_NO_USER_RECORDS_PRESENT:"74",IMS_ERROR_ACCESS_DENIED:"80",IMS_ERROR_INVALID_REQUEST:"81",IMS_ERROR_INVALID_CLIENT:"82",IMS_ERROR_INVALID_GRANT:"83",IMS_ERROR_UNAUTHORIZED_CLIENT:"84",IMS_ERROR_UNSUPPORTED_RESPONSE_TYPE:"85",IMS_ERROR_INVALID_SCOPE:"86",IMS_ERROR_UNSUPPORTED_GRANT_TYPE:"87",IMS_ERROR_BAD_REQUEST:"88",IMS_ERROR_INVALID_CREDENTIALS:"89",IMS_ERROR_IN_GET_AUTH_DATA_FROM_IDP:"100",IMS_ERROR_IN_GET_DEVICE_TOKEN_FROM_IDP:"101",IMS_ERROR_IN_GET_REFRESH_TOKEN_FROM_IDP:"102",IMS_ERROR_IN_GET_ACCESS_TOKEN_FROM_IDP:"103",IMS_ERROR_IN_GET_PROFILE_DATA_FROM_IDP:"104",IMS_ERROR_TOU_CHANGED:"120",IMS_ERROR_IN_REVOKE_DEVICE_TOKEN:"121",IMS_ERROR_TOU_NOT_CURRENT:"122",IMS_ERROR_EVS_INVALID:"123",IMS_ERROR_ACCT_ACT_REQ:"124",IMS_ERROR_ACCT_DISABLED:"125",IMS_ERROR_SUBS_ACT_REQ:"126",IMS_ERROR_SUBS_NO_SUB:"127",IMS_ERROR_NO_BUDDY_GROUP_FOR_CLIENT:"150",IMS_ERROR_CLIENT_REGISTERED_FOR_OTHER_GROUP:"151",IMS_ERROR_GROUP_ENTRY_NOT_PRESENT:"152",IMS_ERROR_IN_SAVE_GROUP_DATA:"153",IMS_ERROR_CNAME_ENTRY_NOT_PRESENT:"154",IMS_ERROR_IN_SAVE_BACKOFF_DATA:"155",IMSMANAGER_ERROR_EXCEPTION:"3000",IMSMANAGER_ERROR_ENCODING:"3001",IMSMANAGER_SUCCESS_BROWSER_OPENED:"3002",IMSMANAGER_ERROR_BROWSER_FAILED_TO_OPEN:"3003",IMS_UNKNOWN_ERROR:"0xFFFF"},IMSInterface.prototype.events=IMSInterface.events,define("libs/IMSInterface",function(){}),define("environment",["require","exports","module","libs/CSInterface","libs/Vulcan","libs/IMSInterface"],function(e,t,n){"use strict";function i(e){var t,n,i,r,o={},a=0,s=e.split(/\n/);for(a=0;a<s.length;a++)if(s[a]=s[a].replace(/^\s\s*/,"").replace(/\s\s*$/,""),s[a].length>0&&"#"!==s[a].match("^#")){for(t=s[a].split("="),n=t[0].replace(/^\s\s*/,"").replace(/\s\s*$/,""),i=1===t.length?"":t[1];i.match(/\\$/)&&"\\"===i.match(/\\$/).toString();)i=i.substring(0,i.length-1),i+=s[++a].replace(/\s\s*$/,"");for(r=2;r<t.length;r++)i+="="+t[r];i=i.replace(/^\s\s*/,"").replace(/\s\s*$/,""),o[n]=i}return o}function r(e,t){var n=new XMLHttpRequest;n.open("GET","./locale/"+e+"/messages.properties",!0),n.onload=function(){v=i(n.response),t()},n.onerror=function(e){u.isCEP?(v=d.initResourceBundle(),t()):t(e)},n.send()}function o(){var e=navigator.userAgent;if("Win32"===navigator.platform||"Windows"===navigator.platform){var t="Windows",n="";return e.indexOf("Windows")>-1&&(e.indexOf("Windows NT 6.1")>-1?t="Windows 7":e.indexOf("Windows NT 6.2")>-1?t="Windows 8":e.indexOf("Windows NT 6.3")>-1?t="Windows 8.1":e.indexOf("Windows NT 10")>-1&&(t="Windows 10"),n=e.indexOf("WOW64")>-1?" 64-bit":" 32-bit"),t+n}if("MacIntel"===navigator.platform||"Macintosh"===navigator.platform){var i="Mac OS X";return e.indexOf("Mac OS X")>-1&&(i=e.substring(e.indexOf("Mac OS X"),e.indexOf(")")),i=i.replace(/_/g,".")),i}return"Unknown Operation System"}function a(e){if(u.isCEP){d=e.appInterface;var n=function(e){return 0===e.indexOf("Error")||"EvalScript error."===e};y=function(e,i){return new Promise(function(r,o){i=i||0,d.evalScript(e,function(a){n(a)?(console.log("Tried to execute: "+e),console.log("Failed with: "+a),i<2?setTimeout(function(){t.evalScript(e,i+1).then(function(e){r(e)},function(e){o(e)})},50):o(a)):r(a)})})},m=function(e,n,i){i=i||[];var r=i.map(JSON.stringify).join(", "),o="$._ADBE_LIBS_"+e+"."+n+"("+r+")";return t.evalScript(o)},_=function(e,n){return t.exec(d.hostEnvironment.appName,e,n)},b=function(e){e.extensionId=d.getExtensionID(),d.dispatchEvent(e)},T=function(e,t){d.addEventListener(e,t)},E=function(e,t,n,i,r){var o=new CSEvent(e,t,n,i);return o.data=r,o},S=function(e,t){d.removeEventListener(e,t)}}else{var i={},r={};e.onMessage(function(t){try{t=JSON.parse(t)}catch(e){}t&&"callback"===t.type&&i[t.id]?(i[t.id](t.error,t.data),delete i[t.id]):t&&"event"===t.type&&("com.adobe.csxs.events.ThemeColorChanged"===t.event&&(p.appSkinInfo=t.data),r[t.event]&&r[t.event].forEach(function(n){n({data:t.data,type:t.event,scope:t.scope,appId:t.appId,extensionId:t.extensionId},function(n,i){e.sendMessage(JSON.stringify({type:"callback",id:t.callback,data:i,error:n}))})}))});var o=function(t,n){var r=Math.random().toString(36);n&&(i[r]=n),e.sendMessage(JSON.stringify({type:t.type,data:t.data,callback:n?r:void 0}))};E=function(e,t,n,i,r){return{type:e,scope:t,appId:n,extensionId:i,data:r}},b=function(e){o({type:"event",data:e})},T=function(e,t){r[e]=r[e]||[],r[e].push(t)},S=function(e,t){Array.isArray(r[e])&&(r[e]=r[e].filter(function(e){return e!==t}))},_=function(e,n){return t.exec(p.appName,e,n)},m=function(e,t,n){return new Promise(function(i,r){t=e+"."+t,o({type:t,data:n},function(e,t){e?r(e):i(t)})})},y=function(e){return t.execApp(e)}}}function s(e){if("<Menu></Menu>"===e)return null;try{e=JSON.parse(e)}catch(e){return void console("Unable to parse flyout data",e)}return e.map(function e(t){return{type:t.divider?"separator":t.menuItems?u.isElectron?"submenu":"normal":"checkbox",label:t.label,checked:!!t.checked,id:t.menuId,enabled:t.enableMenu!==!1,submenu:t.menuItems?t.menuItems.map(e):void 0}})}function l(e,n,o){a({sendMessage:e,onMessage:n}),t.exec("CORE","getHostEnvironment",t.extensionId).then(function(e){if(p=e,u.isNodeSupported&&!u.isCEP){try{h=nodeRequire(e.nodeVulcanjsPath||"node-vulcanjs")}catch(e){h=null,console.log("Unable to load node-vulcanjs ",e)}try{f=nodeRequire(e.nodeImslibPath||"node-imslib"),f.loadLib(p.imslibPath)}catch(e){f=null,console.log("Unable to load node-imslib",e)}}else u.isCEP||(h={VulcanAdapter:function(){var e=null;this.addMessageListener=function(t){e=t},this.sendMessage=function(e,n){t.exec("VULCAN","sendMessage",{type:"vulcan.SuiteMessage."+e,data:n})},t.addEventListener("VULCAN.receiveMessage",function(t){var n=t.data;e&&e(n.type,n.data,n.appId,n.appVersion)})},VulcanControlAdapter:function(){this.isAppInstalled=function(){return!0},this.isAppRunning=function(){return!0},this.launchApp=function(e,t,n,i){i(!1)}}});e.strings?(v=i(e.strings),o()):r(e.appUILocale,o)},o)}function c(e){if(u.isCEP)a({appInterface:d}),e();else if(u.isIframe){var t=function(e){window.top.postMessage(e,"file://")},n=function(e){window.addEventListener("message",function(t){var n=event.origin||event.originalEvent.origin;"file://"===n&&e(t.data)})};l(t,n,e)}else if(u.isElectron){var i=nodeRequire("electron").ipcRenderer,r=function(e){i.send("cclibrary",e)},o=function(e){i.on("cclibrary",function(t,n){e(n)})};l(r,o,e)}else if(u.isEmbeddedWebkit){var s=function(e){window.webkit.messageHandlers.cclibrary.postMessage(e)},c=function(e){window.nativeMessageHandler=e};l(s,c,e)}else e("Unsupported platform")}var u=null,d=null,p=null,h=null,f=null,g=null,m=null,v=null,_=null,y=null,E=null,b=null,T=null,S=null,L=window.alert,A=!1;try{A=!(!nodeRequire||!nodeRequire("nw.gui"))}catch(e){}A&&(window.nodeRequire=function(e){return"nw.gui"===e?window.nwDispatcher&&window.nwDispatcher.requireNwGui():window.nodeGlobal&&window.nodeGlobal.require(e)}),u={isNodeSupported:!!window.nodeRequire("path"),isCEP:!!window.__adobe_cep__,isElectron:!!(window&&window.process&&window.process.type),isEmbeddedWebkit:!!(window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.cclibrary),isNW:A,isIframe:!(window.self===window.top)},g=o();var C=window.location.toString().indexOf("purchase")===-1?"com.adobe.DesignLibraries.angular":"com.adobe.inapp.purchase";if(u.isCEP&&(d=new CSInterface,v=d.initResourceBundle(),C=d.getExtensionID(),p=d.hostEnvironment,g=d.getOSInformation()),u.isWindowsOS=g.indexOf("Windows")!==-1,u.isEmbeddedWebkit)try{BUILT&&(window.noFileSystemAccess=!1)}catch(e){window.noFileSystemAccess=!0}t={isCEP:u.isCEP,isNodeSupported:u.isNodeSupported,isNW:u.isNW,isIframe:u.isIframe,isElectron:u.isElectron,appInterface:d,extensionId:C,isLibrariesPanel:"com.adobe.inapp.purchase"!==C,os:g,isWindowsOS:u.isWindowsOS,PATHS:{EXTENSION:"extension",USER_DATA:"userData",MY_DOCUMENTS:"myDocuments"},getSystemPath:function(e){if(d)return d.getSystemPath(e);if(e===t.PATHS.EXTENSION)return p.extensionPath;if(u.isNodeSupported){if(e===t.PATHS.USER_DATA){if("darwin"!==process.platform){var n=process.env.USERPROFILE.replace(/\\/g,"/");return n+"/AppData/Roaming"}return process.env.HOME+"/Library/Application Support"}if(e===t.PATHS.MY_DOCUMENTS)return"darwin"===process.platform?process.env.HOME+"/Documents":process.env.USERPROFILE.replace(/\\/g,"/")+"/Documents"}return null},isMenuInJson:!u.isCEP||window.sendRawMenuData,setPanelFlyoutMenu:function(e){return d?d.setPanelFlyoutMenu(e):void t.exec("CORE","setPanelFlyoutMenu",s(e))},updatePanelMenuItem:function(e,n,i){return d?d.updatePanelMenuItem(e,n,i):void t.exec("CORE","updateFlyoutMenuItem",{label:e,enabled:n,checked:i})},setContextMenu:function(e,n){if(d)return d.setContextMenu(e,n);if(u.isElectron||u.isNW){if(e=s(e),!e)return;if(e.forEach(function e(t){u.isElectron&&(t.enabled||(t.type="normal",t.submenu=void 0)),t.submenu?t.submenu.forEach(e):t.click=function(){n(t.id)}}),u.isElectron){var i=nodeRequire("electron").remote;
i.Menu.buildFromTemplate(e).popup(i.getCurrentWindow())}else{var r=nodeRequire("nw.gui"),o=new r.Menu;e.forEach(function e(t){if(t.submenu){var n=new r.Menu;t.submenu.forEach(e,n),t.submenu=n}else delete t.submenu;var i=new r.MenuItem(t);this.append(i)},o),o.popup(event.clientX,event.clientY)}}else t.exec("CORE","setContextMenu",e).then(n)},setWindowTitle:function(e){return d?d.setWindowTitle(e):void t.exec("CORE","setWindowTitle",e)},resizeContent:function(e,n){if(d)return d.resizeContent(e,n);if(u.isElectron){var i=nodeRequire("electron").remote.getCurrentWindow();i.setSize(e,n)}else t.exec("CORE","resizeContent",{width:e,height:n})},showError:function(e){return u.isCEP?this.exec("CORE","showError",[e]):void this.exec("CORE","showError",e).then(function(t){if(!t)return u.isElectron?nodeRequire("electron").remote.dialog.showErrorBox(e,""):L(e)})},launchInBrowser:function(e){if(u.isCEP)return d.openURLInDefaultBrowser(e);if(u.isElectron)return nodeRequire("electron").shell.openExternal(e);if(u.isNodeSupported){var t=nodeRequire("url");return e=t.format(t.parse(e)),u.isWindowsOS?nodeRequire("child_process").exec("start "+e):nodeRequire("child_process").exec("open "+e)}},requestOpenExtension:function(e,n){return d?d.requestOpenExtension(e,n):void t.exec("CORE","requestOpenExtension",{extensionId:e,params:n})},closeExtension:function(){return d?d.closeExtension():void t.exec("CORE","closeExtension")}},Object.defineProperties(t,{resourceBundle:{get:function(){return v}},hostEnvironment:{get:function(){return p}},VulcanJS:{get:function(){return h}},IMSLib:{get:function(){return f}},exec:{get:function(){return m}},execApp:{get:function(){return _}},evalScript:{get:function(){return y}},addEventListener:{get:function(){return T}},removeEventListener:{get:function(){return S}},createEvent:{get:function(){return E}},dispatchEvent:{get:function(){return b}}}),t.init=c,t.clearResourceBundle=function(){v=null},n.exports=t}),!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){"use strict";function n(e,t){t=t||te;var n=t.createElement("script");n.text=e,t.head.appendChild(n).parentNode.removeChild(n)}function i(e){var t=!!e&&"length"in e&&e.length,n=fe.type(e);return"function"!==n&&!fe.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function r(e,t,n){return fe.isFunction(t)?fe.grep(e,function(e,i){return!!t.call(e,i,e)!==n}):t.nodeType?fe.grep(e,function(e){return e===t!==n}):"string"!=typeof t?fe.grep(e,function(e){return ae.call(t,e)>-1!==n}):Le.test(t)?fe.filter(t,e,n):(t=fe.filter(t,e),fe.grep(e,function(e){return ae.call(t,e)>-1!==n&&1===e.nodeType}))}function o(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function a(e){var t={};return fe.each(e.match(De)||[],function(e,n){t[n]=!0}),t}function s(e){return e}function l(e){throw e}function c(e,t,n){var i;try{e&&fe.isFunction(i=e.promise)?i.call(e).done(t).fail(n):e&&fe.isFunction(i=e.then)?i.call(e,t,n):t.call(void 0,e)}catch(e){n.call(void 0,e)}}function u(){te.removeEventListener("DOMContentLoaded",u),e.removeEventListener("load",u),fe.ready()}function d(){this.expando=fe.expando+d.uid++}function p(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Ue.test(e)?JSON.parse(e):e)}function h(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(Fe,"-$&").toLowerCase(),n=e.getAttribute(i),"string"==typeof n){try{n=p(n)}catch(e){}ke.set(e,t,n)}else n=void 0;return n}function f(e,t,n,i){var r,o=1,a=20,s=i?function(){return i.cur()}:function(){return fe.css(e,t,"")},l=s(),c=n&&n[3]||(fe.cssNumber[t]?"":"px"),u=(fe.cssNumber[t]||"px"!==c&&+l)&&Be.exec(fe.css(e,t));if(u&&u[3]!==c){c=c||u[3],n=n||[],u=+l||1;do o=o||".5",u/=o,fe.style(e,t,u+c);while(o!==(o=s()/l)&&1!==o&&--a)}return n&&(u=+u||+l||0,r=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=r)),r}function g(e){var t,n=e.ownerDocument,i=e.nodeName,r=He[i];return r?r:(t=n.body.appendChild(n.createElement(i)),r=fe.css(t,"display"),t.parentNode.removeChild(t),"none"===r&&(r="block"),He[i]=r,r)}function m(e,t){for(var n,i,r=[],o=0,a=e.length;o<a;o++)i=e[o],i.style&&(n=i.style.display,t?("none"===n&&(r[o]=Me.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&Ye(i)&&(r[o]=g(i))):"none"!==n&&(r[o]="none",Me.set(i,"display",n)));for(o=0;o<a;o++)null!=r[o]&&(e[o].style.display=r[o]);return e}function v(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&fe.nodeName(e,t)?fe.merge([e],n):n}function _(e,t){for(var n=0,i=e.length;n<i;n++)Me.set(e[n],"globalEval",!t||Me.get(t[n],"globalEval"))}function y(e,t,n,i,r){for(var o,a,s,l,c,u,d=t.createDocumentFragment(),p=[],h=0,f=e.length;h<f;h++)if(o=e[h],o||0===o)if("object"===fe.type(o))fe.merge(p,o.nodeType?[o]:o);else if(ze.test(o)){for(a=a||d.appendChild(t.createElement("div")),s=(We.exec(o)||["",""])[1].toLowerCase(),l=Xe[s]||Xe._default,a.innerHTML=l[1]+fe.htmlPrefilter(o)+l[2],u=l[0];u--;)a=a.lastChild;fe.merge(p,a.childNodes),a=d.firstChild,a.textContent=""}else p.push(t.createTextNode(o));for(d.textContent="",h=0;o=p[h++];)if(i&&fe.inArray(o,i)>-1)r&&r.push(o);else if(c=fe.contains(o.ownerDocument,o),a=v(d.appendChild(o),"script"),c&&_(a),n)for(u=0;o=a[u++];)qe.test(o.type||"")&&n.push(o);return d}function E(){return!0}function b(){return!1}function T(){try{return te.activeElement}catch(e){}}function S(e,t,n,i,r,o){var a,s;if("object"==typeof t){"string"!=typeof n&&(i=i||n,n=void 0);for(s in t)S(e,s,n,i,t[s],o);return e}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),r===!1)r=b;else if(!r)return e;return 1===o&&(a=r,r=function(e){return fe().off(e),a.apply(this,arguments)},r.guid=a.guid||(a.guid=fe.guid++)),e.each(function(){fe.event.add(this,t,r,i,n)})}function L(e,t){return fe.nodeName(e,"table")&&fe.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e:e}function A(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function C(e){var t=it.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function w(e,t){var n,i,r,o,a,s,l,c;if(1===t.nodeType){if(Me.hasData(e)&&(o=Me.access(e),a=Me.set(t,o),c=o.events)){delete a.handle,a.events={};for(r in c)for(n=0,i=c[r].length;n<i;n++)fe.event.add(t,r,c[r][n])}ke.hasData(e)&&(s=ke.access(e),l=fe.extend({},s),ke.set(t,l))}}function x(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Ge.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function O(e,t,i,r){t=re.apply([],t);var o,a,s,l,c,u,d=0,p=e.length,h=p-1,f=t[0],g=fe.isFunction(f);if(g||p>1&&"string"==typeof f&&!pe.checkClone&&nt.test(f))return e.each(function(n){var o=e.eq(n);g&&(t[0]=f.call(this,n,o.html())),O(o,t,i,r)});if(p&&(o=y(t,e[0].ownerDocument,!1,e,r),a=o.firstChild,1===o.childNodes.length&&(o=a),a||r)){for(s=fe.map(v(o,"script"),A),l=s.length;d<p;d++)c=o,d!==h&&(c=fe.clone(c,!0,!0),l&&fe.merge(s,v(c,"script"))),i.call(e[d],c,d);if(l)for(u=s[s.length-1].ownerDocument,fe.map(s,C),d=0;d<l;d++)c=s[d],qe.test(c.type||"")&&!Me.access(c,"globalEval")&&fe.contains(u,c)&&(c.src?fe._evalUrl&&fe._evalUrl(c.src):n(c.textContent.replace(rt,""),u))}return e}function D(e,t,n){for(var i,r=t?fe.filter(t,e):e,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||fe.cleanData(v(i)),i.parentNode&&(n&&fe.contains(i.ownerDocument,i)&&_(v(i,"script")),i.parentNode.removeChild(i));return e}function R(e,t,n){var i,r,o,a,s=e.style;return n=n||st(e),n&&(a=n.getPropertyValue(t)||n[t],""!==a||fe.contains(e.ownerDocument,e)||(a=fe.style(e,t)),!pe.pixelMarginRight()&&at.test(a)&&ot.test(t)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o)),void 0!==a?a+"":a}function I(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function P(e){if(e in pt)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=dt.length;n--;)if(e=dt[n]+t,e in pt)return e}function N(e,t,n){var i=Be.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function M(e,t,n,i,r){var o,a=0;for(o=n===(i?"border":"content")?4:"width"===t?1:0;o<4;o+=2)"margin"===n&&(a+=fe.css(e,n+je[o],!0,r)),i?("content"===n&&(a-=fe.css(e,"padding"+je[o],!0,r)),"margin"!==n&&(a-=fe.css(e,"border"+je[o]+"Width",!0,r))):(a+=fe.css(e,"padding"+je[o],!0,r),"padding"!==n&&(a+=fe.css(e,"border"+je[o]+"Width",!0,r)));return a}function k(e,t,n){var i,r=!0,o=st(e),a="border-box"===fe.css(e,"boxSizing",!1,o);if(e.getClientRects().length&&(i=e.getBoundingClientRect()[t]),i<=0||null==i){if(i=R(e,t,o),(i<0||null==i)&&(i=e.style[t]),at.test(i))return i;r=a&&(pe.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+M(e,t,n||(a?"border":"content"),r,o)+"px"}function U(e,t,n,i,r){return new U.prototype.init(e,t,n,i,r)}function F(){ft&&(e.requestAnimationFrame(F),fe.fx.tick())}function $(){return e.setTimeout(function(){ht=void 0}),ht=fe.now()}function B(e,t){var n,i=0,r={height:e};for(t=t?1:0;i<4;i+=2-t)n=je[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function j(e,t,n){for(var i,r=(H.tweeners[t]||[]).concat(H.tweeners["*"]),o=0,a=r.length;o<a;o++)if(i=r[o].call(n,t,e))return i}function Y(e,t,n){var i,r,o,a,s,l,c,u,d="width"in t||"height"in t,p=this,h={},f=e.style,g=e.nodeType&&Ye(e),v=Me.get(e,"fxshow");n.queue||(a=fe._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,fe.queue(e,"fx").length||a.empty.fire()})}));for(i in t)if(r=t[i],gt.test(r)){if(delete t[i],o=o||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!v||void 0===v[i])continue;g=!0}h[i]=v&&v[i]||fe.style(e,i)}if(l=!fe.isEmptyObject(t),l||!fe.isEmptyObject(h)){d&&1===e.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],c=v&&v.display,null==c&&(c=Me.get(e,"display")),u=fe.css(e,"display"),"none"===u&&(c?u=c:(m([e],!0),c=e.style.display||c,u=fe.css(e,"display"),m([e]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===fe.css(e,"float")&&(l||(p.done(function(){f.display=c}),null==c&&(u=f.display,c="none"===u?"":u)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",p.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]})),l=!1;for(i in h)l||(v?"hidden"in v&&(g=v.hidden):v=Me.access(e,"fxshow",{display:c}),o&&(v.hidden=!g),g&&m([e],!0),p.done(function(){g||m([e]),Me.remove(e,"fxshow");for(i in h)fe.style(e,i,h[i])})),l=j(g?v[i]:0,i,p),i in v||(v[i]=l.start,g&&(l.end=l.start,l.start=0))}}function V(e,t){var n,i,r,o,a;for(n in e)if(i=fe.camelCase(n),r=t[i],o=e[n],fe.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),a=fe.cssHooks[i],a&&"expand"in a){o=a.expand(o),delete e[i];for(n in o)n in e||(e[n]=o[n],t[n]=r)}else t[i]=r}function H(e,t,n){var i,r,o=0,a=H.prefilters.length,s=fe.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=ht||$(),n=Math.max(0,c.startTime+c.duration-t),i=n/c.duration||0,o=1-i,a=0,l=c.tweens.length;a<l;a++)c.tweens[a].run(o);return s.notifyWith(e,[c,o,n]),o<1&&l?n:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:fe.extend({},t),opts:fe.extend(!0,{specialEasing:{},easing:fe.easing._default},n),originalProperties:t,originalOptions:n,startTime:ht||$(),duration:n.duration,tweens:[],createTween:function(t,n){var i=fe.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)c.tweens[n].run(1);return t?(s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c,t])):s.rejectWith(e,[c,t]),this}}),u=c.props;for(V(u,c.opts.specialEasing);o<a;o++)if(i=H.prefilters[o].call(c,e,u,c.opts))return fe.isFunction(i.stop)&&(fe._queueHooks(c.elem,c.opts.queue).stop=fe.proxy(i.stop,i)),i;return fe.map(u,j,c),fe.isFunction(c.opts.start)&&c.opts.start.call(e,c),fe.fx.timer(fe.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function G(e){var t=e.match(De)||[];return t.join(" ")}function W(e){return e.getAttribute&&e.getAttribute("class")||""}function q(e,t,n,i){var r;if(fe.isArray(t))fe.each(t,function(t,r){n||Ct.test(e)?i(e,r):q(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,n,i)});else if(n||"object"!==fe.type(t))i(e,t);else for(r in t)q(e+"["+r+"]",t[r],n,i)}function X(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match(De)||[];if(fe.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function z(e,t,n,i){function r(s){var l;return o[s]=!0,fe.each(e[s]||[],function(e,s){var c=s(t,n,i);return"string"!=typeof c||a||o[c]?a?!(l=c):void 0:(t.dataTypes.unshift(c),r(c),!1)}),l}var o={},a=e===Ft;return r(t.dataTypes[0])||!o["*"]&&r("*")}function K(e,t){var n,i,r=fe.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&fe.extend(!0,e,i),e}function J(e,t,n){for(var i,r,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||e.converters[r+" "+l[0]]){o=r;break}a||(a=r)}o=o||a}if(o)return o!==l[0]&&l.unshift(o),n[o]}function Z(e,t,n,i){var r,o,a,s,l,c={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(o=u.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(a=c[l+" "+o]||c["* "+o],!a)for(r in c)if(s=r.split(" "),s[1]===o&&(a=c[l+" "+s[0]]||c["* "+s[0]])){a===!0?a=c[r]:c[r]!==!0&&(o=s[0],u.unshift(s[1]));break}if(a!==!0)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function Q(e){return fe.isWindow(e)?e:9===e.nodeType&&e.defaultView}var ee=[],te=e.document,ne=Object.getPrototypeOf,ie=ee.slice,re=ee.concat,oe=ee.push,ae=ee.indexOf,se={},le=se.toString,ce=se.hasOwnProperty,ue=ce.toString,de=ue.call(Object),pe={},he="3.1.1",fe=function(e,t){return new fe.fn.init(e,t)},ge=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,me=/^-ms-/,ve=/-([a-z])/g,_e=function(e,t){return t.toUpperCase()};fe.fn=fe.prototype={jquery:he,constructor:fe,length:0,toArray:function(){return ie.call(this)},get:function(e){return null==e?ie.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=fe.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return fe.each(this,e)},map:function(e){return this.pushStack(fe.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(ie.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:oe,sort:ee.sort,splice:ee.splice},fe.extend=fe.fn.extend=function(){var e,t,n,i,r,o,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||fe.isFunction(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],i=e[t],a!==i&&(c&&i&&(fe.isPlainObject(i)||(r=fe.isArray(i)))?(r?(r=!1,o=n&&fe.isArray(n)?n:[]):o=n&&fe.isPlainObject(n)?n:{},a[t]=fe.extend(c,o,i)):void 0!==i&&(a[t]=i));return a},fe.extend({expando:"jQuery"+(he+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===fe.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=fe.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==le.call(e)||(t=ne(e))&&(n=ce.call(t,"constructor")&&t.constructor,"function"!=typeof n||ue.call(n)!==de))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?se[le.call(e)]||"object":typeof e},globalEval:function(e){n(e)},camelCase:function(e){return e.replace(me,"ms-").replace(ve,_e)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var n,r=0;if(i(e))for(n=e.length;r<n&&t.call(e[r],r,e[r])!==!1;r++);else for(r in e)if(t.call(e[r],r,e[r])===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(ge,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(i(Object(e))?fe.merge(n,"string"==typeof e?[e]:e):oe.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:ae.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i,r=[],o=0,a=e.length,s=!n;o<a;o++)i=!t(e[o],o),i!==s&&r.push(e[o]);return r},map:function(e,t,n){var r,o,a=0,s=[];if(i(e))for(r=e.length;a<r;a++)o=t(e[a],a,n),null!=o&&s.push(o);else for(a in e)o=t(e[a],a,n),null!=o&&s.push(o);return re.apply([],s)},guid:1,proxy:function(e,t){var n,i,r;if("string"==typeof t&&(n=e[t],t=e,e=n),fe.isFunction(e))return i=ie.call(arguments,2),r=function(){return e.apply(t||this,i.concat(ie.call(arguments)))},r.guid=e.guid=e.guid||fe.guid++,r},now:Date.now,support:pe}),"function"==typeof Symbol&&(fe.fn[Symbol.iterator]=ee[Symbol.iterator]),fe.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){se["[object "+t+"]"]=t.toLowerCase()});var ye=function(e){function t(e,t,n,i){var r,o,a,s,l,c,u,p=t&&t.ownerDocument,f=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==f&&9!==f&&11!==f)return n;if(!i&&((t?t.ownerDocument||t:j)!==P&&I(t),t=t||P,M)){if(11!==f&&(l=ve.exec(e)))if(r=l[1]){if(9===f){if(!(a=t.getElementById(r)))return n;if(a.id===r)return n.push(a),n}else if(p&&(a=p.getElementById(r))&&$(t,a)&&a.id===r)return n.push(a),n}else{if(l[2])return Z.apply(n,t.getElementsByTagName(e)),n;if((r=l[3])&&T.getElementsByClassName&&t.getElementsByClassName)return Z.apply(n,t.getElementsByClassName(r)),n}if(T.qsa&&!W[e+" "]&&(!k||!k.test(e))){if(1!==f)p=t,u=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(be,Te):t.setAttribute("id",s=B),c=C(e),o=c.length;o--;)c[o]="#"+s+" "+h(c[o]);u=c.join(","),p=_e.test(e)&&d(t.parentNode)||t}if(u)try{return Z.apply(n,p.querySelectorAll(u)),n}catch(e){}finally{s===B&&t.removeAttribute("id")}}}return x(e.replace(se,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>S.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[B]=!0,e}function r(e){var t=P.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),i=n.length;i--;)S.attrHandle[n[i]]=t}function a(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return function(t){return"form"in t?t.parentNode&&t.disabled===!1?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&Le(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function u(e){return i(function(t){return t=+t,i(function(n,i){for(var r,o=e([],n.length,t),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function d(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function p(){}function h(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function f(e,t,n){var i=t.dir,r=t.next,o=r||i,a=n&&"parentNode"===o,s=V++;return t.first?function(t,n,r){for(;t=t[i];)if(1===t.nodeType||a)return e(t,n,r);return!1}:function(t,n,l){var c,u,d,p=[Y,s];if(l){for(;t=t[i];)if((1===t.nodeType||a)&&e(t,n,l))return!0}else for(;t=t[i];)if(1===t.nodeType||a)if(d=t[B]||(t[B]={}),u=d[t.uniqueID]||(d[t.uniqueID]={}),r&&r===t.nodeName.toLowerCase())t=t[i]||t;else{if((c=u[o])&&c[0]===Y&&c[1]===s)return p[2]=c[2];if(u[o]=p,p[2]=e(t,n,l))return!0}return!1}}function g(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function m(e,n,i){for(var r=0,o=n.length;r<o;r++)t(e,n[r],i);return i}function v(e,t,n,i,r){for(var o,a=[],s=0,l=e.length,c=null!=t;s<l;s++)(o=e[s])&&(n&&!n(o,i,r)||(a.push(o),c&&t.push(s)));return a}function _(e,t,n,r,o,a){return r&&!r[B]&&(r=_(r)),o&&!o[B]&&(o=_(o,a)),i(function(i,a,s,l){var c,u,d,p=[],h=[],f=a.length,g=i||m(t||"*",s.nodeType?[s]:s,[]),_=!e||!i&&t?g:v(g,p,e,s,l),y=n?o||(i?e:f||r)?[]:a:_;if(n&&n(_,y,s,l),r)for(c=v(y,h),r(c,[],s,l),u=c.length;u--;)(d=c[u])&&(y[h[u]]=!(_[h[u]]=d));if(i){if(o||e){if(o){for(c=[],u=y.length;u--;)(d=y[u])&&c.push(_[u]=d);o(null,y=[],c,l)}for(u=y.length;u--;)(d=y[u])&&(c=o?ee(i,d):p[u])>-1&&(i[c]=!(a[c]=d))}}else y=v(y===a?y.splice(f,y.length):y),o?o(null,a,y,l):Z.apply(a,y)})}function y(e){for(var t,n,i,r=e.length,o=S.relative[e[0].type],a=o||S.relative[" "],s=o?1:0,l=f(function(e){return e===t},a,!0),c=f(function(e){return ee(t,e)>-1},a,!0),u=[function(e,n,i){var r=!o&&(i||n!==O)||((t=n).nodeType?l(e,n,i):c(e,n,i));return t=null,r}];s<r;s++)if(n=S.relative[e[s].type])u=[f(g(u),n)];else{if(n=S.filter[e[s].type].apply(null,e[s].matches),n[B]){for(i=++s;i<r&&!S.relative[e[i].type];i++);return _(s>1&&g(u),s>1&&h(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(se,"$1"),n,s<i&&y(e.slice(s,i)),i<r&&y(e=e.slice(i)),i<r&&h(e))}u.push(n)}return g(u)}function E(e,n){var r=n.length>0,o=e.length>0,a=function(i,a,s,l,c){var u,d,p,h=0,f="0",g=i&&[],m=[],_=O,y=i||o&&S.find.TAG("*",c),E=Y+=null==_?1:Math.random()||.1,b=y.length;for(c&&(O=a===P||a||c);f!==b&&null!=(u=y[f]);f++){if(o&&u){for(d=0,a||u.ownerDocument===P||(I(u),s=!M);p=e[d++];)if(p(u,a||P,s)){l.push(u);break}c&&(Y=E)}r&&((u=!p&&u)&&h--,i&&g.push(u))}if(h+=f,r&&f!==h){for(d=0;p=n[d++];)p(g,m,a,s);if(i){if(h>0)for(;f--;)g[f]||m[f]||(m[f]=K.call(l));m=v(m)}Z.apply(l,m),c&&!i&&m.length>0&&h+n.length>1&&t.uniqueSort(l)}return c&&(Y=E,O=_),g};return r?i(a):a}var b,T,S,L,A,C,w,x,O,D,R,I,P,N,M,k,U,F,$,B="sizzle"+1*new Date,j=e.document,Y=0,V=0,H=n(),G=n(),W=n(),q=function(e,t){return e===t&&(R=!0),0},X={}.hasOwnProperty,z=[],K=z.pop,J=z.push,Z=z.push,Q=z.slice,ee=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",re="\\["+ne+"*("+ie+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+ne+"*\\]",oe=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+re+")*)|.*)\\)|)",ae=new RegExp(ne+"+","g"),se=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),le=new RegExp("^"+ne+"*,"+ne+"*"),ce=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),ue=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),de=new RegExp(oe),pe=new RegExp("^"+ie+"$"),he={ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie+"|[*])"),ATTR:new RegExp("^"+re),PSEUDO:new RegExp("^"+oe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},fe=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,me=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,_e=/[+~]/,ye=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),Ee=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},be=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,Te=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},Se=function(){I()},Le=f(function(e){return e.disabled===!0&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{Z.apply(z=Q.call(j.childNodes),j.childNodes),z[j.childNodes.length].nodeType}catch(e){Z={apply:z.length?function(e,t){J.apply(e,Q.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}T=t.support={},A=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},I=t.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:j;return i!==P&&9===i.nodeType&&i.documentElement?(P=i,N=P.documentElement,M=!A(P),j!==P&&(n=P.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Se,!1):n.attachEvent&&n.attachEvent("onunload",Se)),T.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),T.getElementsByTagName=r(function(e){return e.appendChild(P.createComment("")),!e.getElementsByTagName("*").length}),T.getElementsByClassName=me.test(P.getElementsByClassName),T.getById=r(function(e){return N.appendChild(e).id=B,!P.getElementsByName||!P.getElementsByName(B).length}),T.getById?(S.filter.ID=function(e){var t=e.replace(ye,Ee);return function(e){return e.getAttribute("id")===t}},S.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&M){var n=t.getElementById(e);return n?[n]:[]}}):(S.filter.ID=function(e){var t=e.replace(ye,Ee);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},S.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&M){var n,i,r,o=t.getElementById(e);if(o){if(n=o.getAttributeNode("id"),n&&n.value===e)return[o];for(r=t.getElementsByName(e),i=0;o=r[i++];)if(n=o.getAttributeNode("id"),n&&n.value===e)return[o]}return[]}}),S.find.TAG=T.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):T.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},S.find.CLASS=T.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&M)return t.getElementsByClassName(e)},U=[],k=[],(T.qsa=me.test(P.querySelectorAll))&&(r(function(e){N.appendChild(e).innerHTML="<a id='"+B+"'></a><select id='"+B+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&k.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||k.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+B+"-]").length||k.push("~="),e.querySelectorAll(":checked").length||k.push(":checked"),e.querySelectorAll("a#"+B+"+*").length||k.push(".#.+[+~]")}),r(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=P.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&k.push("name"+ne+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&k.push(":enabled",":disabled"),N.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&k.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),k.push(",.*:")})),(T.matchesSelector=me.test(F=N.matches||N.webkitMatchesSelector||N.mozMatchesSelector||N.oMatchesSelector||N.msMatchesSelector))&&r(function(e){T.disconnectedMatch=F.call(e,"*"),F.call(e,"[s!='']:x"),U.push("!=",oe)}),k=k.length&&new RegExp(k.join("|")),U=U.length&&new RegExp(U.join("|")),t=me.test(N.compareDocumentPosition),$=t||me.test(N.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},q=t?function(e,t){if(e===t)return R=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!T.sortDetached&&t.compareDocumentPosition(e)===n?e===P||e.ownerDocument===j&&$(j,e)?-1:t===P||t.ownerDocument===j&&$(j,t)?1:D?ee(D,e)-ee(D,t):0:4&n?-1:1)}:function(e,t){if(e===t)return R=!0,0;var n,i=0,r=e.parentNode,o=t.parentNode,s=[e],l=[t];if(!r||!o)return e===P?-1:t===P?1:r?-1:o?1:D?ee(D,e)-ee(D,t):0;if(r===o)return a(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;s[i]===l[i];)i++;return i?a(s[i],l[i]):s[i]===j?-1:l[i]===j?1:0},P):P},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==P&&I(e),n=n.replace(ue,"='$1']"),T.matchesSelector&&M&&!W[n+" "]&&(!U||!U.test(n))&&(!k||!k.test(n)))try{var i=F.call(e,n);if(i||T.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){}return t(n,P,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==P&&I(e),$(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==P&&I(e);var n=S.attrHandle[t.toLowerCase()],i=n&&X.call(S.attrHandle,t.toLowerCase())?n(e,t,!M):void 0;return void 0!==i?i:T.attributes||!M?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.escape=function(e){return(e+"").replace(be,Te)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,r=0;if(R=!T.detectDuplicates,D=!T.sortStable&&e.slice(0),e.sort(q),R){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return D=null,e},L=t.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=L(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=L(t);return n},S=t.selectors={cacheLength:50,createPseudo:i,match:he,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ye,Ee),e[3]=(e[3]||e[4]||e[5]||"").replace(ye,Ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return he.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&de.test(n)&&(t=C(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ye,Ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=H[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&H(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(r){var o=t.attr(r,e);return null==o?"!="===n:!n||(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(ae," ")+" ").indexOf(i)>-1:"|="===n&&(o===i||o.slice(0,i.length+1)===i+"-"))}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;
return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,p,h,f,g=o!==a?"nextSibling":"previousSibling",m=t.parentNode,v=s&&t.nodeName.toLowerCase(),_=!l&&!s,y=!1;if(m){if(o){for(;g;){for(p=t;p=p[g];)if(s?p.nodeName.toLowerCase()===v:1===p.nodeType)return!1;f=g="only"===e&&!f&&"nextSibling"}return!0}if(f=[a?m.firstChild:m.lastChild],a&&_){for(p=m,d=p[B]||(p[B]={}),u=d[p.uniqueID]||(d[p.uniqueID]={}),c=u[e]||[],h=c[0]===Y&&c[1],y=h&&c[2],p=h&&m.childNodes[h];p=++h&&p&&p[g]||(y=h=0)||f.pop();)if(1===p.nodeType&&++y&&p===t){u[e]=[Y,h,y];break}}else if(_&&(p=t,d=p[B]||(p[B]={}),u=d[p.uniqueID]||(d[p.uniqueID]={}),c=u[e]||[],h=c[0]===Y&&c[1],y=h),y===!1)for(;(p=++h&&p&&p[g]||(y=h=0)||f.pop())&&((s?p.nodeName.toLowerCase()!==v:1!==p.nodeType)||!++y||(_&&(d=p[B]||(p[B]={}),u=d[p.uniqueID]||(d[p.uniqueID]={}),u[e]=[Y,y]),p!==t)););return y-=r,y===i||y%i===0&&y/i>=0}}},PSEUDO:function(e,n){var r,o=S.pseudos[e]||S.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[B]?o(n):o.length>1?(r=[e,e,"",n],S.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,r=o(e,n),a=r.length;a--;)i=ee(e,r[a]),e[i]=!(t[i]=r[a])}):function(e){return o(e,0,r)}):o}},pseudos:{not:i(function(e){var t=[],n=[],r=w(e.replace(se,"$1"));return r[B]?i(function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return e=e.replace(ye,Ee),function(t){return(t.textContent||t.innerText||L(t)).indexOf(e)>-1}}),lang:i(function(e){return pe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(ye,Ee).toLowerCase(),function(t){var n;do if(n=M?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===N},focus:function(e){return e===P.activeElement&&(!P.hasFocus||P.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:c(!1),disabled:c(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!S.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return fe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[n<0?n+t:n]}),even:u(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var i=n<0?n+t:n;--i>=0;)e.push(i);return e}),gt:u(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}},S.pseudos.nth=S.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})S.pseudos[b]=s(b);for(b in{submit:!0,reset:!0})S.pseudos[b]=l(b);return p.prototype=S.filters=S.pseudos,S.setFilters=new p,C=t.tokenize=function(e,n){var i,r,o,a,s,l,c,u=G[e+" "];if(u)return n?0:u.slice(0);for(s=e,l=[],c=S.preFilter;s;){i&&!(r=le.exec(s))||(r&&(s=s.slice(r[0].length)||s),l.push(o=[])),i=!1,(r=ce.exec(s))&&(i=r.shift(),o.push({value:i,type:r[0].replace(se," ")}),s=s.slice(i.length));for(a in S.filter)!(r=he[a].exec(s))||c[a]&&!(r=c[a](r))||(i=r.shift(),o.push({value:i,type:a,matches:r}),s=s.slice(i.length));if(!i)break}return n?s.length:s?t.error(e):G(e,l).slice(0)},w=t.compile=function(e,t){var n,i=[],r=[],o=W[e+" "];if(!o){for(t||(t=C(e)),n=t.length;n--;)o=y(t[n]),o[B]?i.push(o):r.push(o);o=W(e,E(r,i)),o.selector=e}return o},x=t.select=function(e,t,n,i){var r,o,a,s,l,c="function"==typeof e&&e,u=!i&&C(e=c.selector||e);if(n=n||[],1===u.length){if(o=u[0]=u[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&9===t.nodeType&&M&&S.relative[o[1].type]){if(t=(S.find.ID(a.matches[0].replace(ye,Ee),t)||[])[0],!t)return n;c&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(r=he.needsContext.test(e)?0:o.length;r--&&(a=o[r],!S.relative[s=a.type]);)if((l=S.find[s])&&(i=l(a.matches[0].replace(ye,Ee),_e.test(o[0].type)&&d(t.parentNode)||t))){if(o.splice(r,1),e=i.length&&h(o),!e)return Z.apply(n,i),n;break}}return(c||w(e,u))(i,t,!M,n,!t||_e.test(e)&&d(t.parentNode)||t),n},T.sortStable=B.split("").sort(q).join("")===B,T.detectDuplicates=!!R,I(),T.sortDetached=r(function(e){return 1&e.compareDocumentPosition(P.createElement("fieldset"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),T.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,n){var i;if(!n)return e[t]===!0?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(e);fe.find=ye,fe.expr=ye.selectors,fe.expr[":"]=fe.expr.pseudos,fe.uniqueSort=fe.unique=ye.uniqueSort,fe.text=ye.getText,fe.isXMLDoc=ye.isXML,fe.contains=ye.contains,fe.escapeSelector=ye.escape;var Ee=function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&fe(e).is(n))break;i.push(e)}return i},be=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},Te=fe.expr.match.needsContext,Se=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,Le=/^.[^:#\[\.,]*$/;fe.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?fe.find.matchesSelector(i,e)?[i]:[]:fe.find.matches(e,fe.grep(t,function(e){return 1===e.nodeType}))},fe.fn.extend({find:function(e){var t,n,i=this.length,r=this;if("string"!=typeof e)return this.pushStack(fe(e).filter(function(){for(t=0;t<i;t++)if(fe.contains(r[t],this))return!0}));for(n=this.pushStack([]),t=0;t<i;t++)fe.find(e,r[t],n);return i>1?fe.uniqueSort(n):n},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&Te.test(e)?fe(e):e||[],!1).length}});var Ae,Ce=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,we=fe.fn.init=function(e,t,n){var i,r;if(!e)return this;if(n=n||Ae,"string"==typeof e){if(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:Ce.exec(e),!i||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof fe?t[0]:t,fe.merge(this,fe.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:te,!0)),Se.test(i[1])&&fe.isPlainObject(t))for(i in t)fe.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return r=te.getElementById(i[2]),r&&(this[0]=r,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):fe.isFunction(e)?void 0!==n.ready?n.ready(e):e(fe):fe.makeArray(e,this)};we.prototype=fe.fn,Ae=fe(te);var xe=/^(?:parents|prev(?:Until|All))/,Oe={children:!0,contents:!0,next:!0,prev:!0};fe.fn.extend({has:function(e){var t=fe(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(fe.contains(this,t[e]))return!0})},closest:function(e,t){var n,i=0,r=this.length,o=[],a="string"!=typeof e&&fe(e);if(!Te.test(e))for(;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&fe.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?fe.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?ae.call(fe(e),this[0]):ae.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(fe.uniqueSort(fe.merge(this.get(),fe(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),fe.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Ee(e,"parentNode")},parentsUntil:function(e,t,n){return Ee(e,"parentNode",n)},next:function(e){return o(e,"nextSibling")},prev:function(e){return o(e,"previousSibling")},nextAll:function(e){return Ee(e,"nextSibling")},prevAll:function(e){return Ee(e,"previousSibling")},nextUntil:function(e,t,n){return Ee(e,"nextSibling",n)},prevUntil:function(e,t,n){return Ee(e,"previousSibling",n)},siblings:function(e){return be((e.parentNode||{}).firstChild,e)},children:function(e){return be(e.firstChild)},contents:function(e){return e.contentDocument||fe.merge([],e.childNodes)}},function(e,t){fe.fn[e]=function(n,i){var r=fe.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=fe.filter(i,r)),this.length>1&&(Oe[e]||fe.uniqueSort(r),xe.test(e)&&r.reverse()),this.pushStack(r)}});var De=/[^\x20\t\r\n\f]+/g;fe.Callbacks=function(e){e="string"==typeof e?a(e):fe.extend({},e);var t,n,i,r,o=[],s=[],l=-1,c=function(){for(r=e.once,i=t=!0;s.length;l=-1)for(n=s.shift();++l<o.length;)o[l].apply(n[0],n[1])===!1&&e.stopOnFalse&&(l=o.length,n=!1);e.memory||(n=!1),t=!1,r&&(o=n?[]:"")},u={add:function(){return o&&(n&&!t&&(l=o.length-1,s.push(n)),function t(n){fe.each(n,function(n,i){fe.isFunction(i)?e.unique&&u.has(i)||o.push(i):i&&i.length&&"string"!==fe.type(i)&&t(i)})}(arguments),n&&!t&&c()),this},remove:function(){return fe.each(arguments,function(e,t){for(var n;(n=fe.inArray(t,o,n))>-1;)o.splice(n,1),n<=l&&l--}),this},has:function(e){return e?fe.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=s=[],n||t||(o=n=""),this},locked:function(){return!!r},fireWith:function(e,n){return r||(n=n||[],n=[e,n.slice?n.slice():n],s.push(n),t||c()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!i}};return u},fe.extend({Deferred:function(t){var n=[["notify","progress",fe.Callbacks("memory"),fe.Callbacks("memory"),2],["resolve","done",fe.Callbacks("once memory"),fe.Callbacks("once memory"),0,"resolved"],["reject","fail",fe.Callbacks("once memory"),fe.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return r.then(null,e)},pipe:function(){var e=arguments;return fe.Deferred(function(t){fe.each(n,function(n,i){var r=fe.isFunction(e[i[4]])&&e[i[4]];o[i[1]](function(){var e=r&&r.apply(this,arguments);e&&fe.isFunction(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[i[0]+"With"](this,r?[e]:arguments)})}),e=null}).promise()},then:function(t,i,r){function o(t,n,i,r){return function(){var c=this,u=arguments,d=function(){var e,d;if(!(t<a)){if(e=i.apply(c,u),e===n.promise())throw new TypeError("Thenable self-resolution");d=e&&("object"==typeof e||"function"==typeof e)&&e.then,fe.isFunction(d)?r?d.call(e,o(a,n,s,r),o(a,n,l,r)):(a++,d.call(e,o(a,n,s,r),o(a,n,l,r),o(a,n,s,n.notifyWith))):(i!==s&&(c=void 0,u=[e]),(r||n.resolveWith)(c,u))}},p=r?d:function(){try{d()}catch(e){fe.Deferred.exceptionHook&&fe.Deferred.exceptionHook(e,p.stackTrace),t+1>=a&&(i!==l&&(c=void 0,u=[e]),n.rejectWith(c,u))}};t?p():(fe.Deferred.getStackHook&&(p.stackTrace=fe.Deferred.getStackHook()),e.setTimeout(p))}}var a=0;return fe.Deferred(function(e){n[0][3].add(o(0,e,fe.isFunction(r)?r:s,e.notifyWith)),n[1][3].add(o(0,e,fe.isFunction(t)?t:s)),n[2][3].add(o(0,e,fe.isFunction(i)?i:l))}).promise()},promise:function(e){return null!=e?fe.extend(e,r):r}},o={};return fe.each(n,function(e,t){var a=t[2],s=t[5];r[t[1]]=a.add,s&&a.add(function(){i=s},n[3-e][2].disable,n[0][2].lock),a.add(t[3].fire),o[t[0]]=function(){return o[t[0]+"With"](this===o?void 0:this,arguments),this},o[t[0]+"With"]=a.fireWith}),r.promise(o),t&&t.call(o,o),o},when:function(e){var t=arguments.length,n=t,i=Array(n),r=ie.call(arguments),o=fe.Deferred(),a=function(e){return function(n){i[e]=this,r[e]=arguments.length>1?ie.call(arguments):n,--t||o.resolveWith(i,r)}};if(t<=1&&(c(e,o.done(a(n)).resolve,o.reject),"pending"===o.state()||fe.isFunction(r[n]&&r[n].then)))return o.then();for(;n--;)c(r[n],a(n),o.reject);return o.promise()}});var Re=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;fe.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&Re.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},fe.readyException=function(t){e.setTimeout(function(){throw t})};var Ie=fe.Deferred();fe.fn.ready=function(e){return Ie.then(e).catch(function(e){fe.readyException(e)}),this},fe.extend({isReady:!1,readyWait:1,holdReady:function(e){e?fe.readyWait++:fe.ready(!0)},ready:function(e){(e===!0?--fe.readyWait:fe.isReady)||(fe.isReady=!0,e!==!0&&--fe.readyWait>0||Ie.resolveWith(te,[fe]))}}),fe.ready.then=Ie.then,"complete"===te.readyState||"loading"!==te.readyState&&!te.documentElement.doScroll?e.setTimeout(fe.ready):(te.addEventListener("DOMContentLoaded",u),e.addEventListener("load",u));var Pe=function(e,t,n,i,r,o,a){var s=0,l=e.length,c=null==n;if("object"===fe.type(n)){r=!0;for(s in n)Pe(e,t,s,n[s],!0,o,a)}else if(void 0!==i&&(r=!0,fe.isFunction(i)||(a=!0),c&&(a?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(fe(e),n)})),t))for(;s<l;s++)t(e[s],n,a?i:i.call(e[s],s,t(e[s],n)));return r?e:c?t.call(e):l?t(e[0],n):o},Ne=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};d.uid=1,d.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Ne(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,r=this.cache(e);if("string"==typeof t)r[fe.camelCase(t)]=n;else for(i in t)r[fe.camelCase(i)]=t[i];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][fe.camelCase(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){fe.isArray(t)?t=t.map(fe.camelCase):(t=fe.camelCase(t),t=t in i?[t]:t.match(De)||[]),n=t.length;for(;n--;)delete i[t[n]]}(void 0===t||fe.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!fe.isEmptyObject(t)}};var Me=new d,ke=new d,Ue=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Fe=/[A-Z]/g;fe.extend({hasData:function(e){return ke.hasData(e)||Me.hasData(e)},data:function(e,t,n){return ke.access(e,t,n)},removeData:function(e,t){ke.remove(e,t)},_data:function(e,t,n){return Me.access(e,t,n)},_removeData:function(e,t){Me.remove(e,t)}}),fe.fn.extend({data:function(e,t){var n,i,r,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(r=ke.get(o),1===o.nodeType&&!Me.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(i=a[n].name,0===i.indexOf("data-")&&(i=fe.camelCase(i.slice(5)),h(o,i,r[i])));Me.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each(function(){ke.set(this,e)}):Pe(this,function(t){var n;if(o&&void 0===t){if(n=ke.get(o,e),void 0!==n)return n;if(n=h(o,e),void 0!==n)return n}else this.each(function(){ke.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){ke.remove(this,e)})}}),fe.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=Me.get(e,t),n&&(!i||fe.isArray(n)?i=Me.access(e,t,fe.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=fe.queue(e,t),i=n.length,r=n.shift(),o=fe._queueHooks(e,t),a=function(){fe.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,a,o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Me.get(e,n)||Me.access(e,n,{empty:fe.Callbacks("once memory").add(function(){Me.remove(e,[t+"queue",n])})})}}),fe.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?fe.queue(this[0],e):void 0===t?this:this.each(function(){var n=fe.queue(this,e,t);fe._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&fe.dequeue(this,e)})},dequeue:function(e){return this.each(function(){fe.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=fe.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=Me.get(o[a],e+"queueHooks"),n&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(t)}});var $e=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Be=new RegExp("^(?:([+-])=|)("+$e+")([a-z%]*)$","i"),je=["Top","Right","Bottom","Left"],Ye=function(e,t){return e=t||e,"none"===e.style.display||""===e.style.display&&fe.contains(e.ownerDocument,e)&&"none"===fe.css(e,"display")},Ve=function(e,t,n,i){var r,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];r=n.apply(e,i||[]);for(o in t)e.style[o]=a[o];return r},He={};fe.fn.extend({show:function(){return m(this,!0)},hide:function(){return m(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ye(this)?fe(this).show():fe(this).hide()})}});var Ge=/^(?:checkbox|radio)$/i,We=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,qe=/^$|\/(?:java|ecma)script/i,Xe={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Xe.optgroup=Xe.option,Xe.tbody=Xe.tfoot=Xe.colgroup=Xe.caption=Xe.thead,Xe.th=Xe.td;var ze=/<|&#?\w+;/;!function(){var e=te.createDocumentFragment(),t=e.appendChild(te.createElement("div")),n=te.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),pe.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",pe.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Ke=te.documentElement,Je=/^key/,Ze=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Qe=/^([^.]*)(?:\.(.+)|)/;fe.event={global:{},add:function(e,t,n,i,r){var o,a,s,l,c,u,d,p,h,f,g,m=Me.get(e);if(m)for(n.handler&&(o=n,n=o.handler,r=o.selector),r&&fe.find.matchesSelector(Ke,r),n.guid||(n.guid=fe.guid++),(l=m.events)||(l=m.events={}),(a=m.handle)||(a=m.handle=function(t){return"undefined"!=typeof fe&&fe.event.triggered!==t.type?fe.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(De)||[""],c=t.length;c--;)s=Qe.exec(t[c])||[],h=g=s[1],f=(s[2]||"").split(".").sort(),h&&(d=fe.event.special[h]||{},h=(r?d.delegateType:d.bindType)||h,d=fe.event.special[h]||{},u=fe.extend({type:h,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&fe.expr.match.needsContext.test(r),namespace:f.join(".")},o),(p=l[h])||(p=l[h]=[],p.delegateCount=0,d.setup&&d.setup.call(e,i,f,a)!==!1||e.addEventListener&&e.addEventListener(h,a)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),r?p.splice(p.delegateCount++,0,u):p.push(u),fe.event.global[h]=!0)},remove:function(e,t,n,i,r){var o,a,s,l,c,u,d,p,h,f,g,m=Me.hasData(e)&&Me.get(e);if(m&&(l=m.events)){for(t=(t||"").match(De)||[""],c=t.length;c--;)if(s=Qe.exec(t[c])||[],h=g=s[1],f=(s[2]||"").split(".").sort(),h){for(d=fe.event.special[h]||{},h=(i?d.delegateType:d.bindType)||h,p=l[h]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;o--;)u=p[o],!r&&g!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(p.splice(o,1),u.selector&&p.delegateCount--,d.remove&&d.remove.call(e,u));a&&!p.length&&(d.teardown&&d.teardown.call(e,f,m.handle)!==!1||fe.removeEvent(e,h,m.handle),delete l[h])}else for(h in l)fe.event.remove(e,h+t[c],n,i,!0);fe.isEmptyObject(l)&&Me.remove(e,"handle events")}},dispatch:function(e){var t,n,i,r,o,a,s=fe.event.fix(e),l=new Array(arguments.length),c=(Me.get(this,"events")||{})[s.type]||[],u=fe.event.special[s.type]||{};for(l[0]=s,t=1;t<arguments.length;t++)l[t]=arguments[t];if(s.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,s)!==!1){for(a=fe.event.handlers.call(this,s,c),t=0;(r=a[t++])&&!s.isPropagationStopped();)for(s.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,i=((fe.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,l),void 0!==i&&(s.result=i)===!1&&(s.preventDefault(),s.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,i,r,o,a,s=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||c.disabled!==!0)){for(o=[],a={},n=0;n<l;n++)i=t[n],r=i.selector+" ",void 0===a[r]&&(a[r]=i.needsContext?fe(r,this).index(c)>-1:fe.find(r,this,null,[c]).length),a[r]&&o.push(i);o.length&&s.push({elem:c,handlers:o})}return c=this,l<t.length&&s.push({elem:c,handlers:t.slice(l)}),s},addProp:function(e,t){Object.defineProperty(fe.Event.prototype,e,{enumerable:!0,configurable:!0,get:fe.isFunction(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[fe.expando]?e:new fe.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==T()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===T()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&fe.nodeName(this,"input"))return this.click(),!1},_default:function(e){return fe.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},fe.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},fe.Event=function(e,t){return this instanceof fe.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?E:b,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&fe.extend(this,t),this.timeStamp=e&&e.timeStamp||fe.now(),void(this[fe.expando]=!0)):new fe.Event(e,t)},fe.Event.prototype={constructor:fe.Event,isDefaultPrevented:b,isPropagationStopped:b,isImmediatePropagationStopped:b,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=E,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=E,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=E,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},fe.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Je.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Ze.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},fe.event.addProp),fe.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){fe.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,o=e.handleObj;return r&&(r===i||fe.contains(i,r))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),fe.fn.extend({on:function(e,t,n,i){return S(this,e,t,n,i)},one:function(e,t,n,i){return S(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,fe(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return t!==!1&&"function"!=typeof t||(n=t,t=void 0),n===!1&&(n=b),this.each(function(){fe.event.remove(this,e,n,t)})}});var et=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,tt=/<script|<style|<link/i,nt=/checked\s*(?:[^=]|=\s*.checked.)/i,it=/^true\/(.*)/,rt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;fe.extend({htmlPrefilter:function(e){return e.replace(et,"<$1></$2>")},clone:function(e,t,n){var i,r,o,a,s=e.cloneNode(!0),l=fe.contains(e.ownerDocument,e);if(!(pe.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||fe.isXMLDoc(e)))for(a=v(s),o=v(e),i=0,r=o.length;i<r;i++)x(o[i],a[i]);if(t)if(n)for(o=o||v(e),a=a||v(s),i=0,r=o.length;i<r;i++)w(o[i],a[i]);else w(e,s);return a=v(s,"script"),a.length>0&&_(a,!l&&v(e,"script")),s},cleanData:function(e){for(var t,n,i,r=fe.event.special,o=0;void 0!==(n=e[o]);o++)if(Ne(n)){if(t=n[Me.expando]){if(t.events)for(i in t.events)r[i]?fe.event.remove(n,i):fe.removeEvent(n,i,t.handle);n[Me.expando]=void 0}n[ke.expando]&&(n[ke.expando]=void 0)}}}),fe.fn.extend({detach:function(e){return D(this,e,!0)},remove:function(e){return D(this,e)},text:function(e){return Pe(this,function(e){return void 0===e?fe.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return O(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=L(this,e);t.appendChild(e)}})},prepend:function(){return O(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=L(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return O(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return O(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(fe.cleanData(v(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return fe.clone(this,e,t)})},html:function(e){return Pe(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!tt.test(e)&&!Xe[(We.exec(e)||["",""])[1].toLowerCase()]){e=fe.htmlPrefilter(e);try{for(;n<i;n++)t=this[n]||{},1===t.nodeType&&(fe.cleanData(v(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return O(this,arguments,function(t){var n=this.parentNode;fe.inArray(this,e)<0&&(fe.cleanData(v(this)),n&&n.replaceChild(t,this))},e)}}),fe.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){fe.fn[e]=function(e){for(var n,i=[],r=fe(e),o=r.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),fe(r[a])[t](n),oe.apply(i,n.get());return this.pushStack(i)}});var ot=/^margin/,at=new RegExp("^("+$e+")(?!px)[a-z%]+$","i"),st=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)};!function(){function t(){if(s){s.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",Ke.appendChild(a);var t=e.getComputedStyle(s);n="1%"!==t.top,o="2px"===t.marginLeft,i="4px"===t.width,s.style.marginRight="50%",r="4px"===t.marginRight,Ke.removeChild(a),s=null}}var n,i,r,o,a=te.createElement("div"),s=te.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",pe.clearCloneStyle="content-box"===s.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(s),fe.extend(pe,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return t(),i},pixelMarginRight:function(){return t(),r},reliableMarginLeft:function(){return t(),o}}))}();var lt=/^(none|table(?!-c[ea]).+)/,ct={position:"absolute",visibility:"hidden",display:"block"},ut={letterSpacing:"0",fontWeight:"400"},dt=["Webkit","Moz","ms"],pt=te.createElement("div").style;fe.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=R(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,a,s=fe.camelCase(t),l=e.style;return t=fe.cssProps[s]||(fe.cssProps[s]=P(s)||s),a=fe.cssHooks[t]||fe.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(r=a.get(e,!1,i))?r:l[t]:(o=typeof n,"string"===o&&(r=Be.exec(n))&&r[1]&&(n=f(e,t,r),o="number"),void(null!=n&&n===n&&("number"===o&&(n+=r&&r[3]||(fe.cssNumber[s]?"":"px")),pe.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,i))||(l[t]=n))))}},css:function(e,t,n,i){var r,o,a,s=fe.camelCase(t);return t=fe.cssProps[s]||(fe.cssProps[s]=P(s)||s),a=fe.cssHooks[t]||fe.cssHooks[s],a&&"get"in a&&(r=a.get(e,!0,n)),void 0===r&&(r=R(e,t,i)),"normal"===r&&t in ut&&(r=ut[t]),""===n||n?(o=parseFloat(r),n===!0||isFinite(o)?o||0:r):r}}),fe.each(["height","width"],function(e,t){fe.cssHooks[t]={get:function(e,n,i){if(n)return!lt.test(fe.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?k(e,t,i):Ve(e,ct,function(){return k(e,t,i)})},set:function(e,n,i){var r,o=i&&st(e),a=i&&M(e,t,i,"border-box"===fe.css(e,"boxSizing",!1,o),o);return a&&(r=Be.exec(n))&&"px"!==(r[3]||"px")&&(e.style[t]=n,n=fe.css(e,t)),N(e,n,a)}}}),fe.cssHooks.marginLeft=I(pe.reliableMarginLeft,function(e,t){if(t)return(parseFloat(R(e,"marginLeft"))||e.getBoundingClientRect().left-Ve(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),fe.each({margin:"",padding:"",border:"Width"},function(e,t){fe.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[e+je[i]+t]=o[i]||o[i-2]||o[0];return r}},ot.test(e)||(fe.cssHooks[e+t].set=N)}),fe.fn.extend({css:function(e,t){return Pe(this,function(e,t,n){var i,r,o={},a=0;if(fe.isArray(t)){for(i=st(e),r=t.length;a<r;a++)o[t[a]]=fe.css(e,t[a],!1,i);return o}return void 0!==n?fe.style(e,t,n):fe.css(e,t)},e,t,arguments.length>1)}}),fe.Tween=U,U.prototype={constructor:U,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||fe.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(fe.cssNumber[n]?"":"px")},cur:function(){var e=U.propHooks[this.prop];return e&&e.get?e.get(this):U.propHooks._default.get(this)},run:function(e){var t,n=U.propHooks[this.prop];return this.options.duration?this.pos=t=fe.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):U.propHooks._default.set(this),this}},U.prototype.init.prototype=U.prototype,U.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=fe.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){fe.fx.step[e.prop]?fe.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[fe.cssProps[e.prop]]&&!fe.cssHooks[e.prop]?e.elem[e.prop]=e.now:fe.style(e.elem,e.prop,e.now+e.unit);
}}},U.propHooks.scrollTop=U.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},fe.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},fe.fx=U.prototype.init,fe.fx.step={};var ht,ft,gt=/^(?:toggle|show|hide)$/,mt=/queueHooks$/;fe.Animation=fe.extend(H,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return f(n.elem,e,Be.exec(t),n),n}]},tweener:function(e,t){fe.isFunction(e)?(t=e,e=["*"]):e=e.match(De);for(var n,i=0,r=e.length;i<r;i++)n=e[i],H.tweeners[n]=H.tweeners[n]||[],H.tweeners[n].unshift(t)},prefilters:[Y],prefilter:function(e,t){t?H.prefilters.unshift(e):H.prefilters.push(e)}}),fe.speed=function(e,t,n){var i=e&&"object"==typeof e?fe.extend({},e):{complete:n||!n&&t||fe.isFunction(e)&&e,duration:e,easing:n&&t||t&&!fe.isFunction(t)&&t};return fe.fx.off||te.hidden?i.duration=0:"number"!=typeof i.duration&&(i.duration in fe.fx.speeds?i.duration=fe.fx.speeds[i.duration]:i.duration=fe.fx.speeds._default),null!=i.queue&&i.queue!==!0||(i.queue="fx"),i.old=i.complete,i.complete=function(){fe.isFunction(i.old)&&i.old.call(this),i.queue&&fe.dequeue(this,i.queue)},i},fe.fn.extend({fadeTo:function(e,t,n,i){return this.filter(Ye).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=fe.isEmptyObject(e),o=fe.speed(t,n,i),a=function(){var t=H(this,fe.extend({},e),o);(r||Me.get(this,"finish"))&&t.stop(!0)};return a.finish=a,r||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",o=fe.timers,a=Me.get(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&mt.test(r)&&i(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(n),t=!1,o.splice(r,1));!t&&n||fe.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=Me.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=fe.timers,a=i?i.length:0;for(n.finish=!0,fe.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),fe.each(["toggle","show","hide"],function(e,t){var n=fe.fn[t];fe.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(B(t,!0),e,i,r)}}),fe.each({slideDown:B("show"),slideUp:B("hide"),slideToggle:B("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){fe.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),fe.timers=[],fe.fx.tick=function(){var e,t=0,n=fe.timers;for(ht=fe.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||fe.fx.stop(),ht=void 0},fe.fx.timer=function(e){fe.timers.push(e),e()?fe.fx.start():fe.timers.pop()},fe.fx.interval=13,fe.fx.start=function(){ft||(ft=e.requestAnimationFrame?e.requestAnimationFrame(F):e.setInterval(fe.fx.tick,fe.fx.interval))},fe.fx.stop=function(){e.cancelAnimationFrame?e.cancelAnimationFrame(ft):e.clearInterval(ft),ft=null},fe.fx.speeds={slow:600,fast:200,_default:400},fe.fn.delay=function(t,n){return t=fe.fx?fe.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,i){var r=e.setTimeout(n,t);i.stop=function(){e.clearTimeout(r)}})},function(){var e=te.createElement("input"),t=te.createElement("select"),n=t.appendChild(te.createElement("option"));e.type="checkbox",pe.checkOn=""!==e.value,pe.optSelected=n.selected,e=te.createElement("input"),e.value="t",e.type="radio",pe.radioValue="t"===e.value}();var vt,_t=fe.expr.attrHandle;fe.fn.extend({attr:function(e,t){return Pe(this,fe.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){fe.removeAttr(this,e)})}}),fe.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?fe.prop(e,t,n):(1===o&&fe.isXMLDoc(e)||(r=fe.attrHooks[t.toLowerCase()]||(fe.expr.match.bool.test(t)?vt:void 0)),void 0!==n?null===n?void fe.removeAttr(e,t):r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(i=r.get(e,t))?i:(i=fe.find.attr(e,t),null==i?void 0:i))},attrHooks:{type:{set:function(e,t){if(!pe.radioValue&&"radio"===t&&fe.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,r=t&&t.match(De);if(r&&1===e.nodeType)for(;n=r[i++];)e.removeAttribute(n)}}),vt={set:function(e,t,n){return t===!1?fe.removeAttr(e,n):e.setAttribute(n,n),n}},fe.each(fe.expr.match.bool.source.match(/\w+/g),function(e,t){var n=_t[t]||fe.find.attr;_t[t]=function(e,t,i){var r,o,a=t.toLowerCase();return i||(o=_t[a],_t[a]=r,r=null!=n(e,t,i)?a:null,_t[a]=o),r}});var yt=/^(?:input|select|textarea|button)$/i,Et=/^(?:a|area)$/i;fe.fn.extend({prop:function(e,t){return Pe(this,fe.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[fe.propFix[e]||e]})}}),fe.extend({prop:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&fe.isXMLDoc(e)||(t=fe.propFix[t]||t,r=fe.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=fe.find.attr(e,"tabindex");return t?parseInt(t,10):yt.test(e.nodeName)||Et.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),pe.optSelected||(fe.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),fe.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){fe.propFix[this.toLowerCase()]=this}),fe.fn.extend({addClass:function(e){var t,n,i,r,o,a,s,l=0;if(fe.isFunction(e))return this.each(function(t){fe(this).addClass(e.call(this,t,W(this)))});if("string"==typeof e&&e)for(t=e.match(De)||[];n=this[l++];)if(r=W(n),i=1===n.nodeType&&" "+G(r)+" "){for(a=0;o=t[a++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");s=G(i),r!==s&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,i,r,o,a,s,l=0;if(fe.isFunction(e))return this.each(function(t){fe(this).removeClass(e.call(this,t,W(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(De)||[];n=this[l++];)if(r=W(n),i=1===n.nodeType&&" "+G(r)+" "){for(a=0;o=t[a++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");s=G(i),r!==s&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):fe.isFunction(e)?this.each(function(n){fe(this).toggleClass(e.call(this,n,W(this),t),t)}):this.each(function(){var t,i,r,o;if("string"===n)for(i=0,r=fe(this),o=e.match(De)||[];t=o[i++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else void 0!==e&&"boolean"!==n||(t=W(this),t&&Me.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||e===!1?"":Me.get(this,"__className__")||""))})},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+G(W(n))+" ").indexOf(t)>-1)return!0;return!1}});var bt=/\r/g;fe.fn.extend({val:function(e){var t,n,i,r=this[0];return arguments.length?(i=fe.isFunction(e),this.each(function(n){var r;1===this.nodeType&&(r=i?e.call(this,n,fe(this).val()):e,null==r?r="":"number"==typeof r?r+="":fe.isArray(r)&&(r=fe.map(r,function(e){return null==e?"":e+""})),t=fe.valHooks[this.type]||fe.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))})):r?(t=fe.valHooks[r.type]||fe.valHooks[r.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(bt,""):null==n?"":n)):void 0}}),fe.extend({valHooks:{option:{get:function(e){var t=fe.find.attr(e,"value");return null!=t?t:G(fe.text(e))}},select:{get:function(e){var t,n,i,r=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],l=a?o+1:r.length;for(i=o<0?l:a?o:0;i<l;i++)if(n=r[i],(n.selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!fe.nodeName(n.parentNode,"optgroup"))){if(t=fe(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,i,r=e.options,o=fe.makeArray(t),a=r.length;a--;)i=r[a],(i.selected=fe.inArray(fe.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),fe.each(["radio","checkbox"],function(){fe.valHooks[this]={set:function(e,t){if(fe.isArray(t))return e.checked=fe.inArray(fe(e).val(),t)>-1}},pe.checkOn||(fe.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Tt=/^(?:focusinfocus|focusoutblur)$/;fe.extend(fe.event,{trigger:function(t,n,i,r){var o,a,s,l,c,u,d,p=[i||te],h=ce.call(t,"type")?t.type:t,f=ce.call(t,"namespace")?t.namespace.split("."):[];if(a=s=i=i||te,3!==i.nodeType&&8!==i.nodeType&&!Tt.test(h+fe.event.triggered)&&(h.indexOf(".")>-1&&(f=h.split("."),h=f.shift(),f.sort()),c=h.indexOf(":")<0&&"on"+h,t=t[fe.expando]?t:new fe.Event(h,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=f.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:fe.makeArray(n,[t]),d=fe.event.special[h]||{},r||!d.trigger||d.trigger.apply(i,n)!==!1)){if(!r&&!d.noBubble&&!fe.isWindow(i)){for(l=d.delegateType||h,Tt.test(l+h)||(a=a.parentNode);a;a=a.parentNode)p.push(a),s=a;s===(i.ownerDocument||te)&&p.push(s.defaultView||s.parentWindow||e)}for(o=0;(a=p[o++])&&!t.isPropagationStopped();)t.type=o>1?l:d.bindType||h,u=(Me.get(a,"events")||{})[t.type]&&Me.get(a,"handle"),u&&u.apply(a,n),u=c&&a[c],u&&u.apply&&Ne(a)&&(t.result=u.apply(a,n),t.result===!1&&t.preventDefault());return t.type=h,r||t.isDefaultPrevented()||d._default&&d._default.apply(p.pop(),n)!==!1||!Ne(i)||c&&fe.isFunction(i[h])&&!fe.isWindow(i)&&(s=i[c],s&&(i[c]=null),fe.event.triggered=h,i[h](),fe.event.triggered=void 0,s&&(i[c]=s)),t.result}},simulate:function(e,t,n){var i=fe.extend(new fe.Event,n,{type:e,isSimulated:!0});fe.event.trigger(i,null,t)}}),fe.fn.extend({trigger:function(e,t){return this.each(function(){fe.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return fe.event.trigger(e,t,n,!0)}}),fe.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){fe.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),fe.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),pe.focusin="onfocusin"in e,pe.focusin||fe.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){fe.event.simulate(t,e.target,fe.event.fix(e))};fe.event.special[t]={setup:function(){var i=this.ownerDocument||this,r=Me.access(i,t);r||i.addEventListener(e,n,!0),Me.access(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=Me.access(i,t)-1;r?Me.access(i,t,r):(i.removeEventListener(e,n,!0),Me.remove(i,t))}}});var St=e.location,Lt=fe.now(),At=/\?/;fe.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||fe.error("Invalid XML: "+t),n};var Ct=/\[\]$/,wt=/\r?\n/g,xt=/^(?:submit|button|image|reset|file)$/i,Ot=/^(?:input|select|textarea|keygen)/i;fe.param=function(e,t){var n,i=[],r=function(e,t){var n=fe.isFunction(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(fe.isArray(e)||e.jquery&&!fe.isPlainObject(e))fe.each(e,function(){r(this.name,this.value)});else for(n in e)q(n,e[n],t,r);return i.join("&")},fe.fn.extend({serialize:function(){return fe.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=fe.prop(this,"elements");return e?fe.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!fe(this).is(":disabled")&&Ot.test(this.nodeName)&&!xt.test(e)&&(this.checked||!Ge.test(e))}).map(function(e,t){var n=fe(this).val();return null==n?null:fe.isArray(n)?fe.map(n,function(e){return{name:t.name,value:e.replace(wt,"\r\n")}}):{name:t.name,value:n.replace(wt,"\r\n")}}).get()}});var Dt=/%20/g,Rt=/#.*$/,It=/([?&])_=[^&]*/,Pt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Nt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Mt=/^(?:GET|HEAD)$/,kt=/^\/\//,Ut={},Ft={},$t="*/".concat("*"),Bt=te.createElement("a");Bt.href=St.href,fe.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:St.href,type:"GET",isLocal:Nt.test(St.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":$t,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":fe.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?K(K(e,fe.ajaxSettings),t):K(fe.ajaxSettings,e)},ajaxPrefilter:X(Ut),ajaxTransport:X(Ft),ajax:function(t,n){function i(t,n,i,s){var c,p,h,E,b,T=n;u||(u=!0,l&&e.clearTimeout(l),r=void 0,a=s||"",S.readyState=t>0?4:0,c=t>=200&&t<300||304===t,i&&(E=J(f,S,i)),E=Z(f,E,S,c),c?(f.ifModified&&(b=S.getResponseHeader("Last-Modified"),b&&(fe.lastModified[o]=b),b=S.getResponseHeader("etag"),b&&(fe.etag[o]=b)),204===t||"HEAD"===f.type?T="nocontent":304===t?T="notmodified":(T=E.state,p=E.data,h=E.error,c=!h)):(h=T,!t&&T||(T="error",t<0&&(t=0))),S.status=t,S.statusText=(n||T)+"",c?v.resolveWith(g,[p,T,S]):v.rejectWith(g,[S,T,h]),S.statusCode(y),y=void 0,d&&m.trigger(c?"ajaxSuccess":"ajaxError",[S,f,c?p:h]),_.fireWith(g,[S,T]),d&&(m.trigger("ajaxComplete",[S,f]),--fe.active||fe.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=void 0),n=n||{};var r,o,a,s,l,c,u,d,p,h,f=fe.ajaxSetup({},n),g=f.context||f,m=f.context&&(g.nodeType||g.jquery)?fe(g):fe.event,v=fe.Deferred(),_=fe.Callbacks("once memory"),y=f.statusCode||{},E={},b={},T="canceled",S={readyState:0,getResponseHeader:function(e){var t;if(u){if(!s)for(s={};t=Pt.exec(a);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return u?a:null},setRequestHeader:function(e,t){return null==u&&(e=b[e.toLowerCase()]=b[e.toLowerCase()]||e,E[e]=t),this},overrideMimeType:function(e){return null==u&&(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(u)S.always(e[S.status]);else for(t in e)y[t]=[y[t],e[t]];return this},abort:function(e){var t=e||T;return r&&r.abort(t),i(0,t),this}};if(v.promise(S),f.url=((t||f.url||St.href)+"").replace(kt,St.protocol+"//"),f.type=n.method||n.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(De)||[""],null==f.crossDomain){c=te.createElement("a");try{c.href=f.url,c.href=c.href,f.crossDomain=Bt.protocol+"//"+Bt.host!=c.protocol+"//"+c.host}catch(e){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=fe.param(f.data,f.traditional)),z(Ut,f,n,S),u)return S;d=fe.event&&f.global,d&&0===fe.active++&&fe.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Mt.test(f.type),o=f.url.replace(Rt,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Dt,"+")):(h=f.url.slice(o.length),f.data&&(o+=(At.test(o)?"&":"?")+f.data,delete f.data),f.cache===!1&&(o=o.replace(It,"$1"),h=(At.test(o)?"&":"?")+"_="+Lt++ +h),f.url=o+h),f.ifModified&&(fe.lastModified[o]&&S.setRequestHeader("If-Modified-Since",fe.lastModified[o]),fe.etag[o]&&S.setRequestHeader("If-None-Match",fe.etag[o])),(f.data&&f.hasContent&&f.contentType!==!1||n.contentType)&&S.setRequestHeader("Content-Type",f.contentType),S.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+$t+"; q=0.01":""):f.accepts["*"]);for(p in f.headers)S.setRequestHeader(p,f.headers[p]);if(f.beforeSend&&(f.beforeSend.call(g,S,f)===!1||u))return S.abort();if(T="abort",_.add(f.complete),S.done(f.success),S.fail(f.error),r=z(Ft,f,n,S)){if(S.readyState=1,d&&m.trigger("ajaxSend",[S,f]),u)return S;f.async&&f.timeout>0&&(l=e.setTimeout(function(){S.abort("timeout")},f.timeout));try{u=!1,r.send(E,i)}catch(e){if(u)throw e;i(-1,e)}}else i(-1,"No Transport");return S},getJSON:function(e,t,n){return fe.get(e,t,n,"json")},getScript:function(e,t){return fe.get(e,void 0,t,"script")}}),fe.each(["get","post"],function(e,t){fe[t]=function(e,n,i,r){return fe.isFunction(n)&&(r=r||i,i=n,n=void 0),fe.ajax(fe.extend({url:e,type:t,dataType:r,data:n,success:i},fe.isPlainObject(e)&&e))}}),fe._evalUrl=function(e){return fe.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},fe.fn.extend({wrapAll:function(e){var t;return this[0]&&(fe.isFunction(e)&&(e=e.call(this[0])),t=fe(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return fe.isFunction(e)?this.each(function(t){fe(this).wrapInner(e.call(this,t))}):this.each(function(){var t=fe(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=fe.isFunction(e);return this.each(function(n){fe(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){fe(this).replaceWith(this.childNodes)}),this}}),fe.expr.pseudos.hidden=function(e){return!fe.expr.pseudos.visible(e)},fe.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},fe.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var jt={0:200,1223:204},Yt=fe.ajaxSettings.xhr();pe.cors=!!Yt&&"withCredentials"in Yt,pe.ajax=Yt=!!Yt,fe.ajaxTransport(function(t){var n,i;if(pe.cors||Yt&&!t.crossDomain)return{send:function(r,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(a in r)s.setRequestHeader(a,r[a]);n=function(e){return function(){n&&(n=i=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(jt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),i=s.onerror=n("error"),void 0!==s.onabort?s.onabort=i:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){n&&i()})},n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}}),fe.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),fe.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return fe.globalEval(e),e}}}),fe.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),fe.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(i,r){t=fe("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),te.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Vt=[],Ht=/(=)\?(?=&|$)|\?\?/;fe.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Vt.pop()||fe.expando+"_"+Lt++;return this[e]=!0,e}}),fe.ajaxPrefilter("json jsonp",function(t,n,i){var r,o,a,s=t.jsonp!==!1&&(Ht.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ht.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=fe.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Ht,"$1"+r):t.jsonp!==!1&&(t.url+=(At.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return a||fe.error(r+" was not called"),a[0]},t.dataTypes[0]="json",o=e[r],e[r]=function(){a=arguments},i.always(function(){void 0===o?fe(e).removeProp(r):e[r]=o,t[r]&&(t.jsonpCallback=n.jsonpCallback,Vt.push(r)),a&&fe.isFunction(o)&&o(a[0]),a=o=void 0}),"script"}),pe.createHTMLDocument=function(){var e=te.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),fe.parseHTML=function(e,t,n){if("string"!=typeof e)return[];"boolean"==typeof t&&(n=t,t=!1);var i,r,o;return t||(pe.createHTMLDocument?(t=te.implementation.createHTMLDocument(""),i=t.createElement("base"),i.href=te.location.href,t.head.appendChild(i)):t=te),r=Se.exec(e),o=!n&&[],r?[t.createElement(r[1])]:(r=y([e],t,o),o&&o.length&&fe(o).remove(),fe.merge([],r.childNodes))},fe.fn.load=function(e,t,n){var i,r,o,a=this,s=e.indexOf(" ");return s>-1&&(i=G(e.slice(s)),e=e.slice(0,s)),fe.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),a.length>0&&fe.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(i?fe("<div>").append(fe.parseHTML(e)).find(i):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},fe.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){fe.fn[t]=function(e){return this.on(t,e)}}),fe.expr.pseudos.animated=function(e){return fe.grep(fe.timers,function(t){return e===t.elem}).length},fe.offset={setOffset:function(e,t,n){var i,r,o,a,s,l,c,u=fe.css(e,"position"),d=fe(e),p={};"static"===u&&(e.style.position="relative"),s=d.offset(),o=fe.css(e,"top"),l=fe.css(e,"left"),c=("absolute"===u||"fixed"===u)&&(o+l).indexOf("auto")>-1,c?(i=d.position(),a=i.top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(l)||0),fe.isFunction(t)&&(t=t.call(e,n,fe.extend({},s))),null!=t.top&&(p.top=t.top-s.top+a),null!=t.left&&(p.left=t.left-s.left+r),"using"in t?t.using.call(e,p):d.css(p)}},fe.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){fe.offset.setOffset(this,e,t)});var t,n,i,r,o=this[0];return o?o.getClientRects().length?(i=o.getBoundingClientRect(),i.width||i.height?(r=o.ownerDocument,n=Q(r),t=r.documentElement,{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}):i):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n=this[0],i={top:0,left:0};return"fixed"===fe.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),fe.nodeName(e[0],"html")||(i=e.offset()),i={top:i.top+fe.css(e[0],"borderTopWidth",!0),left:i.left+fe.css(e[0],"borderLeftWidth",!0)}),{top:t.top-i.top-fe.css(n,"marginTop",!0),left:t.left-i.left-fe.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===fe.css(e,"position");)e=e.offsetParent;return e||Ke})}}),fe.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;fe.fn[e]=function(i){return Pe(this,function(e,i,r){var o=Q(e);return void 0===r?o?o[t]:e[i]:void(o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):e[i]=r)},e,i,arguments.length)}}),fe.each(["top","left"],function(e,t){fe.cssHooks[t]=I(pe.pixelPosition,function(e,n){if(n)return n=R(e,t),at.test(n)?fe(e).position()[t]+"px":n})}),fe.each({Height:"height",Width:"width"},function(e,t){fe.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){fe.fn[i]=function(r,o){var a=arguments.length&&(n||"boolean"!=typeof r),s=n||(r===!0||o===!0?"margin":"border");return Pe(this,function(t,n,r){var o;return fe.isWindow(t)?0===i.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===r?fe.css(t,n,s):fe.style(t,n,r,s)},t,a?r:void 0,a)}})}),fe.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),fe.parseJSON=JSON.parse,"function"==typeof define&&define.amd&&define("jquery",[],function(){return fe});var Gt=e.jQuery,Wt=e.$;return fe.noConflict=function(t){return e.$===fe&&(e.$=Wt),t&&e.jQuery===fe&&(e.jQuery=Gt),fe},t||(e.jQuery=e.$=fe),fe}),function(e){"use strict";function t(e,t){return t=t||Error,function(){var n,i,r=2,o=arguments,a=o[0],s="["+(e?e+":":"")+a+"] ",l=o[1];for(s+=l.replace(/\{\d+\}/g,function(e){var t=+e.slice(1,-1),n=t+r;return n<o.length?ye(o[n]):e}),s+="\nhttp://errors.angularjs.org/1.5.9/"+(e?e+"/":"")+a,i=r,n="?";i<o.length;i++,n="&")s+=n+"p"+(i-r)+"="+encodeURIComponent(ye(o[i]));return new t(s)}}function n(e){if(null==e||C(e))return!1;if(ir(e)||b(e)||Gi&&e instanceof Gi)return!0;var t="length"in Object(e)&&e.length;return T(t)&&(t>=0&&(t-1 in e||e instanceof Array)||"function"==typeof e.item)}function i(e,t,r){var o,a;if(e)if(L(e))for(o in e)"prototype"===o||"length"===o||"name"===o||e.hasOwnProperty&&!e.hasOwnProperty(o)||t.call(r,e[o],o,e);else if(ir(e)||n(e)){var s="object"!=typeof e;for(o=0,a=e.length;o<a;o++)(s||o in e)&&t.call(r,e[o],o,e)}else if(e.forEach&&e.forEach!==i)e.forEach(t,r,e);else if(E(e))for(o in e)t.call(r,e[o],o,e);else if("function"==typeof e.hasOwnProperty)for(o in e)e.hasOwnProperty(o)&&t.call(r,e[o],o,e);else for(o in e)$i.call(e,o)&&t.call(r,e[o],o,e);return e}function r(e,t,n){for(var i=Object.keys(e).sort(),r=0;r<i.length;r++)t.call(n,e[i[r]],i[r]);return i}function o(e){return function(t,n){e(n,t)}}function a(){return++tr}function s(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function l(e,t,n){for(var i=e.$$hashKey,r=0,o=t.length;r<o;++r){var a=t[r];if(y(a)||L(a))for(var c=Object.keys(a),u=0,d=c.length;u<d;u++){var p=c[u],h=a[p];n&&y(h)?S(h)?e[p]=new Date(h.valueOf()):A(h)?e[p]=new RegExp(h):h.nodeName?e[p]=h.cloneNode(!0):M(h)?e[p]=h.clone():(y(e[p])||(e[p]=ir(h)?[]:{}),l(e[p],[h],!0)):e[p]=h}}return s(e,i),e}function c(e){return l(e,Xi.call(arguments,1),!1)}function u(e){return l(e,Xi.call(arguments,1),!0)}function d(e){return parseInt(e,10)}function p(e,t){return c(Object.create(e),t)}function h(){}function f(e){return e}function g(e){return function(){return e}}function m(e){return L(e.toString)&&e.toString!==Ji}function v(e){return"undefined"==typeof e}function _(e){return"undefined"!=typeof e}function y(e){return null!==e&&"object"==typeof e}function E(e){return null!==e&&"object"==typeof e&&!Zi(e)}function b(e){return"string"==typeof e}function T(e){return"number"==typeof e}function S(e){return"[object Date]"===Ji.call(e)}function L(e){return"function"==typeof e}function A(e){return"[object RegExp]"===Ji.call(e)}function C(e){return e&&e.window===e}function w(e){return e&&e.$evalAsync&&e.$watch}function x(e){return"[object File]"===Ji.call(e)}function O(e){return"[object FormData]"===Ji.call(e)}function D(e){return"[object Blob]"===Ji.call(e)}function R(e){return"boolean"==typeof e}function I(e){return e&&L(e.then)}function P(e){return e&&T(e.length)&&rr.test(Ji.call(e))}function N(e){return"[object ArrayBuffer]"===Ji.call(e)}function M(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function k(e){var t,n={},i=e.split(",");for(t=0;t<i.length;t++)n[i[t]]=!0;return n}function U(e){return Bi(e.nodeName||e[0]&&e[0].nodeName)}function F(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),n}function $(e,t){function n(e,t){var n,i=t.$$hashKey;if(ir(e))for(var o=0,a=e.length;o<a;o++)t.push(r(e[o]));else if(E(e))for(n in e)t[n]=r(e[n]);else if(e&&"function"==typeof e.hasOwnProperty)for(n in e)e.hasOwnProperty(n)&&(t[n]=r(e[n]));else for(n in e)$i.call(e,n)&&(t[n]=r(e[n]));return s(t,i),t}function r(e){if(!y(e))return e;var t=a.indexOf(e);if(t!==-1)return l[t];if(C(e)||w(e))throw Qi("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var i=!1,r=o(e);return void 0===r&&(r=ir(e)?[]:Object.create(Zi(e)),i=!0),a.push(e),l.push(r),i?n(e,r):r}function o(e){switch(Ji.call(e)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new e.constructor(r(e.buffer),e.byteOffset,e.length);case"[object ArrayBuffer]":if(!e.slice){var t=new ArrayBuffer(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t}return e.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new e.constructor(e.valueOf());case"[object RegExp]":var n=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]);return n.lastIndex=e.lastIndex,n;case"[object Blob]":return new e.constructor([e],{type:e.type})}if(L(e.cloneNode))return e.cloneNode(!0)}var a=[],l=[];if(t){if(P(t)||N(t))throw Qi("cpta","Can't copy! TypedArray destination cannot be mutated.");if(e===t)throw Qi("cpi","Can't copy! Source and destination are identical.");return ir(t)?t.length=0:i(t,function(e,n){"$$hashKey"!==n&&delete t[n]}),a.push(e),l.push(t),n(e,t)}return r(e)}function B(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var n,i,r,o=typeof e,a=typeof t;if(o===a&&"object"===o){if(!ir(e)){if(S(e))return!!S(t)&&B(e.getTime(),t.getTime());if(A(e))return!!A(t)&&e.toString()===t.toString();if(w(e)||w(t)||C(e)||C(t)||ir(t)||S(t)||A(t))return!1;r=ge();for(i in e)if("$"!==i.charAt(0)&&!L(e[i])){if(!B(e[i],t[i]))return!1;r[i]=!0}for(i in t)if(!(i in r)&&"$"!==i.charAt(0)&&_(t[i])&&!L(t[i]))return!1;return!0}if(!ir(t))return!1;if((n=e.length)===t.length){for(i=0;i<n;i++)if(!B(e[i],t[i]))return!1;return!0}}return!1}function j(e,t,n){return e.concat(Xi.call(t,n))}function Y(e,t){return Xi.call(e,t||0)}function V(e,t){var n=arguments.length>2?Y(arguments,2):[];return!L(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,j(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function H(t,n){var i=n;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?i=void 0:C(n)?i="$WINDOW":n&&e.document===n?i="$DOCUMENT":w(n)&&(i="$SCOPE"),i}function G(e,t){if(!v(e))return T(t)||(t=t?2:null),JSON.stringify(e,H,t)}function W(e){return b(e)?JSON.parse(e):e}function q(e,t){e=e.replace(cr,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return nr(n)?t:n}function X(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function z(e,t,n){n=n?-1:1;var i=e.getTimezoneOffset(),r=q(t,i);return X(e,n*(r-i))}function K(e){e=Gi(e).clone();try{e.empty()}catch(e){}var t=Gi("<div>").append(e).html();try{return e[0].nodeType===mr?Bi(t):t.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+Bi(t)})}catch(e){return Bi(t)}}function J(e){try{return decodeURIComponent(e)}catch(e){}}function Z(e){var t={};return i((e||"").split("&"),function(e){var n,i,r;e&&(i=e=e.replace(/\+/g,"%20"),n=e.indexOf("="),n!==-1&&(i=e.substring(0,n),r=e.substring(n+1)),i=J(i),_(i)&&(r=!_(r)||J(r),$i.call(t,i)?ir(t[i])?t[i].push(r):t[i]=[t[i],r]:t[i]=r))}),t}function Q(e){var t=[];return i(e,function(e,n){ir(e)?i(e,function(e){t.push(te(n,!0)+(e===!0?"":"="+te(e,!0)))}):t.push(te(n,!0)+(e===!0?"":"="+te(e,!0)))}),t.length?t.join("&"):""}function ee(e){return te(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function te(e,t){
return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function ne(e,t){var n,i,r=ur.length;for(i=0;i<r;++i)if(n=ur[i]+t,b(n=e.getAttribute(n)))return n;return null}function ie(e){if(!e.currentScript)return!0;var t=e.currentScript.getAttribute("src"),n=e.createElement("a");n.href=t;var i=n.protocol,r=e.location.protocol;if(r===i)return!0;switch(i){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}}function re(t,n){var r,o,a={};if(i(ur,function(e){var n=e+"app";!r&&t.hasAttribute&&t.hasAttribute(n)&&(r=t,o=t.getAttribute(n))}),i(ur,function(e){var n,i=e+"app";!r&&(n=t.querySelector("["+i.replace(":","\\:")+"]"))&&(r=n,o=n.getAttribute(i))}),r){if(!dr)return void e.console.error("Angular: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match.");a.strictDi=null!==ne(r,"strict-di"),n(r,o?[o]:[],a)}}function oe(t,n,r){y(r)||(r={});var o={strictDi:!1};r=c(o,r);var a=function(){if(t=Gi(t),t.injector()){var i=t[0]===e.document?"document":K(t);throw Qi("btstrpd","App already bootstrapped with this element '{0}'",i.replace(/</,"&lt;").replace(/>/,"&gt;"))}n=n||[],n.unshift(["$provide",function(e){e.value("$rootElement",t)}]),r.debugInfoEnabled&&n.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),n.unshift("ng");var o=rt(n,r.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,i){e.$apply(function(){t.data("$injector",i),n(t)(e)})}]),o},s=/^NG_ENABLE_DEBUG_INFO!/,l=/^NG_DEFER_BOOTSTRAP!/;return e&&s.test(e.name)&&(r.debugInfoEnabled=!0,e.name=e.name.replace(s,"")),e&&!l.test(e.name)?a():(e.name=e.name.replace(l,""),er.resumeBootstrap=function(e){return i(e,function(e){n.push(e)}),a()},void(L(er.resumeDeferredBootstrap)&&er.resumeDeferredBootstrap()))}function ae(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function se(e){var t=er.element(e).injector();if(!t)throw Qi("test","no injector found for element argument to getTestability");return t.get("$$testability")}function le(e,t){return t=t||"_",e.replace(pr,function(e,n){return(n?t:"")+e.toLowerCase()})}function ce(){var t;if(!hr){var n=lr();Wi=v(n)?e.jQuery:n?e[n]:void 0,Wi&&Wi.fn.on?(Gi=Wi,c(Wi.fn,{scope:Mr.scope,isolateScope:Mr.isolateScope,controller:Mr.controller,injector:Mr.injector,inheritedData:Mr.inheritedData}),t=Wi.cleanData,Wi.cleanData=function(e){for(var n,i,r=0;null!=(i=e[r]);r++)n=Wi._data(i,"events"),n&&n.$destroy&&Wi(i).triggerHandler("$destroy");t(e)}):Gi=De,er.element=Gi,hr=!0}}function ue(e,t,n){if(!e)throw Qi("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function de(e,t,n){return n&&ir(e)&&(e=e[e.length-1]),ue(L(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function pe(e,t){if("hasOwnProperty"===e)throw Qi("badname","hasOwnProperty is not a valid {0} name",t)}function he(e,t,n){if(!t)return e;for(var i,r=t.split("."),o=e,a=r.length,s=0;s<a;s++)i=r[s],e&&(e=(o=e)[i]);return!n&&L(e)?V(o,e):e}function fe(e){for(var t,n=e[0],i=e[e.length-1],r=1;n!==i&&(n=n.nextSibling);r++)(t||e[r]!==n)&&(t||(t=Gi(Xi.call(e,0,r))),t.push(n));return t||e}function ge(){return Object.create(null)}function me(e){function n(e,t,n){return e[t]||(e[t]=n())}var i=t("$injector"),r=t("ng"),o=n(e,"angular",Object);return o.$$minErr=o.$$minErr||t,n(o,"module",function(){var e={};return function(t,o,a){var s=function(e,t){if("hasOwnProperty"===e)throw r("badname","hasOwnProperty is not a valid {0} name",t)};return s(t,"module"),o&&e.hasOwnProperty(t)&&(e[t]=null),n(e,t,function(){function e(e,t,n,i){return i||(i=r),function(){return i[n||"push"]([e,t,arguments]),u}}function n(e,n){return function(i,o){return o&&L(o)&&(o.$$moduleName=t),r.push([e,n,arguments]),u}}if(!o)throw i("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",t);var r=[],s=[],l=[],c=e("$injector","invoke","push",s),u={_invokeQueue:r,_configBlocks:s,_runBlocks:l,requires:o,name:t,provider:n("$provide","provider"),factory:n("$provide","factory"),service:n("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),decorator:n("$provide","decorator"),animation:n("$animateProvider","register"),filter:n("$filterProvider","register"),controller:n("$controllerProvider","register"),directive:n("$compileProvider","directive"),component:n("$compileProvider","component"),config:c,run:function(e){return l.push(e),this}};return a&&c(a),u})}})}function ve(e,t){if(ir(e)){t=t||[];for(var n=0,i=e.length;n<i;n++)t[n]=e[n]}else if(y(e)){t=t||{};for(var r in e)"$"===r.charAt(0)&&"$"===r.charAt(1)||(t[r]=e[r])}return t||e}function _e(e){var t=[];return JSON.stringify(e,function(e,n){if(n=H(e,n),y(n)){if(t.indexOf(n)>=0)return"...";t.push(n)}return n})}function ye(e){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):v(e)?"undefined":"string"!=typeof e?_e(e):e}function Ee(n){c(n,{bootstrap:oe,copy:$,extend:c,merge:u,equals:B,element:Gi,forEach:i,injector:rt,noop:h,bind:V,toJson:G,fromJson:W,identity:f,isUndefined:v,isDefined:_,isString:b,isFunction:L,isObject:y,isNumber:T,isElement:M,isArray:ir,version:Er,isDate:S,lowercase:Bi,uppercase:ji,callbacks:{$$counter:0},getTestability:se,$$minErr:t,$$csp:sr,reloadWithDebugInfo:ae}),(qi=me(e))("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:Cn}),e.provider("$compile",gt).directive({a:ia,input:Ta,textarea:Ta,form:la,script:vs,select:Es,option:bs,ngBind:Aa,ngBindHtml:wa,ngBindTemplate:Ca,ngClass:Oa,ngClassEven:Ra,ngClassOdd:Da,ngCloak:Ia,ngController:Pa,ngForm:ca,ngHide:us,ngIf:ka,ngInclude:Ua,ngInit:$a,ngNonBindable:ts,ngPluralize:os,ngRepeat:as,ngShow:cs,ngStyle:ds,ngSwitch:ps,ngSwitchWhen:hs,ngSwitchDefault:fs,ngOptions:rs,ngTransclude:ms,ngModel:Za,ngList:Ba,ngChange:xa,pattern:Ss,ngPattern:Ss,required:Ts,ngRequired:Ts,minlength:As,ngMinlength:As,maxlength:Ls,ngMaxlength:Ls,ngValue:La,ngModelOptions:es}).directive({ngInclude:Fa}).directive(ra).directive(Na),e.provider({$anchorScroll:ot,$animate:Jr,$animateCss:eo,$$animateJs:zr,$$animateQueue:Kr,$$AnimateRunner:Qr,$$animateAsyncRun:Zr,$browser:dt,$cacheFactory:pt,$controller:bt,$document:Tt,$exceptionHandler:St,$filter:Bn,$$forceReflow:ao,$interpolate:Ut,$interval:Ft,$http:Pt,$httpParamSerializer:At,$httpParamSerializerJQLike:Ct,$httpBackend:Mt,$xhrFactory:Nt,$jsonpCallbacks:mo,$location:Qt,$log:en,$parse:En,$rootScope:An,$q:bn,$$q:Tn,$sce:Dn,$sceDelegate:On,$sniffer:Rn,$templateCache:ht,$templateRequest:In,$$testability:Pn,$timeout:Nn,$window:Un,$$rAF:Ln,$$jqLite:Je,$$HashMap:$r,$$cookieReader:$n})}])}function be(){return++Tr}function Te(e){return e.replace(Ar,function(e,t,n,i){return i?n.toUpperCase():n}).replace(Cr,"Moz$1")}function Se(e){return!Dr.test(e)}function Le(e){var t=e.nodeType;return t===fr||!t||t===_r}function Ae(e){for(var t in br[e.ng339])return!0;return!1}function Ce(e){for(var t=0,n=e.length;t<n;t++)Ne(e[t])}function we(e,t){var n,r,o,a,s=t.createDocumentFragment(),l=[];if(Se(e))l.push(t.createTextNode(e));else{for(n=s.appendChild(t.createElement("div")),r=(Rr.exec(e)||["",""])[1].toLowerCase(),o=Pr[r]||Pr._default,n.innerHTML=o[1]+e.replace(Ir,"<$1></$2>")+o[2],a=o[0];a--;)n=n.lastChild;l=j(l,n.childNodes),n=s.firstChild,n.textContent=""}return s.textContent="",s.innerHTML="",i(l,function(e){s.appendChild(e)}),s}function xe(t,n){n=n||e.document;var i;return(i=Or.exec(t))?[n.createElement(i[1])]:(i=we(t,n))?i.childNodes:[]}function Oe(e,t){var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)}function De(e){if(e instanceof De)return e;var t;if(b(e)&&(e=or(e),t=!0),!(this instanceof De)){if(t&&"<"!==e.charAt(0))throw xr("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new De(e)}t?Be(this,xe(e)):Be(this,e)}function Re(e){return e.cloneNode(!0)}function Ie(e,t){if(t||Ne(e),e.querySelectorAll)for(var n=e.querySelectorAll("*"),i=0,r=n.length;i<r;i++)Ne(n[i])}function Pe(e,t,n,r){if(_(r))throw xr("offargs","jqLite#off() does not support the `selector` argument");var o=Me(e),a=o&&o.events,s=o&&o.handle;if(s)if(t){var l=function(t){var i=a[t];_(n)&&F(i||[],n),_(n)&&i&&i.length>0||(Lr(e,t,s),delete a[t])};i(t.split(" "),function(e){l(e),wr[e]&&l(wr[e])})}else for(t in a)"$destroy"!==t&&Lr(e,t,s),delete a[t]}function Ne(e,t){var n=e.ng339,i=n&&br[n];if(i){if(t)return void delete i.data[t];i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),Pe(e)),delete br[n],e.ng339=void 0}}function Me(e,t){var n=e.ng339,i=n&&br[n];return t&&!i&&(e.ng339=n=be(),i=br[n]={events:{},data:{},handle:void 0}),i}function ke(e,t,n){if(Le(e)){var i=_(n),r=!i&&t&&!y(t),o=!t,a=Me(e,!r),s=a&&a.data;if(i)s[t]=n;else{if(o)return s;if(r)return s&&s[t];c(s,t)}}}function Ue(e,t){return!!e.getAttribute&&(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1}function Fe(e,t){t&&e.setAttribute&&i(t.split(" "),function(t){e.setAttribute("class",or((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+or(t)+" "," ")))})}function $e(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");i(t.split(" "),function(e){e=or(e),n.indexOf(" "+e+" ")===-1&&(n+=e+" ")}),e.setAttribute("class",or(n))}}function Be(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var i=0;i<n;i++)e[e.length++]=t[i]}else e[e.length++]=t}}function je(e,t){return Ye(e,"$"+(t||"ngController")+"Controller")}function Ye(e,t,n){e.nodeType===_r&&(e=e.documentElement);for(var i=ir(t)?t:[t];e;){for(var r=0,o=i.length;r<o;r++)if(_(n=Gi.data(e,i[r])))return n;e=e.parentNode||e.nodeType===yr&&e.host}}function Ve(e){for(Ie(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function He(e,t){t||Ie(e);var n=e.parentNode;n&&n.removeChild(e)}function Ge(t,n){n=n||e,"complete"===n.document.readyState?n.setTimeout(t):Gi(n).on("load",t)}function We(e,t){var n=kr[t.toLowerCase()];return n&&Ur[U(e)]&&n}function qe(e){return Fr[e]}function Xe(e,t){var n=function(n,i){n.isDefaultPrevented=function(){return n.defaultPrevented};var r=t[i||n.type],o=r?r.length:0;if(o){if(v(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return n.immediatePropagationStopped===!0};var s=r.specialHandlerWrapper||ze;o>1&&(r=ve(r));for(var l=0;l<o;l++)n.isImmediatePropagationStopped()||s(e,n,r[l])}};return n.elem=e,n}function ze(e,t,n){n.call(e,t)}function Ke(e,t,n){var i=t.relatedTarget;i&&(i===e||Nr.call(e,i))||n.call(e,t)}function Je(){this.$get=function(){return c(De,{hasClass:function(e,t){return e.attr&&(e=e[0]),Ue(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),$e(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),Fe(e,t)}})}}function Ze(e,t){var n=e&&e.$$hashKey;if(n)return"function"==typeof n&&(n=e.$$hashKey()),n;var i=typeof e;return n="function"===i||"object"===i&&null!==e?e.$$hashKey=i+":"+(t||a)():i+":"+e}function Qe(e,t){if(t){var n=0;this.nextUid=function(){return++n}}i(e,this.put,this)}function et(e){return Function.prototype.toString.call(e)+" "}function tt(e){var t=et(e).replace(Hr,""),n=t.match(Br)||t.match(jr);return n}function nt(e){var t=tt(e);return t?"function("+(t[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function it(e,t,n){var r,o,a;if("function"==typeof e){if(!(r=e.$inject)){if(r=[],e.length){if(t)throw b(n)&&n||(n=e.name||nt(e)),Gr("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);o=tt(e),i(o[1].split(Yr),function(e){e.replace(Vr,function(e,t,n){r.push(n)})})}e.$inject=r}}else ir(e)?(a=e.length-1,de(e[a],"fn"),r=e.slice(0,a)):de(e,"fn",!0);return r}function rt(e,t){function n(e){return function(t,n){return y(t)?void i(t,o(e)):e(t,n)}}function r(e,t){if(pe(e,"service"),(L(t)||ir(t))&&(t=S.instantiate(t)),!t.$get)throw Gr("pget","Provider '{0}' must define $get factory method.",e);return T[e+m]=t}function a(e,t){return function(){var n=w.invoke(t,this);if(v(n))throw Gr("undef","Provider '{0}' must return a value from $get factory method.",e);return n}}function s(e,t,n){return r(e,{$get:n!==!1?a(e,t):t})}function l(e,t){return s(e,["$injector",function(e){return e.instantiate(t)}])}function c(e,t){return s(e,g(t),!1)}function u(e,t){pe(e,"constant"),T[e]=t,A[e]=t}function d(e,t){var n=S.get(e+m),i=n.$get;n.$get=function(){var e=w.invoke(i,n);return w.invoke(t,null,{$delegate:e})}}function p(e){ue(v(e)||ir(e),"modulesToLoad","not an array");var t,n=[];return i(e,function(e){function i(e){var t,n;for(t=0,n=e.length;t<n;t++){var i=e[t],r=S.get(i[0]);r[i[1]].apply(r,i[2])}}if(!E.get(e)){E.put(e,!0);try{b(e)?(t=qi(e),n=n.concat(p(t.requires)).concat(t._runBlocks),i(t._invokeQueue),i(t._configBlocks)):L(e)?n.push(S.invoke(e)):ir(e)?n.push(S.invoke(e)):de(e,"module")}catch(t){throw ir(e)&&(e=e[e.length-1]),t.message&&t.stack&&t.stack.indexOf(t.message)===-1&&(t=t.message+"\n"+t.stack),Gr("modulerr","Failed to instantiate module {0} due to:\n{1}",e,t.stack||t.message||t)}}}),n}function h(e,n){function i(t,i){if(e.hasOwnProperty(t)){if(e[t]===f)throw Gr("cdep","Circular dependency found: {0}",t+" <- "+_.join(" <- "));return e[t]}try{return _.unshift(t),e[t]=f,e[t]=n(t,i),e[t]}catch(n){throw e[t]===f&&delete e[t],n}finally{_.shift()}}function r(e,n,r){for(var o=[],a=rt.$$annotate(e,t,r),s=0,l=a.length;s<l;s++){var c=a[s];if("string"!=typeof c)throw Gr("itkn","Incorrect injection token! Expected service name as string, got {0}",c);o.push(n&&n.hasOwnProperty(c)?n[c]:i(c,r))}return o}function o(e){return!(Hi<=11)&&("function"==typeof e&&/^(?:class\b|constructor\()/.test(et(e)))}function a(e,t,n,i){"string"==typeof n&&(i=n,n=null);var a=r(e,n,i);return ir(e)&&(e=e[e.length-1]),o(e)?(a.unshift(null),new(Function.prototype.bind.apply(e,a))):e.apply(t,a)}function s(e,t,n){var i=ir(e)?e[e.length-1]:e,o=r(e,t,n);return o.unshift(null),new(Function.prototype.bind.apply(i,o))}return{invoke:a,instantiate:s,get:i,annotate:rt.$$annotate,has:function(t){return T.hasOwnProperty(t+m)||e.hasOwnProperty(t)}}}t=t===!0;var f={},m="Provider",_=[],E=new Qe([],!0),T={$provide:{provider:n(r),factory:n(s),service:n(l),value:n(c),constant:n(u),decorator:d}},S=T.$injector=h(T,function(e,t){throw er.isString(t)&&_.push(t),Gr("unpr","Unknown provider: {0}",_.join(" <- "))}),A={},C=h(A,function(e,t){var n=S.get(e+m,t);return w.invoke(n.$get,n,void 0,e)}),w=C;T["$injector"+m]={$get:g(C)};var x=p(e);return w=C.get("$injector"),w.strictDi=t,i(x,function(e){e&&w.invoke(e)}),w}function ot(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,i){function r(e){var t=null;return Array.prototype.some.call(e,function(e){if("a"===U(e))return t=e,!0}),t}function o(){var e=s.yOffset;if(L(e))e=e();else if(M(e)){var n=e[0],i=t.getComputedStyle(n);e="fixed"!==i.position?0:n.getBoundingClientRect().bottom}else T(e)||(e=0);return e}function a(e){if(e){e.scrollIntoView();var n=o();if(n){var i=e.getBoundingClientRect().top;t.scrollBy(0,i-n)}}else t.scrollTo(0,0)}function s(e){e=b(e)?e:n.hash();var t;e?(t=l.getElementById(e))?a(t):(t=r(l.getElementsByName(e)))?a(t):"top"===e&&a(null):a(null)}var l=t.document;return e&&i.$watch(function(){return n.hash()},function(e,t){e===t&&""===e||Ge(function(){i.$evalAsync(s)})}),s}]}function at(e,t){return e||t?e?t?(ir(e)&&(e=e.join(" ")),ir(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function st(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType===qr)return n}}function lt(e){b(e)&&(e=e.split(" "));var t=ge();return i(e,function(e){e.length&&(t[e]=!0)}),t}function ct(e){return y(e)?e:{}}function ut(e,t,n,r){function o(e){try{e.apply(null,Y(arguments,1))}finally{if(_--,0===_)for(;y.length;)try{y.pop()()}catch(e){n.error(e)}}}function a(e){var t=e.indexOf("#");return t===-1?"":e.substr(t)}function s(){L=null,l(),c()}function l(){E=A(),E=v(E)?null:E,B(E,x)&&(E=x),x=E}function c(){T===u.url()&&b===E||(T=u.url(),b=E,i(C,function(e){e(u.url(),E)}))}var u=this,d=e.location,p=e.history,f=e.setTimeout,g=e.clearTimeout,m={};u.isMock=!1;var _=0,y=[];u.$$completeOutstandingRequest=o,u.$$incOutstandingRequestCount=function(){_++},u.notifyWhenNoOutstandingRequests=function(e){0===_?e():y.push(e)};var E,b,T=d.href,S=t.find("base"),L=null,A=r.history?function(){try{return p.state}catch(e){}}:h;l(),b=E,u.url=function(t,n,i){if(v(i)&&(i=null),d!==e.location&&(d=e.location),p!==e.history&&(p=e.history),t){var o=b===i;if(T===t&&(!r.history||o))return u;var s=T&&Ht(T)===Ht(t);return T=t,b=i,!r.history||s&&o?(s||(L=t),n?d.replace(t):s?d.hash=a(t):d.href=t,d.href!==t&&(L=t)):(p[n?"replaceState":"pushState"](i,"",t),l(),b=E),L&&(L=t),u}return L||d.href.replace(/%27/g,"'")},u.state=function(){return E};var C=[],w=!1,x=null;u.onUrlChange=function(t){return w||(r.history&&Gi(e).on("popstate",s),Gi(e).on("hashchange",s),w=!0),C.push(t),t},u.$$applicationDestroyed=function(){Gi(e).off("hashchange popstate",s)},u.$$checkUrlChange=c,u.baseHref=function(){var e=S.attr("href");return e?e.replace(/^(https?:)?\/\/[^\/]*/,""):""},u.defer=function(e,t){var n;return _++,n=f(function(){delete m[n],o(e)},t||0),m[n]=!0,n},u.defer.cancel=function(e){return!!m[e]&&(delete m[e],g(e),o(h),!0)}}function dt(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,i){return new ut(e,i,t,n)}]}function pt(){this.$get=function(){function e(e,i){function r(e){e!==p&&(h?h===e&&(h=e.n):h=e,o(e.n,e.p),o(e,p),p=e,p.n=null)}function o(e,t){e!==t&&(e&&(e.p=t),t&&(t.n=e))}if(e in n)throw t("$cacheFactory")("iid","CacheId '{0}' is already taken!",e);var a=0,s=c({},i,{id:e}),l=ge(),u=i&&i.capacity||Number.MAX_VALUE,d=ge(),p=null,h=null;return n[e]={put:function(e,t){if(!v(t)){if(u<Number.MAX_VALUE){var n=d[e]||(d[e]={key:e});r(n)}return e in l||a++,l[e]=t,a>u&&this.remove(h.key),t}},get:function(e){if(u<Number.MAX_VALUE){var t=d[e];if(!t)return;r(t)}return l[e]},remove:function(e){if(u<Number.MAX_VALUE){var t=d[e];if(!t)return;t===p&&(p=t.p),t===h&&(h=t.n),o(t.n,t.p),delete d[e]}e in l&&(delete l[e],a--)},removeAll:function(){l=ge(),a=0,d=ge(),p=h=null},destroy:function(){l=null,s=null,d=null,delete n[e]},info:function(){return c({},s,{size:a})}}}var n={};return e.info=function(){var e={};return i(n,function(t,n){e[n]=t.info()}),e},e.get=function(e){return n[e]},e}}function ht(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function ft(){}function gt(t,n){function r(e,t,n){var r=/^\s*([@&<]|=(\*?))(\??)\s*(\w*)\s*$/,o=ge();return i(e,function(e,i){if(e in C)return void(o[i]=C[e]);var a=e.match(r);if(!a)throw to("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",t,i,e,n?"controller bindings definition":"isolate scope definition");o[i]={mode:a[1][0],collection:"*"===a[2],optional:"?"===a[3],attrName:a[4]||i},a[4]&&(C[e]=o[i])}),o}function a(e,t){var n={isolateScope:null,bindToController:null};if(y(e.scope)&&(e.bindToController===!0?(n.bindToController=r(e.scope,t,!0),n.isolateScope={}):n.isolateScope=r(e.scope,t,!1)),y(e.bindToController)&&(n.bindToController=r(e.bindToController,t,!0)),y(n.bindToController)){var i=e.controller,o=e.controllerAs;if(!i)throw to("noctrl","Cannot bind to controller without directive '{0}'s controller.",t);if(!Et(i,o))throw to("noident","Cannot bind to controller without identifier for directive '{0}'.",t)}return n}function s(e){var t=e.charAt(0);if(!t||t!==Bi(t))throw to("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",e);if(e!==e.trim())throw to("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",e)}function l(e){var t=e.require||e.controller&&e.name;return!ir(t)&&y(t)&&i(t,function(e,n){var i=e.match(S),r=e.substring(i[0].length);r||(t[n]=i[0]+n)}),t}var u={},d="Directive",m=/^\s*directive:\s*([\w\-]+)\s+(.*)$/,E=/(([\w\-]+)(?::([^;]+))?;?)/,T=k("ngSrc,ngSrcset,src,srcset"),S=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,A=/^(on[a-z]+|formaction)$/,C=ge();this.directive=function e(n,r){return pe(n,"directive"),b(n)?(s(n),ue(r,"directiveFactory"),u.hasOwnProperty(n)||(u[n]=[],t.factory(n+d,["$injector","$exceptionHandler",function(e,t){var r=[];return i(u[n],function(i,o){try{var a=e.invoke(i);L(a)?a={compile:g(a)}:!a.compile&&a.link&&(a.compile=g(a.link)),a.priority=a.priority||0,a.index=o,a.name=a.name||n,a.require=l(a),a.restrict=a.restrict||"EA",a.$$moduleName=i.$$moduleName,r.push(a)}catch(e){t(e)}}),r}])),u[n].push(r)):i(n,o(e)),this},this.component=function(e,t){function n(e){function n(t){return L(t)||ir(t)?function(n,i){return e.invoke(t,this,{$element:n,$attrs:i})}:t}var o=t.template||t.templateUrl?t.template:"",a={controller:r,controllerAs:Et(t.controller)||t.controllerAs||"$ctrl",template:n(o),templateUrl:n(t.templateUrl),transclude:t.transclude,scope:{},bindToController:t.bindings||{},restrict:"E",require:t.require};return i(t,function(e,t){"$"===t.charAt(0)&&(a[t]=e)}),a}var r=t.controller||function(){};return i(t,function(e,t){"$"===t.charAt(0)&&(n[t]=e,L(r)&&(r[t]=e))}),n.$inject=["$injector"],this.directive(e,n)},this.aHrefSanitizationWhitelist=function(e){return _(e)?(n.aHrefSanitizationWhitelist(e),this):n.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return _(e)?(n.imgSrcSanitizationWhitelist(e),this):n.imgSrcSanitizationWhitelist()};var x=!0;this.debugInfoEnabled=function(e){return _(e)?(x=e,this):x};var O=10;this.onChangesTtl=function(e){return arguments.length?(O=e,this):O};var D=!0;this.commentDirectivesEnabled=function(e){return arguments.length?(D=e,this):D};var I=!0;this.cssClassDirectivesEnabled=function(e){return arguments.length?(I=e,this):I},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(t,n,r,o,s,l,g,C,P,N){function M(){try{if(!--we)throw be=void 0,to("infchng","{0} $onChanges() iterations reached. Aborting!\n",O);g.$apply(function(){for(var e=[],t=0,n=be.length;t<n;++t)try{be[t]()}catch(t){e.push(t)}if(be=void 0,e.length)throw e})}finally{we++}}function k(e,t){if(t){var n,i,r,o=Object.keys(t);for(n=0,i=o.length;n<i;n++)r=o[n],this[r]=t[r]}else this.$attr={};this.$$element=e}function $(e,t,n){Le.innerHTML="<span "+t+">";var i=Le.firstChild.attributes,r=i[0];i.removeNamedItem(r.name),r.value=n,e.attributes.setNamedItem(r)}function j(e,t){try{e.addClass(t)}catch(e){}}function H(t,n,i,r,o){t instanceof Gi||(t=Gi(t));for(var a=/\S+/,s=0,l=t.length;s<l;s++){var c=t[s];c.nodeType===mr&&c.nodeValue.match(a)&&Oe(c,t[s]=e.document.createElement("span"))}var u=W(t,n,t,i,r,o);H.$$addScopeClass(t);var d=null;return function(e,n,i){ue(e,"scope"),o&&o.needsNewScope&&(e=e.$parent.$new()),i=i||{};var r=i.parentBoundTranscludeFn,a=i.transcludeControllers,s=i.futureParentElement;r&&r.$$boundTransclude&&(r=r.$$boundTransclude),d||(d=G(s));var l;if(l="html"!==d?Gi(he(d,Gi("<div>").append(t).html())):n?Mr.clone.call(t):t,a)for(var c in a)l.data("$"+c+"Controller",a[c].instance);return H.$$addScopeInfo(l,e),n&&n(l,e),u&&u(e,l,l,r),l}}function G(e){var t=e&&e[0];return t&&"foreignobject"!==U(t)&&Ji.call(t).match(/SVG/)?"svg":"html"}function W(e,t,n,i,r,o){function a(e,n,i,r){var o,a,s,l,c,u,d,p,g;if(h){var m=n.length;for(g=new Array(m),c=0;c<f.length;c+=3)d=f[c],g[d]=n[d]}else g=n;for(c=0,u=f.length;c<u;)s=g[f[c++]],o=f[c++],a=f[c++],o?(o.scope?(l=e.$new(),H.$$addScopeInfo(Gi(s),l)):l=e,p=o.transcludeOnThisElement?q(e,o.transclude,r):!o.templateOnThisElement&&r?r:!r&&t?q(e,t):null,o(a,l,s,i,p)):a&&a(e,s.childNodes,void 0,r)}for(var s,l,c,u,d,p,h,f=[],g=0;g<e.length;g++)s=new k,l=X(e[g],[],s,0===g?i:void 0,r),c=l.length?ee(l,e[g],s,t,n,null,[],[],o):null,c&&c.scope&&H.$$addScopeClass(s.$$element),d=c&&c.terminal||!(u=e[g].childNodes)||!u.length?null:W(u,c?(c.transcludeOnThisElement||!c.templateOnThisElement)&&c.transclude:t),(c||d)&&(f.push(g,c,d),p=!0,h=h||c),o=null;return p?a:null}function q(e,t,n){function i(i,r,o,a,s){return i||(i=e.$new(!1,s),i.$$transcluded=!0),t(i,r,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:a})}var r=i.$$slots=ge();for(var o in t.$$slots)t.$$slots[o]?r[o]=q(e,t.$$slots[o],n):r[o]=null;return i}function X(e,t,n,i,r){var o,a,s,l=e.nodeType,c=n.$attr;switch(l){case fr:a=U(e),re(t,vt(a),"E",i,r);for(var u,d,p,h,f,g,m=e.attributes,v=0,_=m&&m.length;v<_;v++){var T=!1,S=!1;u=m[v],d=u.name,f=or(u.value),h=vt(d),g=Pe.test(h),g&&(d=d.replace(io,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()}));var L=h.match(Ne);L&&oe(L[1])&&(T=d,S=d.substr(0,d.length-5)+"end",d=d.substr(0,d.length-6)),p=vt(d.toLowerCase()),c[p]=d,!g&&n.hasOwnProperty(p)||(n[p]=f,We(e,p)&&(n[p]=!0)),me(e,t,f,p,g),re(t,p,"A",i,r,T,S)}if("input"===a&&"hidden"===e.getAttribute("type")&&e.setAttribute("autocomplete","off"),!Ce)break;if(s=e.className,y(s)&&(s=s.animVal),b(s)&&""!==s)for(;o=E.exec(s);)p=vt(o[2]),re(t,p,"C",i,r)&&(n[p]=or(o[3])),s=s.substr(o.index+o[0].length);break;case mr:if(11===Hi)for(;e.parentNode&&e.nextSibling&&e.nextSibling.nodeType===mr;)e.nodeValue=e.nodeValue+e.nextSibling.nodeValue,e.parentNode.removeChild(e.nextSibling);pe(t,e.nodeValue);break;case vr:if(!Ae)break;z(e,t,n,i,r)}return t.sort(ce),t}function z(e,t,n,i,r){try{var o=m.exec(e.nodeValue);if(o){var a=vt(o[1]);re(t,a,"M",i,r)&&(n[a]=or(o[2]))}}catch(e){}}function J(e,t,n){var i=[],r=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw to("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);e.nodeType===fr&&(e.hasAttribute(t)&&r++,e.hasAttribute(n)&&r--),i.push(e),e=e.nextSibling}while(r>0)}else i.push(e);return Gi(i)}function Z(e,t,n){return function(i,r,o,a,s){return r=J(r[0],t,n),e(i,r,o,a,s)}}function Q(e,t,n,i,r,o){var a;return e?H(t,n,i,r,o):function(){return a||(a=H(t,n,i,r,o),t=n=o=null),a.apply(this,arguments)}}function ee(e,t,n,o,a,s,l,u,d){function p(e,t,n,i){e&&(n&&(e=Z(e,n,i)),e.require=f.require,e.directiveName=g,(A===f||f.$$isolateScope)&&(e=_e(e,{isolateScope:!0})),l.push(e)),t&&(n&&(t=Z(t,n,i)),t.require=f.require,t.directiveName=g,(A===f||f.$$isolateScope)&&(t=_e(t,{isolateScope:!0})),u.push(t))}function h(e,o,a,s,d){function p(e,t,n,i){var r;if(w(e)||(i=n,n=t,t=e,e=void 0),R&&(r=E),n||(n=R?x.parent():x),!i)return d(e,t,r,n,F);var o=d.$$slots[i];if(o)return o(e,t,r,n,F);if(v(o))throw to("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',i,K(x))}var h,f,g,m,_,E,b,x,O,D;t===a?(O=n,x=n.$$element):(x=Gi(a),O=new k(x,n)),_=o,A?m=o.$new(!0):T&&(_=o.$parent),d&&(b=p,b.$$boundTransclude=d,b.isSlotFilled=function(e){return!!d.$$slots[e]}),S&&(E=ne(x,O,b,S,m,o,A)),A&&(H.$$addScopeInfo(x,m,!0,!(C&&(C===A||C===A.$$originalDirective))),H.$$addScopeClass(x,!0),m.$$isolateBindings=A.$$isolateBindings,D=Ee(o,O,m,m.$$isolateBindings,A),D.removeWatches&&m.$on("$destroy",D.removeWatches));for(var I in E){var P=S[I],N=E[I],M=P.$$bindings.bindToController;N.identifier&&M?N.bindingInfo=Ee(_,O,N.instance,M,P):N.bindingInfo={};var U=N();U!==N.instance&&(N.instance=U,x.data("$"+P.name+"Controller",U),N.bindingInfo.removeWatches&&N.bindingInfo.removeWatches(),N.bindingInfo=Ee(_,O,N.instance,M,P))}for(i(S,function(e,t){var n=e.require;e.bindToController&&!ir(n)&&y(n)&&c(E[t].instance,te(t,n,x,E))}),i(E,function(e){var t=e.instance;if(L(t.$onChanges))try{t.$onChanges(e.bindingInfo.initialChanges)}catch(e){r(e)}if(L(t.$onInit))try{t.$onInit()}catch(e){r(e)}L(t.$doCheck)&&(_.$watch(function(){t.$doCheck()}),t.$doCheck()),L(t.$onDestroy)&&_.$on("$destroy",function(){t.$onDestroy()})}),h=0,f=l.length;h<f;h++)g=l[h],ye(g,g.isolateScope?m:o,x,O,g.require&&te(g.directiveName,g.require,x,E),b);var F=o;for(A&&(A.template||null===A.templateUrl)&&(F=m),e&&e(F,a.childNodes,void 0,d),h=u.length-1;h>=0;h--)g=u[h],ye(g,g.isolateScope?m:o,x,O,g.require&&te(g.directiveName,g.require,x,E),b);i(E,function(e){var t=e.instance;L(t.$postLink)&&t.$postLink()})}d=d||{};for(var f,g,m,_,E,b=-Number.MAX_VALUE,T=d.newScopeDirective,S=d.controllerDirectives,A=d.newIsolateScopeDirective,C=d.templateDirective,x=d.nonTlbTranscludeDirective,O=!1,D=!1,R=d.hasElementTranscludeDirective,I=n.$$element=Gi(t),P=s,N=o,M=!1,F=!1,$=0,B=e.length;$<B;$++){f=e[$];var j=f.$$start,G=f.$$end;if(j&&(I=J(t,j,G)),m=void 0,b>f.priority)break;if(E=f.scope,E&&(f.templateUrl||(y(E)?(de("new/isolated scope",A||T,f,I),A=f):de("new/isolated scope",A,f,I)),T=T||f),g=f.name,!M&&(f.replace&&(f.templateUrl||f.template)||f.transclude&&!f.$$tlb)){for(var W,q=$+1;W=e[q++];)if(W.transclude&&!W.$$tlb||W.replace&&(W.templateUrl||W.template)){F=!0;break}M=!0}if(!f.templateUrl&&f.controller&&(E=f.controller,S=S||ge(),de("'"+g+"' controller",S[g],f,I),S[g]=f),E=f.transclude)if(O=!0,f.$$tlb||(de("transclusion",x,f,I),x=f),"element"===E)R=!0,b=f.priority,m=I,I=n.$$element=Gi(H.$$createComment(g,n[g])),t=I[0],ve(a,Y(m),t),m[0].$$parentNode=m[0].parentNode,N=Q(F,m,o,b,P&&P.name,{nonTlbTranscludeDirective:x});else{var z=ge();if(m=Gi(Re(t)).contents(),y(E)){m=[];var ee=ge(),re=ge();i(E,function(e,t){var n="?"===e.charAt(0);e=n?e.substring(1):e,ee[e]=t,z[t]=null,re[t]=n}),i(I.contents(),function(e){var t=ee[vt(U(e))];t?(re[t]=!0,z[t]=z[t]||[],z[t].push(e)):m.push(e)}),i(re,function(e,t){if(!e)throw to("reqslot","Required transclusion slot `{0}` was not filled.",t)});for(var oe in z)z[oe]&&(z[oe]=Q(F,z[oe],o))}I.empty(),N=Q(F,m,o,void 0,void 0,{needsNewScope:f.$$isolateScope||f.$$newScope}),N.$$slots=z}if(f.template)if(D=!0,de("template",C,f,I),C=f,E=L(f.template)?f.template(I,n):f.template,E=Ie(E),f.replace){if(P=f,m=Se(E)?[]:yt(he(f.templateNamespace,or(E))),t=m[0],1!==m.length||t.nodeType!==fr)throw to("tplrt","Template for directive '{0}' must have exactly one root element. {1}",g,"");ve(a,I,t);var le={$attr:{}},ce=X(t,[],le),ue=e.splice($+1,e.length-($+1));(A||T)&&ie(ce,A,T),e=e.concat(ce).concat(ue),ae(n,le),B=e.length}else I.html(E);if(f.templateUrl)D=!0,de("template",C,f,I),C=f,f.replace&&(P=f),h=se(e.splice($,e.length-$),I,n,a,O&&N,l,u,{controllerDirectives:S,newScopeDirective:T!==f&&T,newIsolateScopeDirective:A,templateDirective:C,nonTlbTranscludeDirective:x}),B=e.length;else if(f.compile)try{_=f.compile(I,n,N);var pe=f.$$originalDirective||f;L(_)?p(null,V(pe,_),j,G):_&&p(V(pe,_.pre),V(pe,_.post),j,G)}catch(e){r(e,K(I))}f.terminal&&(h.terminal=!0,b=Math.max(b,f.priority))}return h.scope=T&&T.scope===!0,h.transcludeOnThisElement=O,h.templateOnThisElement=D,h.transclude=N,d.hasElementTranscludeDirective=R,h}function te(e,t,n,r){var o;if(b(t)){var a=t.match(S),s=t.substring(a[0].length),l=a[1]||a[3],c="?"===a[2];if("^^"===l?n=n.parent():(o=r&&r[s],o=o&&o.instance),!o){var u="$"+s+"Controller";o=l?n.inheritedData(u):n.data(u)}if(!o&&!c)throw to("ctreq","Controller '{0}', required by directive '{1}', can't be found!",s,e)}else if(ir(t)){o=[];for(var d=0,p=t.length;d<p;d++)o[d]=te(e,t[d],n,r)}else y(t)&&(o={},i(t,function(t,i){o[i]=te(e,t,n,r)}));return o||null}function ne(e,t,n,i,r,o,a){var s=ge();for(var c in i){var u=i[c],d={$scope:u===a||u.$$isolateScope?r:o,$element:e,$attrs:t,$transclude:n},p=u.controller;"@"===p&&(p=t[u.name]);var h=l(p,d,!0,u.controllerAs);s[u.name]=h,e.data("$"+u.name+"Controller",h.instance)}return s}function ie(e,t,n){for(var i=0,r=e.length;i<r;i++)e[i]=p(e[i],{$$isolateScope:t,$$newScope:n})}function re(e,n,i,o,s,l,c){if(n===s)return null;var h=null;if(u.hasOwnProperty(n))for(var f,g=t.get(n+d),m=0,_=g.length;m<_;m++)try{if(f=g[m],(v(o)||o>f.priority)&&f.restrict.indexOf(i)!==-1){if(l&&(f=p(f,{$$start:l,$$end:c})),!f.$$bindings){var E=f.$$bindings=a(f,f.name);y(E.isolateScope)&&(f.$$isolateBindings=E.isolateScope);
}e.push(f),h=f}}catch(e){r(e)}return h}function oe(e){if(u.hasOwnProperty(e))for(var n,i=t.get(e+d),r=0,o=i.length;r<o;r++)if(n=i[r],n.multiElement)return!0;return!1}function ae(e,t){var n=t.$attr,r=e.$attr;i(e,function(i,r){"$"!==r.charAt(0)&&(t[r]&&t[r]!==i&&(i+=("style"===r?";":" ")+t[r]),e.$set(r,i,!0,n[r]))}),i(t,function(t,i){e.hasOwnProperty(i)||"$"===i.charAt(0)||(e[i]=t,"class"!==i&&"style"!==i&&(r[i]=n[i]))})}function se(e,t,n,r,a,s,l,c){var u,d,h=[],f=t[0],g=e.shift(),m=p(g,{templateUrl:null,transclude:null,replace:null,$$originalDirective:g}),v=L(g.templateUrl)?g.templateUrl(t,n):g.templateUrl,_=g.templateNamespace;return t.empty(),o(v).then(function(o){var p,E,b,T;if(o=Ie(o),g.replace){if(b=Se(o)?[]:yt(he(_,or(o))),p=b[0],1!==b.length||p.nodeType!==fr)throw to("tplrt","Template for directive '{0}' must have exactly one root element. {1}",g.name,v);E={$attr:{}},ve(r,t,p);var S=X(p,[],E);y(g.scope)&&ie(S,!0),e=S.concat(e),ae(n,E)}else p=f,t.html(o);for(e.unshift(m),u=ee(e,p,n,a,t,g,s,l,c),i(r,function(e,n){e===p&&(r[n]=t[0])}),d=W(t[0].childNodes,a);h.length;){var L=h.shift(),A=h.shift(),C=h.shift(),w=h.shift(),x=t[0];if(!L.$$destroyed){if(A!==f){var O=A.className;c.hasElementTranscludeDirective&&g.replace||(x=Re(p)),ve(C,Gi(A),x),j(Gi(x),O)}T=u.transcludeOnThisElement?q(L,u.transclude,w):w,u(d,L,x,r,T)}}h=null}),function(e,t,n,i,r){var o=r;t.$$destroyed||(h?h.push(t,n,i,o):(u.transcludeOnThisElement&&(o=q(t,u.transclude,r)),u(d,t,n,i,o)))}}function ce(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function de(e,t,n,i){function r(e){return e?" (module: "+e+")":""}if(t)throw to("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",t.name,r(t.$$moduleName),n.name,r(n.$$moduleName),e,K(i))}function pe(e,t){var i=n(t,!0);i&&e.push({priority:0,compile:function(e){var t=e.parent(),n=!!t.length;return n&&H.$$addBindingClass(t),function(e,t){var r=t.parent();n||H.$$addBindingClass(r),H.$$addBindingInfo(r,i.expressions),e.$watch(i,function(e){t[0].nodeValue=e})}}})}function he(t,n){switch(t=Bi(t||"html")){case"svg":case"math":var i=e.document.createElement("div");return i.innerHTML="<"+t+">"+n+"</"+t+">",i.childNodes[0].childNodes;default:return n}}function fe(e,t){if("srcdoc"===t)return C.HTML;var n=U(e);if("src"===t||"ngSrc"===t){if(["img","video","audio","source","track"].indexOf(n)===-1)return C.RESOURCE_URL}else if("xlinkHref"===t||"form"===n&&"action"===t)return C.RESOURCE_URL}function me(e,t,i,r,o){var a=fe(e,r);o=T[r]||o;var s=n(i,!0,a,o);if(s){if("multiple"===r&&"select"===U(e))throw to("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",K(e));t.push({priority:100,compile:function(){return{pre:function(e,t,l){var c=l.$$observers||(l.$$observers=ge());if(A.test(r))throw to("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var u=l[r];u!==i&&(s=u&&n(u,!0,a,o),i=u),s&&(l[r]=s(e),(c[r]||(c[r]=[])).$$inter=!0,(l.$$observers&&l.$$observers[r].$$scope||e).$watch(s,function(e,t){"class"===r&&e!==t?l.$updateClass(e,t):l.$set(r,e)}))}}}})}}function ve(t,n,i){var r,o,a=n[0],s=n.length,l=a.parentNode;if(t)for(r=0,o=t.length;r<o;r++)if(t[r]===a){t[r++]=i;for(var c=r,u=c+s-1,d=t.length;c<d;c++,u++)u<d?t[c]=t[u]:delete t[c];t.length-=s-1,t.context===a&&(t.context=i);break}l&&l.replaceChild(i,a);var p=e.document.createDocumentFragment();for(r=0;r<s;r++)p.appendChild(n[r]);for(Gi.hasData(a)&&(Gi.data(i,Gi.data(a)),Gi(a).off("$destroy")),Gi.cleanData(p.querySelectorAll("*")),r=1;r<s;r++)delete n[r];n[0]=i,n.length=1}function _e(e,t){return c(function(){return e.apply(null,arguments)},e,t)}function ye(e,t,n,i,o,a){try{e(t,n,i,o,a)}catch(e){r(e,K(n))}}function Ee(e,t,r,o,a){function l(t,n,i){L(r.$onChanges)&&n!==i&&(be||(e.$$postDigest(M),be=[]),u||(u={},be.push(c)),u[t]&&(i=u[t].previousValue),u[t]=new mt(i,n))}function c(){r.$onChanges(u),u=void 0}var u,d=[],p={};return i(o,function(i,o){var c,u,f,g,m,v=i.attrName,_=i.optional,y=i.mode;switch(y){case"@":_||$i.call(t,v)||(r[o]=t[v]=void 0),t.$observe(v,function(e){if(b(e)||R(e)){var t=r[o];l(o,e,t),r[o]=e}}),t.$$observers[v].$$scope=e,c=t[v],b(c)?r[o]=n(c)(e):R(c)&&(r[o]=c),p[o]=new mt(no,r[o]);break;case"=":if(!$i.call(t,v)){if(_)break;t[v]=void 0}if(_&&!t[v])break;u=s(t[v]),g=u.literal?B:function(e,t){return e===t||e!==e&&t!==t},f=u.assign||function(){throw c=r[o]=u(e),to("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",t[v],v,a.name)},c=r[o]=u(e);var E=function(t){return g(t,r[o])||(g(t,c)?f(e,t=r[o]):r[o]=t),c=t};E.$stateful=!0,m=i.collection?e.$watchCollection(t[v],E):e.$watch(s(t[v],E),null,u.literal),d.push(m);break;case"<":if(!$i.call(t,v)){if(_)break;t[v]=void 0}if(_&&!t[v])break;u=s(t[v]);var T=r[o]=u(e);p[o]=new mt(no,r[o]),m=e.$watch(u,function(e,t){if(t===e){if(t===T)return;t=T}l(o,e,t),r[o]=e},u.literal),d.push(m);break;case"&":if(u=t.hasOwnProperty(v)?s(t[v]):h,u===h&&_)break;r[o]=function(t){return u(e,t)}}}),{initialChanges:p,removeWatches:d.length&&function(){for(var e=0,t=d.length;e<t;++e)d[e]()}}}var be,Te=/^\w/,Le=e.document.createElement("div"),Ae=D,Ce=I,we=O;k.prototype={$normalize:vt,$addClass:function(e){e&&e.length>0&&P.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&P.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=_t(e,t);n&&n.length&&P.addClass(this.$$element,n);var i=_t(t,e);i&&i.length&&P.removeClass(this.$$element,i)},$set:function(e,t,n,o){var a,s=this.$$element[0],l=We(s,e),c=qe(e),u=e;if(l?(this.$$element.prop(e,t),o=l):c&&(this[c]=t,u=c),this[e]=t,o?this.$attr[e]=o:(o=this.$attr[e],o||(this.$attr[e]=o=le(e,"-"))),a=U(this.$$element),"a"===a&&("href"===e||"xlinkHref"===e)||"img"===a&&"src"===e)this[e]=t=N(t,"src"===e);else if("img"===a&&"srcset"===e&&_(t)){for(var d="",p=or(t),h=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,f=/\s/.test(p)?h:/(,)/,g=p.split(f),m=Math.floor(g.length/2),y=0;y<m;y++){var E=2*y;d+=N(or(g[E]),!0),d+=" "+or(g[E+1])}var b=or(g[2*y]).split(/\s/);d+=N(or(b[0]),!0),2===b.length&&(d+=" "+or(b[1])),this[e]=t=d}n!==!1&&(null===t||v(t)?this.$$element.removeAttr(o):Te.test(o)?this.$$element.attr(o,t):$(this.$$element[0],o,t));var T=this.$$observers;T&&i(T[u],function(e){try{e(t)}catch(e){r(e)}})},$observe:function(e,t){var n=this,i=n.$$observers||(n.$$observers=ge()),r=i[e]||(i[e]=[]);return r.push(t),g.$evalAsync(function(){r.$$inter||!n.hasOwnProperty(e)||v(n[e])||t(n[e])}),function(){F(r,t)}}};var xe=n.startSymbol(),De=n.endSymbol(),Ie="{{"===xe&&"}}"===De?f:function(e){return e.replace(/\{\{/g,xe).replace(/}}/g,De)},Pe=/^ngAttr[A-Z]/,Ne=/^(.+)Start$/;return H.$$addBindingInfo=x?function(e,t){var n=e.data("$binding")||[];ir(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:h,H.$$addBindingClass=x?function(e){j(e,"ng-binding")}:h,H.$$addScopeInfo=x?function(e,t,n,i){var r=n?i?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(r,t)}:h,H.$$addScopeClass=x?function(e,t){j(e,t?"ng-isolate-scope":"ng-scope")}:h,H.$$createComment=function(t,n){var i="";return x&&(i=" "+(t||"")+": ",n&&(i+=n+" ")),e.document.createComment(i)},H}]}function mt(e,t){this.previousValue=e,this.currentValue=t}function vt(e){return Te(e.replace(io,""))}function _t(e,t){var n="",i=e.split(/\s+/),r=t.split(/\s+/);e:for(var o=0;o<i.length;o++){for(var a=i[o],s=0;s<r.length;s++)if(a===r[s])continue e;n+=(n.length>0?" ":"")+a}return n}function yt(e){e=Gi(e);var t=e.length;if(t<=1)return e;for(;t--;){var n=e[t];n.nodeType===vr&&zi.call(e,t,1)}return e}function Et(e,t){if(t&&b(t))return t;if(b(e)){var n=oo.exec(e);if(n)return n[3]}}function bt(){var e={},n=!1;this.has=function(t){return e.hasOwnProperty(t)},this.register=function(t,n){pe(t,"controller"),y(t)?c(e,t):e[t]=n},this.allowGlobals=function(){n=!0},this.$get=["$injector","$window",function(i,r){function o(e,n,i,r){if(!e||!y(e.$scope))throw t("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",r,n);e.$scope[n]=i}return function(t,a,s,l){var u,d,p,h;if(s=s===!0,l&&b(l)&&(h=l),b(t)){if(d=t.match(oo),!d)throw ro("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",t);p=d[1],h=h||d[3],t=e.hasOwnProperty(p)?e[p]:he(a.$scope,p,!0)||(n?he(r,p,!0):void 0),de(t,p,!0)}if(s){var f=(ir(t)?t[t.length-1]:t).prototype;return u=Object.create(f||null),h&&o(a,h,u,p||t.name),c(function(){var e=i.invoke(t,u,a,p);return e!==u&&(y(e)||L(e))&&(u=e,h&&o(a,h,u,p||t.name)),u},{instance:u,identifier:h})}return u=i.instantiate(t,a,p),h&&o(a,h,u,p||t.name),u}}]}function Tt(){this.$get=["$window",function(e){return Gi(e.document)}]}function St(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}function Lt(e){return y(e)?S(e)?e.toISOString():G(e):e}function At(){this.$get=function(){return function(e){if(!e)return"";var t=[];return r(e,function(e,n){null===e||v(e)||(ir(e)?i(e,function(e){t.push(te(n)+"="+te(Lt(e)))}):t.push(te(n)+"="+te(Lt(e))))}),t.join("&")}}}function Ct(){this.$get=function(){return function(e){function t(e,o,a){null===e||v(e)||(ir(e)?i(e,function(e,n){t(e,o+"["+(y(e)?n:"")+"]")}):y(e)&&!S(e)?r(e,function(e,n){t(e,o+(a?"":"[")+n+(a?"":"]"))}):n.push(te(o)+"="+te(Lt(e))))}if(!e)return"";var n=[];return t(e,"",!0),n.join("&")}}}function wt(e,t){if(b(e)){var n=e.replace(po,"").trim();if(n){var i=t("Content-Type");(i&&0===i.indexOf(so)||xt(n))&&(e=W(n))}}return e}function xt(e){var t=e.match(co);return t&&uo[t[0]].test(e)}function Ot(e){function t(e,t){e&&(r[e]=r[e]?r[e]+", "+t:t)}var n,r=ge();return b(e)?i(e.split("\n"),function(e){n=e.indexOf(":"),t(Bi(or(e.substr(0,n))),or(e.substr(n+1)))}):y(e)&&i(e,function(e,n){t(Bi(n),or(e))}),r}function Dt(e){var t;return function(n){if(t||(t=Ot(e)),n){var i=t[Bi(n)];return void 0===i&&(i=null),i}return t}}function Rt(e,t,n,r){return L(r)?r(e,t,n):(i(r,function(i){e=i(e,t,n)}),e)}function It(e){return 200<=e&&e<300}function Pt(){var e=this.defaults={transformResponse:[wt],transformRequest:[function(e){return!y(e)||x(e)||D(e)||O(e)?e:G(e)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:ve(lo),put:ve(lo),patch:ve(lo)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},n=!1;this.useApplyAsync=function(e){return _(e)?(n=!!e,this):n};var r=!0;this.useLegacyPromiseExtensions=function(e){return _(e)?(r=!!e,this):r};var o=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(a,s,l,u,d,p){function h(n){function o(e,t){for(var n=0,i=t.length;n<i;){var r=t[n++],o=t[n++];e=e.then(r,o)}return t.length=0,e}function a(e,t){var n,r={};return i(e,function(e,i){L(e)?(n=e(t),null!=n&&(r[i]=n)):r[i]=e}),r}function s(t){var n,i,r,o=e.headers,s=c({},t.headers);o=c({},o.common,o[Bi(t.method)]);e:for(n in o){i=Bi(n);for(r in s)if(Bi(r)===i)continue e;s[n]=o[n]}return a(s,ve(t))}function l(t){var n=t.headers,r=Rt(t.data,Dt(n),void 0,t.transformRequest);return v(r)&&i(n,function(e,t){"content-type"===Bi(t)&&delete n[t]}),v(t.withCredentials)&&!v(e.withCredentials)&&(t.withCredentials=e.withCredentials),m(t,r).then(u,u)}function u(e){var t=c({},e);return t.data=Rt(e.data,e.headers,e.status,h.transformResponse),It(e.status)?t:d.reject(t)}if(!y(n))throw t("$http")("badreq","Http request configuration must be an object.  Received: {0}",n);if(!b(n.url))throw t("$http")("badreq","Http request configuration url must be a string.  Received: {0}",n.url);var h=c({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer},n);h.headers=s(n),h.method=ji(h.method),h.paramSerializer=b(h.paramSerializer)?p.get(h.paramSerializer):h.paramSerializer;var f=[],g=[],_=d.when(h);return i(S,function(e){(e.request||e.requestError)&&f.unshift(e.request,e.requestError),(e.response||e.responseError)&&g.push(e.response,e.responseError)}),_=o(_,f),_=_.then(l),_=o(_,g),r?(_.success=function(e){return de(e,"fn"),_.then(function(t){e(t.data,t.status,t.headers,h)}),_},_.error=function(e){return de(e,"fn"),_.then(null,function(t){e(t.data,t.status,t.headers,h)}),_}):(_.success=fo("success"),_.error=fo("error")),_}function f(e){i(arguments,function(e){h[e]=function(t,n){return h(c({},n||{},{method:e,url:t}))}})}function g(e){i(arguments,function(e){h[e]=function(t,n,i){return h(c({},i||{},{method:e,url:t,data:n}))}})}function m(t,r){function o(e){if(e){var t={};return i(e,function(e,i){t[i]=function(t){function i(){e(t)}n?u.$applyAsync(i):u.$$phase?i():u.$apply(i)}}),t}}function l(e,t,i,r){function o(){c(t,e,i,r)}g&&(It(e)?g.put(A,[e,t,Ot(i),r]):g.remove(A)),n?u.$applyAsync(o):(o(),u.$$phase||u.$apply())}function c(e,n,i,r){n=n>=-1?n:0,(It(n)?b.resolve:b.reject)({data:e,status:n,headers:Dt(i),config:t,statusText:r})}function p(e){c(e.data,e.status,ve(e.headers()),e.statusText)}function f(){var e=h.pendingRequests.indexOf(t);e!==-1&&h.pendingRequests.splice(e,1)}var g,m,b=d.defer(),S=b.promise,L=t.headers,A=E(t.url,t.paramSerializer(t.params));if(h.pendingRequests.push(t),S.then(f,f),!t.cache&&!e.cache||t.cache===!1||"GET"!==t.method&&"JSONP"!==t.method||(g=y(t.cache)?t.cache:y(e.cache)?e.cache:T),g&&(m=g.get(A),_(m)?I(m)?m.then(p,p):ir(m)?c(m[1],m[0],ve(m[2]),m[3]):c(m,200,{},"OK"):g.put(A,S)),v(m)){var C=kn(t.url)?s()[t.xsrfCookieName||e.xsrfCookieName]:void 0;C&&(L[t.xsrfHeaderName||e.xsrfHeaderName]=C),a(t.method,A,r,l,L,t.timeout,t.withCredentials,t.responseType,o(t.eventHandlers),o(t.uploadEventHandlers))}return S}function E(e,t){return t.length>0&&(e+=(e.indexOf("?")===-1?"?":"&")+t),e}var T=l("$http");e.paramSerializer=b(e.paramSerializer)?p.get(e.paramSerializer):e.paramSerializer;var S=[];return i(o,function(e){S.unshift(b(e)?p.get(e):p.invoke(e))}),h.pendingRequests=[],f("get","delete","head","jsonp"),g("post","put","patch"),h.defaults=e,h}]}function Nt(){this.$get=function(){return function(){return new e.XMLHttpRequest}}}function Mt(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(e,t,n,i){return kt(e,i,e.defer,t,n[0])}]}function kt(e,t,n,r,o){function a(e,t,n){e=e.replace("JSON_CALLBACK",t);var i=o.createElement("script"),a=null;return i.type="text/javascript",i.src=e,i.async=!0,a=function(e){Lr(i,"load",a),Lr(i,"error",a),o.body.removeChild(i),i=null;var s=-1,l="unknown";e&&("load"!==e.type||r.wasCalled(t)||(e={type:"error"}),l=e.type,s="error"===e.type?404:200),n&&n(s,l)},Sr(i,"load",a),Sr(i,"error",a),o.body.appendChild(i),a}return function(o,s,l,c,u,d,p,f,g,m){function y(){T&&T(),S&&S.abort()}function E(t,i,r,o,a){_(A)&&n.cancel(A),T=S=null,t(i,r,o,a),e.$$completeOutstandingRequest(h)}if(e.$$incOutstandingRequestCount(),s=s||e.url(),"jsonp"===Bi(o))var b=r.createCallback(s),T=a(s,b,function(e,t){var n=200===e&&r.getResponse(b);E(c,e,n,"",t),r.removeCallback(b)});else{var S=t(o,s);S.open(o,s,!0),i(u,function(e,t){_(e)&&S.setRequestHeader(t,e)}),S.onload=function(){var e=S.statusText||"",t="response"in S?S.response:S.responseText,n=1223===S.status?204:S.status;0===n&&(n=t?200:"file"===Mn(s).protocol?404:0),E(c,n,t,S.getAllResponseHeaders(),e)};var L=function(){E(c,-1,null,null,"")};if(S.onerror=L,S.onabort=L,S.ontimeout=L,i(g,function(e,t){S.addEventListener(t,e)}),i(m,function(e,t){S.upload.addEventListener(t,e)}),p&&(S.withCredentials=!0),f)try{S.responseType=f}catch(e){if("json"!==f)throw e}S.send(v(l)?null:l)}if(d>0)var A=n(y,d);else I(d)&&d.then(y)}}function Ut(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,i,r){function o(e){return"\\\\\\"+e}function a(n){return n.replace(h,e).replace(f,t)}function s(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=G(e)}return e}function l(e,t,n,i){var r=e.$watch(function(e){return r(),i(e)},t,n);return r}function u(o,u,h,f){function m(e){try{return e=I(e),f&&!_(e)?e:s(e)}catch(e){i(go.interr(o,e))}}if(!o.length||o.indexOf(e)===-1){var y;if(!u){var E=a(o);y=g(E),y.exp=o,y.expressions=[],y.$$watchDelegate=l}return y}f=!!f;for(var b,T,S,A=0,C=[],w=[],x=o.length,O=[],D=[];A<x;){if((b=o.indexOf(e,A))===-1||(T=o.indexOf(t,b+d))===-1){A!==x&&O.push(a(o.substring(A)));break}A!==b&&O.push(a(o.substring(A,b))),S=o.substring(b+d,T),C.push(S),w.push(n(S,m)),A=T+p,D.push(O.length),O.push("")}if(h&&O.length>1&&go.throwNoconcat(o),!u||C.length){var R=function(e){for(var t=0,n=C.length;t<n;t++){if(f&&v(e[t]))return;O[D[t]]=e[t]}return O.join("")},I=function(e){return h?r.getTrusted(h,e):r.valueOf(e)};return c(function(e){var t=0,n=C.length,r=new Array(n);try{for(;t<n;t++)r[t]=w[t](e);return R(r)}catch(e){i(go.interr(o,e))}},{exp:o,expressions:C,$$watchDelegate:function(e,t){var n;return e.$watchGroup(w,function(i,r){var o=R(i);L(t)&&t.call(this,o,i!==r?n:o,e),n=o})}})}}var d=e.length,p=t.length,h=new RegExp(e.replace(/./g,o),"g"),f=new RegExp(t.replace(/./g,o),"g");return u.startSymbol=function(){return e},u.endSymbol=function(){return t},u}]}function Ft(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(e,t,n,i,r){function o(o,s,l,c){function u(){d?o.apply(null,p):o(g)}var d=arguments.length>4,p=d?Y(arguments,4):[],h=t.setInterval,f=t.clearInterval,g=0,m=_(c)&&!c,v=(m?i:n).defer(),y=v.promise;return l=_(l)?l:0,y.$$intervalId=h(function(){m?r.defer(u):e.$evalAsync(u),v.notify(g++),l>0&&g>=l&&(v.resolve(g),f(y.$$intervalId),delete a[y.$$intervalId]),m||e.$apply()},s),a[y.$$intervalId]=v,y}var a={};return o.cancel=function(e){return!!(e&&e.$$intervalId in a)&&(a[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete a[e.$$intervalId],!0)},o}]}function $t(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=ee(t[n]);return t.join("/")}function Bt(e,t){var n=Mn(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=d(n.port)||_o[n.protocol]||null}function jt(e,t){if(Eo.test(e))throw yo("badpath",'Invalid url "{0}".',e);var n="/"!==e.charAt(0);n&&(e="/"+e);var i=Mn(e);t.$$path=decodeURIComponent(n&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname),t.$$search=Z(i.search),t.$$hash=decodeURIComponent(i.hash),t.$$path&&"/"!==t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function Yt(e,t){return 0===e.lastIndexOf(t,0)}function Vt(e,t){if(Yt(t,e))return t.substr(e.length)}function Ht(e){var t=e.indexOf("#");return t===-1?e:e.substr(0,t)}function Gt(e){return e.replace(/(#.+)|#$/,"$1")}function Wt(e){return e.substr(0,Ht(e).lastIndexOf("/")+1)}function qt(e){return e.substring(0,e.indexOf("/",e.indexOf("//")+2))}function Xt(e,t,n){this.$$html5=!0,n=n||"",Bt(e,this),this.$$parse=function(e){var n=Vt(t,e);if(!b(n))throw yo("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,t);jt(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=Q(this.$$search),n=this.$$hash?"#"+ee(this.$$hash):"";this.$$url=$t(this.$$path)+(e?"?"+e:"")+n,this.$$absUrl=t+this.$$url.substr(1)},this.$$parseLinkUrl=function(i,r){if(r&&"#"===r[0])return this.hash(r.slice(1)),!0;var o,a,s;return _(o=Vt(e,i))?(a=o,s=n&&_(o=Vt(n,o))?t+(Vt("/",o)||o):e+a):_(o=Vt(t,i))?s=t+o:t===i+"/"&&(s=t),s&&this.$$parse(s),!!s}}function zt(e,t,n){Bt(e,this),this.$$parse=function(i){function r(e,t,n){var i,r=/^\/[A-Z]:(\/.*)/;return Yt(t,n)&&(t=t.replace(n,"")),r.exec(t)?e:(i=r.exec(e),i?i[1]:e)}var o,a=Vt(e,i)||Vt(t,i);v(a)||"#"!==a.charAt(0)?this.$$html5?o=a:(o="",v(a)&&(e=i,this.replace())):(o=Vt(n,a),v(o)&&(o=a)),jt(o,this),this.$$path=r(this.$$path,o,e),this.$$compose()},this.$$compose=function(){var t=Q(this.$$search),i=this.$$hash?"#"+ee(this.$$hash):"";this.$$url=$t(this.$$path)+(t?"?"+t:"")+i,this.$$absUrl=e+(this.$$url?n+this.$$url:"")},this.$$parseLinkUrl=function(t,n){return Ht(e)===Ht(t)&&(this.$$parse(t),!0)}}function Kt(e,t,n){this.$$html5=!0,zt.apply(this,arguments),this.$$parseLinkUrl=function(i,r){if(r&&"#"===r[0])return this.hash(r.slice(1)),!0;var o,a;return e===Ht(i)?o=i:(a=Vt(t,i))?o=e+n+a:t===i+"/"&&(o=t),o&&this.$$parse(o),!!o},this.$$compose=function(){var t=Q(this.$$search),i=this.$$hash?"#"+ee(this.$$hash):"";this.$$url=$t(this.$$path)+(t?"?"+t:"")+i,this.$$absUrl=e+n+this.$$url}}function Jt(e){return function(){return this[e]}}function Zt(e,t){return function(n){return v(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function Qt(){var e="",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return _(t)?(e=t,this):e},this.html5Mode=function(e){return R(e)?(t.enabled=e,this):y(e)?(R(e.enabled)&&(t.enabled=e.enabled),R(e.requireBase)&&(t.requireBase=e.requireBase),R(e.rewriteLinks)&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,i,r,o,a){function s(e,t,n){var r=c.url(),o=c.$$state;try{i.url(e,t,n),c.$$state=i.state()}catch(e){throw c.url(r),c.$$state=o,e}}function l(e,t){n.$broadcast("$locationChangeSuccess",c.absUrl(),e,c.$$state,t)}var c,u,d,p=i.baseHref(),h=i.url();if(t.enabled){if(!p&&t.requireBase)throw yo("nobase","$location in HTML5 mode requires a <base> tag to be present!");d=qt(h)+(p||"/"),u=r.history?Xt:Kt}else d=Ht(h),u=zt;var f=Wt(d);c=new u(d,f,"#"+e),c.$$parseLinkUrl(h,h),c.$$state=i.state();var g=/^\s*(javascript|mailto):/i;o.on("click",function(e){if(t.rewriteLinks&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!==e.which&&2!==e.button){for(var r=Gi(e.target);"a"!==U(r[0]);)if(r[0]===o[0]||!(r=r.parent())[0])return;var s=r.prop("href"),l=r.attr("href")||r.attr("xlink:href");y(s)&&"[object SVGAnimatedString]"===s.toString()&&(s=Mn(s.animVal).href),g.test(s)||!s||r.attr("target")||e.isDefaultPrevented()||c.$$parseLinkUrl(s,l)&&(e.preventDefault(),c.absUrl()!==i.url()&&(n.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}),Gt(c.absUrl())!==Gt(h)&&i.url(c.absUrl(),!0);var m=!0;return i.onUrlChange(function(e,t){return v(Vt(f,e))?void(a.location.href=e):(n.$evalAsync(function(){var i,r=c.absUrl(),o=c.$$state;e=Gt(e),c.$$parse(e),c.$$state=t,i=n.$broadcast("$locationChangeStart",e,r,t,o).defaultPrevented,c.absUrl()===e&&(i?(c.$$parse(r),c.$$state=o,s(r,!1,o)):(m=!1,l(r,o)))}),void(n.$$phase||n.$digest()))}),n.$watch(function(){var e=Gt(i.url()),t=Gt(c.absUrl()),o=i.state(),a=c.$$replace,u=e!==t||c.$$html5&&r.history&&o!==c.$$state;(m||u)&&(m=!1,n.$evalAsync(function(){var t=c.absUrl(),i=n.$broadcast("$locationChangeStart",t,e,c.$$state,o).defaultPrevented;c.absUrl()===t&&(i?(c.$$parse(e),c.$$state=o):(u&&s(t,a,o===c.$$state?null:c.$$state),l(e,o)))})),c.$$replace=!1}),c}]}function en(){var e=!0,t=this;this.debugEnabled=function(t){return _(t)?(e=t,this):e},this.$get=["$window",function(n){function r(e){return e instanceof Error&&(e.stack?e=e.message&&e.stack.indexOf(e.message)===-1?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function o(e){var t=n.console||{},o=t[e]||t.log||h,a=!1;try{a=!!o.apply}catch(e){}return a?function(){var e=[];return i(arguments,function(t){e.push(r(t))}),o.apply(t,e)}:function(e,t){o(e,null==t?"":t)}}return{log:o("log"),info:o("info"),warn:o("warn"),error:o("error"),debug:function(){var n=o("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function tn(e,t){if("__defineGetter__"===e||"__defineSetter__"===e||"__lookupGetter__"===e||"__lookupSetter__"===e||"__proto__"===e)throw To("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",t);return e}function nn(e){return e+""}function rn(e,t){if(e){if(e.constructor===e)throw To("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e.window===e)throw To("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",t);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw To("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",t);if(e===Object)throw To("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",t)}return e}function on(e,t){if(e){if(e.constructor===e)throw To("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e===Mo||e===ko||e===Uo)throw To("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",t)}}function an(e,t){if(e&&(e===So||e===Lo||e===Ao||e===Co||e===wo||e===xo||e===Oo||e===Do||e===Ro||e===Io||e===Po||e===No))throw To("isecaf","Assigning to a constructor or its prototype is disallowed! Expression: {0}",t)}function sn(e,t){return"undefined"!=typeof e?e:t}function ln(e,t){return"undefined"==typeof e?t:"undefined"==typeof t?e:e+t}function cn(e,t){var n=e(t);return!n.$stateful}function un(e,t){var n,r,o;switch(e.type){case Yo.Program:n=!0,i(e.body,function(e){un(e.expression,t),n=n&&e.expression.constant}),e.constant=n;break;case Yo.Literal:e.constant=!0,e.toWatch=[];break;case Yo.UnaryExpression:un(e.argument,t),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case Yo.BinaryExpression:un(e.left,t),un(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case Yo.LogicalExpression:un(e.left,t),un(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case Yo.ConditionalExpression:un(e.test,t),un(e.alternate,t),un(e.consequent,t),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case Yo.Identifier:e.constant=!1,e.toWatch=[e];break;case Yo.MemberExpression:un(e.object,t),e.computed&&un(e.property,t),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=[e];break;case Yo.CallExpression:o=!!e.filter&&cn(t,e.callee.name),n=o,r=[],i(e.arguments,function(e){un(e,t),n=n&&e.constant,e.constant||r.push.apply(r,e.toWatch)}),e.constant=n,e.toWatch=o?r:[e];break;case Yo.AssignmentExpression:un(e.left,t),un(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case Yo.ArrayExpression:n=!0,r=[],i(e.elements,function(e){un(e,t),n=n&&e.constant,e.constant||r.push.apply(r,e.toWatch)}),e.constant=n,e.toWatch=r;break;case Yo.ObjectExpression:n=!0,r=[],i(e.properties,function(e){un(e.value,t),n=n&&e.value.constant&&!e.computed,e.value.constant||r.push.apply(r,e.value.toWatch)}),e.constant=n,e.toWatch=r;break;case Yo.ThisExpression:e.constant=!1,e.toWatch=[];break;case Yo.LocalsExpression:e.constant=!1,e.toWatch=[]}}function dn(e){if(1===e.length){var t=e[0].expression,n=t.toWatch;return 1!==n.length?n:n[0]!==t?n:void 0}}function pn(e){return e.type===Yo.Identifier||e.type===Yo.MemberExpression}function hn(e){if(1===e.body.length&&pn(e.body[0].expression))return{type:Yo.AssignmentExpression,left:e.body[0].expression,right:{type:Yo.NGValueParameter},operator:"="}}function fn(e){return 0===e.body.length||1===e.body.length&&(e.body[0].expression.type===Yo.Literal||e.body[0].expression.type===Yo.ArrayExpression||e.body[0].expression.type===Yo.ObjectExpression)}function gn(e){return e.constant}function mn(e,t){this.astBuilder=e,this.$filter=t}function vn(e,t){this.astBuilder=e,this.$filter=t}function _n(e){return"constructor"===e}function yn(e){return L(e.valueOf)?e.valueOf():Fo.call(e)}function En(){var e,t,n=ge(),r=ge(),o={true:!0,false:!1,null:null,undefined:void 0};this.addLiteral=function(e,t){o[e]=t},this.setIdentifierFns=function(n,i){return e=n,t=i,this},this.$get=["$filter",function(a){function s(e,t,i){var o,s,c;switch(i=i||E,typeof e){case"string":e=e.trim(),c=e;var m=i?r:n;if(o=m[c],!o){":"===e.charAt(0)&&":"===e.charAt(1)&&(s=!0,e=e.substring(2));var _=i?y:v,b=new jo(_),T=new Vo(b,a,_);o=T.parse(e),o.constant?o.$$watchDelegate=f:s?o.$$watchDelegate=o.literal?p:d:o.inputs&&(o.$$watchDelegate=u),i&&(o=l(o)),m[c]=o}return g(o,t);case"function":return g(e,t);default:return g(h,t)}}function l(e){function t(t,n,i,r){var o=E;E=!0;try{return e(t,n,i,r)}finally{E=o}}if(!e)return e;t.$$watchDelegate=e.$$watchDelegate,t.assign=l(e.assign),t.constant=e.constant,t.literal=e.literal;for(var n=0;e.inputs&&n<e.inputs.length;++n)e.inputs[n]=l(e.inputs[n]);return t.inputs=e.inputs,t}function c(e,t){return null==e||null==t?e===t:("object"!=typeof e||(e=yn(e),"object"!=typeof e))&&(e===t||e!==e&&t!==t)}function u(e,t,n,i,r){var o,a=i.inputs;if(1===a.length){var s=c;return a=a[0],e.$watch(function(e){var t=a(e);return c(t,s)||(o=i(e,void 0,void 0,[t]),s=t&&yn(t)),o},t,n,r)}for(var l=[],u=[],d=0,p=a.length;d<p;d++)l[d]=c,u[d]=null;return e.$watch(function(e){for(var t=!1,n=0,r=a.length;n<r;n++){var s=a[n](e);(t||(t=!c(s,l[n])))&&(u[n]=s,l[n]=s&&yn(s))}return t&&(o=i(e,void 0,void 0,u)),o},t,n,r)}function d(e,t,n,i){var r,o;return r=e.$watch(function(e){return i(e)},function(e,n,i){o=e,L(t)&&t.apply(this,arguments),_(e)&&i.$$postDigest(function(){_(o)&&r()})},n)}function p(e,t,n,r){function o(e){var t=!0;return i(e,function(e){_(e)||(t=!1)}),t}var a,s;return a=e.$watch(function(e){return r(e)},function(e,n,i){s=e,L(t)&&t.call(this,e,n,i),o(e)&&i.$$postDigest(function(){o(s)&&a()})},n)}function f(e,t,n,i){var r=e.$watch(function(e){return r(),i(e)},t,n);return r}function g(e,t){if(!t)return e;var n=e.$$watchDelegate,i=!1,r=n!==p&&n!==d,o=r?function(n,r,o,a){var s=i&&a?a[0]:e(n,r,o,a);return t(s,n,r)}:function(n,i,r,o){var a=e(n,i,r,o),s=t(a,n,i);return _(a)?s:a};return e.$$watchDelegate&&e.$$watchDelegate!==u?o.$$watchDelegate=e.$$watchDelegate:t.$stateful||(o.$$watchDelegate=u,i=!e.inputs,o.inputs=e.inputs?e.inputs:[e]),o}var m=sr().noUnsafeEval,v={csp:m,expensiveChecks:!1,literals:$(o),isIdentifierStart:L(e)&&e,isIdentifierContinue:L(t)&&t},y={csp:m,expensiveChecks:!0,literals:$(o),isIdentifierStart:L(e)&&e,isIdentifierContinue:L(t)&&t},E=!1;return s.$$runningExpensiveChecks=function(){return E},s}]}function bn(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return Sn(function(t){e.$evalAsync(t)},t)}]}function Tn(){this.$get=["$browser","$exceptionHandler",function(e,t){return Sn(function(t){e.defer(t)},t)}]}function Sn(e,n){function r(){this.$$state={status:0}}function o(e,t){return function(n){t.call(e,n)}}function a(e){var t,i,r;r=e.pending,e.processScheduled=!1,e.pending=void 0;for(var o=0,a=r.length;o<a;++o){i=r[o][0],t=r[o][e.status];try{L(t)?i.resolve(t(e.value)):1===e.status?i.resolve(e.value):i.reject(e.value)}catch(e){i.reject(e),n(e)}}}function s(t){!t.processScheduled&&t.pending&&(t.processScheduled=!0,e(function(){a(t)}))}function l(){this.promise=new r}function u(e){var t=new l,n=0,r=ir(e)?[]:{};return i(e,function(e,i){n++,_(e).then(function(e){r.hasOwnProperty(i)||(r[i]=e,--n||t.resolve(r))},function(e){r.hasOwnProperty(i)||t.reject(e)})}),0===n&&t.resolve(r),t.promise}function d(e){var t=h();return i(e,function(e){_(e).then(t.resolve,t.reject)}),t.promise}var p=t("$q",TypeError),h=function(){var e=new l;return e.resolve=o(e,e.resolve),e.reject=o(e,e.reject),e.notify=o(e,e.notify),e};c(r.prototype,{then:function(e,t,n){if(v(e)&&v(t)&&v(n))return this;var i=new l;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([i,e,t,n]),this.$$state.status>0&&s(this.$$state),i.promise},catch:function(e){return this.then(null,e)},finally:function(e,t){return this.then(function(t){return m(t,!0,e)},function(t){return m(t,!1,e)},t)}}),c(l.prototype,{resolve:function(e){this.promise.$$state.status||(e===this.promise?this.$$reject(p("qcycle","Expected promise to be resolved with value other than itself '{0}'",e)):this.$$resolve(e))},$$resolve:function(e){function t(e){l||(l=!0,a.$$resolve(e))}function i(e){l||(l=!0,a.$$reject(e))}var r,a=this,l=!1;try{(y(e)||L(e))&&(r=e&&e.then),L(r)?(this.promise.$$state.status=-1,r.call(e,t,i,o(this,this.notify))):(this.promise.$$state.value=e,this.promise.$$state.status=1,s(this.promise.$$state))}catch(e){i(e),n(e)}},reject:function(e){this.promise.$$state.status||this.$$reject(e);
},$$reject:function(e){this.promise.$$state.value=e,this.promise.$$state.status=2,s(this.promise.$$state)},notify:function(t){var i=this.promise.$$state.pending;this.promise.$$state.status<=0&&i&&i.length&&e(function(){for(var e,r,o=0,a=i.length;o<a;o++){r=i[o][0],e=i[o][3];try{r.notify(L(e)?e(t):t)}catch(e){n(e)}}})}});var f=function(e){var t=new l;return t.reject(e),t.promise},g=function(e,t){var n=new l;return t?n.resolve(e):n.reject(e),n.promise},m=function(e,t,n){var i=null;try{L(n)&&(i=n())}catch(e){return g(e,!1)}return I(i)?i.then(function(){return g(e,t)},function(e){return g(e,!1)}):g(e,t)},_=function(e,t,n,i){var r=new l;return r.resolve(e),r.promise.then(t,n,i)},E=_,b=function(e){function t(e){i.resolve(e)}function n(e){i.reject(e)}if(!L(e))throw p("norslvr","Expected resolverFn, got '{0}'",e);var i=new l;return e(t,n),i.promise};return b.prototype=r.prototype,b.defer=h,b.reject=f,b.when=_,b.resolve=E,b.all=u,b.race=d,b}function Ln(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame,i=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,r=!!n,o=r?function(e){var t=n(e);return function(){i(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return o.supported=r,o}]}function An(){function e(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=a(),this.$$ChildScope=null}return t.prototype=e,t}var r=10,o=t("$rootScope"),s=null,l=null;this.digestTtl=function(e){return arguments.length&&(r=e),r},this.$get=["$exceptionHandler","$parse","$browser",function(t,c,u){function d(e){e.currentScope.$$destroyed=!0}function p(e){9===Hi&&(e.$$childHead&&p(e.$$childHead),e.$$nextSibling&&p(e.$$nextSibling)),e.$parent=e.$$nextSibling=e.$$prevSibling=e.$$childHead=e.$$childTail=e.$root=e.$$watchers=null}function f(){this.$id=a(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function g(e){if(A.$$phase)throw o("inprog","{0} already in progress",A.$$phase);A.$$phase=e}function m(){A.$$phase=null}function _(e,t){do e.$$watchersCount+=t;while(e=e.$parent)}function E(e,t,n){do e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n];while(e=e.$parent)}function b(){}function T(){for(;x.length;)try{x.shift()()}catch(e){t(e)}l=null}function S(){null===l&&(l=u.defer(function(){A.$apply(T)}))}f.prototype={constructor:f,$new:function(t,n){var i;return n=n||this,t?(i=new f,i.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=e(this)),i=new this.$$ChildScope),i.$parent=n,i.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=i,n.$$childTail=i):n.$$childHead=n.$$childTail=i,(t||n!==this)&&i.$on("$destroy",d),i},$watch:function(e,t,n,i){var r=c(e);if(r.$$watchDelegate)return r.$$watchDelegate(this,t,n,r,e);var o=this,a=o.$$watchers,l={fn:t,last:b,get:r,exp:i||e,eq:!!n};return s=null,L(t)||(l.fn=h),a||(a=o.$$watchers=[]),a.unshift(l),_(this,1),function(){F(a,l)>=0&&_(o,-1),s=null}},$watchGroup:function(e,t){function n(){l=!1,c?(c=!1,t(o,o,s)):t(o,r,s)}var r=new Array(e.length),o=new Array(e.length),a=[],s=this,l=!1,c=!0;if(!e.length){var u=!0;return s.$evalAsync(function(){u&&t(o,o,s)}),function(){u=!1}}return 1===e.length?this.$watch(e[0],function(e,n,i){o[0]=e,r[0]=n,t(o,e===n?o:r,i)}):(i(e,function(e,t){var i=s.$watch(e,function(e,i){o[t]=e,r[t]=i,l||(l=!0,s.$evalAsync(n))});a.push(i)}),function(){for(;a.length;)a.shift()()})},$watchCollection:function(e,t){function i(e){o=e;var t,i,r,s,l;if(!v(o)){if(y(o))if(n(o)){a!==h&&(a=h,m=a.length=0,d++),t=o.length,m!==t&&(d++,a.length=m=t);for(var c=0;c<t;c++)l=a[c],s=o[c],r=l!==l&&s!==s,r||l===s||(d++,a[c]=s)}else{a!==f&&(a=f={},m=0,d++),t=0;for(i in o)$i.call(o,i)&&(t++,s=o[i],l=a[i],i in a?(r=l!==l&&s!==s,r||l===s||(d++,a[i]=s)):(m++,a[i]=s,d++));if(m>t){d++;for(i in a)$i.call(o,i)||(m--,delete a[i])}}else a!==o&&(a=o,d++);return d}}function r(){if(g?(g=!1,t(o,o,l)):t(o,s,l),u)if(y(o))if(n(o)){s=new Array(o.length);for(var e=0;e<o.length;e++)s[e]=o[e]}else{s={};for(var i in o)$i.call(o,i)&&(s[i]=o[i])}else s=o}i.$stateful=!0;var o,a,s,l=this,u=t.length>1,d=0,p=c(e,i),h=[],f={},g=!0,m=0;return this.$watch(p,r)},$digest:function(){var e,n,i,a,c,d,p,h,f,v,_,y,E=r,S=this,x=[];g("$digest"),u.$$checkUrlChange(),this===A&&null!==l&&(u.defer.cancel(l),T()),s=null;do{h=!1,v=S;for(var D=0;D<C.length;D++){try{y=C[D],y.scope.$eval(y.expression,y.locals)}catch(e){t(e)}s=null}C.length=0;e:do{if(d=v.$$watchers)for(p=d.length;p--;)try{if(e=d[p])if(c=e.get,(n=c(v))===(i=e.last)||(e.eq?B(n,i):nr(n)&&nr(i))){if(e===s){h=!1;break e}}else h=!0,s=e,e.last=e.eq?$(n,null):n,a=e.fn,a(n,i===b?n:i,v),E<5&&(_=4-E,x[_]||(x[_]=[]),x[_].push({msg:L(e.exp)?"fn: "+(e.exp.name||e.exp.toString()):e.exp,newVal:n,oldVal:i}))}catch(e){t(e)}if(!(f=v.$$watchersCount&&v.$$childHead||v!==S&&v.$$nextSibling))for(;v!==S&&!(f=v.$$nextSibling);)v=v.$parent}while(v=f);if((h||C.length)&&!E--)throw m(),o("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",r,x)}while(h||C.length);for(m();O<w.length;)try{w[O++]()}catch(e){t(e)}w.length=O=0},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===A&&u.$$applicationDestroyed(),_(this,-this.$$watchersCount);for(var t in this.$$listenerCount)E(this,this.$$listenerCount[t],t);e&&e.$$childHead===this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail===this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=h,this.$on=this.$watch=this.$watchGroup=function(){return h},this.$$listeners={},this.$$nextSibling=null,p(this)}},$eval:function(e,t){return c(e)(this,t)},$evalAsync:function(e,t){A.$$phase||C.length||u.defer(function(){C.length&&A.$digest()}),C.push({scope:this,expression:c(e),locals:t})},$$postDigest:function(e){w.push(e)},$apply:function(e){try{g("$apply");try{return this.$eval(e)}finally{m()}}catch(e){t(e)}finally{try{A.$digest()}catch(e){throw t(e),e}}},$applyAsync:function(e){function t(){n.$eval(e)}var n=this;e&&x.push(t),e=c(e),S()},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var i=this;do i.$$listenerCount[e]||(i.$$listenerCount[e]=0),i.$$listenerCount[e]++;while(i=i.$parent);var r=this;return function(){var i=n.indexOf(t);i!==-1&&(n[i]=null,E(r,1,e))}},$emit:function(e,n){var i,r,o,a=[],s=this,l=!1,c={name:e,targetScope:s,stopPropagation:function(){l=!0},preventDefault:function(){c.defaultPrevented=!0},defaultPrevented:!1},u=j([c],arguments,1);do{for(i=s.$$listeners[e]||a,c.currentScope=s,r=0,o=i.length;r<o;r++)if(i[r])try{i[r].apply(null,u)}catch(e){t(e)}else i.splice(r,1),r--,o--;if(l)return c.currentScope=null,c;s=s.$parent}while(s);return c.currentScope=null,c},$broadcast:function(e,n){var i=this,r=i,o=i,a={name:e,targetScope:i,preventDefault:function(){a.defaultPrevented=!0},defaultPrevented:!1};if(!i.$$listenerCount[e])return a;for(var s,l,c,u=j([a],arguments,1);r=o;){for(a.currentScope=r,s=r.$$listeners[e]||[],l=0,c=s.length;l<c;l++)if(s[l])try{s[l].apply(null,u)}catch(e){t(e)}else s.splice(l,1),l--,c--;if(!(o=r.$$listenerCount[e]&&r.$$childHead||r!==i&&r.$$nextSibling))for(;r!==i&&!(o=r.$$nextSibling);)r=r.$parent}return a.currentScope=null,a}};var A=new f,C=A.$$asyncQueue=[],w=A.$$postDigestQueue=[],x=A.$$applyAsyncQueue=[],O=0;return A}]}function Cn(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return _(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return _(e)?(t=e,this):t},this.$get=function(){return function(n,i){var r,o=i?t:e;return r=Mn(n).href,""===r||r.match(o)?n:"unsafe:"+r}}}function wn(e){if("self"===e)return e;if(b(e)){if(e.indexOf("***")>-1)throw Ho("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=ar(e).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+e+"$")}if(A(e))return new RegExp("^"+e.source+"$");throw Ho("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function xn(e){var t=[];return _(e)&&i(e,function(e){t.push(wn(e))}),t}function On(){this.SCE_CONTEXTS=Go;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=xn(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=xn(e)),t},this.$get=["$injector",function(n){function i(e,t){return"self"===e?kn(t):!!e.exec(t.href)}function r(n){var r,o,a=Mn(n.toString()),s=!1;for(r=0,o=e.length;r<o;r++)if(i(e[r],a)){s=!0;break}if(s)for(r=0,o=t.length;r<o;r++)if(i(t[r],a)){s=!1;break}return s}function o(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}function a(e,t){var n=d.hasOwnProperty(e)?d[e]:null;if(!n)throw Ho("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||v(t)||""===t)return t;if("string"!=typeof t)throw Ho("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new n(t)}function s(e){return e instanceof u?e.$$unwrapTrustedValue():e}function l(e,t){if(null===t||v(t)||""===t)return t;var n=d.hasOwnProperty(e)?d[e]:null;if(n&&t instanceof n)return t.$$unwrapTrustedValue();if(e===Go.RESOURCE_URL){if(r(t))return t;throw Ho("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",t.toString())}if(e===Go.HTML)return c(t);throw Ho("unsafe","Attempting to use an unsafe value in a safe context.")}var c=function(e){throw Ho("unsafe","Attempting to use an unsafe value in a safe context.")};n.has("$sanitize")&&(c=n.get("$sanitize"));var u=o(),d={};return d[Go.HTML]=o(u),d[Go.CSS]=o(u),d[Go.URL]=o(u),d[Go.JS]=o(u),d[Go.RESOURCE_URL]=o(d[Go.URL]),{trustAs:a,getTrusted:l,valueOf:s}}]}function Dn(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&Hi<8)throw Ho("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var r=ve(Go);r.isEnabled=function(){return e},r.trustAs=n.trustAs,r.getTrusted=n.getTrusted,r.valueOf=n.valueOf,e||(r.trustAs=r.getTrusted=function(e,t){return t},r.valueOf=f),r.parseAs=function(e,n){var i=t(n);return i.literal&&i.constant?i:t(n,function(t){return r.getTrusted(e,t)})};var o=r.parseAs,a=r.getTrusted,s=r.trustAs;return i(Go,function(e,t){var n=Bi(t);r[Te("parse_as_"+n)]=function(t){return o(e,t)},r[Te("get_trusted_"+n)]=function(t){return a(e,t)},r[Te("trust_as_"+n)]=function(t){return s(e,t)}}),r}]}function Rn(){this.$get=["$window","$document",function(e,t){var n,i,r={},o=e.chrome&&(e.chrome.app&&e.chrome.app.runtime||!e.chrome.app&&e.chrome.runtime&&e.chrome.runtime.id),a=!o&&e.history&&e.history.pushState,s=d((/android (\d+)/.exec(Bi((e.navigator||{}).userAgent))||[])[1]),l=/Boxee/i.test((e.navigator||{}).userAgent),c=t[0]||{},u=/^(Moz|webkit|ms)(?=[A-Z])/,p=c.body&&c.body.style,h=!1,f=!1;if(p){for(var g in p)if(i=u.exec(g)){n=i[0],n=n[0].toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in p&&"webkit"),h=!!("transition"in p||n+"Transition"in p),f=!!("animation"in p||n+"Animation"in p),!s||h&&f||(h=b(p.webkitTransition),f=b(p.webkitAnimation))}return{history:!(!a||s<4||l),hasEvent:function(e){if("input"===e&&Hi<=11)return!1;if(v(r[e])){var t=c.createElement("div");r[e]="on"+e in t}return r[e]},csp:sr(),vendorPrefix:n,transitions:h,animations:f,android:s}}]}function In(){var e;this.httpOptions=function(t){return t?(e=t,this):e},this.$get=["$templateCache","$http","$q","$sce",function(t,n,i,r){function o(a,s){function l(e){if(!s)throw Wo("tpload","Failed to load template: {0} (HTTP status: {1} {2})",a,e.status,e.statusText);return i.reject(e)}o.totalPendingRequests++,b(a)&&!v(t.get(a))||(a=r.getTrustedResourceUrl(a));var u=n.defaults&&n.defaults.transformResponse;return ir(u)?u=u.filter(function(e){return e!==wt}):u===wt&&(u=null),n.get(a,c({cache:t,transformResponse:u},e)).finally(function(){o.totalPendingRequests--}).then(function(e){return t.put(a,e.data),e.data},l)}return o.totalPendingRequests=0,o}]}function Pn(){this.$get=["$rootScope","$browser","$location",function(e,t,n){var r={};return r.findBindings=function(e,t,n){var r=e.getElementsByClassName("ng-binding"),o=[];return i(r,function(e){var r=er.element(e).data("$binding");r&&i(r,function(i){if(n){var r=new RegExp("(^|\\s)"+ar(t)+"(\\s|\\||$)");r.test(i)&&o.push(e)}else i.indexOf(t)!==-1&&o.push(e)})}),o},r.findModels=function(e,t,n){for(var i=["ng-","data-ng-","ng\\:"],r=0;r<i.length;++r){var o=n?"=":"*=",a="["+i[r]+"model"+o+'"'+t+'"]',s=e.querySelectorAll(a);if(s.length)return s}},r.getLocation=function(){return n.url()},r.setLocation=function(t){t!==n.url()&&(n.url(t),e.$digest())},r.whenStable=function(e){t.notifyWhenNoOutstandingRequests(e)},r}]}function Nn(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,i,r){function o(o,s,l){L(o)||(l=s,s=o,o=h);var c,u=Y(arguments,3),d=_(l)&&!l,p=(d?i:n).defer(),f=p.promise;return c=t.defer(function(){try{p.resolve(o.apply(null,u))}catch(e){p.reject(e),r(e)}finally{delete a[f.$$timeoutId]}d||e.$apply()},s),f.$$timeoutId=c,a[c]=p,f}var a={};return o.cancel=function(e){return!!(e&&e.$$timeoutId in a)&&(a[e.$$timeoutId].reject("canceled"),delete a[e.$$timeoutId],t.defer.cancel(e.$$timeoutId))},o}]}function Mn(e){var t=e;return Hi&&(qo.setAttribute("href",t),t=qo.href),qo.setAttribute("href",t),{href:qo.href,protocol:qo.protocol?qo.protocol.replace(/:$/,""):"",host:qo.host,search:qo.search?qo.search.replace(/^\?/,""):"",hash:qo.hash?qo.hash.replace(/^#/,""):"",hostname:qo.hostname,port:qo.port,pathname:"/"===qo.pathname.charAt(0)?qo.pathname:"/"+qo.pathname}}function kn(e){var t=b(e)?Mn(e):e;return t.protocol===Xo.protocol&&t.host===Xo.host}function Un(){this.$get=g(e)}function Fn(e){function t(e){try{return decodeURIComponent(e)}catch(t){return e}}var n=e[0]||{},i={},r="";return function(){var e,o,a,s,l,c=n.cookie||"";if(c!==r)for(r=c,e=r.split("; "),i={},a=0;a<e.length;a++)o=e[a],s=o.indexOf("="),s>0&&(l=t(o.substring(0,s)),v(i[l])&&(i[l]=t(o.substring(s+1))));return i}}function $n(){this.$get=Fn}function Bn(e){function t(r,o){if(y(r)){var a={};return i(r,function(e,n){a[n]=t(n,e)}),a}return e.factory(r+n,o)}var n="Filter";this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+n)}}],t("currency",Gn),t("date",ai),t("filter",jn),t("json",si),t("limitTo",li),t("lowercase",ta),t("number",Wn),t("orderBy",ui),t("uppercase",na)}function jn(){return function(e,i,r,o){if(!n(e)){if(null==e)return e;throw t("filter")("notarray","Expected array but received: {0}",e)}o=o||"$";var a,s,l=Hn(i);switch(l){case"function":a=i;break;case"boolean":case"null":case"number":case"string":s=!0;case"object":a=Yn(i,r,o,s);break;default:return e}return Array.prototype.filter.call(e,a)}}function Yn(e,t,n,i){var r,o=y(e)&&n in e;return t===!0?t=B:L(t)||(t=function(e,t){return!v(e)&&(null===e||null===t?e===t:!(y(t)||y(e)&&!m(e))&&(e=Bi(""+e),t=Bi(""+t),e.indexOf(t)!==-1))}),r=function(r){return o&&!y(r)?Vn(r,e[n],t,n,!1):Vn(r,e,t,n,i)}}function Vn(e,t,n,i,r,o){var a=Hn(e),s=Hn(t);if("string"===s&&"!"===t.charAt(0))return!Vn(e,t.substring(1),n,i,r);if(ir(e))return e.some(function(e){return Vn(e,t,n,i,r)});switch(a){case"object":var l;if(r){for(l in e)if("$"!==l.charAt(0)&&Vn(e[l],t,n,i,!0))return!0;return!o&&Vn(e,t,n,i,!1)}if("object"===s){for(l in t){var c=t[l];if(!L(c)&&!v(c)){var u=l===i,d=u?e:e[l];if(!Vn(d,c,n,i,u,u))return!1}}return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function Hn(e){return null===e?"null":typeof e}function Gn(e){var t=e.NUMBER_FORMATS;return function(e,n,i){return v(n)&&(n=t.CURRENCY_SYM),v(i)&&(i=t.PATTERNS[1].maxFrac),null==e?e:zn(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,i).replace(/\u00A4/g,n)}}function Wn(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:zn(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function qn(e){var t,n,i,r,o,a=0;for((n=e.indexOf(Ko))>-1&&(e=e.replace(Ko,"")),(i=e.search(/e/i))>0?(n<0&&(n=i),n+=+e.slice(i+1),e=e.substring(0,i)):n<0&&(n=e.length),i=0;e.charAt(i)===Jo;i++);if(i===(o=e.length))t=[0],n=1;else{for(o--;e.charAt(o)===Jo;)o--;for(n-=i,t=[],r=0;i<=o;i++,r++)t[r]=+e.charAt(i)}return n>zo&&(t=t.splice(0,zo-1),a=n-1,n=1),{d:t,e:a,i:n}}function Xn(e,t,n,i){var r=e.d,o=r.length-e.i;t=v(t)?Math.min(Math.max(n,o),i):+t;var a=t+e.i,s=r[a];if(a>0){r.splice(Math.max(e.i,a));for(var l=a;l<r.length;l++)r[l]=0}else{o=Math.max(0,o),e.i=1,r.length=Math.max(1,a=t+1),r[0]=0;for(var c=1;c<a;c++)r[c]=0}if(s>=5)if(a-1<0){for(var u=0;u>a;u--)r.unshift(0),e.i++;r.unshift(1),e.i++}else r[a-1]++;for(;o<Math.max(0,t);o++)r.push(0);var d=r.reduceRight(function(e,t,n,i){return t+=e,i[n]=t%10,Math.floor(t/10)},0);d&&(r.unshift(d),e.i++)}function zn(e,t,n,i,r){if(!b(e)&&!T(e)||isNaN(e))return"";var o,a=!isFinite(e),s=!1,l=Math.abs(e)+"",c="";if(a)c="∞";else{o=qn(l),Xn(o,r,t.minFrac,t.maxFrac);var u=o.d,d=o.i,p=o.e,h=[];for(s=u.reduce(function(e,t){return e&&!t},!0);d<0;)u.unshift(0),d++;d>0?h=u.splice(d,u.length):(h=u,u=[0]);var f=[];for(u.length>=t.lgSize&&f.unshift(u.splice(-t.lgSize,u.length).join(""));u.length>t.gSize;)f.unshift(u.splice(-t.gSize,u.length).join(""));u.length&&f.unshift(u.join("")),c=f.join(n),h.length&&(c+=i+h.join("")),p&&(c+="e+"+p)}return e<0&&!s?t.negPre+c+t.negSuf:t.posPre+c+t.posSuf}function Kn(e,t,n,i){var r="";for((e<0||i&&e<=0)&&(i?e=-e+1:(e=-e,r="-")),e=""+e;e.length<t;)e=Jo+e;return n&&(e=e.substr(e.length-t)),r+e}function Jn(e,t,n,i,r){return n=n||0,function(o){var a=o["get"+e]();return(n>0||a>-n)&&(a+=n),0===a&&n===-12&&(a=12),Kn(a,t,i,r)}}function Zn(e,t,n){return function(i,r){var o=i["get"+e](),a=(n?"STANDALONE":"")+(t?"SHORT":""),s=ji(a+e);return r[s][o]}}function Qn(e,t,n){var i=-1*n,r=i>=0?"+":"";return r+=Kn(Math[i>0?"floor":"ceil"](i/60),2)+Kn(Math.abs(i%60),2)}function ei(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(t<=4?5:12)-t)}function ti(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function ni(e){return function(t){var n=ei(t.getFullYear()),i=ti(t),r=+i-+n,o=1+Math.round(r/6048e5);return Kn(o,e)}}function ii(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]}function ri(e,t){return e.getFullYear()<=0?t.ERAS[0]:t.ERAS[1]}function oi(e,t){return e.getFullYear()<=0?t.ERANAMES[0]:t.ERANAMES[1]}function ai(e){function t(e){var t;if(t=e.match(n)){var i=new Date(0),r=0,o=0,a=t[8]?i.setUTCFullYear:i.setFullYear,s=t[8]?i.setUTCHours:i.setHours;t[9]&&(r=d(t[9]+t[10]),o=d(t[9]+t[11])),a.call(i,d(t[1]),d(t[2])-1,d(t[3]));var l=d(t[4]||0)-r,c=d(t[5]||0)-o,u=d(t[6]||0),p=Math.round(1e3*parseFloat("0."+(t[7]||0)));return s.call(i,l,c,u,p),i}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r,o){var a,s,l="",c=[];if(r=r||"mediumDate",r=e.DATETIME_FORMATS[r]||r,b(n)&&(n=ea.test(n)?d(n):t(n)),T(n)&&(n=new Date(n)),!S(n)||!isFinite(n.getTime()))return n;for(;r;)s=Qo.exec(r),s?(c=j(c,s,1),r=c.pop()):(c.push(r),r=null);var u=n.getTimezoneOffset();return o&&(u=q(o,u),n=z(n,o,!0)),i(c,function(t){a=Zo[t],l+=a?a(n,e.DATETIME_FORMATS,u):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}}function si(){return function(e,t){return v(t)&&(t=2),G(e,t)}}function li(){return function(e,t,i){return t=Math.abs(Number(t))===1/0?Number(t):d(t),nr(t)?e:(T(e)&&(e=e.toString()),n(e)?(i=!i||isNaN(i)?0:d(i),i=i<0?Math.max(0,e.length+i):i,t>=0?ci(e,i,i+t):0===i?ci(e,t,e.length):ci(e,Math.max(0,i+t),i)):e)}}function ci(e,t,n){return b(e)?e.slice(t,n):Xi.call(e,t,n)}function ui(e){function i(t){return t.map(function(t){var n=1,i=f;if(L(t))i=t;else if(b(t)&&("+"!==t.charAt(0)&&"-"!==t.charAt(0)||(n="-"===t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(i=e(t),i.constant))){var r=i();i=function(e){return e[r]}}return{get:i,descending:n}})}function r(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function o(e){return L(e.valueOf)&&(e=e.valueOf(),r(e))?e:m(e)&&(e=e.toString(),r(e))?e:e}function a(e,t){var n=typeof e;return null===e?(n="string",e="null"):"object"===n&&(e=o(e)),{value:e,type:n,index:t}}function s(e,t){var n=0,i=e.type,r=t.type;if(i===r){var o=e.value,a=t.value;"string"===i?(o=o.toLowerCase(),a=a.toLowerCase()):"object"===i&&(y(o)&&(o=e.index),y(a)&&(a=t.index)),o!==a&&(n=o<a?-1:1)}else n=i<r?-1:1;return n}return function(e,r,o,l){function c(e,t){return{value:e,tieBreaker:{value:t,type:"number",index:t},predicateValues:d.map(function(n){return a(n.get(e),t)})}}function u(e,t){for(var n=0,i=d.length;n<i;n++){var r=h(e.predicateValues[n],t.predicateValues[n]);if(r)return r*d[n].descending*p}return h(e.tieBreaker,t.tieBreaker)*p}if(null==e)return e;if(!n(e))throw t("orderBy")("notarray","Expected array but received: {0}",e);ir(r)||(r=[r]),0===r.length&&(r=["+"]);var d=i(r),p=o?-1:1,h=L(l)?l:s,f=Array.prototype.map.call(e,c);return f.sort(u),e=f.map(function(e){return e.value})}}function di(e){return L(e)&&(e={link:e}),e.restrict=e.restrict||"AC",g(e)}function pi(e,t){e.$name=t}function hi(e,t,n,r,o){var a=this,s=[];a.$error={},a.$$success={},a.$pending=void 0,a.$name=o(t.name||t.ngForm||"")(n),a.$dirty=!1,a.$pristine=!0,a.$valid=!0,a.$invalid=!1,a.$submitted=!1,a.$$parentForm=oa,a.$rollbackViewValue=function(){i(s,function(e){e.$rollbackViewValue()})},a.$commitViewValue=function(){i(s,function(e){e.$commitViewValue()})},a.$addControl=function(e){pe(e.$name,"input"),s.push(e),e.$name&&(a[e.$name]=e),e.$$parentForm=a},a.$$renameControl=function(e,t){var n=e.$name;a[n]===e&&delete a[n],a[t]=e,e.$name=t},a.$removeControl=function(e){e.$name&&a[e.$name]===e&&delete a[e.$name],i(a.$pending,function(t,n){a.$setValidity(n,null,e)}),i(a.$error,function(t,n){a.$setValidity(n,null,e)}),i(a.$$success,function(t,n){a.$setValidity(n,null,e)}),F(s,e),e.$$parentForm=oa},Ni({ctrl:this,$element:e,set:function(e,t,n){var i=e[t];if(i){var r=i.indexOf(n);r===-1&&i.push(n)}else e[t]=[n]},unset:function(e,t,n){var i=e[t];i&&(F(i,n),0===i.length&&delete e[t])},$animate:r}),a.$setDirty=function(){r.removeClass(e,Va),r.addClass(e,Ha),a.$dirty=!0,a.$pristine=!1,a.$$parentForm.$setDirty()},a.$setPristine=function(){r.setClass(e,Va,Ha+" "+aa),a.$dirty=!1,a.$pristine=!0,a.$submitted=!1,i(s,function(e){e.$setPristine()})},a.$setUntouched=function(){i(s,function(e){e.$setUntouched()})},a.$setSubmitted=function(){r.addClass(e,aa),a.$submitted=!0,a.$$parentForm.$setSubmitted()}}function fi(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function gi(e,t,n,i,r,o){mi(e,t,n,i,r,o),fi(i)}function mi(e,t,n,i,r,o){var a=Bi(t[0].type);if(!r.android){var s=!1;t.on("compositionstart",function(){s=!0}),t.on("compositionend",function(){s=!1,c()})}var l,c=function(e){if(l&&(o.defer.cancel(l),l=null),!s){var r=t.val(),c=e&&e.type;"password"===a||n.ngTrim&&"false"===n.ngTrim||(r=or(r)),(i.$viewValue!==r||""===r&&i.$$hasNativeValidators)&&i.$setViewValue(r,c)}};if(r.hasEvent("input"))t.on("input",c);else{var u=function(e,t,n){l||(l=o.defer(function(){l=null,t&&t.value===n||c(e)}))};t.on("keydown",function(e){var t=e.keyCode;91===t||15<t&&t<19||37<=t&&t<=40||u(e,this,this.value)}),r.hasEvent("paste")&&t.on("paste cut",u)}t.on("change",c),Ea[a]&&i.$$hasNativeValidators&&a===n.type&&t.on(ya,function(e){if(!l){var t=this[Fi],n=t.badInput,i=t.typeMismatch;l=o.defer(function(){l=null,t.badInput===n&&t.typeMismatch===i||c(e)})}}),i.$render=function(){var e=i.$isEmpty(i.$viewValue)?"":i.$viewValue;t.val()!==e&&t.val(e)}}function vi(e,t){if(S(e))return e;if(b(e)){ma.lastIndex=0;var n=ma.exec(e);if(n){var i=+n[1],r=+n[2],o=0,a=0,s=0,l=0,c=ei(i),u=7*(r-1);return t&&(o=t.getHours(),a=t.getMinutes(),s=t.getSeconds(),l=t.getMilliseconds()),new Date(i,0,c.getDate()+u,o,a,s,l)}}return NaN}function _i(e,t){return function(n,r){var o,a;if(S(n))return n;if(b(n)){if('"'===n.charAt(0)&&'"'===n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),ua.test(n))return new Date(n);if(e.lastIndex=0,o=e.exec(n))return o.shift(),a=r?{yyyy:r.getFullYear(),MM:r.getMonth()+1,dd:r.getDate(),HH:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds(),sss:r.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},i(o,function(e,n){n<t.length&&(a[t[n]]=+e)}),new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,1e3*a.sss||0)}return NaN}}function yi(e,t,n,i){return function(r,o,a,s,l,c,u){function d(e){return e&&!(e.getTime&&e.getTime()!==e.getTime())}function p(e){return _(e)&&!S(e)?n(e)||void 0:e}Ei(r,o,a,s),mi(r,o,a,s,l,c);var h,f=s&&s.$options&&s.$options.timezone;if(s.$$parserName=e,s.$parsers.push(function(e){if(s.$isEmpty(e))return null;if(t.test(e)){var i=n(e,h);return f&&(i=z(i,f)),i}}),s.$formatters.push(function(e){if(e&&!S(e))throw Ka("datefmt","Expected `{0}` to be a date",e);return d(e)?(h=e,h&&f&&(h=z(h,f,!0)),u("date")(e,i,f)):(h=null,"")}),_(a.min)||a.ngMin){var g;s.$validators.min=function(e){return!d(e)||v(g)||n(e)>=g},a.$observe("min",function(e){g=p(e),s.$validate()})}if(_(a.max)||a.ngMax){var m;s.$validators.max=function(e){return!d(e)||v(m)||n(e)<=m},a.$observe("max",function(e){m=p(e),s.$validate()})}}}function Ei(e,t,n,i){var r=t[0],o=i.$$hasNativeValidators=y(r.validity);o&&i.$parsers.push(function(e){var n=t.prop(Fi)||{};return n.badInput||n.typeMismatch?void 0:e})}function bi(e){e.$$parserName="number",e.$parsers.push(function(t){return e.$isEmpty(t)?null:ha.test(t)?parseFloat(t):void 0}),e.$formatters.push(function(t){if(!e.$isEmpty(t)){if(!T(t))throw Ka("numfmt","Expected `{0}` to be a number",t);t=t.toString()}return t})}function Ti(e){return _(e)&&!T(e)&&(e=parseFloat(e)),nr(e)?void 0:e}function Si(e){return(0|e)===e}function Li(e){var t=e.toString(),n=t.indexOf(".");if(n===-1){if(-1<e&&e<1){var i=/e-(\d+)$/.exec(t);if(i)return Number(i[1])}return 0}return t.length-n-1}function Ai(e,t,n){var i=Number(e);if(!Si(i)||!Si(t)||!Si(n)){var r=Math.max(Li(i),Li(t),Li(n)),o=Math.pow(10,r);i*=o,t*=o,n*=o}return(i-t)%n===0}function Ci(e,t,n,i,r,o){Ei(e,t,n,i),mi(e,t,n,i,r,o),bi(i);var a,s;(_(n.min)||n.ngMin)&&(i.$validators.min=function(e){return i.$isEmpty(e)||v(a)||e>=a},n.$observe("min",function(e){a=Ti(e),i.$validate()})),(_(n.max)||n.ngMax)&&(i.$validators.max=function(e){return i.$isEmpty(e)||v(s)||e<=s},n.$observe("max",function(e){s=Ti(e),i.$validate()}))}function wi(e,t,n,i,r,o){function a(e,i){t.attr(e,n[e]),n.$observe(e,i)}function s(e){if(d=Ti(e),!nr(i.$modelValue))if(u){var n=t.val();d>n&&(n=d,t.val(n)),i.$setViewValue(n)}else i.$validate()}function l(e){if(p=Ti(e),!nr(i.$modelValue))if(u){var n=t.val();p<n&&(t.val(p),n=p<d?d:p),i.$setViewValue(n)}else i.$validate()}function c(e){h=Ti(e),nr(i.$modelValue)||(u&&i.$viewValue!==t.val()?i.$setViewValue(t.val()):i.$validate())}Ei(e,t,n,i),bi(i),mi(e,t,n,i,r,o);var u=i.$$hasNativeValidators&&"range"===t[0].type,d=u?0:void 0,p=u?100:void 0,h=u?1:void 0,f=t[0].validity,g=_(n.min),m=_(n.max),y=_(n.step),E=i.$render;i.$render=u&&_(f.rangeUnderflow)&&_(f.rangeOverflow)?function(){E(),i.$setViewValue(t.val())}:E,g&&(i.$validators.min=u?function(){return!0}:function(e,t){return i.$isEmpty(t)||v(d)||t>=d},a("min",s)),m&&(i.$validators.max=u?function(){return!0}:function(e,t){return i.$isEmpty(t)||v(p)||t<=p},a("max",l)),y&&(i.$validators.step=u?function(){return!f.stepMismatch}:function(e,t){return i.$isEmpty(t)||v(h)||Ai(t,d||0,h)},a("step",c))}function xi(e,t,n,i,r,o){mi(e,t,n,i,r,o),fi(i),i.$$parserName="url",i.$validators.url=function(e,t){var n=e||t;return i.$isEmpty(n)||da.test(n)}}function Oi(e,t,n,i,r,o){mi(e,t,n,i,r,o),fi(i),i.$$parserName="email",i.$validators.email=function(e,t){var n=e||t;return i.$isEmpty(n)||pa.test(n)}}function Di(e,t,n,i){v(n.name)&&t.attr("name",a());var r=function(e){t[0].checked&&i.$setViewValue(n.value,e&&e.type)};t.on("click",r),i.$render=function(){var e=n.value;t[0].checked=e===i.$viewValue},n.$observe("value",i.$render)}function Ri(e,t,n,i,r){var o;if(_(i)){if(o=e(i),!o.constant)throw Ka("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,i);return o(t)}return r}function Ii(e,t,n,i,r,o,a,s){var l=Ri(s,e,"ngTrueValue",n.ngTrueValue,!0),c=Ri(s,e,"ngFalseValue",n.ngFalseValue,!1),u=function(e){i.$setViewValue(t[0].checked,e&&e.type)};t.on("click",u),i.$render=function(){t[0].checked=i.$viewValue},i.$isEmpty=function(e){return e===!1},i.$formatters.push(function(e){return B(e,l)}),i.$parsers.push(function(e){return e?l:c})}function Pi(e,t){return e="ngClass"+e,["$animate",function(n){function r(e,t){var n=[];e:for(var i=0;i<e.length;i++){for(var r=e[i],o=0;o<t.length;o++)if(r===t[o])continue e;n.push(r)}return n}function o(e){var t=[];return ir(e)?(i(e,function(e){t=t.concat(o(e))}),t):b(e)?e.split(" "):y(e)?(i(e,function(e,n){e&&(t=t.concat(n.split(" ")))}),t):e}return{restrict:"AC",link:function(a,s,l){function c(e){var t=d(e,1);l.$addClass(t)}function u(e){var t=d(e,-1);l.$removeClass(t)}function d(e,t){var n=s.data("$classCounts")||ge(),r=[];return i(e,function(e){(t>0||n[e])&&(n[e]=(n[e]||0)+t,n[e]===+(t>0)&&r.push(e))}),s.data("$classCounts",n),r.join(" ")}function p(e,t){var i=r(t,e),o=r(e,t);i=d(i,1),o=d(o,-1),i&&i.length&&n.addClass(s,i),o&&o.length&&n.removeClass(s,o)}function h(e){if(t===!0||(1&a.$index)===t){var n=o(e||[]);if(f){if(!B(e,f)){var i=o(f);p(i,n)}}else c(n)}f=ir(e)?e.map(function(e){return ve(e)}):ve(e)}var f;a.$watch(l[e],h,!0),l.$observe("class",function(t){h(a.$eval(l[e]))}),"ngClass"!==e&&a.$watch("$index",function(n,i){var r=1&n;if(r!==(1&i)){var s=o(a.$eval(l[e]));r===t?c(s):u(s)}})}}}]}function Ni(e){function t(e,t,s){v(t)?n("$pending",e,s):i("$pending",e,s),R(t)?t?(u(a.$error,e,s),c(a.$$success,e,s)):(c(a.$error,e,s),u(a.$$success,e,s)):(u(a.$error,e,s),u(a.$$success,e,s)),a.$pending?(r(qa,!0),a.$valid=a.$invalid=void 0,o("",null)):(r(qa,!1),a.$valid=Mi(a.$error),a.$invalid=!a.$valid,o("",a.$valid));var l;l=a.$pending&&a.$pending[e]?void 0:!a.$error[e]&&(!!a.$$success[e]||null),o(e,l),a.$$parentForm.$setValidity(e,l,a)}function n(e,t,n){a[e]||(a[e]={}),c(a[e],t,n)}function i(e,t,n){a[e]&&u(a[e],t,n),Mi(a[e])&&(a[e]=void 0)}function r(e,t){t&&!l[e]?(d.addClass(s,e),l[e]=!0):!t&&l[e]&&(d.removeClass(s,e),l[e]=!1)}function o(e,t){e=e?"-"+le(e,"-"):"",r(ja+e,t===!0),r(Ya+e,t===!1)}var a=e.ctrl,s=e.$element,l={},c=e.set,u=e.unset,d=e.$animate;l[Ya]=!(l[ja]=s.hasClass(ja)),a.$setValidity=t}function Mi(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function ki(e){e[0].hasAttribute("selected")&&(e[0].selected=!0)}var Ui=/^\/(.+)\/([a-z]*)$/,Fi="validity",$i=Object.prototype.hasOwnProperty,Bi=function(e){return b(e)?e.toLowerCase():e},ji=function(e){return b(e)?e.toUpperCase():e},Yi=function(e){return b(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(32|e.charCodeAt(0))}):e},Vi=function(e){return b(e)?e.replace(/[a-z]/g,function(e){return String.fromCharCode(e.charCodeAt(0)&-33)}):e};"i"!=="I".toLowerCase()&&(Bi=Yi,ji=Vi);var Hi,Gi,Wi,qi,Xi=[].slice,zi=[].splice,Ki=[].push,Ji=Object.prototype.toString,Zi=Object.getPrototypeOf,Qi=t("ng"),er=e.angular||(e.angular={}),tr=0;Hi=e.document.documentMode;var nr=Number.isNaN||function(e){return e!==e};h.$inject=[],
f.$inject=[];var ir=Array.isArray,rr=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/,or=function(e){return b(e)?e.trim():e},ar=function(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},sr=function(){function t(){try{return new Function(""),!1}catch(e){return!0}}if(!_(sr.rules)){var n=e.document.querySelector("[ng-csp]")||e.document.querySelector("[data-ng-csp]");if(n){var i=n.getAttribute("ng-csp")||n.getAttribute("data-ng-csp");sr.rules={noUnsafeEval:!i||i.indexOf("no-unsafe-eval")!==-1,noInlineStyle:!i||i.indexOf("no-inline-style")!==-1}}else sr.rules={noUnsafeEval:t(),noInlineStyle:!1}}return sr.rules},lr=function(){if(_(lr.name_))return lr.name_;var t,n,i,r,o=ur.length;for(n=0;n<o;++n)if(i=ur[n],t=e.document.querySelector("["+i.replace(":","\\:")+"jq]")){r=t.getAttribute(i+"jq");break}return lr.name_=r},cr=/:/g,ur=["ng-","data-ng-","ng:","x-ng-"],dr=ie(e.document),pr=/[A-Z]/g,hr=!1,fr=1,gr=2,mr=3,vr=8,_r=9,yr=11,Er={full:"1.5.9",major:1,minor:5,dot:9,codeName:"timeturning-lockdown"};De.expando="ng339";var br=De.cache={},Tr=1,Sr=function(e,t,n){e.addEventListener(t,n,!1)},Lr=function(e,t,n){e.removeEventListener(t,n,!1)};De._data=function(e){return this.cache[e[this.expando]]||{}};var Ar=/([:\-_]+(.))/g,Cr=/^moz([A-Z])/,wr={mouseleave:"mouseout",mouseenter:"mouseover"},xr=t("jqLite"),Or=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Dr=/<|&#?\w+;/,Rr=/<([\w:-]+)/,Ir=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Pr={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Pr.optgroup=Pr.option,Pr.tbody=Pr.tfoot=Pr.colgroup=Pr.caption=Pr.thead,Pr.th=Pr.td;var Nr=e.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))},Mr=De.prototype={ready:function(t){function n(){i||(i=!0,t())}var i=!1;"complete"===e.document.readyState?e.setTimeout(n):(this.on("DOMContentLoaded",n),De(e).on("load",n))},toString:function(){var e=[];return i(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return Gi(e>=0?this[e]:this[this.length+e])},length:0,push:Ki,sort:[].sort,splice:[].splice},kr={};i("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){kr[Bi(e)]=e});var Ur={};i("input,select,option,textarea,button,form,details".split(","),function(e){Ur[e]=!0});var Fr={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};i({data:ke,removeData:Ne,hasData:Ae,cleanData:Ce},function(e,t){De[t]=e}),i({data:ke,inheritedData:Ye,scope:function(e){return Gi.data(e,"$scope")||Ye(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return Gi.data(e,"$isolateScope")||Gi.data(e,"$isolateScopeNoTemplate")},controller:je,injector:function(e){return Ye(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:Ue,css:function(e,t,n){return t=Te(t),_(n)?void(e.style[t]=n):e.style[t]},attr:function(e,t,n){var i=e.nodeType;if(i!==mr&&i!==gr&&i!==vr){var r=Bi(t);if(kr[r]){if(!_(n))return e[t]||(e.attributes.getNamedItem(t)||h).specified?r:void 0;n?(e[t]=!0,e.setAttribute(t,r)):(e[t]=!1,e.removeAttribute(r))}else if(_(n))e.setAttribute(t,n);else if(e.getAttribute){var o=e.getAttribute(t,2);return null===o?void 0:o}}},prop:function(e,t,n){return _(n)?void(e[t]=n):e[t]},text:function(){function e(e,t){if(v(t)){var n=e.nodeType;return n===fr||n===mr?e.textContent:""}e.textContent=t}return e.$dv="",e}(),val:function(e,t){if(v(t)){if(e.multiple&&"select"===U(e)){var n=[];return i(e.options,function(e){e.selected&&n.push(e.value||e.text)}),0===n.length?null:n}return e.value}e.value=t},html:function(e,t){return v(t)?e.innerHTML:(Ie(e,!0),void(e.innerHTML=t))},empty:Ve},function(e,t){De.prototype[t]=function(t,n){var i,r,o=this.length;if(e!==Ve&&v(2===e.length&&e!==Ue&&e!==je?t:n)){if(y(t)){for(i=0;i<o;i++)if(e===ke)e(this[i],t);else for(r in t)e(this[i],r,t[r]);return this}for(var a=e.$dv,s=v(a)?Math.min(o,1):o,l=0;l<s;l++){var c=e(this[l],t,n);a=a?a+c:c}return a}for(i=0;i<o;i++)e(this[i],t,n);return this}}),i({removeData:Ne,on:function(e,t,n,i){if(_(i))throw xr("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(Le(e)){var r=Me(e,!0),o=r.events,a=r.handle;a||(a=r.handle=Xe(e,o));for(var s=t.indexOf(" ")>=0?t.split(" "):[t],l=s.length,c=function(t,i,r){var s=o[t];s||(s=o[t]=[],s.specialHandlerWrapper=i,"$destroy"===t||r||Sr(e,t,a)),s.push(n)};l--;)t=s[l],wr[t]?(c(wr[t],Ke),c(t,void 0,!0)):c(t)}},off:Pe,one:function(e,t,n){e=Gi(e),e.on(t,function i(){e.off(t,n),e.off(t,i)}),e.on(t,n)},replaceWith:function(e,t){var n,r=e.parentNode;Ie(e),i(new De(t),function(t){n?r.insertBefore(t,n.nextSibling):r.replaceChild(t,e),n=t})},children:function(e){var t=[];return i(e.childNodes,function(e){e.nodeType===fr&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(n===fr||n===yr){t=new De(t);for(var i=0,r=t.length;i<r;i++){var o=t[i];e.appendChild(o)}}},prepend:function(e,t){if(e.nodeType===fr){var n=e.firstChild;i(new De(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){Oe(e,Gi(t).eq(0).clone()[0])},remove:He,detach:function(e){He(e,!0)},after:function(e,t){var n=e,i=e.parentNode;t=new De(t);for(var r=0,o=t.length;r<o;r++){var a=t[r];i.insertBefore(a,n.nextSibling),n=a}},addClass:$e,removeClass:Fe,toggleClass:function(e,t,n){t&&i(t.split(" "),function(t){var i=n;v(i)&&(i=!Ue(e,t)),(i?$e:Fe)(e,t)})},parent:function(e){var t=e.parentNode;return t&&t.nodeType!==yr?t:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:Re,triggerHandler:function(e,t,n){var r,o,a,s=t.type||t,l=Me(e),u=l&&l.events,d=u&&u[s];d&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:h,type:s,target:e},t.type&&(r=c(r,t)),o=ve(d),a=n?[r].concat(n):[r],i(o,function(t){r.isImmediatePropagationStopped()||t.apply(e,a)}))}},function(e,t){De.prototype[t]=function(t,n,i){for(var r,o=0,a=this.length;o<a;o++)v(r)?(r=e(this[o],t,n,i),_(r)&&(r=Gi(r))):Be(r,e(this[o],t,n,i));return _(r)?r:this},De.prototype.bind=De.prototype.on,De.prototype.unbind=De.prototype.off}),Qe.prototype={put:function(e,t){this[Ze(e,this.nextUid)]=t},get:function(e){return this[Ze(e,this.nextUid)]},remove:function(e){var t=this[e=Ze(e,this.nextUid)];return delete this[e],t}};var $r=[function(){this.$get=[function(){return Qe}]}],Br=/^([^\(]+?)=>/,jr=/^[^\(]*\(\s*([^\)]*)\)/m,Yr=/,/,Vr=/^\s*(_?)(\S+?)\1\s*$/,Hr=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Gr=t("$injector");rt.$$annotate=it;var Wr=t("$animate"),qr=1,Xr="ng-animate",zr=function(){this.$get=h},Kr=function(){var e=new Qe,t=[];this.$get=["$$AnimateRunner","$rootScope",function(n,r){function o(e,t,n){var r=!1;return t&&(t=b(t)?t.split(" "):ir(t)?t:[],i(t,function(t){t&&(r=!0,e[t]=n)})),r}function a(){i(t,function(t){var n=e.get(t);if(n){var r=lt(t.attr("class")),o="",a="";i(n,function(e,t){var n=!!r[t];e!==n&&(e?o+=(o.length?" ":"")+t:a+=(a.length?" ":"")+t)}),i(t,function(e){o&&$e(e,o),a&&Fe(e,a)}),e.remove(t)}}),t.length=0}function s(n,i,s){var l=e.get(n)||{},c=o(l,i,!0),u=o(l,s,!1);(c||u)&&(e.put(n,l),t.push(n),1===t.length&&r.$$postDigest(a))}return{enabled:h,on:h,off:h,pin:h,push:function(e,t,i,r){r&&r(),i=i||{},i.from&&e.css(i.from),i.to&&e.css(i.to),(i.addClass||i.removeClass)&&s(e,i.addClass,i.removeClass);var o=new n;return o.complete(),o}}}]},Jr=["$provide",function(e){var t=this;this.$$registeredAnimations=Object.create(null),this.register=function(n,i){if(n&&"."!==n.charAt(0))throw Wr("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var r=n+"-animation";t.$$registeredAnimations[n.substr(1)]=r,e.factory(r,i)},this.classNameFilter=function(e){if(1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null,this.$$classNameFilter)){var t=new RegExp("(\\s+|\\/)"+Xr+"(\\s+|\\/)");if(t.test(this.$$classNameFilter.toString()))throw Wr("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',Xr)}return this.$$classNameFilter},this.$get=["$$animateQueue",function(e){function t(e,t,n){if(n){var i=st(n);!i||i.parentNode||i.previousElementSibling||(n=null)}n?n.after(e):t.prepend(e)}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(e){e.end&&e.end()},enter:function(n,i,r,o){return i=i&&Gi(i),r=r&&Gi(r),i=i||r.parent(),t(n,i,r),e.push(n,"enter",ct(o))},move:function(n,i,r,o){return i=i&&Gi(i),r=r&&Gi(r),i=i||r.parent(),t(n,i,r),e.push(n,"move",ct(o))},leave:function(t,n){return e.push(t,"leave",ct(n),function(){t.remove()})},addClass:function(t,n,i){return i=ct(i),i.addClass=at(i.addclass,n),e.push(t,"addClass",i)},removeClass:function(t,n,i){return i=ct(i),i.removeClass=at(i.removeClass,n),e.push(t,"removeClass",i)},setClass:function(t,n,i,r){return r=ct(r),r.addClass=at(r.addClass,n),r.removeClass=at(r.removeClass,i),e.push(t,"setClass",r)},animate:function(t,n,i,r,o){return o=ct(o),o.from=o.from?c(o.from,n):n,o.to=o.to?c(o.to,i):i,r=r||"ng-inline-animate",o.tempClasses=at(o.tempClasses,r),e.push(t,"animate",o)}}}]}],Zr=function(){this.$get=["$$rAF",function(e){function t(t){n.push(t),n.length>1||e(function(){for(var e=0;e<n.length;e++)n[e]();n=[]})}var n=[];return function(){var e=!1;return t(function(){e=!0}),function(n){e?n():t(n)}}}]},Qr=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function(e,t,n,r,o){function a(e){this.setHost(e);var t=n(),i=function(e){o(e,0,!1)};this._doneCallbacks=[],this._tick=function(e){var n=r[0];n&&n.hidden?i(e):t(e)},this._state=0}var s=0,l=1,c=2;return a.chain=function(e,t){function n(){return i===e.length?void t(!0):void e[i](function(e){return e===!1?void t(!1):(i++,void n())})}var i=0;n()},a.all=function(e,t){function n(n){o=o&&n,++r===e.length&&t(o)}var r=0,o=!0;i(e,function(e){e.done(n)})},a.prototype={setHost:function(e){this.host=e||{}},done:function(e){this._state===c?e():this._doneCallbacks.push(e)},progress:h,getPromise:function(){if(!this.promise){var t=this;this.promise=e(function(e,n){t.done(function(t){t===!1?n():e()})})}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},catch:function(e){return this.getPromise().catch(e)},finally:function(e){return this.getPromise().finally(e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;t._state===s&&(t._state=l,t._tick(function(){t._resolve(e)}))},_resolve:function(e){this._state!==c&&(i(this._doneCallbacks,function(t){t(e)}),this._doneCallbacks.length=0,this._state=c)}},a}]},eo=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(e,t,n){return function(t,i){function r(){return e(function(){o(),s||l.complete(),s=!0}),l}function o(){a.addClass&&(t.addClass(a.addClass),a.addClass=null),a.removeClass&&(t.removeClass(a.removeClass),a.removeClass=null),a.to&&(t.css(a.to),a.to=null)}var a=i||{};a.$$prepared||(a=$(a)),a.cleanupStyles&&(a.from=a.to=null),a.from&&(t.css(a.from),a.from=null);var s,l=new n;return{start:r,end:r}}}]},to=t("$compile"),no=new ft;gt.$inject=["$provide","$$sanitizeUriProvider"],mt.prototype.isFirstChange=function(){return this.previousValue===no};var io=/^((?:x|data)[:\-_])/i,ro=t("$controller"),oo=/^(\S+)(\s+as\s+([\w$]+))?$/,ao=function(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof Gi&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]},so="application/json",lo={"Content-Type":so+";charset=utf-8"},co=/^\[|^\{(?!\{)/,uo={"[":/]$/,"{":/}$/},po=/^\)\]\}',?\n/,ho=t("$http"),fo=function(e){return function(){throw ho("legacy","The method `{0}` on the promise returned from `$http` has been disabled.",e)}},go=er.$interpolateMinErr=t("$interpolate");go.throwNoconcat=function(e){throw go("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",e)},go.interr=function(e,t){return go("interr","Can't interpolate: {0}\n{1}",e,t.toString())};var mo=function(){this.$get=["$window",function(e){function t(e){var t=function(e){t.data=e,t.called=!0};return t.id=e,t}var n=e.angular.callbacks,i={};return{createCallback:function(e){var r="_"+(n.$$counter++).toString(36),o="angular.callbacks."+r,a=t(r);return i[o]=n[r]=a,o},wasCalled:function(e){return i[e].called},getResponse:function(e){return i[e].data},removeCallback:function(e){var t=i[e];delete n[t.id],delete i[e]}}}]},vo=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,_o={http:80,https:443,ftp:21},yo=t("$location"),Eo=/^\s*[\\/]{2,}/,bo={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:Jt("$$absUrl"),url:function(e){if(v(e))return this.$$url;var t=vo.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:Jt("$$protocol"),host:Jt("$$host"),port:Jt("$$port"),path:Zt("$$path",function(e){return e=null!==e?e.toString():"","/"===e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(b(e)||T(e))e=e.toString(),this.$$search=Z(e);else{if(!y(e))throw yo("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");e=$(e,{}),i(e,function(t,n){null==t&&delete e[n]}),this.$$search=e}break;default:v(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:Zt("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};i([Kt,zt,Xt],function(e){e.prototype=Object.create(bo),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==Xt||!this.$$html5)throw yo("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=v(t)?null:t,this}});var To=t("$parse"),So=[].constructor,Lo=(!1).constructor,Ao=Function.constructor,Co=(0).constructor,wo={}.constructor,xo="".constructor,Oo=So.prototype,Do=Lo.prototype,Ro=Ao.prototype,Io=Co.prototype,Po=wo.prototype,No=xo.prototype,Mo=Ro.call,ko=Ro.apply,Uo=Ro.bind,Fo=Po.valueOf,$o=ge();i("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){$o[e]=!0});var Bo={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},jo=function(e){this.options=e};jo.prototype={constructor:jo,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t=this.text.charAt(this.index);if('"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var n=t+this.peek(),i=n+this.peek(2),r=$o[t],o=$o[n],a=$o[i];if(r||o||a){var s=a?i:o?n:t;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(e,t){return t.indexOf(e)!==-1},peek:function(e){var t=e||1;return this.index+t<this.text.length&&this.text.charAt(this.index+t)},isNumber:function(e){return"0"<=e&&e<="9"&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"\t"===e||"\n"===e||"\v"===e||" "===e},isIdentifierStart:function(e){return this.options.isIdentifierStart?this.options.isIdentifierStart(e,this.codePointAt(e)):this.isValidIdentifierStart(e)},isValidIdentifierStart:function(e){return"a"<=e&&e<="z"||"A"<=e&&e<="Z"||"_"===e||"$"===e},isIdentifierContinue:function(e){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(e,this.codePointAt(e)):this.isValidIdentifierContinue(e)},isValidIdentifierContinue:function(e,t){return this.isValidIdentifierStart(e,t)||this.isNumber(e)},codePointAt:function(e){return 1===e.length?e.charCodeAt(0):(e.charCodeAt(0)<<10)+e.charCodeAt(1)-56613888},peekMultichar:function(){var e=this.text.charAt(this.index),t=this.peek();if(!t)return e;var n=e.charCodeAt(0),i=t.charCodeAt(0);return n>=55296&&n<=56319&&i>=56320&&i<=57343?e+t:e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var i=_(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw To("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,i,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=Bi(this.text.charAt(this.index));if("."===n||this.isNumber(n))e+=n;else{var i=this.peek();if("e"===n&&this.isExpOperator(i))e+=n;else if(this.isExpOperator(n)&&i&&this.isNumber(i)&&"e"===e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||i&&this.isNumber(i)||"e"!==e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){var e=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var t=this.peekMultichar();if(!this.isIdentifierContinue(t))break;this.index+=t.length}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",i=e,r=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(i+=o,r){if("u"===o){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{var s=Bo[o];n+=s||o}r=!1}else if("\\"===o)r=!0;else{if(o===e)return this.index++,void this.tokens.push({index:t,text:i,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",t)}};var Yo=function(e,t){this.lexer=e,this.options=t};Yo.Program="Program",Yo.ExpressionStatement="ExpressionStatement",Yo.AssignmentExpression="AssignmentExpression",Yo.ConditionalExpression="ConditionalExpression",Yo.LogicalExpression="LogicalExpression",Yo.BinaryExpression="BinaryExpression",Yo.UnaryExpression="UnaryExpression",Yo.CallExpression="CallExpression",Yo.MemberExpression="MemberExpression",Yo.Identifier="Identifier",Yo.Literal="Literal",Yo.ArrayExpression="ArrayExpression",Yo.Property="Property",Yo.ObjectExpression="ObjectExpression",Yo.ThisExpression="ThisExpression",Yo.LocalsExpression="LocalsExpression",Yo.NGValueParameter="NGValueParameter",Yo.prototype={ast:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:Yo.Program,body:e}},expressionStatement:function(){return{type:Yo.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e=this.expression();this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();return this.expect("=")&&(e={type:Yo.AssignmentExpression,left:e,right:this.assignment(),operator:"="}),e},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:Yo.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:Yo.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:Yo.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:Yo.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:Yo.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:Yo.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:Yo.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:Yo.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?e=$(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?e={type:Yo.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var t;t=this.expect("(","[",".");)"("===t.text?(e={type:Yo.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:Yo.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:Yo.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){for(var t=[e],n={type:Yo.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return n},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)do e.push(this.filterChain());while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:Yo.Identifier,name:e.text}},constant:function(){return{type:Yo.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:Yo.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;e={type:Yo.Property,kind:"init"},this.peek().constant?(e.key=this.constant(),e.computed=!1,this.consume(":"),e.value=this.expression()):this.peek().identifier?(e.key=this.identifier(),e.computed=!1,this.peek(":")?(this.consume(":"),e.value=this.expression()):e.value=e.key):this.peek("[")?(this.consume("["),e.key=this.expression(),this.consume("]"),e.computed=!0,this.consume(":"),e.value=this.expression()):this.throwError("invalid key",this.peek()),t.push(e)}while(this.expect(","));return this.consume("}"),{type:Yo.ObjectExpression,properties:t}},throwError:function(e,t){throw To("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw To("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw To("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,i){return this.peekAhead(0,e,t,n,i)},peekAhead:function(e,t,n,i,r){if(this.tokens.length>e){var o=this.tokens[e],a=o.text;if(a===t||a===n||a===i||a===r||!t&&!n&&!i&&!r)return o}return!1},expect:function(e,t,n,i){var r=this.peek(e,t,n,i);return!!r&&(this.tokens.shift(),r)},selfReferential:{this:{type:Yo.ThisExpression},$locals:{type:Yo.LocalsExpression}}},mn.prototype={compile:function(e,t){var n=this,r=this.astBuilder.ast(e);this.state={nextId:0,filters:{},expensiveChecks:t,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},un(r,n.$filter);var o,a="";if(this.stage="assign",o=hn(r)){this.state.computing="assign";var s=this.nextId();this.recurse(o,s),this.return_(s),a="fn.assign="+this.generateFunction("assign","s,v,l")}var l=dn(r.body);n.stage="inputs",i(l,function(e,t){var i="fn"+t;n.state[i]={vars:[],body:[],own:{}},n.state.computing=i;var r=n.nextId();n.recurse(e,r),n.return_(r),n.state.inputs.push(i),e.watchId=t}),this.state.computing="fn",this.stage="main",this.recurse(r);var c='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+a+this.watchFns()+"return fn;",u=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",c)(this.$filter,tn,rn,on,nn,an,sn,ln,e);return this.state=this.stage=void 0,u.literal=fn(r),u.constant=gn(r),u},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return i(t,function(t){e.push("var "+t+"="+n.generateFunction(t,"s"))}),t.length&&e.push("fn.inputs=["+t.join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return i(this.state.filters,function(n,i){e.push(n+"=$filter("+t.escape(i)+")")}),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,n,r,o,a){var s,l,c,u,d,p=this;if(r=r||h,!a&&_(e.watchId))return t=t||this.nextId(),void this.if_("i",this.lazyAssign(t,this.computedMember("i",e.watchId)),this.lazyRecurse(e,t,n,r,o,!0));switch(e.type){case Yo.Program:i(e.body,function(t,n){p.recurse(t.expression,void 0,void 0,function(e){l=e}),n!==e.body.length-1?p.current().body.push(l,";"):p.return_(l)});break;case Yo.Literal:u=this.escape(e.value),this.assign(t,u),r(u);break;case Yo.UnaryExpression:this.recurse(e.argument,void 0,void 0,function(e){l=e}),u=e.operator+"("+this.ifDefined(l,0)+")",this.assign(t,u),r(u);break;case Yo.BinaryExpression:this.recurse(e.left,void 0,void 0,function(e){s=e}),this.recurse(e.right,void 0,void 0,function(e){l=e}),u="+"===e.operator?this.plus(s,l):"-"===e.operator?this.ifDefined(s,0)+e.operator+this.ifDefined(l,0):"("+s+")"+e.operator+"("+l+")",this.assign(t,u),r(u);break;case Yo.LogicalExpression:t=t||this.nextId(),p.recurse(e.left,t),p.if_("&&"===e.operator?t:p.not(t),p.lazyRecurse(e.right,t)),r(t);break;case Yo.ConditionalExpression:t=t||this.nextId(),p.recurse(e.test,t),p.if_(t,p.lazyRecurse(e.alternate,t),p.lazyRecurse(e.consequent,t)),r(t);break;case Yo.Identifier:t=t||this.nextId(),n&&(n.context="inputs"===p.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),n.computed=!1,n.name=e.name),tn(e.name),p.if_("inputs"===p.stage||p.not(p.getHasOwnProperty("l",e.name)),function(){p.if_("inputs"===p.stage||"s",function(){o&&1!==o&&p.if_(p.not(p.nonComputedMember("s",e.name)),p.lazyAssign(p.nonComputedMember("s",e.name),"{}")),p.assign(t,p.nonComputedMember("s",e.name))})},t&&p.lazyAssign(t,p.nonComputedMember("l",e.name))),(p.state.expensiveChecks||_n(e.name))&&p.addEnsureSafeObject(t),r(t);break;case Yo.MemberExpression:s=n&&(n.context=this.nextId())||this.nextId(),t=t||this.nextId(),p.recurse(e.object,s,void 0,function(){p.if_(p.notNull(s),function(){o&&1!==o&&p.addEnsureSafeAssignContext(s),e.computed?(l=p.nextId(),p.recurse(e.property,l),p.getStringValue(l),p.addEnsureSafeMemberName(l),o&&1!==o&&p.if_(p.not(p.computedMember(s,l)),p.lazyAssign(p.computedMember(s,l),"{}")),u=p.ensureSafeObject(p.computedMember(s,l)),p.assign(t,u),n&&(n.computed=!0,n.name=l)):(tn(e.property.name),o&&1!==o&&p.if_(p.not(p.nonComputedMember(s,e.property.name)),p.lazyAssign(p.nonComputedMember(s,e.property.name),"{}")),u=p.nonComputedMember(s,e.property.name),(p.state.expensiveChecks||_n(e.property.name))&&(u=p.ensureSafeObject(u)),p.assign(t,u),n&&(n.computed=!1,n.name=e.property.name))},function(){p.assign(t,"undefined")}),r(t)},!!o);break;case Yo.CallExpression:t=t||this.nextId(),e.filter?(l=p.filter(e.callee.name),c=[],i(e.arguments,function(e){var t=p.nextId();p.recurse(e,t),c.push(t)}),u=l+"("+c.join(",")+")",p.assign(t,u),r(t)):(l=p.nextId(),s={},c=[],p.recurse(e.callee,l,s,function(){p.if_(p.notNull(l),function(){p.addEnsureSafeFunction(l),i(e.arguments,function(e){p.recurse(e,p.nextId(),void 0,function(e){c.push(p.ensureSafeObject(e))})}),s.name?(p.state.expensiveChecks||p.addEnsureSafeObject(s.context),u=p.member(s.context,s.name,s.computed)+"("+c.join(",")+")"):u=l+"("+c.join(",")+")",u=p.ensureSafeObject(u),p.assign(t,u)},function(){p.assign(t,"undefined")}),r(t)}));break;case Yo.AssignmentExpression:if(l=this.nextId(),s={},!pn(e.left))throw To("lval","Trying to assign a value to a non l-value");this.recurse(e.left,void 0,s,function(){p.if_(p.notNull(s.context),function(){p.recurse(e.right,l),p.addEnsureSafeObject(p.member(s.context,s.name,s.computed)),p.addEnsureSafeAssignContext(s.context),u=p.member(s.context,s.name,s.computed)+e.operator+l,p.assign(t,u),r(t||u)})},1);break;case Yo.ArrayExpression:c=[],i(e.elements,function(e){p.recurse(e,p.nextId(),void 0,function(e){c.push(e)})}),u="["+c.join(",")+"]",this.assign(t,u),r(u);break;case Yo.ObjectExpression:c=[],d=!1,i(e.properties,function(e){e.computed&&(d=!0)}),d?(t=t||this.nextId(),this.assign(t,"{}"),i(e.properties,function(e){e.computed?(s=p.nextId(),p.recurse(e.key,s)):s=e.key.type===Yo.Identifier?e.key.name:""+e.key.value,l=p.nextId(),p.recurse(e.value,l),p.assign(p.member(t,s,e.computed),l)})):(i(e.properties,function(t){p.recurse(t.value,e.constant?void 0:p.nextId(),void 0,function(e){c.push(p.escape(t.key.type===Yo.Identifier?t.key.name:""+t.key.value)+":"+e)})}),u="{"+c.join(",")+"}",this.assign(t,u)),r(t||u);break;case Yo.ThisExpression:this.assign(t,"s"),r("s");break;case Yo.LocalsExpression:this.assign(t,"l"),r("l");break;case Yo.NGValueParameter:this.assign(t,"v"),r("v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,i=this.current().own;return i.hasOwnProperty(n)||(i[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),i[n]},assign:function(e,t){if(e)return this.current().body.push(e,"=",t,";"),e},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){if(e===!0)t();else{var i=this.current().body;i.push("if(",e,"){"),t(),i.push("}"),n&&(i.push("else{"),n(),i.push("}"))}},not:function(e){return"!("+e+")"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){var n=/^[$_a-zA-Z][$_a-zA-Z0-9]*$/,i=/[^$_a-zA-Z0-9]/g;return n.test(t)?e+"."+t:e+'["'+t.replace(i,this.stringEscapeFn)+'"]'},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},addEnsureSafeObject:function(e){this.current().body.push(this.ensureSafeObject(e),";")},addEnsureSafeMemberName:function(e){this.current().body.push(this.ensureSafeMemberName(e),";")},addEnsureSafeFunction:function(e){this.current().body.push(this.ensureSafeFunction(e),";")},addEnsureSafeAssignContext:function(e){this.current().body.push(this.ensureSafeAssignContext(e),";")},ensureSafeObject:function(e){
return"ensureSafeObject("+e+",text)"},ensureSafeMemberName:function(e){return"ensureSafeMemberName("+e+",text)"},ensureSafeFunction:function(e){return"ensureSafeFunction("+e+",text)"},getStringValue:function(e){this.assign(e,"getStringValue("+e+")")},ensureSafeAssignContext:function(e){return"ensureSafeAssignContext("+e+",text)"},lazyRecurse:function(e,t,n,i,r,o){var a=this;return function(){a.recurse(e,t,n,i,r,o)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(b(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(T(e))return e.toString();if(e===!0)return"true";if(e===!1)return"false";if(null===e)return"null";if("undefined"==typeof e)return"undefined";throw To("esc","IMPOSSIBLE")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},vn.prototype={compile:function(e,t){var n=this,r=this.astBuilder.ast(e);this.expression=e,this.expensiveChecks=t,un(r,n.$filter);var o,a;(o=hn(r))&&(a=this.recurse(o));var s,l=dn(r.body);l&&(s=[],i(l,function(e,t){var i=n.recurse(e);e.input=i,s.push(i),e.watchId=t}));var c=[];i(r.body,function(e){c.push(n.recurse(e.expression))});var u=0===r.body.length?h:1===r.body.length?c[0]:function(e,t){var n;return i(c,function(i){n=i(e,t)}),n};return a&&(u.assign=function(e,t,n){return a(e,n,t)}),s&&(u.inputs=s),u.literal=fn(r),u.constant=gn(r),u},recurse:function(e,t,n){var r,o,a,s=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case Yo.Literal:return this.value(e.value,t);case Yo.UnaryExpression:return o=this.recurse(e.argument),this["unary"+e.operator](o,t);case Yo.BinaryExpression:return r=this.recurse(e.left),o=this.recurse(e.right),this["binary"+e.operator](r,o,t);case Yo.LogicalExpression:return r=this.recurse(e.left),o=this.recurse(e.right),this["binary"+e.operator](r,o,t);case Yo.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case Yo.Identifier:return tn(e.name,s.expression),s.identifier(e.name,s.expensiveChecks||_n(e.name),t,n,s.expression);case Yo.MemberExpression:return r=this.recurse(e.object,!1,!!n),e.computed||(tn(e.property.name,s.expression),o=e.property.name),e.computed&&(o=this.recurse(e.property)),e.computed?this.computedMember(r,o,t,n,s.expression):this.nonComputedMember(r,o,s.expensiveChecks,t,n,s.expression);case Yo.CallExpression:return a=[],i(e.arguments,function(e){a.push(s.recurse(e))}),e.filter&&(o=this.$filter(e.callee.name)),e.filter||(o=this.recurse(e.callee,!0)),e.filter?function(e,n,i,r){for(var s=[],l=0;l<a.length;++l)s.push(a[l](e,n,i,r));var c=o.apply(void 0,s,r);return t?{context:void 0,name:void 0,value:c}:c}:function(e,n,i,r){var l,c=o(e,n,i,r);if(null!=c.value){rn(c.context,s.expression),on(c.value,s.expression);for(var u=[],d=0;d<a.length;++d)u.push(rn(a[d](e,n,i,r),s.expression));l=rn(c.value.apply(c.context,u),s.expression)}return t?{value:l}:l};case Yo.AssignmentExpression:return r=this.recurse(e.left,!0,1),o=this.recurse(e.right),function(e,n,i,a){var l=r(e,n,i,a),c=o(e,n,i,a);return rn(l.value,s.expression),an(l.context),l.context[l.name]=c,t?{value:c}:c};case Yo.ArrayExpression:return a=[],i(e.elements,function(e){a.push(s.recurse(e))}),function(e,n,i,r){for(var o=[],s=0;s<a.length;++s)o.push(a[s](e,n,i,r));return t?{value:o}:o};case Yo.ObjectExpression:return a=[],i(e.properties,function(e){e.computed?a.push({key:s.recurse(e.key),computed:!0,value:s.recurse(e.value)}):a.push({key:e.key.type===Yo.Identifier?e.key.name:""+e.key.value,computed:!1,value:s.recurse(e.value)})}),function(e,n,i,r){for(var o={},s=0;s<a.length;++s)a[s].computed?o[a[s].key(e,n,i,r)]=a[s].value(e,n,i,r):o[a[s].key]=a[s].value(e,n,i,r);return t?{value:o}:o};case Yo.ThisExpression:return function(e){return t?{value:e}:e};case Yo.LocalsExpression:return function(e,n){return t?{value:n}:n};case Yo.NGValueParameter:return function(e,n,i){return t?{value:i}:i}}},"unary+":function(e,t){return function(n,i,r,o){var a=e(n,i,r,o);return a=_(a)?+a:0,t?{value:a}:a}},"unary-":function(e,t){return function(n,i,r,o){var a=e(n,i,r,o);return a=_(a)?-a:0,t?{value:a}:a}},"unary!":function(e,t){return function(n,i,r,o){var a=!e(n,i,r,o);return t?{value:a}:a}},"binary+":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a),l=t(i,r,o,a),c=ln(s,l);return n?{value:c}:c}},"binary-":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a),l=t(i,r,o,a),c=(_(s)?s:0)-(_(l)?l:0);return n?{value:c}:c}},"binary*":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)*t(i,r,o,a);return n?{value:s}:s}},"binary/":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)/t(i,r,o,a);return n?{value:s}:s}},"binary%":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)%t(i,r,o,a);return n?{value:s}:s}},"binary===":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)===t(i,r,o,a);return n?{value:s}:s}},"binary!==":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)!==t(i,r,o,a);return n?{value:s}:s}},"binary==":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)==t(i,r,o,a);return n?{value:s}:s}},"binary!=":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)!=t(i,r,o,a);return n?{value:s}:s}},"binary<":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)<t(i,r,o,a);return n?{value:s}:s}},"binary>":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)>t(i,r,o,a);return n?{value:s}:s}},"binary<=":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)<=t(i,r,o,a);return n?{value:s}:s}},"binary>=":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)>=t(i,r,o,a);return n?{value:s}:s}},"binary&&":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)&&t(i,r,o,a);return n?{value:s}:s}},"binary||":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a)||t(i,r,o,a);return n?{value:s}:s}},"ternary?:":function(e,t,n,i){return function(r,o,a,s){var l=e(r,o,a,s)?t(r,o,a,s):n(r,o,a,s);return i?{value:l}:l}},value:function(e,t){return function(){return t?{context:void 0,name:void 0,value:e}:e}},identifier:function(e,t,n,i,r){return function(o,a,s,l){var c=a&&e in a?a:o;i&&1!==i&&c&&!c[e]&&(c[e]={});var u=c?c[e]:void 0;return t&&rn(u,r),n?{context:c,name:e,value:u}:u}},computedMember:function(e,t,n,i,r){return function(o,a,s,l){var c,u,d=e(o,a,s,l);return null!=d&&(c=t(o,a,s,l),c=nn(c),tn(c,r),i&&1!==i&&(an(d),d&&!d[c]&&(d[c]={})),u=d[c],rn(u,r)),n?{context:d,name:c,value:u}:u}},nonComputedMember:function(e,t,n,i,r,o){return function(a,s,l,c){var u=e(a,s,l,c);r&&1!==r&&(an(u),u&&!u[t]&&(u[t]={}));var d=null!=u?u[t]:void 0;return(n||_n(t))&&rn(d,o),i?{context:u,name:t,value:d}:d}},inputs:function(e,t){return function(n,i,r,o){return o?o[t]:e(n,i,r)}}};var Vo=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n,this.ast=new Yo(e,n),this.astCompiler=n.csp?new vn(this.ast,t):new mn(this.ast,t)};Vo.prototype={constructor:Vo,parse:function(e){return this.astCompiler.compile(e,this.options.expensiveChecks)}};var Ho=t("$sce"),Go={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Wo=t("$compile"),qo=e.document.createElement("a"),Xo=Mn(e.location.href);Fn.$inject=["$document"],Bn.$inject=["$provide"];var zo=22,Ko=".",Jo="0";Gn.$inject=["$locale"],Wn.$inject=["$locale"];var Zo={yyyy:Jn("FullYear",4,0,!1,!0),yy:Jn("FullYear",2,0,!0,!0),y:Jn("FullYear",1,0,!1,!0),MMMM:Zn("Month"),MMM:Zn("Month",!0),MM:Jn("Month",2,1),M:Jn("Month",1,1),LLLL:Zn("Month",!1,!0),dd:Jn("Date",2),d:Jn("Date",1),HH:Jn("Hours",2),H:Jn("Hours",1),hh:Jn("Hours",2,-12),h:Jn("Hours",1,-12),mm:Jn("Minutes",2),m:Jn("Minutes",1),ss:Jn("Seconds",2),s:Jn("Seconds",1),sss:Jn("Milliseconds",3),EEEE:Zn("Day"),EEE:Zn("Day",!0),a:ii,Z:Qn,ww:ni(2),w:ni(1),G:ri,GG:ri,GGG:ri,GGGG:oi},Qo=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,ea=/^\-?\d+$/;ai.$inject=["$locale"];var ta=g(Bi),na=g(ji);ui.$inject=["$parse"];var ia=g({restrict:"E",compile:function(e,t){if(!t.href&&!t.xlinkHref)return function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===Ji.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}}),ra={};i(kr,function(e,t){function n(e,n,r){e.$watch(r[i],function(e){r.$set(t,!!e)})}if("multiple"!==e){var i=vt("ng-"+t),r=n;"checked"===e&&(r=function(e,t,r){r.ngModel!==r[i]&&n(e,t,r)}),ra[i]=function(){return{restrict:"A",priority:100,link:r}}}}),i(Fr,function(e,t){ra[t]=function(){return{priority:100,link:function(e,n,i){if("ngPattern"===t&&"/"===i.ngPattern.charAt(0)){var r=i.ngPattern.match(Ui);if(r)return void i.$set("ngPattern",new RegExp(r[1],r[2]))}e.$watch(i[t],function(e){i.$set(t,e)})}}}}),i(["src","srcset","href"],function(e){var t=vt("ng-"+e);ra[t]=function(){return{priority:99,link:function(n,i,r){var o=e,a=e;"href"===e&&"[object SVGAnimatedString]"===Ji.call(i.prop("href"))&&(a="xlinkHref",r.$attr[a]="xlink:href",o=null),r.$observe(t,function(t){return t?(r.$set(a,t),void(Hi&&o&&i.prop(o,r[a]))):void("href"===e&&r.$set(a,null))})}}}});var oa={$addControl:h,$$renameControl:pi,$removeControl:h,$setValidity:h,$setDirty:h,$setPristine:h,$setSubmitted:h},aa="ng-submitted";hi.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var sa=function(e){return["$timeout","$parse",function(t,n){function i(e){return""===e?n('this[""]').assign:n(e).assign||h}var r={name:"form",restrict:e?"EAC":"E",require:["form","^^?form"],controller:hi,compile:function(n,r){n.addClass(Va).addClass(ja);var o=r.name?"name":!(!e||!r.ngForm)&&"ngForm";return{pre:function(e,n,r,a){var s=a[0];if(!("action"in r)){var l=function(t){e.$apply(function(){s.$commitViewValue(),s.$setSubmitted()}),t.preventDefault()};Sr(n[0],"submit",l),n.on("$destroy",function(){t(function(){Lr(n[0],"submit",l)},0,!1)})}var u=a[1]||s.$$parentForm;u.$addControl(s);var d=o?i(s.$name):h;o&&(d(e,s),r.$observe(o,function(t){s.$name!==t&&(d(e,void 0),s.$$parentForm.$$renameControl(s,t),(d=i(s.$name))(e,s))})),n.on("$destroy",function(){s.$$parentForm.$removeControl(s),d(e,void 0),c(s,oa)})}}}};return r}]},la=sa(),ca=sa(!0),ua=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,da=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:\/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,pa=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,ha=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,fa=/^(\d{4,})-(\d{2})-(\d{2})$/,ga=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,ma=/^(\d{4,})-W(\d\d)$/,va=/^(\d{4,})-(\d\d)$/,_a=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,ya="keydown wheel mousedown",Ea=ge();i("date,datetime-local,month,time,week".split(","),function(e){Ea[e]=!0});var ba={text:gi,date:yi("date",fa,_i(fa,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":yi("datetimelocal",ga,_i(ga,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:yi("time",_a,_i(_a,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:yi("week",ma,vi,"yyyy-Www"),month:yi("month",va,_i(va,["yyyy","MM"]),"yyyy-MM"),number:Ci,url:xi,email:Oi,radio:Di,range:wi,checkbox:Ii,hidden:h,button:h,submit:h,reset:h,file:h},Ta=["$browser","$sniffer","$filter","$parse",function(e,t,n,i){return{restrict:"E",require:["?ngModel"],link:{pre:function(r,o,a,s){if(s[0]){var l=Bi(a.type);"range"!==l||a.hasOwnProperty("ngInputRange")||(l="text"),(ba[l]||ba.text)(r,o,a,s[0],t,e,n,i)}}}}}],Sa=/^(true|false|\d+)$/,La=function(){return{restrict:"A",priority:100,compile:function(e,t){return Sa.test(t.ngValue)?function(e,t,n){n.$set("value",e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){n.$set("value",e)})}}}},Aa=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,n,i){e.$$addBindingInfo(n,i.ngBind),n=n[0],t.$watch(i.ngBind,function(e){n.textContent=v(e)?"":e})}}}}],Ca=["$interpolate","$compile",function(e,t){return{compile:function(n){return t.$$addBindingClass(n),function(n,i,r){var o=e(i.attr(r.$attr.ngBindTemplate));t.$$addBindingInfo(i,o.expressions),i=i[0],r.$observe("ngBindTemplate",function(e){i.textContent=v(e)?"":e})}}}}],wa=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(i,r){var o=t(r.ngBindHtml),a=t(r.ngBindHtml,function(t){return e.valueOf(t)});return n.$$addBindingClass(i),function(t,i,r){n.$$addBindingInfo(i,r.ngBindHtml),t.$watch(a,function(){var n=o(t);i.html(e.getTrustedHtml(n)||"")})}}}}],xa=g({restrict:"A",require:"ngModel",link:function(e,t,n,i){i.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),Oa=Pi("",!0),Da=Pi("Odd",0),Ra=Pi("Even",1),Ia=di({compile:function(e,t){t.$set("ngCloak",void 0),e.removeClass("ng-cloak")}}),Pa=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Na={},Ma={blur:!0,focus:!0};i("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=vt("ng-"+e);Na[t]=["$parse","$rootScope",function(n,i){return{restrict:"A",compile:function(r,o){var a=n(o[t],null,!0);return function(t,n){n.on(e,function(n){var r=function(){a(t,{$event:n})};Ma[e]&&i.$$phase?t.$evalAsync(r):t.$apply(r)})}}}}]});var ka=["$animate","$compile",function(e,t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,i,r,o,a){var s,l,c;n.$watch(r.ngIf,function(n){n?l||a(function(n,o){l=o,n[n.length++]=t.$$createComment("end ngIf",r.ngIf),s={clone:n},e.enter(n,i.parent(),i)}):(c&&(c.remove(),c=null),l&&(l.$destroy(),l=null),s&&(c=fe(s.clone),e.leave(c).then(function(){c=null}),s=null))})}}}],Ua=["$templateRequest","$anchorScroll","$animate",function(e,t,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:er.noop,compile:function(i,r){var o=r.ngInclude||r.src,a=r.onload||"",s=r.autoscroll;return function(i,r,l,c,u){var d,p,h,f=0,g=function(){p&&(p.remove(),p=null),d&&(d.$destroy(),d=null),h&&(n.leave(h).then(function(){p=null}),p=h,h=null)};i.$watch(o,function(o){var l=function(){!_(s)||s&&!i.$eval(s)||t()},p=++f;o?(e(o,!0).then(function(e){if(!i.$$destroyed&&p===f){var t=i.$new();c.template=e;var s=u(t,function(e){g(),n.enter(e,null,r).then(l)});d=t,h=s,d.$emit("$includeContentLoaded",o),i.$eval(a)}},function(){i.$$destroyed||p===f&&(g(),i.$emit("$includeContentError",o))}),i.$emit("$includeContentRequested",o)):(g(),c.template=null)})}}}}],Fa=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,i,r,o){return Ji.call(i[0]).match(/SVG/)?(i.empty(),void t(we(o.template,e.document).childNodes)(n,function(e){i.append(e)},{futureParentElement:i})):(i.html(o.template),void t(i.contents())(n))}}}],$a=di({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),Ba=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,n,r){var o=t.attr(n.$attr.ngList)||", ",a="false"!==n.ngTrim,s=a?or(o):o,l=function(e){if(!v(e)){var t=[];return e&&i(e.split(s),function(e){e&&t.push(a?or(e):e)}),t}};r.$parsers.push(l),r.$formatters.push(function(e){if(ir(e))return e.join(o)}),r.$isEmpty=function(e){return!e||!e.length}}}},ja="ng-valid",Ya="ng-invalid",Va="ng-pristine",Ha="ng-dirty",Ga="ng-untouched",Wa="ng-touched",qa="ng-pending",Xa="ng-empty",za="ng-not-empty",Ka=t("ngModel"),Ja=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(e,t,n,r,o,a,s,l,c,u){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=u(n.name||"",!1)(e),this.$$parentForm=oa;var d,p=o(n.ngModel),f=p.assign,g=p,m=f,y=null,E=this;this.$$setOptions=function(e){if(E.$options=e,e&&e.getterSetter){var t=o(n.ngModel+"()"),i=o(n.ngModel+"($$$p)");g=function(e){var n=p(e);return L(n)&&(n=t(e)),n},m=function(e,t){L(p(e))?i(e,{$$$p:t}):f(e,t)}}else if(!p.assign)throw Ka("nonassign","Expression '{0}' is non-assignable. Element: {1}",n.ngModel,K(r))},this.$render=h,this.$isEmpty=function(e){return v(e)||""===e||null===e||e!==e},this.$$updateEmptyClasses=function(e){E.$isEmpty(e)?(a.removeClass(r,za),a.addClass(r,Xa)):(a.removeClass(r,Xa),a.addClass(r,za))};var b=0;Ni({ctrl:this,$element:r,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]},$animate:a}),this.$setPristine=function(){E.$dirty=!1,E.$pristine=!0,a.removeClass(r,Ha),a.addClass(r,Va)},this.$setDirty=function(){E.$dirty=!0,E.$pristine=!1,a.removeClass(r,Va),a.addClass(r,Ha),E.$$parentForm.$setDirty()},this.$setUntouched=function(){E.$touched=!1,E.$untouched=!0,a.setClass(r,Ga,Wa)},this.$setTouched=function(){E.$touched=!0,E.$untouched=!1,a.setClass(r,Wa,Ga)},this.$rollbackViewValue=function(){s.cancel(y),E.$viewValue=E.$$lastCommittedViewValue,E.$render()},this.$validate=function(){if(!nr(E.$modelValue)){var e=E.$$lastCommittedViewValue,t=E.$$rawModelValue,n=E.$valid,i=E.$modelValue,r=E.$options&&E.$options.allowInvalid;E.$$runValidators(t,e,function(e){r||n===e||(E.$modelValue=e?t:void 0,E.$modelValue!==i&&E.$$writeModelToScope())})}},this.$$runValidators=function(e,t,n){function r(){var e=E.$$parserName||"parse";return v(d)?(s(e,null),!0):(d||(i(E.$validators,function(e,t){s(t,null)}),i(E.$asyncValidators,function(e,t){s(t,null)})),s(e,d),d)}function o(){var n=!0;return i(E.$validators,function(i,r){var o=i(e,t);n=n&&o,s(r,o)}),!!n||(i(E.$asyncValidators,function(e,t){s(t,null)}),!1)}function a(){var n=[],r=!0;i(E.$asyncValidators,function(i,o){var a=i(e,t);if(!I(a))throw Ka("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",a);s(o,void 0),n.push(a.then(function(){s(o,!0)},function(){r=!1,s(o,!1)}))}),n.length?c.all(n).then(function(){l(r)},h):l(!0)}function s(e,t){u===b&&E.$setValidity(e,t)}function l(e){u===b&&n(e)}b++;var u=b;return r()&&o()?void a():void l(!1)},this.$commitViewValue=function(){var e=E.$viewValue;s.cancel(y),(E.$$lastCommittedViewValue!==e||""===e&&E.$$hasNativeValidators)&&(E.$$updateEmptyClasses(e),E.$$lastCommittedViewValue=e,E.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function t(){E.$modelValue!==o&&E.$$writeModelToScope()}var n=E.$$lastCommittedViewValue,i=n;if(d=!v(i)||void 0)for(var r=0;r<E.$parsers.length;r++)if(i=E.$parsers[r](i),v(i)){d=!1;break}nr(E.$modelValue)&&(E.$modelValue=g(e));var o=E.$modelValue,a=E.$options&&E.$options.allowInvalid;E.$$rawModelValue=i,a&&(E.$modelValue=i,t()),E.$$runValidators(i,E.$$lastCommittedViewValue,function(e){a||(E.$modelValue=e?i:void 0,t())})},this.$$writeModelToScope=function(){m(e,E.$modelValue),i(E.$viewChangeListeners,function(e){try{e()}catch(e){t(e)}})},this.$setViewValue=function(e,t){E.$viewValue=e,E.$options&&!E.$options.updateOnDefault||E.$$debounceViewValueCommit(t)},this.$$debounceViewValueCommit=function(t){var n,i=0,r=E.$options;r&&_(r.debounce)&&(n=r.debounce,T(n)?i=n:T(n[t])?i=n[t]:T(n.default)&&(i=n.default)),s.cancel(y),i?y=s(function(){E.$commitViewValue()},i):l.$$phase?E.$commitViewValue():e.$apply(function(){E.$commitViewValue()})},e.$watch(function(){var t=g(e);if(t!==E.$modelValue&&(E.$modelValue===E.$modelValue||t===t)){E.$modelValue=E.$$rawModelValue=t,d=void 0;for(var n=E.$formatters,i=n.length,r=t;i--;)r=n[i](r);E.$viewValue!==r&&(E.$$updateEmptyClasses(r),E.$viewValue=E.$$lastCommittedViewValue=r,E.$render(),E.$$runValidators(E.$modelValue,E.$viewValue,h))}return t})}],Za=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Ja,priority:1,compile:function(t){return t.addClass(Va).addClass(Ga).addClass(ja),{pre:function(e,t,n,i){var r=i[0],o=i[1]||r.$$parentForm;r.$$setOptions(i[2]&&i[2].$options),o.$addControl(r),n.$observe("name",function(e){r.$name!==e&&r.$$parentForm.$$renameControl(r,e)}),e.$on("$destroy",function(){r.$$parentForm.$removeControl(r)})},post:function(t,n,i,r){var o=r[0];o.$options&&o.$options.updateOn&&n.on(o.$options.updateOn,function(e){o.$$debounceViewValueCommit(e&&e.type)}),n.on("blur",function(){o.$touched||(e.$$phase?t.$evalAsync(o.$setTouched):t.$apply(o.$setTouched))})}}}}}],Qa=/(\s+|^)default(\s+|$)/,es=function(){return{restrict:"A",controller:["$scope","$attrs",function(e,t){var n=this;this.$options=$(e.$eval(t.ngModelOptions)),_(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=or(this.$options.updateOn.replace(Qa,function(){return n.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},ts=di({terminal:!0,priority:1e3}),ns=t("ngOptions"),is=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,rs=["$compile","$document","$parse",function(t,r,o){function a(e,t,i){function r(e,t,n,i,r){this.selectValue=e,this.viewValue=t,this.label=n,this.group=i,this.disabled=r}function a(e){var t;if(!c&&n(e))t=e;else{t=[];for(var i in e)e.hasOwnProperty(i)&&"$"!==i.charAt(0)&&t.push(i)}return t}var s=e.match(is);if(!s)throw ns("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",e,K(t));var l=s[5]||s[7],c=s[6],u=/ as /.test(s[0])&&s[1],d=s[9],p=o(s[2]?s[1]:l),h=u&&o(u),f=h||p,g=d&&o(d),m=d?function(e,t){return g(i,t)}:function(e){return Ze(e)},v=function(e,t){return m(e,S(e,t))},_=o(s[2]||s[1]),y=o(s[3]||""),E=o(s[4]||""),b=o(s[8]),T={},S=c?function(e,t){return T[c]=t,T[l]=e,T}:function(e){return T[l]=e,T};return{trackBy:d,getTrackByValue:v,getWatchables:o(b,function(e){var t=[];e=e||[];for(var n=a(e),r=n.length,o=0;o<r;o++){var l=e===n?o:n[o],c=e[l],u=S(c,l),d=m(c,u);if(t.push(d),s[2]||s[1]){var p=_(i,u);t.push(p)}if(s[4]){var h=E(i,u);t.push(h)}}return t}),getOptions:function(){for(var e=[],t={},n=b(i)||[],o=a(n),s=o.length,l=0;l<s;l++){var c=n===o?l:o[l],u=n[c],p=S(u,c),h=f(i,p),g=m(h,p),T=_(i,p),L=y(i,p),A=E(i,p),C=new r(g,h,T,L,A);e.push(C),t[g]=C}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[v(e)]},getViewValueFromOption:function(e){return d?er.copy(e.viewValue):e.viewValue}}}}}function s(e,n,o,s){function u(e,t){var n=l.cloneNode(!1);t.appendChild(n),d(e,n)}function d(e,t){e.element=t,t.disabled=e.disabled,e.label!==t.label&&(t.label=e.label,t.textContent=e.label),e.value!==t.value&&(t.value=e.selectValue)}function p(){var e=S&&f.readValue();if(S)for(var t=S.items.length-1;t>=0;t--){var i=S.items[t];He(_(i.group)?i.element.parentNode:i.element)}S=L.getOptions();var r={};if(b&&n.prepend(h),S.items.forEach(function(e){var t;_(e.group)?(t=r[e.group],t||(t=c.cloneNode(!1),A.appendChild(t),t.label=null===e.group?"null":e.group,r[e.group]=t),u(e,t)):u(e,A)}),n[0].appendChild(A),g.$render(),!g.$isEmpty(e)){var o=f.readValue(),a=L.trackBy||m;(a?B(e,o):e===o)||(g.$setViewValue(o),g.$render())}}for(var h,f=s[0],g=s[1],m=o.multiple,v=0,y=n.children(),E=y.length;v<E;v++)if(""===y[v].value){h=y.eq(v);break}var b=!!h,T=Gi(l.cloneNode(!1));T.val("?");var S,L=a(o.ngOptions,n,e),A=r[0].createDocumentFragment(),C=function(){b||n.prepend(h),n.val(""),h.prop("selected",!0),h.attr("selected",!0)},w=function(){b?h.removeAttr("selected"):h.remove()},x=function(){n.prepend(T),n.val("?"),T.prop("selected",!0),T.attr("selected",!0)},O=function(){T.remove()};m?(g.$isEmpty=function(e){return!e||0===e.length},f.writeValue=function(e){S.items.forEach(function(e){e.element.selected=!1}),e&&e.forEach(function(e){var t=S.getOptionFromViewValue(e);t&&(t.element.selected=!0)})},f.readValue=function(){var e=n.val()||[],t=[];return i(e,function(e){var n=S.selectValueMap[e];n&&!n.disabled&&t.push(S.getViewValueFromOption(n))}),t},L.trackBy&&e.$watchCollection(function(){if(ir(g.$viewValue))return g.$viewValue.map(function(e){return L.getTrackByValue(e)})},function(){g.$render()})):(f.writeValue=function(e){var t=S.selectValueMap[n.val()],i=S.getOptionFromViewValue(e);t&&t.element.removeAttribute("selected"),i?(n[0].value!==i.selectValue&&(O(),w(),n[0].value=i.selectValue,i.element.selected=!0),i.element.setAttribute("selected","selected")):null===e||b?(O(),C()):(w(),x())},f.readValue=function(){var e=S.selectValueMap[n.val()];return e&&!e.disabled?(w(),O(),S.getViewValueFromOption(e)):null},L.trackBy&&e.$watch(function(){return L.getTrackByValue(g.$viewValue)},function(){g.$render()})),b?(h.remove(),t(h)(e),h.removeClass("ng-scope")):h=Gi(l.cloneNode(!1)),n.empty(),p(),e.$watchCollection(L.getWatchables,p)}var l=e.document.createElement("option"),c=e.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(e,t,n,i){i[0].registerOption=h},post:s}}}],os=["$locale","$interpolate","$log",function(e,t,n){var r=/{}/g,o=/^when(Minus)?(.+)$/;return{link:function(a,s,l){function c(e){s.text(e||"")}var u,d=l.count,p=l.$attr.when&&s.attr(l.$attr.when),f=l.offset||0,g=a.$eval(p)||{},m={},_=t.startSymbol(),y=t.endSymbol(),E=_+d+"-"+f+y,b=er.noop;i(l,function(e,t){var n=o.exec(t);if(n){var i=(n[1]?"-":"")+Bi(n[2]);g[i]=s.attr(l.$attr[t])}}),i(g,function(e,n){m[n]=t(e.replace(r,E))}),a.$watch(d,function(t){var i=parseFloat(t),r=nr(i);if(r||i in g||(i=e.pluralCat(i-f)),!(i===u||r&&nr(u))){b();var o=m[i];v(o)?(null!=t&&n.debug("ngPluralize: no rule defined for '"+i+"' in "+p),b=h,c()):b=a.$watch(o,c),u=i}})}}}],as=["$parse","$animate","$compile",function(e,r,o){var a="$$NG_REMOVED",s=t("ngRepeat"),l=function(e,t,n,i,r,o,a){e[n]=i,r&&(e[r]=o),e.$index=t,e.$first=0===t,e.$last=t===a-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0===(1&t))},c=function(e){return e.clone[0]},u=function(e){return e.clone[e.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(t,d){var p=d.ngRepeat,h=o.$$createComment("end ngRepeat",p),f=p.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!f)throw s("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",p);var g=f[1],m=f[2],v=f[3],_=f[4];if(f=g.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!f)throw s("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",g);var y=f[3]||f[1],E=f[2];if(v&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(v)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(v)))throw s("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",v);var b,T,S,L,A={$id:Ze};return _?b=e(_):(S=function(e,t){return Ze(t)},L=function(e){return e}),function(e,t,o,d,f){b&&(T=function(t,n,i){return E&&(A[E]=t),A[y]=n,A.$index=i,b(e,A)});var g=ge();e.$watchCollection(m,function(o){var d,m,_,b,A,C,w,x,O,D,R,I,P=t[0],N=ge();if(v&&(e[v]=o),n(o))O=o,x=T||S;else{x=T||L,O=[];for(var M in o)$i.call(o,M)&&"$"!==M.charAt(0)&&O.push(M)}for(b=O.length,R=new Array(b),d=0;d<b;d++)if(A=o===O?d:O[d],C=o[A],w=x(A,C,d),g[w])D=g[w],delete g[w],N[w]=D,R[d]=D;else{if(N[w])throw i(R,function(e){e&&e.scope&&(g[e.id]=e)}),s("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",p,w,C);R[d]={id:w,scope:void 0,clone:void 0},N[w]=!0}for(var k in g){if(D=g[k],I=fe(D.clone),r.leave(I),I[0].parentNode)for(d=0,m=I.length;d<m;d++)I[d][a]=!0;D.scope.$destroy()}for(d=0;d<b;d++)if(A=o===O?d:O[d],C=o[A],D=R[d],D.scope){_=P;do _=_.nextSibling;while(_&&_[a]);c(D)!==_&&r.move(fe(D.clone),null,P),P=u(D),l(D.scope,d,y,C,E,A,b)}else f(function(e,t){D.scope=t;var n=h.cloneNode(!1);e[e.length++]=n,r.enter(e,null,P),P=n,D.clone=e,N[D.id]=D,l(D.scope,d,y,C,E,A,b)});g=N})}}}}],ss="ng-hide",ls="ng-hide-animate",cs=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,i){t.$watch(i.ngShow,function(t){e[t?"removeClass":"addClass"](n,ss,{tempClasses:ls})})}}}],us=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,i){t.$watch(i.ngHide,function(t){e[t?"addClass":"removeClass"](n,ss,{tempClasses:ls})})}}}],ds=di(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&i(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),ps=["$animate","$compile",function(e,t){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,r,o,a){var s=o.ngSwitch||o.on,l=[],c=[],u=[],d=[],p=function(e,t){return function(){e.splice(t,1)}};n.$watch(s,function(n){var r,o;for(r=0,o=u.length;r<o;++r)e.cancel(u[r]);for(u.length=0,r=0,o=d.length;r<o;++r){var s=fe(c[r].clone);d[r].$destroy();var h=u[r]=e.leave(s);h.then(p(u,r))}c.length=0,d.length=0,(l=a.cases["!"+n]||a.cases["?"])&&i(l,function(n){n.transclude(function(i,r){d.push(r);var o=n.element;i[i.length++]=t.$$createComment("end ngSwitchWhen");var a={clone:i};c.push(a),e.enter(i,o.parent(),o)})})})}}}],hs=di({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,i,r){i.cases["!"+n.ngSwitchWhen]=i.cases["!"+n.ngSwitchWhen]||[],i.cases["!"+n.ngSwitchWhen].push({transclude:r,element:t})}}),fs=di({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,i,r){i.cases["?"]=i.cases["?"]||[],i.cases["?"].push({transclude:r,element:t})}}),gs=t("ngTransclude"),ms=["$compile",function(e){return{restrict:"EAC",terminal:!0,compile:function(t){var n=e(t.contents());return t.empty(),function(e,t,i,r,o){function a(e,n){e.length?t.append(e):(s(),n.$destroy())}function s(){n(e,function(e){t.append(e)})}if(!o)throw gs("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",K(t));i.ngTransclude===i.$attr.ngTransclude&&(i.ngTransclude="");var l=i.ngTransclude||i.ngTranscludeSlot;o(a,null,l),l&&!o.isSlotFilled(l)&&s()}}}}],vs=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if("text/ng-template"===n.type){var i=n.id,r=t[0].text;e.put(i,r)}}}}],_s={$setViewValue:h,$render:h},ys=["$element","$scope",function(t,n){var i=this,r=new Qe;i.ngModelCtrl=_s,i.unknownOption=Gi(e.document.createElement("option")),i.renderUnknownOption=function(e){var n="? "+Ze(e)+" ?";i.unknownOption.val(n),t.prepend(i.unknownOption),t.val(n)},n.$on("$destroy",function(){i.renderUnknownOption=h}),i.removeUnknownOption=function(){i.unknownOption.parent()&&i.unknownOption.remove()},i.readValue=function(){return i.removeUnknownOption(),t.val()},i.writeValue=function(e){i.hasOption(e)?(i.removeUnknownOption(),t.val(e),""===e&&i.emptyOption.prop("selected",!0)):null==e&&i.emptyOption?(i.removeUnknownOption(),t.val("")):i.renderUnknownOption(e)},i.addOption=function(e,t){if(t[0].nodeType!==vr){pe(e,'"option value"'),""===e&&(i.emptyOption=t);var n=r.get(e)||0;r.put(e,n+1),i.ngModelCtrl.$render(),ki(t)}},i.removeOption=function(e){var t=r.get(e);t&&(1===t?(r.remove(e),""===e&&(i.emptyOption=void 0)):r.put(e,t-1))},i.hasOption=function(e){return!!r.get(e)},i.registerOption=function(e,t,n,r,o){if(r){var a;n.$observe("value",function(e){_(a)&&i.removeOption(a),a=e,i.addOption(e,t)})}else o?e.$watch(o,function(e,r){n.$set("value",e),r!==e&&i.removeOption(r),i.addOption(e,t)}):i.addOption(n.value,t);t.on("$destroy",function(){i.removeOption(n.value),
i.ngModelCtrl.$render()})}}],Es=function(){function e(e,t,n,r){var o=r[1];if(o){var a=r[0];if(a.ngModelCtrl=o,t.on("change",function(){e.$apply(function(){o.$setViewValue(a.readValue())})}),n.multiple){a.readValue=function(){var e=[];return i(t.find("option"),function(t){t.selected&&e.push(t.value)}),e},a.writeValue=function(e){var n=new Qe(e);i(t.find("option"),function(e){e.selected=_(n.get(e.value))})};var s,l=NaN;e.$watch(function(){l!==o.$viewValue||B(s,o.$viewValue)||(s=ve(o.$viewValue),o.$render()),l=o.$viewValue}),o.$isEmpty=function(e){return!e||0===e.length}}}}function t(e,t,n,i){var r=i[1];if(r){var o=i[0];r.$render=function(){o.writeValue(r.$viewValue)}}}return{restrict:"E",require:["select","?ngModel"],controller:ys,priority:1,link:{pre:e,post:t}}},bs=["$interpolate",function(e){return{restrict:"E",priority:100,compile:function(t,n){if(_(n.value))var i=e(n.value,!0);else{var r=e(t.text(),!0);r||n.$set("value",t.text())}return function(e,t,n){var o="$selectController",a=t.parent(),s=a.data(o)||a.parent().data(o);s&&s.registerOption(e,t,n,i,r)}}}}],Ts=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){i&&(n.required=!0,i.$validators.required=function(e,t){return!n.required||!i.$isEmpty(t)},n.$observe("required",function(){i.$validate()}))}}},Ss=function(){return{restrict:"A",require:"?ngModel",link:function(e,n,i,r){if(r){var o,a=i.ngPattern||i.pattern;i.$observe("pattern",function(e){if(b(e)&&e.length>0&&(e=new RegExp("^"+e+"$")),e&&!e.test)throw t("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",a,e,K(n));o=e||void 0,r.$validate()}),r.$validators.pattern=function(e,t){return r.$isEmpty(t)||v(o)||o.test(t)}}}}},Ls=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){if(i){var r=-1;n.$observe("maxlength",function(e){var t=d(e);r=nr(t)?-1:t,i.$validate()}),i.$validators.maxlength=function(e,t){return r<0||i.$isEmpty(t)||t.length<=r}}}}},As=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){if(i){var r=0;n.$observe("minlength",function(e){r=d(e)||0,i.$validate()}),i.$validators.minlength=function(e,t){return i.$isEmpty(t)||t.length>=r}}}}};return e.angular.bootstrap?void(e.console&&console.log("WARNING: Tried to load angular more than once.")):(ce(),Ee(er),er.module("ngLocale",[],["$provide",function(e){function t(e){e+="";var t=e.indexOf(".");return t==-1?0:e.length-t-1}function n(e,n){var i=n;void 0===i&&(i=Math.min(t(e),3));var r=Math.pow(10,i),o=(e*r|0)%r;return{v:i,f:o}}var i={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(e,t){var r=0|e,o=n(e,t);return 1==r&&0==o.v?i.ONE:i.OTHER}})}]),void Gi(e.document).ready(function(){re(e.document,oe)}))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),define("angular",["jquery"],function(e){return function(){var t;return t||e.angular}}(this)),function(e,t){"use strict";function n(e){var t=[];return u(t,l).chars(e),t.join("")}var i,r,o,a,s,l,c,u,d=t.$$minErr("$sanitize");t.module("ngSanitize",[]).provider("$sanitize",function(){function n(e,t){var n,i={},r=e.split(",");for(n=0;n<r.length;n++)i[t?s(r[n]):r[n]]=!0;return i}function p(e){for(var t={},n=0,i=e.length;n<i;n++){var r=e[n];t[r.name]=r.value}return t}function h(e){return e.replace(/&/g,"&amp;").replace(v,function(e){var t=e.charCodeAt(0);return e=e.charCodeAt(1),"&#"+(1024*(t-55296)+(e-56320)+65536)+";"}).replace(_,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function f(t){if(t.nodeType===e.Node.ELEMENT_NODE)for(var n=t.attributes,i=0,r=n.length;i<r;i++){var o=n[i],a=o.name.toLowerCase();"xmlns:ns1"!==a&&0!==a.lastIndexOf("ns1:",0)||(t.removeAttributeNode(o),i--,r--)}(n=t.firstChild)&&f(n),(n=t.nextSibling)&&f(n)}var g=!1;this.$get=["$$sanitizeUri",function(e){return g&&r(A,S),function(t){var n=[];return c(t,u(n,function(t,n){return!/^unsafe:/.test(e(t,n))})),n.join("")}}],this.enableSvg=function(e){return a(e)?(g=e,this):g},i=t.bind,r=t.extend,o=t.forEach,a=t.isDefined,s=t.lowercase,l=t.noop,c=function(t,n){null===t||void 0===t?t="":"string"!=typeof t&&(t=""+t),m.innerHTML=t;var i=5;do{if(0===i)throw d("uinput");i--,e.document.documentMode&&f(m),t=m.innerHTML,m.innerHTML=t}while(t!==m.innerHTML);for(i=m.firstChild;i;){switch(i.nodeType){case 1:n.start(i.nodeName.toLowerCase(),p(i.attributes));break;case 3:n.chars(i.textContent)}var r;if(!(r=i.firstChild)&&(1===i.nodeType&&n.end(i.nodeName.toLowerCase()),r=i.nextSibling,!r))for(;null==r&&(i=i.parentNode,i!==m);)r=i.nextSibling,1===i.nodeType&&n.end(i.nodeName.toLowerCase());i=r}for(;i=m.firstChild;)m.removeChild(i)},u=function(e,t){var n=!1,r=i(e,e.push);return{start:function(e,i){e=s(e),!n&&L[e]&&(n=e),n||!0!==A[e]||(r("<"),r(e),o(i,function(n,i){var o=s(i),a="img"===e&&"src"===o||"background"===o;!0!==w[o]||!0===C[o]&&!t(n,a)||(r(" "),r(i),r('="'),r(h(n)),r('"'))}),r(">"))},end:function(e){e=s(e),n||!0!==A[e]||!0===y[e]||(r("</"),r(e),r(">")),e==n&&(n=!1)},chars:function(e){n||r(h(e))}}};var m,v=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,_=/([^#-~ |!])/g,y=n("area,br,col,hr,img,wbr"),E=n("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),b=n("rp,rt"),T=r({},b,E),E=r({},E,n("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),b=r({},b,n("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),S=n("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),L=n("script,style"),A=r({},y,E,b,T),C=n("background,cite,href,longdesc,src,xlink:href"),T=n("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),b=n("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),w=r({},C,b,T);!function(e){if(!e.document||!e.document.implementation)throw d("noinert");e=e.document.implementation.createHTMLDocument("inert");var t=(e.documentElement||e.getDocumentElement()).getElementsByTagName("body");1===t.length?m=t[0]:(t=e.createElement("html"),m=e.createElement("body"),t.appendChild(m),e.appendChild(t))}(e)}),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var i=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,r=/^mailto:/i,o=t.$$minErr("linky"),a=t.isDefined,s=t.isFunction,l=t.isObject,c=t.isString;return function(t,u,d){function p(e){e&&_.push(n(e))}function h(e,t){var n,i=m(e);_.push("<a ");for(n in i)_.push(n+'="'+i[n]+'" ');!a(u)||"target"in i||_.push('target="',u,'" '),_.push('href="',e.replace(/"/g,"&quot;"),'">'),p(t),_.push("</a>")}if(null==t||""===t)return t;if(!c(t))throw o("notstring",t);for(var f,g,m=s(d)?d:l(d)?function(){return d}:function(){return{}},v=t,_=[];t=v.match(i);)f=t[0],t[2]||t[4]||(f=(t[3]?"http://":"mailto:")+f),g=t.index,p(v.substr(0,g)),h(f,t[0].replace(r,"")),v=v.substring(g+t[0].length);return p(v),e(_.join(""))}}])}(window,window.angular),define("angular-sanitize",["angular"],function(){}),function(e,t){"use strict";function n(e,t,n){if(!e)throw z("areq",t||"?",n||"required");return e}function i(e,t){return e||t?e?t?(k(e)&&(e=e.join(" ")),k(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function r(e){var t={};return e&&(e.to||e.from)&&(t.to=e.to,t.from=e.from),t}function o(e,t,n){var i="";return e=k(e)?e:e&&j(e)&&e.length?e.split(/\s+/):[],M(e,function(e,r){e&&0<e.length&&(i+=0<r?" ":"",i+=n?t+e:e+t)}),i}function a(e){if(e instanceof V)switch(e.length){case 0:return e;case 1:if(1===e[0].nodeType)return e;break;default:return V(s(e))}if(1===e.nodeType)return V(e)}function s(e){if(!e[0])return e;for(var t=0;t<e.length;t++){var n=e[t];if(1===n.nodeType)return n}}function l(e,t,n){M(t,function(t){e.addClass(t,n)})}function c(e,t,n){M(t,function(t){e.removeClass(t,n)})}function u(e){return function(t,n){n.addClass&&(l(e,t,n.addClass),n.addClass=null),n.removeClass&&(c(e,t,n.removeClass),n.removeClass=null)}}function d(e){if(e=e||{},!e.$$prepared){var t=e.domOperation||H;e.domOperation=function(){e.$$domOperationFired=!0,t(),t=H},e.$$prepared=!0}return e}function p(e,t){h(e,t),f(e,t)}function h(e,t){t.from&&(e.css(t.from),t.from=null)}function f(e,t){t.to&&(e.css(t.to),t.to=null)}function g(e,t,n){var i=t.options||{};n=n.options||{};var r=(i.addClass||"")+" "+(n.addClass||""),o=(i.removeClass||"")+" "+(n.removeClass||"");return e=m(e.attr("class"),r,o),n.preparationClasses&&(i.preparationClasses=T(n.preparationClasses,i.preparationClasses),delete n.preparationClasses),r=i.domOperation!==H?i.domOperation:null,N(i,n),r&&(i.domOperation=r),i.addClass=e.addClass?e.addClass:null,i.removeClass=e.removeClass?e.removeClass:null,t.addClass=i.addClass,t.removeClass=i.removeClass,i}function m(e,t,n){function i(e){j(e)&&(e=e.split(" "));var t={};return M(e,function(e){e.length&&(t[e]=!0)}),t}var r={};e=i(e),t=i(t),M(t,function(e,t){r[t]=1}),n=i(n),M(n,function(e,t){r[t]=1===r[t]?null:-1});var o={addClass:"",removeClass:""};return M(r,function(t,n){var i,r;1===t?(i="addClass",r=!e[n]||e[n+"-remove"]):-1===t&&(i="removeClass",r=e[n]||e[n+"-add"]),r&&(o[i].length&&(o[i]+=" "),o[i]+=n)}),o}function v(e){return e instanceof V?e[0]:e}function _(e,t,n){var i="";t&&(i=o(t,"ng-",!0)),n.addClass&&(i=T(i,o(n.addClass,"-add"))),n.removeClass&&(i=T(i,o(n.removeClass,"-remove"))),i.length&&(n.preparationClasses=i,e.addClass(i))}function y(e,t){var n=t?"-"+t+"s":"";return b(e,[q,n]),[q,n]}function E(e,t){var n=t?"paused":"",i=R+"PlayState";return b(e,[i,n]),[i,n]}function b(e,t){e.style[t[0]]=t[1]}function T(e,t){return e?t?e+" "+t:e:t}function S(e,t,n){var i=Object.create(null),r=e.getComputedStyle(t)||{};return M(n,function(e,t){var n=r[e];if(n){var o=n.charAt(0);("-"===o||"+"===o||0<=o)&&(n=L(n)),0===n&&(n=null),i[t]=n}}),i}function L(e){var t=0;return e=e.split(/\s*,\s*/),M(e,function(e){"s"===e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e=parseFloat(e)||0,t=t?Math.max(e,t):e}),t}function A(e){return 0===e||null!=e}function C(e,t){var n=O,i=e+"s";return t?n+="Duration":i+=" linear all",[n,i]}function w(){var e=Object.create(null);return{flush:function(){e=Object.create(null)},count:function(t){return(t=e[t])?t.total:0},get:function(t){return(t=e[t])&&t.value},put:function(t,n){e[t]?e[t].total++:e[t]={total:1,value:n}}}}function x(e,t,n){M(n,function(n){e[n]=U(e[n])?e[n]:t.style.getPropertyValue(n)})}var O,D,R,I;void 0===e.ontransitionend&&void 0!==e.onwebkittransitionend?(O="WebkitTransition",D="webkitTransitionEnd transitionend"):(O="transition",D="transitionend"),void 0===e.onanimationend&&void 0!==e.onwebkitanimationend?(R="WebkitAnimation",I="webkitAnimationEnd animationend"):(R="animation",I="animationend");var P,N,M,k,U,F,$,B,j,Y,V,H,G=R+"Delay",W=R+"Duration",q=O+"Delay",X=O+"Duration",z=t.$$minErr("ng"),K={transitionDuration:X,transitionDelay:q,transitionProperty:O+"Property",animationDuration:W,animationDelay:G,animationIterationCount:R+"IterationCount"},J={transitionDuration:X,transitionDelay:q,animationDuration:W,animationDelay:G};t.module("ngAnimate",[],function(){H=t.noop,P=t.copy,N=t.extend,V=t.element,M=t.forEach,k=t.isArray,j=t.isString,B=t.isObject,Y=t.isUndefined,U=t.isDefined,$=t.isFunction,F=t.isElement}).directive("ngAnimateSwap",["$animate","$rootScope",function(e,t){return{restrict:"A",transclude:"element",terminal:!0,priority:600,link:function(t,n,i,r,o){var a,s;t.$watchCollection(i.ngAnimateSwap||i.for,function(i){a&&e.leave(a),s&&(s.$destroy(),s=null),(i||0===i)&&(s=t.$new(),o(s,function(t){a=t,e.enter(t,null,n)}))})}}}]).directive("ngAnimateChildren",["$interpolate",function(e){return{link:function(t,n,i){function r(e){n.data("$$ngAnimateChildren","on"===e||"true"===e)}var o=i.ngAnimateChildren;j(o)&&0===o.length?n.data("$$ngAnimateChildren",!0):(r(e(o)(t)),i.$observe("ngAnimateChildren",r))}}}]).factory("$$rAFScheduler",["$$rAF",function(e){function t(e){i=i.concat(e),n()}function n(){if(i.length){for(var t=i.shift(),o=0;o<t.length;o++)t[o]();r||e(function(){r||n()})}}var i,r;return i=t.queue=[],t.waitUntilQuiet=function(t){r&&r(),r=e(function(){r=null,t(),n()})},t}]).provider("$$animateQueue",["$animateProvider",function(t){function i(e){if(!e)return null;e=e.split(" ");var t=Object.create(null);return M(e,function(e){t[e]=!0}),t}function r(e,t){if(e&&t){var n=i(t);return e.split(" ").some(function(e){return n[e]})}}function o(e,t,n,i){return c[e].some(function(e){return e(t,n,i)})}function l(e,t){var n=0<(e.addClass||"").length,i=0<(e.removeClass||"").length;return t?n&&i:n||i}var c=this.rules={skip:[],cancel:[],join:[]};c.join.push(function(e,t,n){return!t.structural&&l(t)}),c.skip.push(function(e,t,n){return!t.structural&&!l(t)}),c.skip.push(function(e,t,n){return"leave"===n.event&&t.structural}),c.skip.push(function(e,t,n){return n.structural&&2===n.state&&!t.structural}),c.cancel.push(function(e,t,n){return n.structural&&t.structural}),c.cancel.push(function(e,t,n){return 2===n.state&&t.structural}),c.cancel.push(function(e,t,n){if(n.structural)return!1;e=t.addClass,t=t.removeClass;var i=n.addClass;return n=n.removeClass,!(Y(e)&&Y(t)||Y(i)&&Y(n))&&(r(e,n)||r(t,i))}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow",function(i,r,c,h,f,m,y,E,b,T){function S(){var e=!1;return function(t){e?t():r.$$postDigest(function(){e=!0,t()})}}function L(e,t,n){var i=v(t),r=v(e),o=[];return(e=W[n])&&M(e,function(e){K.call(e.node,i)?o.push(e.callback):"leave"===n&&K.call(e.node,r)&&o.push(e.callback)}),o}function A(e,t,n){var i=s(t);return e.filter(function(e){return!(e.node===i&&(!n||e.callback===n))})}function C(e,t,n){function s(t,n,r,o){T(function(){var t=L(f,e,n);t.length?i(function(){M(t,function(t){t(e,r,o)}),"close"!==r||e[0].parentNode||J.off(e)}):"close"!==r||e[0].parentNode||J.off(e)}),t.progress(n,r,o)}function c(t){var n=e,i=E;i.preparationClasses&&(n.removeClass(i.preparationClasses),i.preparationClasses=null),i.activeClasses&&(n.removeClass(i.activeClasses),i.activeClasses=null),z(e,E),p(e,E),E.domOperation(),b.complete(!t)}var u,f,E=P(n);(e=a(e))&&(u=v(e),f=e.parent());var E=d(E),b=new y,T=S();if(k(E.addClass)&&(E.addClass=E.addClass.join(" ")),E.addClass&&!j(E.addClass)&&(E.addClass=null),k(E.removeClass)&&(E.removeClass=E.removeClass.join(" ")),E.removeClass&&!j(E.removeClass)&&(E.removeClass=null),E.from&&!B(E.from)&&(E.from=null),E.to&&!B(E.to)&&(E.to=null),!u)return c(),b;if(n=[u.className,E.addClass,E.removeClass].join(" "),!X(n))return c(),b;var A=0<=["enter","move","leave"].indexOf(t),C=h[0].hidden,O=!H||C||$.get(u);n=!O&&I.get(u)||{};var N=!!n.state;if(O||N&&1===n.state||(O=!D(e,f,t)),O)return C&&s(b,t,"start"),c(),C&&s(b,t,"close"),b;if(A&&w(e),C={structural:A,element:e,event:t,addClass:E.addClass,removeClass:E.removeClass,close:c,options:E,runner:b},N){if(o("skip",e,C,n))return 2===n.state?(c(),b):(g(e,n,C),n.runner);if(o("cancel",e,C,n))if(2===n.state)n.runner.end();else{if(!n.structural)return g(e,n,C),n.runner;n.close()}else if(o("join",e,C,n)){if(2!==n.state)return _(e,A?t:null,E),t=C.event=n.event,E=g(e,n,C),n.runner;g(e,C,{})}}else g(e,C,{});if((N=C.structural)||(N="animate"===C.event&&0<Object.keys(C.options.to||{}).length||l(C)),!N)return c(),x(e),b;var U=(n.counter||0)+1;return C.counter=U,R(e,1,C),r.$$postDigest(function(){var n=I.get(u),i=!n,n=n||{},r=0<(e.parent()||[]).length&&("animate"===n.event||n.structural||l(n));i||n.counter!==U||!r?(i&&(z(e,E),p(e,E)),(i||A&&n.event!==t)&&(E.domOperation(),b.end()),r||x(e)):(t=!n.structural&&l(n,!0)?"setClass":n.event,R(e,2),n=m(e,t,n.options),b.setHost(n),s(b,t,"start",{}),n.done(function(n){c(!n),(n=I.get(u))&&n.counter===U&&x(v(e)),s(b,t,"close",{})}))}),b}function w(e){e=v(e).querySelectorAll("[data-ng-animate]"),M(e,function(e){var t=parseInt(e.getAttribute("data-ng-animate"),10),n=I.get(e);if(n)switch(t){case 2:n.runner.end();case 1:I.remove(e)}})}function x(e){e=v(e),e.removeAttribute("data-ng-animate"),I.remove(e)}function O(e,t){return v(e)===v(t)}function D(e,t,n){n=V(h[0].body);var i,r=O(e,n)||"HTML"===e[0].nodeName,o=O(e,c),a=!1,s=$.get(v(e));for((e=V.data(e[0],"$ngAnimatePin"))&&(t=e),t=v(t);t&&(o||(o=O(t,c)),1===t.nodeType);){if(e=I.get(t)||{},!a){var l=$.get(t);if(!0===l&&!1!==s){s=!0;break}!1===l&&(s=!1),a=e.structural}if((Y(i)||!0===i)&&(e=V.data(t,"$$ngAnimateChildren"),U(e)&&(i=e)),a&&!1===i)break;if(r||(r=O(t,n)),r&&o)break;t=o||!(e=V.data(t,"$ngAnimatePin"))?t.parentNode:v(e)}return(!a||i)&&!0!==s&&o&&r}function R(e,t,n){n=n||{},n.state=t,e=v(e),e.setAttribute("data-ng-animate",t),n=(t=I.get(e))?N(t,n):n,I.put(e,n)}var I=new f,$=new f,H=null,G=r.$watch(function(){return 0===E.totalPendingRequests},function(e){e&&(G(),r.$$postDigest(function(){r.$$postDigest(function(){null===H&&(H=!0)})}))}),W=Object.create(null),q=t.classNameFilter(),X=q?function(e){return q.test(e)}:function(){return!0},z=u(b),K=e.Node.prototype.contains||function(e){return this===e||!!(16&this.compareDocumentPosition(e))},J={on:function(e,t,n){var i=s(t);W[e]=W[e]||[],W[e].push({node:i,callback:n}),V(t).on("$destroy",function(){I.get(i)||J.off(e,t,n)})},off:function(e,t,n){if(1!==arguments.length||j(arguments[0])){var i=W[e];i&&(W[e]=1===arguments.length?null:A(i,t,n))}else for(i in t=arguments[0],W)W[i]=A(W[i],t)},pin:function(e,t){n(F(e),"element","not an element"),n(F(t),"parentElement","not an element"),e.data("$ngAnimatePin",t)},push:function(e,t,n,i){return n=n||{},n.domOperation=i,C(e,t,n)},enabled:function(e,t){var n=arguments.length;if(0===n)t=!!H;else if(F(e)){var i=v(e);1===n?t=!$.get(i):$.put(i,!t)}else t=H=!!e;return t}};return J}]}]).provider("$$animation",["$animateProvider",function(e){var t=this.drivers=[];this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$HashMap","$$rAFScheduler",function(e,n,r,o,a,s){function l(e){function t(e){if(e.processed)return e;e.processed=!0;var n=e.domNode,o=n.parentNode;r.put(n,e);for(var a;o;){if(a=r.get(o)){a.processed||(a=t(a));break}o=o.parentNode}return(a||i).children.push(e),e}var n,i={children:[]},r=new a;for(n=0;n<e.length;n++){var o=e[n];r.put(o.domNode,e[n]={domNode:o.domNode,fn:o.fn,children:[]})}for(n=0;n<e.length;n++)t(e[n]);return function(e){var t,n=[],i=[];for(t=0;t<e.children.length;t++)i.push(e.children[t]);e=i.length;var r=0,o=[];for(t=0;t<i.length;t++){var a=i[t];0>=e&&(e=r,r=0,n.push(o),o=[]),o.push(a.fn),a.children.forEach(function(e){r++,i.push(e)}),e--}return o.length&&n.push(o),n}(i)}var c=[],h=u(e);return function(a,u,f){function g(e){e=e.hasAttribute("ng-animate-ref")?[e]:e.querySelectorAll("[ng-animate-ref]");var t=[];return M(e,function(e){var n=e.getAttribute("ng-animate-ref");n&&n.length&&t.push(e)}),t}function m(e){var t=[],n={};M(e,function(e,i){var r=v(e.element),o=0<=["enter","move"].indexOf(e.event),r=e.structural?g(r):[];if(r.length){var a=o?"to":"from";M(r,function(e){var t=e.getAttribute("ng-animate-ref");n[t]=n[t]||{},n[t][a]={animationID:i,element:V(e)}})}else t.push(e)});var i={},r={};return M(n,function(n,o){var a=n.from,s=n.to;if(a&&s){var l=e[a.animationID],c=e[s.animationID],u=a.animationID.toString();if(!r[u]){var d=r[u]={structural:!0,beforeStart:function(){l.beforeStart(),c.beforeStart()},close:function(){l.close(),c.close()},classes:_(l.classes,c.classes),from:l,to:c,anchors:[]};d.classes.length?t.push(d):(t.push(l),t.push(c))}r[u].anchors.push({out:a.element,in:s.element})}else a=a?a.animationID:s.animationID,s=a.toString(),i[s]||(i[s]=!0,t.push(e[a]))}),t}function _(e,t){e=e.split(" "),t=t.split(" ");for(var n=[],i=0;i<e.length;i++){var r=e[i];if("ng-"!==r.substring(0,3))for(var o=0;o<t.length;o++)if(r===t[o]){n.push(r);break}}return n.join(" ")}function y(e){for(var n=t.length-1;0<=n;n--){var i=r.get(t[n])(e);if(i)return i}}function E(e,t){function n(e){(e=e.data("$$animationRunner"))&&e.setHost(t)}e.from&&e.to?(n(e.from.element),n(e.to.element)):n(e.element)}function b(){var e=a.data("$$animationRunner");!e||"leave"===u&&f.$$domOperationFired||e.end()}function T(t){a.off("$destroy",b),a.removeData("$$animationRunner"),h(a,f),p(a,f),f.domOperation(),C&&e.removeClass(a,C),a.removeClass("ng-animate"),L.complete(!t)}f=d(f);var S=0<=["enter","move","leave"].indexOf(u),L=new o({end:function(){T()},cancel:function(){T(!0)}});if(!t.length)return T(),L;a.data("$$animationRunner",L);var A=i(a.attr("class"),i(f.addClass,f.removeClass)),C=f.tempClasses;C&&(A+=" "+C,f.tempClasses=null);var w;return S&&(w="ng-"+u+"-prepare",e.addClass(a,w)),c.push({element:a,classes:A,event:u,structural:S,options:f,beforeStart:function(){a.addClass("ng-animate"),C&&e.addClass(a,C),w&&(e.removeClass(a,w),w=null)},close:T}),a.on("$destroy",b),1<c.length?L:(n.$$postDigest(function(){var e=[];M(c,function(t){t.element.data("$$animationRunner")?e.push(t):t.close()}),c.length=0;var t=m(e),n=[];M(t,function(e){n.push({domNode:v(e.from?e.from.element:e.element),fn:function(){e.beforeStart();var t,n=e.close;if((e.anchors?e.from.element||e.to.element:e.element).data("$$animationRunner")){var i=y(e);i&&(t=i.start)}t?(t=t(),t.done(function(e){n(!e)}),E(e,t)):n()}})}),s(l(n))}),L)}}]}]).provider("$animateCss",["$animateProvider",function(e){var t=w(),n=w();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(e,i,a,s,l,c,g,m){function _(e,t){var n=e.parentNode;return(n.$$ngAnimateParentKey||(n.$$ngAnimateParentKey=++U))+"-"+e.getAttribute("class")+"-"+t}function T(r,a,s,l){var c;return 0<t.count(s)&&(c=n.get(s),c||(a=o(a,"-stagger"),i.addClass(r,a),c=S(e,r,l),c.animationDuration=Math.max(c.animationDuration,0),c.transitionDuration=Math.max(c.transitionDuration,0),i.removeClass(r,a),n.put(s,c))),c||{}}function L(e){F.push(e),g.waitUntilQuiet(function(){t.flush(),n.flush();for(var e=l(),i=0;i<F.length;i++)F[i](e);F.length=0})}function w(n,i,r){return i=t.get(r),i||(i=S(e,n,K),"infinite"===i.animationIterationCount&&(i.animationIterationCount=1)),t.put(r,i),n=i,r=n.animationDelay,i=n.transitionDelay,n.maxDelay=r&&i?Math.max(r,i):r||i,n.maxDuration=Math.max(n.animationDuration*n.animationIterationCount,n.transitionDuration),n}var N=u(i),U=0,F=[];return function(e,n){function l(){g()}function u(){g(!0)}function g(t){if(!(V||z&&X)){V=!0,X=!1,B.$$skipPreparationClasses||i.removeClass(e,de),i.removeClass(e,he),E(Y,!1),y(Y,!1),M(re,function(e){Y.style[e[0]]=""}),N(e,B),p(e,B),Object.keys(j).length&&M(j,function(e,t){e?Y.style.setProperty(t,e):Y.style.removeProperty(t)}),B.onDone&&B.onDone(),se&&se.length&&e.off(se.join(" "),F);var n=e.data("$$animateCss");n&&(s.cancel(n[0].timer),e.removeData("$$animateCss")),K&&K.complete(!t)}}function S(e){ye.blockTransition&&y(Y,e),ye.blockKeyframeAnimation&&E(Y,!!e)}function U(){return K=new a({end:l,cancel:u}),L(H),g(),{$$willAnimate:!1,start:function(){return K},end:l}}function F(e){e.stopPropagation();var t=e.originalEvent||e;e=t.$manualTimeStamp||Date.now(),t=parseFloat(t.elapsedTime.toFixed(3)),Math.max(e-ie,0)>=ee&&t>=te&&(z=!0,g())}function $(){function t(){if(!V){if(S(!1),M(re,function(e){Y.style[e[0]]=e[1]}),N(e,B),i.addClass(e,he),ye.recalculateTimingStyles){if(pe=Y.className+" "+de,fe=_(Y,pe),ve=w(Y,pe,fe),_e=ve.maxDelay,Q=Math.max(_e,0),te=ve.maxDuration,0===te)return void g();ye.hasTransitions=0<ve.transitionDuration,ye.hasAnimations=0<ve.animationDuration}if(ye.applyAnimationDelay&&(_e="boolean"!=typeof B.delay&&A(B.delay)?parseFloat(B.delay):_e,Q=Math.max(_e,0),ve.animationDelay=_e,Ee=[G,_e+"s"],re.push(Ee),Y.style[Ee[0]]=Ee[1]),ee=1e3*Q,ne=1e3*te,B.easing){var t,r=B.easing;ye.hasTransitions&&(t=O+"TimingFunction",re.push([t,r]),Y.style[t]=r),ye.hasAnimations&&(t=R+"TimingFunction",re.push([t,r]),Y.style[t]=r)}ve.transitionDuration&&se.push(D),ve.animationDuration&&se.push(I),ie=Date.now();var o=ee+1.5*ne;t=ie+o;var r=e.data("$$animateCss")||[],a=!0;if(r.length){var l=r[0];(a=t>l.expectedEndTime)?s.cancel(l.timer):r.push(g)}a&&(o=s(n,o,!1),r[0]={timer:o,expectedEndTime:t},r.push(g),e.data("$$animateCss",r)),se.length&&e.on(se.join(" "),F),B.to&&(B.cleanupStyles&&x(j,Y,Object.keys(B.to)),f(e,B))}}function n(){var t=e.data("$$animateCss");if(t){for(var n=1;n<t.length;n++)t[n]();e.removeData("$$animateCss")}}if(!V)if(Y.parentNode){var r=function(e){if(z)X&&e&&(X=!1,g());else if(X=!e,ve.animationDuration)if(e=E(Y,X),X)re.push(e);else{var t=re,n=t.indexOf(e);0<=e&&t.splice(n,1)}},o=0<me&&(ve.transitionDuration&&0===ge.transitionDuration||ve.animationDuration&&0===ge.animationDuration)&&Math.max(ge.animationDelay,ge.transitionDelay);o?s(t,Math.floor(o*me*1e3),!1):t(),Z.resume=function(){r(!0)},Z.pause=function(){r(!1)}}else g()}var B=n||{};B.$$prepared||(B=d(P(B)));var j={},Y=v(e);if(!Y||!Y.parentNode||!m.enabled())return U();var V,X,z,K,Z,Q,ee,te,ne,ie,re=[],oe=e.attr("class"),ae=r(B),se=[];if(0===B.duration||!c.animations&&!c.transitions)return U();var le=B.event&&k(B.event)?B.event.join(" "):B.event,ce="",ue="";le&&B.structural?ce=o(le,"ng-",!0):le&&(ce=le),B.addClass&&(ue+=o(B.addClass,"-add")),B.removeClass&&(ue.length&&(ue+=" "),ue+=o(B.removeClass,"-remove")),B.applyClassesEarly&&ue.length&&N(e,B);var de=[ce,ue].join(" ").trim(),pe=oe+" "+de,he=o(de,"-active"),oe=ae.to&&0<Object.keys(ae.to).length;if(!(0<(B.keyframeStyle||"").length||oe||de))return U();var fe,ge;0<B.stagger?(ae=parseFloat(B.stagger),ge={transitionDelay:ae,animationDelay:ae,transitionDuration:0,animationDuration:0}):(fe=_(Y,pe),ge=T(Y,de,fe,J)),B.$$skipPreparationClasses||i.addClass(e,de),B.transitionStyle&&(ae=[O,B.transitionStyle],b(Y,ae),re.push(ae)),0<=B.duration&&(ae=0<Y.style[O].length,ae=C(B.duration,ae),b(Y,ae),re.push(ae)),B.keyframeStyle&&(ae=[R,B.keyframeStyle],b(Y,ae),re.push(ae));var me=ge?0<=B.staggerIndex?B.staggerIndex:t.count(fe):0;(le=0===me)&&!B.skipBlocking&&y(Y,9999);var ve=w(Y,pe,fe),_e=ve.maxDelay;Q=Math.max(_e,0),te=ve.maxDuration;var ye={};if(ye.hasTransitions=0<ve.transitionDuration,ye.hasAnimations=0<ve.animationDuration,ye.hasTransitionAll=ye.hasTransitions&&"all"===ve.transitionProperty,ye.applyTransitionDuration=oe&&(ye.hasTransitions&&!ye.hasTransitionAll||ye.hasAnimations&&!ye.hasTransitions),ye.applyAnimationDuration=B.duration&&ye.hasAnimations,ye.applyTransitionDelay=A(B.delay)&&(ye.applyTransitionDuration||ye.hasTransitions),ye.applyAnimationDelay=A(B.delay)&&ye.hasAnimations,ye.recalculateTimingStyles=0<ue.length,(ye.applyTransitionDuration||ye.applyAnimationDuration)&&(te=B.duration?parseFloat(B.duration):te,ye.applyTransitionDuration&&(ye.hasTransitions=!0,ve.transitionDuration=te,ae=0<Y.style[O+"Property"].length,re.push(C(te,ae))),ye.applyAnimationDuration&&(ye.hasAnimations=!0,ve.animationDuration=te,re.push([W,te+"s"]))),0===te&&!ye.recalculateTimingStyles)return U();if(null!=B.delay){var Ee;"boolean"!=typeof B.delay&&(Ee=parseFloat(B.delay),Q=Math.max(Ee,0)),ye.applyTransitionDelay&&re.push([q,Ee+"s"]),ye.applyAnimationDelay&&re.push([G,Ee+"s"])}return null==B.duration&&0<ve.transitionDuration&&(ye.recalculateTimingStyles=ye.recalculateTimingStyles||le),ee=1e3*Q,ne=1e3*te,B.skipBlocking||(ye.blockTransition=0<ve.transitionDuration,ye.blockKeyframeAnimation=0<ve.animationDuration&&0<ge.animationDelay&&0===ge.animationDuration),B.from&&(B.cleanupStyles&&x(j,Y,Object.keys(B.from)),h(e,B)),ye.blockTransition||ye.blockKeyframeAnimation?S(te):B.skipBlocking||y(Y,!1),{$$willAnimate:!0,end:l,start:function(){if(!V)return Z={end:l,cancel:u,resume:null,pause:null},K=new a(Z),L($),K}}}}]}]).provider("$$animateCssDriver",["$$animationProvider",function(e){e.drivers.push("$$animateCssDriver"),this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(e,t,n,i,r,o,a){function s(e){return e.replace(/\bng-\S+\b/g,"")}function l(e,t){return j(e)&&(e=e.split(" ")),j(t)&&(t=t.split(" ")),e.filter(function(e){return-1===t.indexOf(e)}).join(" ")}function c(t,i,r){function o(e){var t={},n=v(e).getBoundingClientRect();return M(["width","height","top","left"],function(e){var i=n[e];switch(e){case"top":i+=p.scrollTop;break;case"left":i+=p.scrollLeft}t[e]=Math.floor(i)+"px"}),t}function a(){var t=s(r.attr("class")||""),n=l(t,d),t=l(d,t),n=e(u,{to:o(r),addClass:"ng-anchor-in "+n,removeClass:"ng-anchor-out "+t,delay:!0});return n.$$willAnimate?n:null}function c(){u.remove(),i.removeClass("ng-animate-shim"),r.removeClass("ng-animate-shim")}var u=V(v(i).cloneNode(!0)),d=s(u.attr("class")||"");i.addClass("ng-animate-shim"),r.addClass("ng-animate-shim"),u.addClass("ng-anchor"),h.append(u);var f;if(t=function(){var t=e(u,{addClass:"ng-anchor-out",delay:!0,from:o(i)});return t.$$willAnimate?t:null}(),!t&&(f=a(),!f))return c();var g=t||f;return{start:function(){function e(){i&&i.end()}var t,i=g.start();return i.done(function(){return i=null,!f&&(f=a())?(i=f.start(),i.done(function(){i=null,c(),t.complete()}),i):(c(),void t.complete())}),t=new n({end:e,cancel:e})}}}function u(e,t,i,r){var o=d(e,H),a=d(t,H),s=[];if(M(r,function(e){(e=c(i,e.out,e.in))&&s.push(e)}),
o||a||0!==s.length)return{start:function(){function e(){M(t,function(e){e.end()})}var t=[];o&&t.push(o.start()),a&&t.push(a.start()),M(s,function(e){t.push(e.start())});var i=new n({end:e,cancel:e});return n.all(t,function(e){i.complete(e)}),i}}}function d(t){var n=t.element,i=t.options||{};return t.structural&&(i.event=t.event,i.structural=!0,i.applyClassesEarly=!0,"leave"===t.event&&(i.onDone=i.domOperation)),i.preparationClasses&&(i.event=T(i.event,i.preparationClasses)),t=e(n,i),t.$$willAnimate?t:null}if(!r.animations&&!r.transitions)return H;var p=a[0].body;t=v(i);var h=V(t.parentNode&&11===t.parentNode.nodeType||p.contains(t)?t:p);return function(e){return e.from&&e.to?u(e.from,e.to,e.classes,e.anchors):d(e)}}]}]).provider("$$animateJs",["$animateProvider",function(e){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(t,n,i){function r(n){n=k(n)?n:n.split(" ");for(var i=[],r={},o=0;o<n.length;o++){var a=n[o],s=e.$$registeredAnimations[a];s&&!r[a]&&(i.push(t.get(s)),r[a]=!0)}return i}var o=u(i);return function(e,t,i,a){function s(){a.domOperation(),o(e,a)}function l(e,t,i,r,o){switch(i){case"animate":t=[t,r.from,r.to,o];break;case"setClass":t=[t,m,v,o];break;case"addClass":t=[t,m,o];break;case"removeClass":t=[t,v,o];break;default:t=[t,o]}if(t.push(r),e=e.apply(e,t))if($(e.start)&&(e=e.start()),e instanceof n)e.done(o);else if($(e))return e;return H}function c(e,t,i,r,o){var a=[];return M(r,function(r){var s=r[o];s&&a.push(function(){var r,o,a=!1,c=function(e){a||(a=!0,(o||H)(e),r.complete(!e))};return r=new n({end:function(){c()},cancel:function(){c(!0)}}),o=l(s,e,t,i,function(e){c(!1===e)}),r})}),a}function u(e,t,i,r,o){var a=c(e,t,i,r,o);if(0===a.length){var s,l;"beforeSetClass"===o?(s=c(e,"removeClass",i,r,"beforeRemoveClass"),l=c(e,"addClass",i,r,"beforeAddClass")):"setClass"===o&&(s=c(e,"removeClass",i,r,"removeClass"),l=c(e,"addClass",i,r,"addClass")),s&&(a=a.concat(s)),l&&(a=a.concat(l))}if(0!==a.length)return function(e){var t=[];return a.length&&M(a,function(e){t.push(e())}),t.length?n.all(t,e):e(),function(e){M(t,function(t){e?t.cancel():t.end()})}}}var h=!1;3===arguments.length&&B(i)&&(a=i,i=null),a=d(a),i||(i=e.attr("class")||"",a.addClass&&(i+=" "+a.addClass),a.removeClass&&(i+=" "+a.removeClass));var f,g,m=a.addClass,v=a.removeClass,_=r(i);if(_.length){var y,E;"leave"===t?(E="leave",y="afterLeave"):(E="before"+t.charAt(0).toUpperCase()+t.substr(1),y=t),"enter"!==t&&"move"!==t&&(f=u(e,t,a,_,E)),g=u(e,t,a,_,y)}if(f||g){var b;return{$$willAnimate:!0,end:function(){return b?b.end():(h=!0,s(),p(e,a),b=new n,b.complete(!0)),b},start:function(){function t(t){h=!0,s(),p(e,a),b.complete(t)}if(b)return b;b=new n;var i,r=[];return f&&r.push(function(e){i=f(e)}),r.length?r.push(function(e){s(),e(!0)}):s(),g&&r.push(function(e){i=g(e)}),b.setHost({end:function(){h||((i||H)(void 0),t(void 0))},cancel:function(){h||((i||H)(!0),t(!0))}}),n.chain(r,t),b}}}}}]}]).provider("$$animateJsDriver",["$$animationProvider",function(e){e.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(e,t){function n(t){return e(t.element,t.event,t.classes,t.options)}return function(e){if(!e.from||!e.to)return n(e);var i=n(e.from),r=n(e.to);return i||r?{start:function(){function e(){return function(){M(n,function(e){e.end()})}}var n=[];i&&n.push(i.start()),r&&n.push(r.start()),t.all(n,function(e){o.complete(e)});var o=new t({end:e(),cancel:e()});return o}}:void 0}}]}])}(window,window.angular),define("angular-animate",["angular"],function(){}),!function(e,t){"function"==typeof define&&define.amd?define("angular-translate",[],function(){return t()}):"object"==typeof exports?module.exports=t():t()}(this,function(){function e(e){"use strict";var t=e.storageKey(),n=e.storage(),i=function(){var i=e.preferredLanguage();angular.isString(i)?e.use(i):n.put(t,e.use())};i.displayName="fallbackFromIncorrectStorageValue",n?n.get(t)?e.use(n.get(t)).catch(i):i():angular.isString(e.preferredLanguage())&&e.use(e.preferredLanguage())}function t(){"use strict";var e,t,n,i=null,r=!1,o=!1;n={sanitize:function(e,t){return"text"===t&&(e=s(e)),e},escape:function(e,t){return"text"===t&&(e=a(e)),e},sanitizeParameters:function(e,t){return"params"===t&&(e=c(e,s)),e},escapeParameters:function(e,t){return"params"===t&&(e=c(e,a)),e},sce:function(e,t,n){return"text"===t?e=l(e):"params"===t&&"filter"!==n&&(e=c(e,a)),e},sceParameters:function(e,t){return"params"===t&&(e=c(e,l)),e}},n.escaped=n.escapeParameters,this.addStrategy=function(e,t){return n[e]=t,this},this.removeStrategy=function(e){return delete n[e],this},this.useStrategy=function(e){return r=!0,i=e,this},this.$get=["$injector","$log",function(a,s){var l={},c=function(e,t,i,r){return angular.forEach(r,function(r){if(angular.isFunction(r))e=r(e,t,i);else if(angular.isFunction(n[r]))e=n[r](e,t,i);else{if(!angular.isString(n[r]))throw new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+r+"'");if(!l[n[r]])try{l[n[r]]=a.get(n[r])}catch(e){throw l[n[r]]=function(){},new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+r+"'")}e=l[n[r]](e,t,i)}}),e},u=function(){r||o||(s.warn("pascalprecht.translate.$translateSanitization: No sanitization strategy has been configured. This can have serious security implications. See http://angular-translate.github.io/docs/#/guide/19_security for details."),o=!0)};return a.has("$sanitize")&&(e=a.get("$sanitize")),a.has("$sce")&&(t=a.get("$sce")),{useStrategy:function(e){return function(t){e.useStrategy(t)}}(this),sanitize:function(e,t,n,r){if(i||u(),n||null===n||(n=i),!n)return e;r||(r="service");var o=angular.isArray(n)?n:[n];return c(e,t,r,o)}}}];var a=function(e){var t=angular.element("<div></div>");return t.text(e),t.html()},s=function(t){if(!e)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sanitize service. Either include the ngSanitize module (https://docs.angularjs.org/api/ngSanitize) or use a sanitization strategy which does not depend on $sanitize, such as 'escape'.");return e(t)},l=function(e){if(!t)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sce service.");return t.trustAsHtml(e)},c=function(e,t,n){if(angular.isDate(e))return e;if(angular.isObject(e)){var i=angular.isArray(e)?[]:{};if(n){if(n.indexOf(e)>-1)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot interpolate parameter due recursive object")}else n=[];return n.push(e),angular.forEach(e,function(e,r){angular.isFunction(e)||(i[r]=c(e,t,n))}),n.splice(-1,1),i}return angular.isNumber(e)?e:t(e)}}function n(e,t,n,i){"use strict";var r,o,a,s,l,c,u,d,p,h,f,g,m,v,_,y,E={},b=[],T=e,S=[],L="translate-cloak",A=!1,C=!1,w=".",x=!1,O=!1,D=0,R=!0,I="default",P={default:function(e){return(e||"").split("-").join("_")},java:function(e){var t=(e||"").split("-").join("_"),n=t.split("_");return n.length>1?n[0].toLowerCase()+"_"+n[1].toUpperCase():t},bcp47:function(e){var t=(e||"").split("_").join("-"),n=t.split("-");return n.length>1?n[0].toLowerCase()+"-"+n[1].toUpperCase():t},"iso639-1":function(e){var t=(e||"").split("_").join("-"),n=t.split("-");return n[0].toLowerCase()}},N="2.13.0",M=function(){if(angular.isFunction(i.getLocale))return i.getLocale();var e,n,r=t.$get().navigator,o=["language","browserLanguage","systemLanguage","userLanguage"];if(angular.isArray(r.languages))for(e=0;e<r.languages.length;e++)if(n=r.languages[e],n&&n.length)return n;for(e=0;e<o.length;e++)if(n=r[o[e]],n&&n.length)return n;return null};M.displayName="angular-translate/service: getFirstBrowserLanguage";var k=function(){var e=M()||"";return P[I]&&(e=P[I](e)),e};k.displayName="angular-translate/service: getLocale";var U=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},F=function(){return this.toString().replace(/^\s+|\s+$/g,"")},$=function(e){if(e){for(var t=[],n=angular.lowercase(e),i=0,r=b.length;i<r;i++)t.push(angular.lowercase(b[i]));if(U(t,n)>-1)return e;if(o){var a;for(var s in o)if(o.hasOwnProperty(s)){var l=!1,c=Object.prototype.hasOwnProperty.call(o,s)&&angular.lowercase(s)===angular.lowercase(e);if("*"===s.slice(-1)&&(l=s.slice(0,-1)===e.slice(0,s.length-1)),(c||l)&&(a=o[s],U(t,angular.lowercase(a))>-1))return a}}var u=e.split("_");return u.length>1&&U(t,angular.lowercase(u[0]))>-1?u[0]:void 0}},B=function(e,t){if(!e&&!t)return E;if(e&&!t){if(angular.isString(e))return E[e]}else angular.isObject(E[e])||(E[e]={}),angular.extend(E[e],j(t));return this};this.translations=B,this.cloakClassName=function(e){return e?(L=e,this):L},this.nestedObjectDelimeter=function(e){return e?(w=e,this):w};var j=function(e,t,n,i){var r,o,a,s;t||(t=[]),n||(n={});for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&(s=e[r],angular.isObject(s)?j(s,t.concat(r),n,r):(o=t.length?""+t.join(w)+w+r:r,t.length&&r===i&&(a=""+t.join(w),n[a]="@:"+o),n[o]=s));return n};j.displayName="flatObject",this.addInterpolation=function(e){return S.push(e),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(e){return h=e,this},this.useSanitizeValueStrategy=function(e){return n.useStrategy(e),this},this.preferredLanguage=function(e){return e?(Y(e),this):r};var Y=function(e){return e&&(r=e),r};this.translationNotFoundIndicator=function(e){return this.translationNotFoundIndicatorLeft(e),this.translationNotFoundIndicatorRight(e),this},this.translationNotFoundIndicatorLeft=function(e){return e?(m=e,this):m},this.translationNotFoundIndicatorRight=function(e){return e?(v=e,this):v},this.fallbackLanguage=function(e){return V(e),this};var V=function(e){return e?(angular.isString(e)?(s=!0,a=[e]):angular.isArray(e)&&(s=!1,a=e),angular.isString(r)&&U(a,r)<0&&a.push(r),this):s?a[0]:a};this.use=function(e){if(e){if(!E[e]&&!f)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+e+"'");return l=e,this}return l},this.resolveClientLocale=function(){return k()};var H=function(e){return e?(T=e,this):d?d+T:T};this.storageKey=H,this.useUrlLoader=function(e,t){return this.useLoader("$translateUrlLoader",angular.extend({url:e},t))},this.useStaticFilesLoader=function(e){return this.useLoader("$translateStaticFilesLoader",e)},this.useLoader=function(e,t){return f=e,g=t||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(e){return u=e,this},this.storagePrefix=function(e){return e?(d=e,this):e},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(e){return p=e,this},this.usePostCompiling=function(e){return A=!!e,this},this.forceAsyncReload=function(e){return C=!!e,this},this.uniformLanguageTag=function(e){return e?angular.isString(e)&&(e={standard:e}):e={},I=e.standard,this},this.determinePreferredLanguage=function(e){var t=e&&angular.isFunction(e)?e():k();return r=b.length?$(t)||t:t,this},this.registerAvailableLanguageKeys=function(e,t){return e?(b=e,t&&(o=t),this):b},this.useLoaderCache=function(e){return e===!1?_=void 0:e===!0?_=!0:"undefined"==typeof e?_="$translationCache":e&&(_=e),this},this.directivePriority=function(e){return void 0===e?D:(D=e,this)},this.statefulFilter=function(e){return void 0===e?R:(R=e,this)},this.postProcess=function(e){return y=e?e:void 0,this},this.keepContent=function(e){return O=!!e,this},this.$get=["$log","$injector","$rootScope","$q",function(e,t,n,i){var o,d,I,P=t.get(h||"$translateDefaultInterpolation"),M=!1,G={},W={},q=function(e,t,n,s,c){!l&&r&&(l=r);var p=c&&c!==l?$(c)||c:l;if(c&&ue(c),angular.isArray(e)){var h=function(e){for(var r={},o=[],a=function(e){var o=i.defer(),a=function(t){r[e]=t,o.resolve([e,t])};return q(e,t,n,s,c).then(a,a),o.promise},l=0,u=e.length;l<u;l++)o.push(a(e[l]));return i.all(o).then(function(){return r})};return h(e)}var f=i.defer();e&&(e=F.apply(e));var g=function(){var e=r?W[r]:W[p];if(d=0,u&&!e){var t=o.get(T);if(e=W[t],a&&a.length){var n=U(a,t);d=0===n?1:0,U(a,r)<0&&a.push(r)}}return e}();if(g){var m=function(){c||(p=l),ae(e,t,n,s,p).then(f.resolve,f.reject)};m.displayName="promiseResolved",g.finally(m)}else ae(e,t,n,s,p).then(f.resolve,f.reject);return f.promise},X=function(e){return m&&(e=[m,e].join(" ")),v&&(e=[e,v].join(" ")),e},z=function(e){l=e,u&&o.put(q.storageKey(),l),n.$emit("$translateChangeSuccess",{language:e}),P.setLocale(l);var t=function(e,t){G[t].setLocale(l)};t.displayName="eachInterpolatorLocaleSetter",angular.forEach(G,t),n.$emit("$translateChangeEnd",{language:e})},K=function(e){if(!e)throw"No language key specified for loading.";var r=i.defer();n.$emit("$translateLoadingStart",{language:e}),M=!0;var o=_;"string"==typeof o&&(o=t.get(o));var a=angular.extend({},g,{key:e,$http:angular.extend({},{cache:o},g.$http)}),s=function(t){var i={};n.$emit("$translateLoadingSuccess",{language:e}),angular.isArray(t)?angular.forEach(t,function(e){angular.extend(i,j(e))}):angular.extend(i,j(t)),M=!1,r.resolve({key:e,table:i}),n.$emit("$translateLoadingEnd",{language:e})};s.displayName="onLoaderSuccess";var l=function(e){n.$emit("$translateLoadingError",{language:e}),r.reject(e),n.$emit("$translateLoadingEnd",{language:e})};return l.displayName="onLoaderError",t.get(f)(a).then(s,l),r.promise};if(u&&(o=t.get(u),!o.get||!o.put))throw new Error("Couldn't use storage '"+u+"', missing get() or put() method!");if(S.length){var J=function(e){var n=t.get(e);n.setLocale(r||l),G[n.getInterpolationIdentifier()]=n};J.displayName="interpolationFactoryAdder",angular.forEach(S,J)}var Z=function(e){var t=i.defer();if(Object.prototype.hasOwnProperty.call(E,e))t.resolve(E[e]);else if(W[e]){var n=function(e){B(e.key,e.table),t.resolve(e.table)};n.displayName="translationTableResolver",W[e].then(n,t.reject)}else t.reject();return t.promise},Q=function(e,t,n,r){var o=i.defer(),a=function(i){if(Object.prototype.hasOwnProperty.call(i,t)){r.setLocale(e);var a=i[t];if("@:"===a.substr(0,2))Q(e,a.substr(2),n,r).then(o.resolve,o.reject);else{var s=r.interpolate(i[t],n,"service");s=ce(t,i[t],s,n,e),o.resolve(s)}r.setLocale(l)}else o.reject()};return a.displayName="fallbackTranslationResolver",Z(e).then(a,o.reject),o.promise},ee=function(e,t,n,i,r){var o,a=E[e];if(a&&Object.prototype.hasOwnProperty.call(a,t)){if(i.setLocale(e),o=i.interpolate(a[t],n,"filter",r),o=ce(t,a[t],o,n,e,r),!angular.isString(o)&&angular.isFunction(o.$$unwrapTrustedValue)){var s=o.$$unwrapTrustedValue();if("@:"===s.substr(0,2))return ee(e,s.substr(2),n,i,r)}else if("@:"===o.substr(0,2))return ee(e,o.substr(2),n,i,r);i.setLocale(l)}return o},te=function(e,n,i,r){return p?t.get(p)(e,l,n,i,r):e},ne=function(e,t,n,r,o){var s=i.defer();if(e<a.length){var l=a[e];Q(l,t,n,r).then(function(e){s.resolve(e)},function(){return ne(e+1,t,n,r,o).then(s.resolve,s.reject)})}else if(o)s.resolve(o);else{var c=te(t,n,o);p&&c?s.resolve(c):s.reject(X(t))}return s.promise},ie=function(e,t,n,i,r){var o;if(e<a.length){var s=a[e];o=ee(s,t,n,i,r),o||""===o||(o=ie(e+1,t,n,i))}return o},re=function(e,t,n,i){return ne(I>0?I:d,e,t,n,i)},oe=function(e,t,n,i){return ie(I>0?I:d,e,t,n,i)},ae=function(e,t,n,r,o){var s=i.defer(),l=o?E[o]:E,c=n?G[n]:P;if(l&&Object.prototype.hasOwnProperty.call(l,e)){var u=l[e];if("@:"===u.substr(0,2))q(u.substr(2),t,n,r,o).then(s.resolve,s.reject);else{var d=c.interpolate(u,t,"service");d=ce(e,u,d,t,o),s.resolve(d)}}else{var h;p&&!M&&(h=te(e,t,r)),o&&a&&a.length?re(e,t,c,r).then(function(e){s.resolve(e)},function(e){s.reject(X(e))}):p&&!M&&h?r?s.resolve(r):s.resolve(h):r?s.resolve(r):s.reject(X(e))}return s.promise},se=function(e,t,n,i,r){var o,s=i?E[i]:E,l=P;if(G&&Object.prototype.hasOwnProperty.call(G,n)&&(l=G[n]),s&&Object.prototype.hasOwnProperty.call(s,e)){var c=s[e];"@:"===c.substr(0,2)?o=se(c.substr(2),t,n,i,r):(o=l.interpolate(c,t,"filter",r),o=ce(e,c,o,t,i,r))}else{var u;p&&!M&&(u=te(e,t,r)),i&&a&&a.length?(d=0,o=oe(e,t,l,r)):o=p&&!M&&u?u:X(e)}return o},le=function(e){c===e&&(c=void 0),W[e]=void 0},ce=function(e,n,i,r,o,a){var s=y;return s&&("string"==typeof s&&(s=t.get(s)),s)?s(e,n,i,r,o,a):i},ue=function(e){E[e]||!f||W[e]||(W[e]=K(e).then(function(e){return B(e.key,e.table),e}))};q.preferredLanguage=function(e){return e&&Y(e),r},q.cloakClassName=function(){return L},q.nestedObjectDelimeter=function(){return w},q.fallbackLanguage=function(e){if(void 0!==e&&null!==e){if(V(e),f&&a&&a.length)for(var t=0,n=a.length;t<n;t++)W[a[t]]||(W[a[t]]=K(a[t]));q.use(q.use())}return s?a[0]:a},q.useFallbackLanguage=function(e){if(void 0!==e&&null!==e)if(e){var t=U(a,e);t>-1&&(I=t)}else I=0},q.proposedLanguage=function(){return c},q.storage=function(){return o},q.negotiateLocale=$,q.use=function(e){if(!e)return l;var t=i.defer();n.$emit("$translateChangeStart",{language:e});var r=$(e);return b.length>0&&!r?i.reject(e):(r&&(e=r),c=e,!C&&E[e]||!f||W[e]?W[e]?W[e].then(function(e){return c===e.key&&z(e.key),t.resolve(e.key),e},function(e){return!l&&a&&a.length>0&&a[0]!==e?q.use(a[0]).then(t.resolve,t.reject):t.reject(e)}):(t.resolve(e),z(e)):(W[e]=K(e).then(function(n){return B(n.key,n.table),t.resolve(n.key),c===e&&z(n.key),n},function(e){return n.$emit("$translateChangeError",{language:e}),t.reject(e),n.$emit("$translateChangeEnd",{language:e}),i.reject(e)}),W[e].finally(function(){le(e)})),t.promise)},q.resolveClientLocale=function(){return k()},q.storageKey=function(){return H()},q.isPostCompilingEnabled=function(){return A},q.isForceAsyncReloadEnabled=function(){return C},q.isKeepContent=function(){return O},q.refresh=function(e){function t(){o.resolve(),n.$emit("$translateRefreshEnd",{language:e})}function r(){o.reject(),n.$emit("$translateRefreshEnd",{language:e})}if(!f)throw new Error("Couldn't refresh translation table, no loader registered!");var o=i.defer();if(n.$emit("$translateRefreshStart",{language:e}),e)if(E[e]){var s=function(n){return B(n.key,n.table),e===l&&z(l),t(),n};s.displayName="refreshPostProcessor",K(e).then(s,r)}else r();else{var c=[],u={};if(a&&a.length)for(var d=0,p=a.length;d<p;d++)c.push(K(a[d])),u[a[d]]=!0;l&&!u[l]&&c.push(K(l));var h=function(e){E={},angular.forEach(e,function(e){B(e.key,e.table)}),l&&z(l),t()};h.displayName="refreshPostProcessor",i.all(c).then(h,r)}return o.promise},q.instant=function(e,t,n,i,o){var s=i&&i!==l?$(i)||i:l;if(null===e||angular.isUndefined(e))return e;if(i&&ue(i),angular.isArray(e)){for(var c={},u=0,d=e.length;u<d;u++)c[e[u]]=q.instant(e[u],t,n,i,o);return c}if(angular.isString(e)&&e.length<1)return e;e&&(e=F.apply(e));var h,f=[];r&&f.push(r),s&&f.push(s),a&&a.length&&(f=f.concat(a));for(var g=0,_=f.length;g<_;g++){var y=f[g];if(E[y]&&"undefined"!=typeof E[y][e]&&(h=se(e,t,n,s,o)),"undefined"!=typeof h)break}if(!h&&""!==h)if(m||v)h=X(e);else{h=P.interpolate(e,t,"filter",o);var b;p&&!M&&(b=te(e,t,o)),p&&!M&&b&&(h=b)}return h},q.versionInfo=function(){return N},q.loaderCache=function(){return _},q.directivePriority=function(){return D},q.statefulFilter=function(){return R},q.isReady=function(){return x};var de=i.defer();de.promise.then(function(){x=!0}),q.onReady=function(e){var t=i.defer();return angular.isFunction(e)&&t.promise.then(e),x?t.resolve():de.promise.then(t.resolve),t.promise},q.getAvailableLanguageKeys=function(){return b.length>0?b:null},q.getTranslationTable=function(e){return e=e||q.use(),e&&E[e]?angular.copy(E[e]):null};var pe=n.$on("$translateReady",function(){de.resolve(),pe(),pe=null}),he=n.$on("$translateChangeEnd",function(){de.resolve(),he(),he=null});if(f){if(angular.equals(E,{})&&q.use()&&q.use(q.use()),a&&a.length)for(var fe=function(e){return B(e.key,e.table),n.$emit("$translateChangeEnd",{language:e.key}),e},ge=0,me=a.length;ge<me;ge++){var ve=a[ge];!C&&E[ve]||(W[ve]=K(ve).then(fe))}}else n.$emit("$translateReady",{language:q.use()});return q}]}function i(e,t){"use strict";var n,i={},r="default";return i.setLocale=function(e){n=e},i.getInterpolationIdentifier=function(){return r},i.useSanitizeValueStrategy=function(e){return t.useStrategy(e),this},i.interpolate=function(n,i,r,o){i=i||{},i=t.sanitize(i,"params",o,r);var a;return angular.isNumber(n)?a=""+n:angular.isString(n)?(a=e(n)(i),a=t.sanitize(a,"text",o,r)):a="",a},i}function r(e,t,n,i,r){"use strict";var a=function(){return this.toString().replace(/^\s+|\s+$/g,"")};return{restrict:"AE",scope:!0,priority:e.directivePriority(),compile:function(s,l){var c=l.translateValues?l.translateValues:void 0,u=l.translateInterpolation?l.translateInterpolation:void 0,d=s[0].outerHTML.match(/translate-value-+/i),p="^(.*)("+t.startSymbol()+".*"+t.endSymbol()+")(.*)",h="^(.*)"+t.startSymbol()+"(.*)"+t.endSymbol()+"(.*)";return function(s,f,g){s.interpolateParams={},s.preText="",s.postText="",s.translateNamespace=o(s);var m={},v=function(e,t,n){if(t.translateValues&&angular.extend(e,i(t.translateValues)(s.$parent)),d)for(var r in n)if(Object.prototype.hasOwnProperty.call(t,r)&&"translateValue"===r.substr(0,14)&&"translateValues"!==r){var o=angular.lowercase(r.substr(14,1))+r.substr(15);e[o]=n[r]}},_=function(e){if(angular.isFunction(_._unwatchOld)&&(_._unwatchOld(),_._unwatchOld=void 0),angular.equals(e,"")||!angular.isDefined(e)){var n=a.apply(f.text()),i=n.match(p);if(angular.isArray(i)){s.preText=i[1],s.postText=i[3],m.translate=t(i[2])(s.$parent);var r=n.match(h);angular.isArray(r)&&r[2]&&r[2].length&&(_._unwatchOld=s.$watch(r[2],function(e){m.translate=e,L()}))}else m.translate=n?n:void 0}else m.translate=e;L()},y=function(e){g.$observe(e,function(t){m[e]=t,L()})};v(s.interpolateParams,g,l);var E=!0;g.$observe("translate",function(e){"undefined"==typeof e?_(""):""===e&&E||(m.translate=e,L()),E=!1});for(var b in g)g.hasOwnProperty(b)&&"translateAttr"===b.substr(0,13)&&b.length>13&&y(b);if(g.$observe("translateDefault",function(e){s.defaultText=e,L()}),c&&g.$observe("translateValues",function(e){e&&s.$parent.$watch(function(){angular.extend(s.interpolateParams,i(e)(s.$parent))})}),d){var T=function(e){g.$observe(e,function(t){var n=angular.lowercase(e.substr(14,1))+e.substr(15);s.interpolateParams[n]=t})};for(var S in g)Object.prototype.hasOwnProperty.call(g,S)&&"translateValue"===S.substr(0,14)&&"translateValues"!==S&&T(S)}var L=function(){for(var e in m)m.hasOwnProperty(e)&&void 0!==m[e]&&A(e,m[e],s,s.interpolateParams,s.defaultText,s.translateNamespace)},A=function(t,n,i,r,o,a){n?(a&&"."===n.charAt(0)&&(n=a+n),e(n,r,u,o,i.translateLanguage).then(function(e){C(e,i,!0,t)},function(e){C(e,i,!1,t)})):C(n,i,!1,t)},C=function(t,i,r,o){if(r||"undefined"!=typeof i.defaultText&&(t=i.defaultText),"translate"===o){(r||!r&&!e.isKeepContent()&&"undefined"==typeof g.translateKeepContent)&&f.empty().append(i.preText+t+i.postText);var a=e.isPostCompilingEnabled(),s="undefined"!=typeof l.translateCompile,c=s&&"false"!==l.translateCompile;(a&&!s||c)&&n(f.contents())(i)}else{var u=g.$attr[o];"data-"===u.substr(0,5)&&(u=u.substr(5)),u=u.substr(15),f.attr(u,t)}};(c||d||g.translateDefault)&&s.$watch("interpolateParams",L,!0),s.$on("translateLanguageChanged",L);var w=r.$on("$translateChangeSuccess",L);f.text().length?_(g.translate?g.translate:""):g.translate&&_(g.translate),L(),s.$on("$destroy",w)}}}}function o(e){"use strict";return e.translateNamespace?e.translateNamespace:e.$parent?o(e.$parent):void 0}function a(e,t){"use strict";return{restrict:"A",priority:e.directivePriority(),link:function(n,i,r){var o,a,l={},c=function(){angular.forEach(o,function(t,o){t&&(l[o]=!0,n.translateNamespace&&"."===t.charAt(0)&&(t=n.translateNamespace+t),e(t,a,r.translateInterpolation,void 0,n.translateLanguage).then(function(e){i.attr(o,e)},function(e){i.attr(o,e)}))}),angular.forEach(l,function(e,t){o[t]||(i.removeAttr(t),delete l[t])})};s(n,r.translateAttr,function(e){o=e},c),s(n,r.translateValues,function(e){a=e},c),r.translateValues&&n.$watch(r.translateValues,c,!0),n.$on("translateLanguageChanged",c);var u=t.$on("$translateChangeSuccess",c);c(),n.$on("$destroy",u)}}}function s(e,t,n,i){"use strict";t&&("::"===t.substr(0,2)?t=t.substr(2):e.$watch(t,function(e){n(e),i()},!0),n(e.$eval(t)))}function l(e,t){"use strict";return{compile:function(n){var i=function(){n.addClass(e.cloakClassName())},r=function(){n.removeClass(e.cloakClassName())};return e.onReady(function(){r()}),i(),function(n,o,a){a.translateCloak&&a.translateCloak.length&&(a.$observe("translateCloak",function(t){e(t).then(r,i)}),t.$on("$translateChangeSuccess",function(){e(a.translateCloak).then(r,i)}))}}}}function c(){"use strict";return{restrict:"A",scope:!0,compile:function(){return{pre:function(e,t,n){e.translateNamespace=o(e),e.translateNamespace&&"."===n.translateNamespace.charAt(0)?e.translateNamespace+=n.translateNamespace:e.translateNamespace=n.translateNamespace}}}}}function o(e){"use strict";return e.translateNamespace?e.translateNamespace:e.$parent?o(e.$parent):void 0}function u(){"use strict";return{restrict:"A",scope:!0,compile:function(){return function(e,t,n){n.$observe("translateLanguage",function(t){e.translateLanguage=t}),e.$watch("translateLanguage",function(){e.$broadcast("translateLanguageChanged")})}}}}function d(e,t){"use strict";var n=function(n,i,r,o){return angular.isObject(i)||(i=e(i)(this)),t.instant(n,i,r,o)};return t.statefulFilter()&&(n.$stateful=!0),n}function p(e){"use strict";return e("translations")}return e.$inject=["$translate"],n.$inject=["$STORAGE_KEY","$windowProvider","$translateSanitizationProvider","pascalprechtTranslateOverrider"],i.$inject=["$interpolate","$translateSanitization"],r.$inject=["$translate","$interpolate","$compile","$parse","$rootScope"],a.$inject=["$translate","$rootScope"],l.$inject=["$translate","$rootScope"],d.$inject=["$parse","$translate"],p.$inject=["$cacheFactory"],angular.module("pascalprecht.translate",["ng"]).run(e),e.displayName="runTranslate",angular.module("pascalprecht.translate").provider("$translateSanitization",t),angular.module("pascalprecht.translate").constant("pascalprechtTranslateOverrider",{}).provider("$translate",n),n.displayName="displayName",angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",i),i.displayName="$translateDefaultInterpolation",angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",r),r.displayName="translateDirective",angular.module("pascalprecht.translate").directive("translateAttr",a),a.displayName="translateAttrDirective",angular.module("pascalprecht.translate").directive("translateCloak",l),l.displayName="translateCloakDirective",angular.module("pascalprecht.translate").directive("translateNamespace",c),c.displayName="translateNamespaceDirective",angular.module("pascalprecht.translate").directive("translateLanguage",u),u.displayName="translateLanguageDirective",angular.module("pascalprecht.translate").filter("translate",d),d.displayName="translateFilterFactory",angular.module("pascalprecht.translate").factory("$translationCache",p),p.displayName="$translationCache","pascalprecht.translate"}),function(){function e(e,t,n){var i=t&&n||0,r=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,function(e){r<16&&(t[i+r++]=d[e])});r<16;)t[i+r++]=0;return t}function t(e,t){var n=t||0,i=u;return i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]}function n(e,n,i){var r=n&&i||0,o=n||[];e=e||{};var a=null!=e.clockseq?e.clockseq:g,s=null!=e.msecs?e.msecs:(new Date).getTime(),l=null!=e.nsecs?e.nsecs:v+1,c=s-m+(l-v)/1e4;if(c<0&&null==e.clockseq&&(a=a+1&16383),(c<0||s>m)&&null==e.nsecs&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");m=s,v=l,g=a,s+=122192928e5;var u=(1e4*(268435455&s)+l)%4294967296;o[r++]=u>>>24&255,o[r++]=u>>>16&255,o[r++]=u>>>8&255,o[r++]=255&u;var d=s/4294967296*1e4&268435455;o[r++]=d>>>8&255,o[r++]=255&d,o[r++]=d>>>24&15|16,o[r++]=d>>>16&255,o[r++]=a>>>8|128,o[r++]=255&a;for(var p=e.node||f,h=0;h<6;h++)o[r+h]=p[h];return n?n:t(o)}function i(e,n,i){var o=n&&i||0;"string"==typeof e&&(n="binary"==e?new c(16):null,e=null),e=e||{};var a=e.random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,n)for(var s=0;s<16;s++)n[o+s]=a[s];return n||t(a)}var r,o=this;if("function"==typeof require)try{var a=require("crypto").randomBytes;r=a&&function(){return a(16)}}catch(e){}if(!r&&o.crypto&&crypto.getRandomValues){var s=new Uint8Array(16);r=function(){return crypto.getRandomValues(s),s}}if(!r){var l=new Array(16);r=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),l[t]=e>>>((3&t)<<3)&255;return l}}for(var c="function"==typeof Buffer?Buffer:Array,u=[],d={},p=0;p<256;p++)u[p]=(p+256).toString(16).substr(1),d[u[p]]=p;var h=r(),f=[1|h[0],h[1],h[2],h[3],h[4],h[5]],g=16383&(h[6]<<8|h[7]),m=0,v=0,_=i;if(_.v1=n,_.v4=i,_.parse=e,_.unparse=t,_.BufferClass=c,"function"==typeof define&&define.amd)define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/components/uuid/uuid",[],function(){return _});else if("undefined"!=typeof module&&module.exports)module.exports=_;else{var y=o.uuid;_.noConflict=function(){return o.uuid=y,_},o.uuid=_}}.call(this),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/components/dcx-js/src/AdobeDCXError",["require","exports","module"],function(e,t,n){"use strict";function i(e,t,n){if(Error.call(this),Error.captureStackTrace)Error.captureStackTrace(this,i);else{var r=new Error;r.name=this.name,this.stack=r.stack}this.code=e,this.message="["+e+"] "+t,this.underlyingError=n}i.prototype=Object.create(Error.prototype),i.prototype.name="AdobeDCXError",i.INVALID_JSON="INVALID_JSON",i.READ_ONLY="READ_ONLY",i.INVALID_PARAMS="",i.INVALID_DATA="INVALID_DATA",i.DUPLICATE_VALUE="DUPLICATE_VALUE",i.NO_LOCAL_STORAGE="NO_LOCAL_STORAGE",i.INVALID_STATE="INVALID_STATE",i.DELETED_COMPOSITE="DELETED_COMPOSITE",i.UNEXPECTED_RESPONSE="UNEXPECTED_RESPONSE",i.NETWORK_ERROR="NETWORK_ERROR",i.COMPONENT_DOWNLOAD_ERROR="COMPONENT_DOWNLOAD_ERROR",i.COMPONENT_UPLOAD_ERROR="COMPONENT_UPLOAD_ERROR",i.COMPONENT_MODIFIED_ERROR="COMPONENT_MODIFIED_ERROR",i.UPDATE_CONFLICT="UPDATE_CONFLICT",i.NO_COMPOSITE="NO_COMPOSITE",i.ALREADY_EXISTS="ALREADY_EXISTS",i.SERVICE_IS_INACTIVE="SERVICE_IS_INACTIVE",i.EXCEEDS_QUOTA="EXCEEDS_QUOTA",i.NOT_IMPLEMENTED="NOT_IMPLEMENTED",i.RETRYABLE_SERVER_ERROR="RETRYABLE_SERVER_ERROR",i.TIMED_OUT="TIMED_OUT",i.UNEXPECTED="UNEXPECTED",i.TERMINATED_INPUTSTREAM="TERMINATED_INPUTSTREAM",i.WRONG_ENDPOINT="WRONG_ENDPOINT",i.OUT_OF_SPACE="ENOSPC";var r={};return r[i.SERVICE_IS_INACTIVE]=1,r[i.NOT_IMPLEMENTED]=1,r[i.EXCEEDS_QUOTA]=1,r[i.RETRYABLE_SERVER_ERROR]=1,r[i.TIMED_OUT]=1,r[i.TERMINATED_INPUTSTREAM]=1,r[i.WRONG_ENDPOINT]=1,r[i.OUT_OF_SPACE]=1,i.wrapError=function(e,t,n,o){if(!n||!r[n.code]){if(o){var a=o.statusCode;a>=500&&a<600&&(501===a?(e=i.NOT_IMPLEMENTED,t="Unimplemented request"):507===a?(e=i.EXCEEDS_QUOTA,t="Quota exceeded"):(e=i.RETRYABLE_SERVER_ERROR,t="Server error"))}n=new i(e,t,n)}return o&&(n.response=o),n},i.networkError=function(e,t,n){return i.wrapError(i.NETWORK_ERROR,e,t,n)},i.unexpectedResponse=function(e,t,n){return i.wrapError(i.UNEXPECTED_RESPONSE,e,t,n)},i}),function(){function e(e,t,n){var i=t&&n||0,r=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,function(e){r<16&&(t[i+r++]=d[e])});r<16;)t[i+r++]=0;return t}function t(e,t){var n=t||0,i=u;return i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]}function n(e,n,i){var r=n&&i||0,o=n||[];e=e||{};var a=null!=e.clockseq?e.clockseq:g,s=null!=e.msecs?e.msecs:(new Date).getTime(),l=null!=e.nsecs?e.nsecs:v+1,c=s-m+(l-v)/1e4;if(c<0&&null==e.clockseq&&(a=a+1&16383),(c<0||s>m)&&null==e.nsecs&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");
m=s,v=l,g=a,s+=122192928e5;var u=(1e4*(268435455&s)+l)%4294967296;o[r++]=u>>>24&255,o[r++]=u>>>16&255,o[r++]=u>>>8&255,o[r++]=255&u;var d=s/4294967296*1e4&268435455;o[r++]=d>>>8&255,o[r++]=255&d,o[r++]=d>>>24&15|16,o[r++]=d>>>16&255,o[r++]=a>>>8|128,o[r++]=255&a;for(var p=e.node||f,h=0;h<6;h++)o[r+h]=p[h];return n?n:t(o)}function i(e,n,i){var o=n&&i||0;"string"==typeof e&&(n="binary"==e?new c(16):null,e=null),e=e||{};var a=e.random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,n)for(var s=0;s<16;s++)n[o+s]=a[s];return n||t(a)}var r,o=this;if("function"==typeof require)try{var a=require("crypto").randomBytes;r=a&&function(){return a(16)}}catch(e){}if(!r&&o.crypto&&crypto.getRandomValues){var s=new Uint8Array(16);r=function(){return crypto.getRandomValues(s),s}}if(!r){var l=new Array(16);r=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),l[t]=e>>>((3&t)<<3)&255;return l}}for(var c="function"==typeof Buffer?Buffer:Array,u=[],d={},p=0;p<256;p++)u[p]=(p+256).toString(16).substr(1),d[u[p]]=p;var h=r(),f=[1|h[0],h[1],h[2],h[3],h[4],h[5]],g=16383&(h[6]<<8|h[7]),m=0,v=0,_=i;if(_.v1=n,_.v4=i,_.parse=e,_.unparse=t,_.BufferClass=c,"function"==typeof define&&define.amd)define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/components/dcx-js/src/components/uuid/uuid",[],function(){return _});else if("undefined"!=typeof module&&module.exports)module.exports=_;else{var y=o.uuid;_.noConflict=function(){return o.uuid=y,_},o.uuid=_}}.call(this),"function"!=typeof nodeRequire)var nodeRequire=require;if(define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/components/dcx-js/src/AdobeDCXUtil",["require","exports","module","./components/uuid/uuid"],function(e,t,n){"use strict";var i;try{i=e("./components/uuid/uuid")}catch(e){i=nodeRequire("node-uuid")}var r;t._setLogCallback=function(e){r=e},t.merge=function(e){var t,n;for(t=1;t<arguments.length;++t){var i=arguments[t];if("object"==typeof i)for(n in i)i.hasOwnProperty(n)&&(e[n]=i[n])}return e},t.parentDirectory=function(e){var t=e.split("/");return t.pop(),t.join("/")},t.filePathComponents=function(e){var t=e.split("/"),n=t.pop(),i=n.split("."),r=i.length>1?i.pop():null;return{directory:t.join("/"),fileName:n,baseName:i.join("."),extension:r}},t.appendPathElements=function(){var e,t=[],n=arguments.length;for(e=0;e<n;e++){var i=arguments[e];"string"==typeof i&&""!==i&&(0===e&&1!==i.length||"/"===i.charAt(0)&&(i=i.slice(1)),e!==n-1&&"/"===i.charAt(i.length-1)&&(i=i.slice(0,i.length-1)),t.push(i))}return t.join("/")};var o=/^[^\u0000-\u001F\u0022\u002A\u003A\u003C\u003E\u003F\u005C\u007F]*[^\u0000-\u001F\u0022\u002A\u002E\u003A\u003C\u003E\u003F\u005C\u007F]{1}$/;t.isValidPath=function(e,t){try{if(e.length>65535)return!1;var n=(t?e.slice(1):e).split("/");if(!n||0===n.length)return!1;var i,r=n.length;for(i=0;i<r;i++){var a=n[i];if(a.length>255||!o.test(n[i]))return!1}if(t&&n.length>0){var s=n[0];if("manifest"===s||"mimetype"===s)return!1}return!0}catch(e){return!1}},t.isValidAbsolutePath=function(e){return t.isValidPath(e,!0)};var a=t.noOp=function(){};t.consumeStream=function(e,t,n){e.on("data",n||a),e.on("end",t||a)},t.flatCopy=function(e){var t,n={},i=Object.keys(e),r=i.length;for(t=0;t<r;t++){var o=i[t];n[o]=e[o]}return n},t.deepCopy=function(e){return JSON.parse(JSON.stringify(e))},t.objectsEqual=function(e,n,i){var r,o,a={},s=Object.keys(e),l=s.length;for(o=0;o<l;o++){if(r=s[o],!i||!i[r]){var c=e[r],u=n[r],d=typeof c,p=typeof u;if(d!==p)return!1;if("object"===d){if(!t.objectsEqual(c,u,i))return!1}else if(c!==u)return!1}a[r]=!0}for(s=Object.keys(n),l=s.length,o=0;o<l;o++)if(r=s[o],!a[r])return!1;return!0};var s=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?");t.parseURI=function(e){var t=e.match(s);return{scheme:t[2],authority:t[4],path:t[5],query:t[7],fragment:t[9]}},t.endPointOf=function(e){var n,i=t.parseURI(e),r=i.scheme,o=i.authority,a="https"===r?443:"http"===r?80:-1;return r&&o&&(n=(r+"://"+o).toLowerCase(),a>=0&&o.indexOf(":")<0&&(n=n+":"+a)),n},t.ensureRelativeHrefStartsWithSlash=function(e){if(e){var n=t.parseURI(e),i=n.scheme,r=n.authority;i||r||"/"!==e.charAt(0)&&(e="/"+e)}return e};var l=/^([^:]+):(.*)$/,c=/^\s+|\s+$/g;return t.parseHeaders=function(e){var t,n,i,r={},o=e.split(/\r?\n/);for(t=0;t<o.length;++t){var a=o[t];if(a.length>0){var s=a.charCodeAt(0);if(!n||9!==s&&32!==s){var u=l.exec(a);u&&u.length>1&&(n=u[1].toLowerCase(),i=u[2]||"",i=i.replace(c,""),r[n]?r[n]=r[n]+","+i:r[n]=i)}else r[n]=r[n]+" "+a.replace(c,"")}}return r},t.timeStamp=function(e){var t=(new Date).getTime();return e&&(t-=t%1e3),t},t.generateUuid=i,t.log=function(e){if("function"==typeof r)try{r(e)}catch(e){}},t}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/components/dcx-js/src/AdobeDCXNode",["require","exports","module","./AdobeDCXError","./AdobeDCXUtil"],function(e,t,n){"use strict";function i(e,t,n){e?this._setData(e):this._data={},this._readOnly=t,this._isRoot=n}var r=e("./AdobeDCXError"),o=e("./AdobeDCXUtil"),a="/";i.ROOT_PATH=a,Object.defineProperties(i.prototype,{id:{get:function(){return this._data.id},set:function(e){if(this._readOnly)throw new r(r.READ_ONLY,"This object is read-only.");if(this._owner)throw new r(r.READ_ONLY,"Cannot change the id of a node that is part of a branch or element.");if("string"!=typeof e||""===e)throw new r(r.INVALID_PARAMS,"Expecting a non-empty string.");this._data.id=e,this._setDirty()}},name:{get:function(){return this._data.name},set:function(e){if(this._readOnly)throw new r(r.READ_ONLY,"This object is read-only.");if("string"!=typeof e&&"undefined"!=typeof e)throw new r(r.INVALID_PARAMS,"Expecting a string or undefined.");this._data.name=e,this._setDirty()}},type:{get:function(){return this._data.type},set:function(e){if(this._readOnly)throw new r(r.READ_ONLY,"This object is read-only.");if("string"!=typeof e&&"undefined"!=typeof e)throw new r(r.INVALID_PARAMS,"Expecting a string or undefined.");this._data.type=e,this._setDirty()}},relationship:{get:function(){return this._data.rel},set:function(e){if(this._readOnly)throw new r(r.READ_ONLY,"This object is read-only.");if("string"!=typeof e&&"undefined"!=typeof e)throw new r(r.INVALID_PARAMS,"Expecting a string or undefined.");this._data.rel=e,this._setDirty()}},path:{get:function(){return this._isRoot?a:this._data.path},set:function(e){if(e!==this.path){if(this._readOnly)throw new r(r.READ_ONLY,"This object is read-only.");if(this._isRoot)throw new r(r.READ_ONLY,"Cannot change the path of the root node.");if(e&&!o.isValidPath(e))throw new r(r.INVALID_PARAMS,"Expecting a valid path or undefined.");this._owner?this._owner._setPathOfNode(this,e||void 0):(this._data.path=e||void 0,this._parentPath=""),this._setDirty()}}},parentPath:{get:function(){return this._parentPath},set:function(e){throw new r(r.READ_ONLY,"parentPath is read-only.")}},absolutePath:{get:function(){var e=this.path;return this._isRoot?e:e&&this._owner?o.appendPathElements(this._parentPath,e):void 0},set:function(e){throw new r(r.READ_ONLY,"absolutePath is read-only.")}},isRoot:{get:function(){return this._isRoot},set:function(e){throw new r(r.READ_ONLY,"isRoot is read-only.")}}}),i.prototype.getLink=function(e){if("string"!=typeof e)throw new r(r.INVALID_PARAMS,'Param "relationship" must be a string');return this._data._links?this._data._links[e]:void 0},i.prototype.setLink=function(e,t){if(this._readOnly)throw new r(r.READ_ONLY,"This object is read-only.");if("object"!=typeof e)throw new r(r.INVALID_PARAMS,'Param "link" must be an object.');if("string"!=typeof t)throw new r(r.INVALID_PARAMS,'Param "relationship" must be a string');var n=this._data._links;n||(n=this._data._links={}),n[t]=e,this._setDirty()},i.prototype.removeLink=function(e){if(this._readOnly)throw new r(r.READ_ONLY,"This object is read-only.");if("string"!=typeof e)throw new r(r.INVALID_PARAMS,'Param "relationship" must be a string');var t=this._data._links;t&&(delete t[e],Object.keys(t).length<1&&delete this._data._links,this._setDirty())};var s={components:!0,children:!0,"manifest-format-version":!0,id:!0,name:!0,type:!0,state:!0,local:!0},l={components:!0,children:!0,rel:!0,path:!0,id:!0,name:!0,type:!0};return i.prototype.getCustomKeys=function(){var e,t=[],n=Object.keys(this._data),i=n.length;for(e=0;e<i;e++){var r=n[e];(this._isRoot?s[r]:l[r])||t.push(r)}return t},i.prototype.getValue=function(e){if("string"!=typeof e)throw new r(r.INVALID_PARAMS,'Param "key" must be a string');if("children"===e||"components"===e)throw new r(r.INVALID_PARAMS,"Illegal key");return this._data[e]},i.prototype.setValue=function(e,t){if(this._readOnly)throw new r(r.READ_ONLY,"This object is read-only.");if("string"!=typeof e)throw new r(r.INVALID_PARAMS,'Param "key" must be a string');if("children"===e||"components"===e)throw new r(r.INVALID_PARAMS,"Illegal key");this._data[e]=t,this._setDirty()},i.prototype.removeValue=function(e){if(this._readOnly)throw new r(r.READ_ONLY,"This object is read-only.");if("string"!=typeof e)throw new r(r.INVALID_PARAMS,'Param "key" must be a string');if("children"===e||"components"===e)throw new r(r.INVALID_PARAMS,"Illegal key");delete this._data[e],this._setDirty()},i.prototype.copy=function(){var e=null,t=this._data.children,n=this._data.components;try{t&&delete this._data.children,n&&delete this._data.components;var r=JSON.parse(JSON.stringify(this._data));e=new i(r)}finally{t&&(this._data.children=t),n&&(this._data.components=n)}return e},i.prototype.isEqualTo=function(e,t,n){return this._isEqual(this._data,e._data,o.merge({children:!0,components:!0},t),n)},i.prototype._isEqual=function(e,t,n,i){var r,a,s,l,c;if(!o.objectsEqual(e,t,n))return!1;if(a=e.components,s=t.components,l=a?a.length:0,c=s?s.length:0,l!==c)return!1;if(l){var u,d,p;for(r=0;r<l;r++){for(u=a[r],d=null,p=0;p<l;p++)if(u.id===s[p].id){d=s[p];break}if(!d)return!1;if(!o.objectsEqual(u,d,i))return!1}}if(a=e.children,s=t.children,l=a?a.length:0,c=s?s.length:0,l!==c)return!1;if(l)for(r=0;r<l;r++)if(!this._isEqual(a[r],s[r],n,i))return!1;return!0},i.prototype._setData=function(e){var t=this._verify(e);if(null===t)return this._data=e,this;throw t},i.prototype._verify=function(e){return"string"!=typeof e.id?new r(r.INVALID_DATA,"Node is missing an id of type string"):null},i.prototype._setDirty=function(){this._owner&&this._owner._setDirty()},i}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/components/dcx-js/src/AdobeDCXComponent",["require","exports","module","./AdobeDCXError","./AdobeDCXUtil"],function(e,t,n){"use strict";function i(e,t){e?this._setData(e):this._data={},this._readOnly=t}function r(e){this.compositeId=e,this.records={}}function o(e,t,n,i,r,o){this.id=e,this.etag=t,this.version=n,this.md5=i,this.length=r,this.type=o}var a=e("./AdobeDCXError"),s=e("./AdobeDCXUtil"),l={unmodified:"unmodified",modified:"modified",pendingDelete:"pendingDelete",committedDelete:"committedDelete"};i.STATES=l,i._UploadResults=r,i._UploadRecord=o,Object.defineProperties(i.prototype,{id:{get:function(){return this._data.id},set:function(e){if(this._readOnly)throw new a(a.READ_ONLY,"This object is read-only.");if(this._owner)throw new a(a.READ_ONLY,"Cannot change the id of a component that is part of a branch or element.");if("string"!=typeof e||""===e)throw new a(a.INVALID_PARAMS,"Expecting a non-empty string.");this._data.id=e,this._setDirty()}},name:{get:function(){return this._data.name},set:function(e){if(this._readOnly)throw new a(a.READ_ONLY,"This object is read-only.");if("string"!=typeof e&&"undefined"!=typeof e)throw new a(a.INVALID_PARAMS,"Expecting a string or undefined.");this._data.name=e,this._setDirty()}},type:{get:function(){return this._data.type},set:function(e){if(this._readOnly)throw new a(a.READ_ONLY,"This object is read-only.");if("string"!=typeof e||""===e)throw new a(a.INVALID_PARAMS,"Expecting a non-empty string.");this._data.type=e,this._setDirty()}},path:{get:function(){return this._data.path},set:function(e){if(this._data.path!==e){if(this._readOnly)throw new a(a.READ_ONLY,"This object is read-only.");if(!s.isValidPath(e))throw new a(a.INVALID_PARAMS,"Expecting a valid path.");this._owner?this._owner._core._setPathOfComponent(this,e):(this._data.path=e,this._parentPath=""),this._setDirty()}}},parentPath:{get:function(){return this._parentPath},set:function(e){throw new a(a.READ_ONLY,"parentPath is read-only.")}},absolutePath:{get:function(){return this._data.path&&this._owner?s.appendPathElements(this._parentPath,this._data.path):void 0},set:function(e){throw new a(a.READ_ONLY,"absolutePath is read-only.")}},relationship:{get:function(){return this._data.rel},set:function(e){if(this._readOnly)throw new a(a.READ_ONLY,"This object is read-only.");if("string"!=typeof e&&"undefined"!=typeof e)throw new a(a.INVALID_PARAMS,"Expecting a string or undefined.");this._data.rel=e,this._setDirty()}},state:{get:function(){return this._data.state},set:function(e){if(this._readOnly)throw new a(a.READ_ONLY,"This object is read-only.");if("string"!=typeof e)throw new a(a.INVALID_PARAMS,"Expecting a string.");if(!l.hasOwnProperty(e))throw new a(a.INVALID_PARAMS,'State must be "modified", "unmodified", "pendingDelete", or "committedDelete".');this._data.state=e,this._setDirty()}},etag:{get:function(){return this._data.etag},set:function(e){if(this._readOnly)throw new a(a.READ_ONLY,"This object is read-only.");if("string"!=typeof e&&"undefined"!=typeof e)throw new a(a.INVALID_PARAMS,"Expecting a string or undefined.");this._data.etag=e,this._setDirty()}},md5:{get:function(){return this._data.md5},set:function(e){if(this._readOnly)throw new a(a.READ_ONLY,"This object is read-only.");if("string"!=typeof e&&"undefined"!=typeof e)throw new a(a.INVALID_PARAMS,"Expecting a string or undefined.");this._data.md5=e,this._setDirty()}},version:{get:function(){return this._data.version},set:function(e){if(this._readOnly)throw new a(a.READ_ONLY,"This object is read-only.");if("undefined"!=typeof e&&"string"!=typeof e)throw new a(a.INVALID_PARAMS,"Expecting a string or undefined.");this._data.version=e,this._setDirty()}},length:{get:function(){return this._data.length},set:function(e){if(this._readOnly)throw new a(a.READ_ONLY,"This object is read-only.");if("number"!=typeof e&&"undefined"!=typeof e)throw new a(a.INVALID_PARAMS,"Expecting a number or undefined.");this._data.length=e,this._setDirty()}},width:{get:function(){return this._data.width},set:function(e){if(this._readOnly)throw new a(a.READ_ONLY,"This object is read-only.");if("number"!=typeof e&&"undefined"!=typeof e)throw new a(a.INVALID_PARAMS,"Expecting a number or undefined.");this._data.width=e,this._setDirty()}},height:{get:function(){return this._data.height},set:function(e){if(this._readOnly)throw new a(a.READ_ONLY,"This object is read-only.");if("number"!=typeof e&&"undefined"!=typeof e)throw new a(a.INVALID_PARAMS,"Expecting a number or undefined.");this._data.height=e,this._setDirty()}}});var c={name:!0,id:!0,state:!0,path:!0,rel:!0,type:!0,etag:!0,length:!0,version:!0,md5:!0,width:!0,height:!0};return i.prototype.getCustomKeys=function(){var e,t=[],n=Object.keys(this._data),i=n.length;for(e=0;e<i;e++){var r=n[e];c[r]||t.push(r)}return t},i.prototype.getValue=function(e){if("string"!=typeof e)throw new a(a.INVALID_PARAMS,'Param "key" must be a string');return this._data[e]},i.prototype.setValue=function(e,t){if(this._readOnly)throw new a(a.READ_ONLY,"This object is read-only.");if("string"!=typeof e)throw new a(a.INVALID_PARAMS,'Param "key" must be a string');this._data[e]=t,this._setDirty()},i.prototype.removeValue=function(e){if(this._readOnly)throw new a(a.READ_ONLY,"This object is read-only.");if("string"!=typeof e)throw new a(a.INVALID_PARAMS,'Param "key" must be a string');delete this._data[e],this._setDirty()},i.prototype.getLink=function(e){if("string"!=typeof e)throw new a(a.INVALID_PARAMS,'Param "relationship" must be a string');return this._data._links?this._data._links[e]:void 0},i.prototype.setLink=function(e,t){if(this._readOnly)throw new a(a.READ_ONLY,"This object is read-only.");if("object"!=typeof e)throw new a(a.INVALID_PARAMS,'Param "link" must be an object.');if("string"!=typeof t)throw new a(a.INVALID_PARAMS,'Param "relationship" must be a string');var n=this._data._links;n||(n=this._data._links={}),n[t]=e,this._setDirty()},i.prototype.removeLink=function(e){if(this._readOnly)throw new a(a.READ_ONLY,"This object is read-only.");if("string"!=typeof e)throw new a(a.INVALID_PARAMS,'Param "relationship" must be a string');var t=this._data._links;t&&(delete t[e],Object.keys(t).length<1&&delete this._data._links,this._setDirty())},i.prototype.isEqualTo=function(e,t){return s.objectsEqual(this._data,e._data,t)},i.prototype._setData=function(e){var t=this._verify(e);if(null===t)return this._data=e,this;throw t},i.prototype._setDirty=function(){this._owner&&this._owner._setDirty()},i.prototype._verify=function(e){return"string"!=typeof e.id?new a(a.INVALID_DATA,"Component is missing an id of type string"):null},i}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/components/dcx-js/src/AdobeDCXFS",["require","exports","module","./AdobeDCXError","./AdobeDCXUtil"],function(e,t,n){"use strict";var i,r=(e("./AdobeDCXError"),e("./AdobeDCXUtil"));t.canUseFileSystem=!1,t._setFS=function(e){i=e,t.canUseFileSystem=!!e},t.ensureDirectoryExists=function(e,n){var o=function(e){e&&"EEXIST"===e.code?n():n(e)},a=function(a){if(a)n();else{var s=r.parentDirectory(e);s?t.ensureDirectoryExists(s,function(t){t?n(t):i.mkdir(e,o)}):i.mkdir(e,o)}};e?i.exists(e,a):a(!0)},t.getTempFilePathAt=function(e,n){var i=function(){var o=e+r.generateUuid();t.exists(o,function(e){e?i():n(o)})};i()},t.exists=function(e,t){i.exists(e,t)},t.deleteFile=function(e,t){i.unlink(e,function(e){e&&"ENOENT"!==e.code?t(e):t()})},t.readFile=function(e,t,n){i.readFile(e,t,n)},t.writeFile=function(e,n,o,a){var s=r.parentDirectory(e);t.ensureDirectoryExists(s,function(t){t?a(t):i.writeFile(e,n,o,a)})},t.writeFileAtomically=function(e,n,o,a){var s=r.parentDirectory(e);t.ensureDirectoryExists(s,function(r){r?a(r):t.getTempFilePathAt(s+"/",function(t){i.writeFile(t,n,o,function(n){n?a(n):i.rename(t,e,a)})})})},t.createWriteStream=function(e,t){return i.createWriteStream(e,t)},t.createReadStream=function(e,t){return i.createReadStream(e,t)},t.move=function(e,n,o,a){var s=r.parentDirectory(n);t.ensureDirectoryExists(s,function(t){if(t)a(t);else if(o){var r=(new Date).getTime()/1e3;i.utimes(e,r,r,function(t){t?a(t):i.rename(e,n,a)})}else i.rename(e,n,a)})},t.info=function(e,t){i.stat(e,t)},t.directoryListing=function(e,t){var n,r,o=[],a=function(a){i.stat(e+"/"+a,function(e,i){if(!e)try{o.push({name:a,info:i}),n--}catch(t){e=t}e?r||(r=e,t(e)):0===n&&t(void 0,o)})};i.readdir(e,function(e,i){if(!e)try{var r,o=i.length;for(n=o,r=0;r<o;r++)a(i[r])}catch(t){e=t}e?t(e):0===n&&t(void 0,[])})},t.deleteDirectory=function(e,n){var r,o,a=function(){try{i.rmdir(e,n)}catch(e){n(e)}},s=function(e){e&&!r&&(r=e),o--,o<1&&(r?n(r):a())},l=function(n){var r=e+"/"+n;i.unlink(r,function(e){try{e?t.deleteDirectory(r,function(e){s(e)}):s()}catch(e){s(e)}})};i.readdir(e,function(e,t){if(!e)try{var i=t.length;if(i<1)a();else{var r;for(o=i,r=0;r<i;r++)l(t[r])}}catch(t){e=t}e&&n(e)})};var o=function(e,t,n){try{var o=t+r.generateUuid(),a=i.createWriteStream(o),s=i.createReadStream(e);s.on("end",function(){i.rename(o,t,n)}),s.pipe(a)}catch(e){n(e)}};return t.copyFile=function(e,n,i){var a=r.parentDirectory(n);t.ensureDirectoryExists(a,function(t){t?i(t):o(e,n,i)})},t}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/components/dcx-js/src/AdobeDCXBranchCore",["require","exports","module","./AdobeDCXError","./AdobeDCXNode","./AdobeDCXComponent","./AdobeDCXFS","./AdobeDCXUtil"],function(e,t,n){"use strict";function i(e,t,n){this._readOnly=n,this._owner=t,this._setData(e),this._localStorage=void 0}function r(e,t,n,i,r,a,s,l){var u=t._owner._core,d=e._owner._core,p=n&&e.id===t.id,h=d._getSourceHrefOfComponent(e),f=u.getComponentWithId(t.id),g=i&&(!f||!f.etag)&&"unmodified"===e.state,m=!p&&!h,v=m;if(r&&!f&&(h||m)&&e.id===t.id&&(t._data.id=c.generateUuid(),t.state="modified",t.etag=void 0,t.version=void 0,t.md5=void 0,t.length=void 0),a&&a._copyComponentMapping(e.id,l,t.id,s)&&(v=!1,p||(t.state="modified")),m){if(g){if(h=d._getHrefOfComponent(e),u._setSourceHrefOfComponent(h,t,s),!h&&v)throw new o(o.INVALID_STATE,"Failed to determine the source href of a component that does not have a local file.")}else if(v)throw new o(o.INVALID_STATE,"Could not use server-to-server copy for component "+e.id)}else u._setSourceHrefOfComponent(h,t,s);h&&(t.state="modified")}var o=e("./AdobeDCXError"),a=e("./AdobeDCXNode"),s=e("./AdobeDCXComponent"),l=e("./AdobeDCXFS"),c=e("./AdobeDCXUtil");return Object.defineProperties(i.prototype,{rootNode:{get:function(){return this.getChildWithAbsolutePath(a.ROOT_PATH)},set:function(e){throw new o(o.READ_ONLY,'Property "rootNode" is read-only.')}},hasLocalStorage:{get:function(){return this._localStorage},set:function(){throw new o(o.READ_ONLY,"Cannot set the property hasLocalStorage.")}},isDirty:{get:function(){return this._isDirty},set:function(){throw new o(o.READ_ONLY,"Cannot set the property isDirty.")}},changeCount:{get:function(){return this._data.local?this._data.local.change||0:0},set:function(){throw new o(o.READ_ONLY,"Cannot set the property changeCount.")}}}),i.prototype.getChildWithId=function(e){return this._allNodes[e]},i.prototype.getChildWithAbsolutePath=function(e){var t=this._absolutePaths[e.toLowerCase()];return t&&t instanceof a?t:void 0},i.prototype.getChildrenOf=function(e){if(e=e?this._allNodes[e.id]:this.rootNode,!e)throw new o(o.INVALID_PARAMS,"Unknown node");var t=[],n=e._data.children;if(Array.isArray(n)){var i;for(i=0;i<n.length;i++){var r=n[i],a=this._allNodes[r.id];if(!a)throw new o(o.INVALID_DATA,"Node not in cache");t[t.length]=a}}return t},i.prototype.addChild=function(e,t,n,i){if(this._readOnly)throw new o(o.READ_ONLY,"This object is read-only.");if(t=t||c.generateUuid(),this._allNodes[t])throw new o(o.DUPLICATE_VALUE,"Node already exists in branch.");if(n&&("number"!=typeof n||n%1!==0))throw new o(o.INVALID_PARAMS,'Param "index" must be an integer.');var r=i?this._allNodes[i.id]:this.rootNode;if(!r)throw new o(o.INVALID_PARAMS,"Unknown parent node.");var s=new a;s.id=t,e&&(s.name=e),s._parentPath=r.absolutePath||r._parentPath;var l=r._data.children;return l?(n>=0&&n<=l.length||(n=l.length),n===l.length?l[n]=s._data:l.splice(n,0,s._data)):r._data.children=[s._data],this._allNodes[s.id]=s,s._owner=this._owner,this._setDirty(),s},i.prototype.removeChild=function(e){if(this._readOnly)throw new o(o.READ_ONLY,"This object is read-only.");if(!e)throw new o(o.INVALID_PARAMS,'Expecting param "node".');if(e.isRoot)throw new o(o.INVALID_PARAMS,"Cannot remove the root node.");var t=e.id;if(!t)throw new o(o.INVALID_PARAMS,'Param "node" must have an id.');var n=this._nodeDataOfParentOfNode(e);if(!n)throw new o(o.INVALID_PARAMS,"Node not found in this branch.");return n.parentNodeData.children.splice(n.index,1),0===n.parentNodeData.children.length&&delete n.parentNodeData.children,e=this._allNodes[t],this._removeNodeFromCachesRecursively(e._data),this._setDirty(),e},i.prototype.moveChild=function(e,t,n){if(this._readOnly)throw new o(o.READ_ONLY,"This object is read-only.");if(!e)throw new o(o.INVALID_PARAMS,'Expecting param "node".');if(e.isRoot)throw new o(o.INVALID_PARAMS,"Cannot move the root node.");if(t&&("number"!=typeof t||t%1!==0))throw new o(o.INVALID_PARAMS,'Param "index" must be an integer.');var i=e.id;if(!i)throw new o(o.INVALID_PARAMS,'Param "node" must have an id.');var r=this._nodeDataOfParentOfNode(e);if(e=this._allNodes[i],!r)throw new o(o.INVALID_PARAMS,"Node not found in this branch.");var a=n?this._allNodes[n.id]:this.rootNode;if(!a)throw new o(o.INVALID_PARAMS,"Unknown parent node.");if(this._nodeIdIsDescendantOf(a.id,e._data))throw new o(o.INVALID_PARAMS,"Must not create a cycle.");var s=r.parentNodeData.children.splice(r.index,1)[0];try{var l=a._data.children;l?(t>=0&&t<=l.length||(t=l.length),t===l.length?l[t]=s:l.splice(t,0,s)):a._data.children=[s]}catch(e){throw r.parentNodeData.children.splice(r.index,0,s),e}return 0===r.parentNodeData.children.length&&delete r.parentNodeData.children,this._setDirty(),this._allNodes[i]},i.prototype.copyChild=function(e,t,n,i,r,o){return this._copyChild(e,t,n,i,r,!1,o)},i.prototype.replaceChild=function(e,t,n,i){return this._copyChild(e,void 0,void 0,t,n||e.id,!0,i)},i.prototype.allComponents=function(){var e,t=[];for(e in this._allComponents)this._allComponents.hasOwnProperty(e)&&t.push(this._allComponents[e]);return t},i.prototype.getComponentWithId=function(e){return this._allComponents[e]},i.prototype.getComponentWithAbsolutePath=function(e){var t=this._absolutePaths[e.toLowerCase()];return t&&t instanceof s?t:void 0},i.prototype.getComponentsOf=function(e){if(e=e?this._allNodes[e.id]:this.rootNode,!e)throw new o(o.INVALID_PARAMS,"Unknown node");var t=[],n=e._data.components;if(Array.isArray(n)){var i;for(i=0;i<n.length;i++){var r=n[i],a=this._allComponents[r.id];if(!a)throw new o(o.INVALID_DATA,"Component not in cache");t[t.length]=a}}return t},i.prototype.addComponent=function(e,t,n,i,r,a,l,u,d,p){var h=this._localStorage;if(!h)throw new o(o.NO_LOCAL_STORAGE,"No local storage. Use AdobeDCXCompositeXfer.uploadNewComponent() followed by addComponentWithUploadResults()");if("function"!=typeof p&&r)throw new o(o.INVALID_PARAMS,'Param "callback" must be a function.');if(this._readOnly)throw new o(o.READ_ONLY,"This object is read-only.");if(d&&"string"!=typeof d)throw new o(o.INVALID_PARAMS,'Param "id" must be of type string.');if(!r&&!l)throw new o(o.INVALID_PARAMS,"Must provide either source or sourceHref.");try{if(l){var f=this._getBranchOf(this).compositeHref;if(f){var g=c.endPointOf(f),m=c.endPointOf(l);if(g&&m&&g!==m)throw new o(o.WRONG_ENDPOINT,"Given source href has an invalid endpoint: "+m)}}var v=this._local();d=d||c.generateUuid();var _=new s;_.id=d,_.name=e,_.type=t,_.relationship=n,_.path=i,_.state="modified";var y=this,E=function(e){if(!e)try{if(d&&y._allComponents[d])throw new o(o.DUPLICATE_VALUE,'The "id" of a component must be unique.');var t=u?y._allNodes[u.id]:y.rootNode;if(!t)throw new o(o.INVALID_PARAMS,"Unknown parent node.");var n=y._normalizedAbsolutePathForItem(_,t);if(y._absolutePaths[n])throw new o(o.DUPLICATE_VALUE,"Duplicate absolute path: "+n);if(!c.isValidAbsolutePath(n))throw new o(o.INVALID_PARAMS,"Invalid absolute path: "+n);_._parentPath=t.absolutePath||t._parentPath;var i=t._data.components;i?i.push(_._data):t._data.components=[_._data],_._owner=y._owner,l&&y._setSourceHrefOfComponent(l,_),y._allComponents[_.id]=_,y._absolutePaths[n]=_,y._setDirty()}catch(t){h.removeComponentAsset(_,v),l&&y._setSourceHrefOfComponent(void 0,_),_=void 0,e=t}if(p)return p(e,_);if(e)throw e;return _};if(!r)return E();h.ingestComponentAsset(_,r,a,v,E)}catch(e){if(p)return p(e);throw e}},i.prototype.addComponentWithUploadResults=function(e,t,n,i,r){if(this._readOnly)throw new o(o.READ_ONLY,"This object is read-only.");if(r.compositeId!==this._owner.compositeId)throw new o(o.INVALID_PARAMS,"Param uploadResults does not appear valid to be for this composite.");var a=Object.keys(r.records);if(1!==a.length)throw new o(o.INVALID_PARAMS,"Param uploadResults must contain records of exactly one component upload.");if(this._localStorage)throw new o(o.INVALID_PARAMS,"This method is for in-browser use only. Use addComponent() instead.");var l=r.records[a[0]],c=l.id;if(this._allComponents[c])throw new o(o.DUPLICATE_VALUE,"Duplicate component id: "+c);var u=i?this._allNodes[i.id]:this.rootNode;if(!u)throw new o(o.INVALID_PARAMS,"Unknown parent node.");var d=new s;d.id=c,d.name=e,d.type=l.type,d.relationship=t,d.path=n,d.state="unmodified",d.etag=l.etag,d.length=l.length,d.version=l.version,d.md5=l.md5;var p=this._normalizedAbsolutePathForItem(d,u);if(this._absolutePaths[p])throw new o(o.DUPLICATE_VALUE,"Duplicate absolute path: "+p);d._parentPath=u.absolutePath||u._parentPath;var h=u._data.components;return h?h.push(d._data):u._data.components=[d._data],d._owner=this._owner,this._allComponents[c]=d,this._absolutePaths[p]=d,this._setDirty(),d},i.prototype.updateComponent=function(e,t,n,i){var r=this._localStorage;if(!r)throw new o(o.NO_LOCAL_STORAGE,"No local storage. Use AdobeDCXCompositeXfer.uploadComponent() to upload a new component asset and then call updateComponentWithUploadResults()");if("function"!=typeof i)throw new o(o.INVALID_PARAMS,'Param "callback" must be a function.');if(this._readOnly)throw new o(o.READ_ONLY,"This object is read-only.");if(e=this._allComponents[e.id],!e)throw new o(o.INVALID_PARAMS,"Unknown component.");try{var a=this,s=function(t){if(!t)try{"modified"!==e.state?e.state="modified":a._setDirty(),a._setSourceHrefOfComponent(void 0,e)}catch(n){t=n,e=void 0}i(t,e)};r.ingestComponentAsset(e,t,n,this._local(),s)}catch(e){i(e)}},i.prototype.updateComponentWithUploadResults=function(e,t){if(this._readOnly)throw new o(o.READ_ONLY,"This object is read-only.");if(e=this._allComponents[e.id],!e)throw new o(o.INVALID_PARAMS,"Unknown component.");if(this._localStorage)throw new o(o.INVALID_PARAMS,"This method is for in-browser use only. Use updateComponent() instead.");if(t.compositeId!==this._owner.compositeId)throw new o(o.INVALID_PARAMS,"Param uploadResults does not appear valid to be for this composite.");var n=t.records[e.id];if(!n)throw new o(o.INVALID_PARAMS,"Param uploadResults does not contain an upload record for the given component.");return e.etag=n.etag,e.version=n.version,e.md5=n.md5,e.length=n.length,e},i.prototype.removeComponent=function(e){if(this._readOnly)throw new o(o.READ_ONLY,"This object is read-only.");if(!e)throw new o(o.INVALID_PARAMS,'Expecting param "component".');var t=e.id;if(!t)throw new o(o.INVALID_PARAMS,'Param "component" must have an id.');var n=this._nodeDataOfParentOfComponent(e);if(!n)throw new o(o.INVALID_PARAMS,"Component not found in this branch.");return n.parentNodeData.components.splice(n.index,1),0===n.parentNodeData.components.length&&delete n.parentNodeData.components,e=this._allComponents[t],delete this._allComponents[t],delete this._absolutePaths[this._normalizedAbsolutePathForItem(e)],this._localStorage&&(this._localStorage.removeComponentAsset(e,this._local()),this._setSourceHrefOfComponent(void 0,e)),e._owner=void 0,e._parentPath="",this._setDirty(),e},i.prototype.moveComponent=function(e,t){if(this._readOnly)throw new o(o.READ_ONLY,"This object is read-only.");if(!e)throw new o(o.INVALID_PARAMS,'Expecting param "component".');var n=e.id;if(!n)throw new o(o.INVALID_PARAMS,'Param "component" must have an id.');var i=this._nodeDataOfParentOfComponent(e);if(!i)throw new o(o.INVALID_PARAMS,"Component not found in this branch.");var r=t?this._allNodes[t.id]:this.rootNode;if(!r)throw new o(o.INVALID_PARAMS,"Unknown parent node.");var a=this._normalizedAbsolutePathForItem(e,r);if(this._absolutePaths[a])throw new o(o.DUPLICATE_VALUE,"Duplicate absolute path: "+a);var s=i.parentNodeData.components.splice(i.index,1)[0],l=r._data.components;return l?l.push(s):r._data.components=[s],0===i.parentNodeData.components.length&&delete i.parentNodeData.components,e=this._allComponents[n],delete this._absolutePaths[this._normalizedAbsolutePathForItem(e)],e._parentPath=r.absolutePath||r._parentPath,this._absolutePaths[a]=e,this._setDirty(),e},i.prototype.copyComponent=function(e,t,n,i,r){return this._copyComponent(e,t,n,i,!1,r)},i.prototype.replaceComponent=function(e,t,n,i){return this._copyComponent(e,void 0,t,n||e.id,!0,i)},i.prototype.assetOfComponent=function(e,t){try{if(!this._localStorage)throw new o(o.NO_LOCAL_STORAGE,"No local storage.");if(!e)throw new o(o.INVALID_PARAMS,'Expecting param "component".');var n=e.id;if(!n)throw new o(o.INVALID_PARAMS,'Param "component" must have an id.');
var i=this._localStorage.componentAssetPath(e,this._local());if(!t)return i;l.exists(i,function(e){t(void 0,e?i:null)})}catch(e){if(!t)throw e;t(e)}},i.prototype._getHrefOfComponent=function(e){var t,n=this._getBranchOf(e),i=n.compositeHref;return i&&"undefined"!=typeof e.version&&(t=c.appendPathElements(i,e.id),t+=";version="+e.version),t},i.prototype._setSourceHrefOfComponent=function(e,t,n){var i=t.id,r=this._componentSourceHrefLookup(!0,n);e?r[i]=e:r[i]&&delete r[i]},i.prototype._getSourceHrefOfComponent=function(e,t){var n=e.id,i=this._componentSourceHrefLookup(!1,t);if(i)return i[n]},i.prototype._copySourceHrefsFrom=function(e){var t=e._componentSourceHrefLookup(!1),n=this.allComponents(),i=n.length;if(i&&t){var r,o=this._componentSourceHrefLookup(!0);for(r=0;r<i;r++){var a=n[r].id;o[a]=t[a]}}},i.prototype._getBranchOf=function(e){return e._owner?this._getBranchOf(e._owner):e},i.prototype._isSameComposite=function(e){var t=this._getBranchOf(this),n=this._getBranchOf(e);return t._data.id===n._data.id&&(t.compositeHref===n.compositeHref&&this._localStorage===e._localStorage)},i.prototype._stringify=function(e,t){if(e){var n=this._data.local,i=null;try{delete this._data.local,i=JSON.stringify(this._data,void 0,t?2:void 0)}catch(e){throw e}finally{n&&(this._data.local=n)}return i}return JSON.stringify(this._data,void 0,t?2:void 0)},i.prototype._setData=function(e){var t=new a(e,this._readOnly,!0);t._owner=this._owner,t._parentPath="";var n=t.id,i={},r={},l={};r[n]=t,l[a.ROOT_PATH]=t;var u=this,d=function(e,t,n,i,r){var l,p,h,f=e.components;if(Array.isArray(f))for(l=0;l<f.length;l++){var g=f[l],m=new s(g,u._readOnly);if(t[m.id])throw new o(o.INVALID_DATA,"Duplicate component id: "+m.id);if(m._owner=u._owner,m._parentPath=r,h=u._normalizedAbsolutePathForItem(m),i[h])throw new o(o.INVALID_DATA,"Duplicate absolute path: "+h);if(!c.isValidAbsolutePath(h))throw new o(o.INVALID_DATA,"Invalid absolute component path: "+h);t[m.id]=m,i[h]=m}var v=e.children;if(Array.isArray(v))for(l=0;l<v.length;l++){var _=v[l],y=new a(_,u._readOnly);if(n[y.id])throw new o(o.INVALID_DATA,"Duplicate node id: "+y.id);if(p=y.path,y._owner=u._owner,y._parentPath=r,p){if(h=u._normalizedAbsolutePathForItem(y),i[h])throw new o(o.INVALID_DATA,"Duplicate absolute path: "+h);if(!c.isValidAbsolutePath(h))throw new o(o.INVALID_DATA,"Invalid node absolute path: "+h);i[h]=y}n[y.id]=y,d(_,t,n,i,y.path?c.appendPathElements(r,y.path):r)}};return d(e,i,r,l,a.ROOT_PATH),this._data=e,this._allComponents=i,this._allNodes=r,this._absolutePaths=l,this._isDirty=!1,this},i.prototype._removeNodeFromCachesRecursively=function(e){var t,n=e.components;if(Array.isArray(n))for(t=0;t<n.length;t++){var i=n[t].id,r=this._allComponents[i];delete this._allComponents[i],delete this._absolutePaths[this._normalizedAbsolutePathForItem(r)],r._owner=void 0,this._localStorage&&(this._localStorage.removeComponentAsset(r,this._local()),this._setSourceHrefOfComponent(void 0,r))}var o=e.children;if(Array.isArray(o))for(t=0;t<o.length;t++)this._removeNodeFromCachesRecursively(o[t]);var a=e.id,s=this._allNodes[a];delete this._allNodes[a],s.path&&delete this._absolutePaths[this._normalizedAbsolutePathForItem(s)],s._owner=void 0},i.prototype._local=function(){return this._data.local||(this._data.local={version:2}),this._data.local},i.prototype._componentSourceHrefLookup=function(e,t){if(e&&this._readOnly)throw new o(o.READ_ONLY,"This object is read-only.");if(t||(t=e?this._local():this._data.local)){var n=t["componentS2SCopy#srcHref"];return!n&&e&&(n=t["componentS2SCopy#srcHref"]={}),n}},i.prototype._recursiveReset=function(e,t){var n,i=e.components;if(i)for(n=i.length-1;n>=0;n--){var r=i[n];"committedDelete"===r.state?(delete i[n],delete this._allComponents[r.id],delete r._owner,this._localStorage&&this._localStorage.removeComponentAsset(r,this._local()),this._setSourceHrefOfComponent(void 0,r,this._local())):(delete r.etag,delete r.version,delete r.length,delete r.md5,r.state="modified",t&&t(r))}var o=e.children;if(o)for(n=0;n<o.length;n++)this._recursiveReset(o[n],t)},i.prototype._nodeIdIsDescendantOf=function(e,t){var n,i=t.children;if(i)for(n=0;n<i.length;n++){var r=i[n];if(r.id===e||this._nodeIdIsDescendantOf(e,r))return!0}return!1},i.prototype._recursivelyGetAllComponentsOfChild=function(e,t){t=t||[];var n,i,r=e._data||e,o=r.components;if(o)for(i=o.length,n=0;n<i;n++)t[t.length]=this._allComponents[o[n].id];var a=r.children;if(a)for(i=a.length,n=0;n<i;n++)t=this._recursivelyGetAllComponentsOfChild(a[n],t);return t},i.prototype._nodeDataOfParentOfNode=function(e,t){t=t||this._data;var n,i=e._data.id,r=t.children;if(r)for(n=0;n<r.length;n++){var o=r[n];o.path;if(o.id===i)return{parentNodeData:t,index:n};var a=this._nodeDataOfParentOfNode(e,o);if(a)return a}return null},i.prototype._nodeDataOfParentOfComponent=function(e,t){t=t||this._data;var n,i=e._data.id,r=t.components;if(r)for(n=0;n<r.length;n++){var o=r[n];if(o.id===i)return{parentNodeData:t,index:n}}var a=t.children;if(a)for(n=0;n<a.length;n++){var s=a[n],l=this._nodeDataOfParentOfComponent(e,s);if(l)return l}return null},i.prototype._determineAbsolutePathChangesRecursively=function(e,t,n){var i,r=e.components;if(r)for(i=0;i<r.length;i++){var o=r[i],a=this._allComponents[o.id];n.push({item:a,parentPath:t,absPath:c.appendPathElements(t,o.path)})}var s=e.children;if(s)for(i=0;i<s.length;i++){var l=s[i],u=this._allNodes[l.id],d=l.path,p=d?c.appendPathElements(t,d):t;n.push({item:u,parentPath:t,absPath:d?p:void 0}),this._determineAbsolutePathChangesRecursively(l,p,n)}},i.prototype._setPathOfNode=function(e,t){var n=t?c.appendPathElements(e.parentPath,t):e.parentPath,i=[{item:e,absPath:t?n:void 0}];this._determineAbsolutePathChangesRecursively(e._data,n,i);var r,a,s=c.flatCopy(this._absolutePaths);for(r=0;r<i.length;r++){var l=i[r].item;l._data.path&&delete s[this._normalizedAbsolutePathForItem(l)]}for(r=0;r<i.length;r++)if(a=i[r],a.absPath){var u=a.absPath.toLowerCase();if(s[u])throw new o(o.DUPLICATE_VALUE,"Duplicate absolute path: "+u);if(!c.isValidAbsolutePath(u))throw new o(o.INVALID_PARAMS,"Invalid absolute path: "+u);s[u]=a.item}for(r=0;r<i.length;r++)a=i[r],a.parentPath&&(a.item._parentPath=a.parentPath);e._data.path=t,this._absolutePaths=s},i.prototype._setPathOfComponent=function(e,t){if(!this._allComponents[e.id])throw new o(o.INVALID_PARAMS,"Unknown component.");var n=c.appendPathElements(e.parentPath,t).toLowerCase();if(this._absolutePaths[n])throw new o(o.DUPLICATE_VALUE,"Duplicate absolute path for component: "+n);if(!c.isValidAbsolutePath(n))throw new o(o.INVALID_PARAMS,"Invalid absolute path: "+n);delete this._absolutePaths[this._normalizedAbsolutePathForItem(e)],this._absolutePaths[n]=e,e._data.path=t},i.prototype._setDirty=function(e){if(!e){if("pending"===this._local().archivalState||"archived"===this._local().archivalState)throw new o(o.INVALID_STATE,"Cannot modify an archived composite.");"pendingDelete"!==this._data.state&&"committedDelete"!==this._data.state||console.log("Modifying deleted composite")}this._isDirty=!0,this._local().change=this.changeCount+1,e||"unmodified"!==this._data.state&&this._data.state||(this._data.state="modified")},i.prototype._normalizedAbsolutePathForItem=function(e,t){var n;return n=t?c.appendPathElements(t.absolutePath||t._parentPath,e.path):e.absolutePath,n.toLowerCase()},i.prototype._hasSameEndpoint=function(e){var t=this._getBranchOf(this).compositeHref,n=this._getBranchOf(e).compositeHref;if(t&&n){var i=c.endPointOf(t),r=c.endPointOf(n);if(i&&r&&i!==r)return!1}return!0},i.prototype._copyComponent=function(e,t,n,i,a,s){if(!e)throw new o(o.INVALID_PARAMS,'Expecting param "component".');if(s&&"function"!=typeof s)throw new o(o.INVALID_PARAMS,"Param callback must be a function.");var l=this,c=e._owner._core,u=this._isSameComposite(c),d=u||this._hasSameEndpoint(e),p=c._local(),h=this._localStorage,f=c._localStorage,g=h&&f;if(g&&!s&&!u)throw new o(o.INVALID_PARAMS,"Must pass a callback when copying between two different composites.");if(!g&&!d)throw new o(o.NO_LOCAL_STORAGE,"Cannot copy between two different endpoints without local storage.");var m=function(e,t,n){r(e,t,u,d,!i,g?h:void 0,n,p)},v=g?f.componentAssetPath(e,p):void 0;if(!s)return this._copyComponentModel(e,t,a,n,i,m);if(u||!v)try{s(void 0,this._copyComponentModel(e,t,a,n,i,m))}catch(e){s(e)}else{var _={};h.ingestComponentAsset(e,v,!0,_,function(r){if(r)s(r);else try{p=_,s(void 0,l._copyComponentModel(e,t,a,n,i,m))}catch(e){s(e)}})}},i.prototype._copyComponentModel=function(e,t,n,i,r,a){if(this._readOnly)throw new o(o.READ_ONLY,"This object is read-only.");if(!e)throw new o(o.INVALID_PARAMS,'Expecting param "component".');var l=e._owner,u=new s(JSON.parse(JSON.stringify(e._data)));i?(u.path=i,u.id=r||c.generateUuid()):r&&(u.id=r),u._owner=this._owner,e.id===u.id&&this._isSameComposite(l._core)||(u.state="modified",u.etag=void 0,u.version=void 0,u.md5=void 0,u.length=void 0);var d=this._allComponents[u.id];if(d&&!n)throw new o(o.DUPLICATE_VALUE,"Component already exists.");if(n&&!d)throw new o(o.INVALID_PARAMS,"Could not find existing component.");var p,h;if(n){var f=this._nodeDataOfParentOfComponent(d);if(!f)throw new o(o.INVALID_PARAMS,"Parent node of existing component not found in this branch.");var g=f.parentNodeData.id;if(h=this._allNodes[g],!h)throw new o(o.INVALID_STATE,"Unknown parent node.");p=f.index}else if(h=t?this._allNodes[t.id]:this.rootNode,!h)throw new o(o.INVALID_PARAMS,"Unknown parent node.");u._parentPath=h.absolutePath||h._parentPath;var m=this._normalizedAbsolutePathForItem(u),v=this._absolutePaths[m];if(v&&v!==d)throw new o(o.DUPLICATE_VALUE,"Duplicate absolute path: "+m);if(!c.isValidAbsolutePath(m))throw new o(o.INVALID_PARAMS,"Component path must be a valid path for a component.");var _=this._local();a&&(_=c.deepCopy(_),a(e,u,_));var y=h._data.components;return n?y[p]=u._data:y?y.push(u._data):h._data.components=[u._data],this._data.local=_,this._allComponents[u.id]=u,this._absolutePaths[m]=u,this._setDirty(),u},i.prototype._copyChild=function(e,t,n,i,a,s,l){if(!e)throw new o(o.INVALID_PARAMS,'Expecting param "node".');var c=this,u=e._owner._core,d=this._isSameComposite(u),p=d||this._hasSameEndpoint(e),h=u._local(),f=this._localStorage,g=u._localStorage,m=f&&g,v=u._recursivelyGetAllComponentsOfChild(e);if(v.length>0){if(m&&!l&&!d)throw new o(o.INVALID_PARAMS,"Must pass a callback when copying between two different composites.");if(!m&&!p)throw new o(o.NO_LOCAL_STORAGE,"Cannot copy components between two different endpoints without local storage.")}var _=function(e,t,n){r(e,t,d,p,!0,m?f:void 0,n,h)};if(!l)return this._copyChildModel(e,t,n,s,i,a,_);var y=function(){l(void 0,c._copyChildModel(e,t,n,s,i,a,_))};if(0===v.length||d||!m)try{y()}catch(e){l(e)}else{var E,b,T={},S=v.length,L=0,A=function(e){if(e&&!b&&(b=e),L--,0===L)if(b)l(b);else try{h=T,y()}catch(e){l(e)}};for(E=0;E<S;E++){var C=v[E],w=g.componentAssetPath(C,h);w&&(L++,f.ingestComponentAsset(C,w,!0,T,A))}if(0===L)try{y()}catch(e){l(e)}}},i.prototype._copyChildModel=function(e,t,n,i,r,l,u){if(this._readOnly)throw new o(o.READ_ONLY,"This object is read-only.");var d=e._owner,p=new a(JSON.parse(JSON.stringify(e._data)));r?(p.path=r,p.id=l||c.generateUuid()):l&&(p.id=l),p._owner=this._owner,e.isRoot&&(delete p._data.local,delete p._data["manifest-format-version"]);var h=this._allNodes[p.id];if(h&&!i)throw new o(o.DUPLICATE_VALUE,"Child node already exists.");if(i&&!h)throw new o(o.INVALID_PARAMS,"Could not find existing node to replace.");var f;if(i){var g=this._nodeDataOfParentOfNode(h);if(!g)throw new o(o.INVALID_PARAMS,"Parent of existing node not found in this branch.");var m=g.parentNodeData.id;if(f=this._allNodes[m],!f)throw new o(o.INVALID_STATE,"Unknown parent node.");n=g.index}else if(f=t?this._allNodes[t.id]:this.rootNode,!f)throw new o(o.INVALID_PARAMS,"Unknown parent node.");if(p._parentPath=f.absolutePath||f._parentPath,p.path){var v=this._normalizedAbsolutePathForItem(p),_=this._absolutePaths[v];if(_&&_!==h)throw new o(o.DUPLICATE_VALUE,"Duplicate absolute path: "+v);if(!c.isValidAbsolutePath(v))throw new o(o.INVALID_PARAMS,"Node path must be a valid path for a node.")}var y=c.flatCopy(this._allNodes),E=c.flatCopy(this._allComponents),b=c.flatCopy(this._absolutePaths),T=c.deepCopy(this._local()),S=function(e,t,n,i,r,o){delete n[e.id],e.path&&delete r[t._normalizedAbsolutePathForItem(e)];var a,s,l=e._data.children;if(l)for(s=l.length,a=0;a<s;a++)S(n[l[a].id],t,n,i,r,o);var c=e._data.components;if(c)for(s=c.length,a=0;a<s;a++){var u=i[c[a].id];delete i[u.id],delete r[t._normalizedAbsolutePathForItem(u)],t._localStorage&&(t._localStorage.removeComponentAsset(u,o),t._setSourceHrefOfComponent(void 0,u,o))}};h&&S(h,this,y,E,b,T);var L=this,A=function(e,t,n,i,r,l,d,p){if(i[e.id])throw new o(o.DUPLICATE_VALUE,"Duplicate node id: "+e.id);i[e.id]=e;var h;if(e.path){if(h=t._core._normalizedAbsolutePathForItem(e),l[h])throw new o(o.DUPLICATE_VALUE,"Duplicate absolute path: "+h);l[h]=e}var f,g,m=e._data.children;if(m)for(g=m.length,f=0;f<g;f++){var v=new a(m[f]);i[v.id]&&(v.id=c.generateUuid()),v._owner=t,v._parentPath=e.absolutePath||e._parentPath,A(v,t,n,i,r,l,d,p)}var _=e._data.components;if(_)for(g=_.length,f=0;f<g;f++){var y=new s(_[f]),E=y.id;if(r[E]&&(y.id=c.generateUuid(),y.state="modified",y.etag=void 0,y.version=void 0,y.md5=void 0,y.length=void 0),y._owner=t,y._parentPath=e.absolutePath||e._parentPath,u&&u(n.getComponentWithId(E),y,d),r[y.id])throw new o(o.DUPLICATE_VALUE,"Duplicate component id: "+y.id);if(r[y.id]=y,h=t._core._normalizedAbsolutePathForItem(y),l[h])throw new o(o.DUPLICATE_VALUE,"Duplicate absolute path: "+h);l[h]=y}};if(A(p,this._owner,d,y,E,b,T,d._local()),i)f._data.children[n]=p._data;else{var C=f._data.children;C?(n>=0&&n<=C.length||(n=C.length),n===C.length?C[n]=p._data:C.splice(n,0,p._data)):f._data.children=[p._data]}return L._allNodes=y,L._allComponents=E,L._absolutePaths=b,L._data.local=T,L._setDirty(),p},i.prototype._verifyIntegrity=function(e,t,n){var i,r=this,s=[],l=!1,u=function(e){return s.push(new o(o.INVALID_STATE,e)),t&&(l||(t("Branch for composite "+r.rootNode.id+" has the following errors:"),l=!0),t("   "+e)),!1},d=function(e,t){return!!e||u(t)},p=[],h=function(e){(p.indexOf(e)<0||u("Item "+e.id+" encountered more than once"))&&p.push(e)},f=c.flatCopy(this._allComponents),g=c.flatCopy(this._allNodes),m=c.flatCopy(this._absolutePaths),v=Object.keys(m),_=v.length;for(i=0;i<_;i++){var y=v[i];d("/"===y.charAt(0),"Absolute path "+y+" does not start with a slash.")}var E=function(e,t){var n,i,o=e.children;if(o)for(n=0;n<o.length;n++){var a=o[n],s=g[a.id];(s||u("Node "+a.id+" is not in cache."))&&(h(s),d(s._data===a,"Node "+s.id+" _data property incorrect."),delete g[s.id],s.path&&s._owner&&(i=r._normalizedAbsolutePathForItem(s),(m[i]||u("Absolute path of node "+s.id+" ("+i+") is not in cache."))&&delete m[i]),d(s._parentPath===t,"Parent path of node "+s.id+" should be "+t+" but is "+s._parentPath),d(s._owner===r._owner,"Node "+s.id+" _owner property is not correct.")),E(a,a.path?c.appendPathElements(t,a.path):t)}var l=e.components;if(l)for(n=0;n<l.length;n++){var p=l[n],v=f[p.id];(v||u("Component "+p.id+" is not in cache."))&&(h(v),d(v._data===p,"Component "+v.id+" _data property incorrect."),delete f[v.id],v._owner&&(i=r._normalizedAbsolutePathForItem(v),(m[i]||u("Absolute path "+i+" is not in cache."))&&delete m[i]),d(v._parentPath===t,"Parent path of component "+v.id+" should be "+t+" but is "+v._parentPath),d(v._owner===r._owner,"Component "+v.id+" _owner property is not correct."))}},b=m[a.ROOT_PATH];d(b,"Cannot find root node via path")&&(d(b.id===this._data.id,"Root node has correct id"),d(b.path===a.ROOT_PATH,"Root node has correct path"),d(""===b._parentPath,"Root node has correct parent path"),d(b._owner===this._owner,"Root node has correct owner"),d(b._data===this._data,"Root node has correct data"),d(g[b.id]===b,"Cannot find root node via id")&&delete g[b.id],delete m[a.ROOT_PATH]),E(this._data,a.ROOT_PATH);var T=Object.keys(f);for(i=0;i<T.length;i++)u("Component "+T[i]+" is in cache but could not be found.");for(T=Object.keys(g),i=0;i<T.length;i++)u("Node "+T[i]+" is in cache but could not be found.");for(T=Object.keys(m),i=0;i<T.length;i++)u("Absolute path "+T[i]+" is in cache but could not be found.");if(this._localStorage){var S=this._localStorage.componentIds(this._local());for(i=0;i<S.length;i++)d(this._allComponents[S[i]],"Component "+S[i]+" is in local storage mapping but could not be found in the manifest.");if(e)for(S=Object.keys(this._allComponents),i=0;i<S.length;i++){var L=S[i],A=this._allComponents[L],C=this._localStorage.componentAssetPath(A,this._local());d(C,"Component "+L+" does not have an entry in local storage mapping.")&&n&&d(n.existsSync(C),"Asset "+C+" does not exist.")}var w=this._componentSourceHrefLookup();if(w)for(S=Object.keys(w),_=S.length,i=0;i<_;i++){var x=this._allComponents[S[i]];x?d("modified"===x.state,"Component "+S[i]+" is in local source href mapping but has a state of "+x.state):d(!1,"Component "+S[i]+" is in local source href mapping but could not be found in the manifest.")}}return s.length?s:null},i}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/components/dcx-js/src/AdobeDCXElement",["require","exports","module","./AdobeDCXBranchCore","./AdobeDCXError","./AdobeDCXUtil"],function(e,t,n){"use strict";function i(e,t,n){if(this._owner=t,e)e=this._setData(e,n);else{var i=a.generateUuid();e={id:i},this._core=new r(e,this,n),this._data=e}}var r=e("./AdobeDCXBranchCore"),o=e("./AdobeDCXError"),a=e("./AdobeDCXUtil");return Object.defineProperties(i.prototype,{rootNode:{get:function(){return this._core.rootNode},set:function(e){this._core.rootNode=e}},name:{get:function(){return this._core.rootNode.name},set:function(e){var t=this._core;if(t._readOnly)throw new o(o.READ_ONLY,"This object is read-only.");if("string"!=typeof e&&"undefined"!=typeof e)throw new o(o.INVALID_PARAMS,"Expecting a string or undefined.");t.rootNode.name=e}},type:{get:function(){return this._core.rootNode.type},set:function(e){var t=this._core;if(t._readOnly)throw new o(o.READ_ONLY,"This object is read-only.");if("string"!=typeof e||""===e)throw new o(o.INVALID_PARAMS,"Expecting a non-empty string.");t.rootNode.type=e}},compositeHref:{get:function(){return this._owner.compositeHref},set:function(e){throw new o(o.READ_ONLY,'Property "compositeHref" is read-only.')}},_localStorage:{get:function(){return this._core._localStorage},set:function(e){this._core._localStorage=e}},hasLocalStorage:{get:function(){return this._core.hasLocalStorage},set:function(e){this._core.hasLocalStorage=e}},_isDirty:{get:function(){return this._core._isDirty},set:function(e){this._core._isDirty=e}},isDirty:{get:function(){return this._isDirty},set:function(e){this._core.isDirty=e}},changeCount:{get:function(){return this._core.changeCount},set:function(e){this._core.changeCount=e}}}),i.prototype.getChildWithId=function(e){return this._core.getChildWithId(e)},i.prototype.getChildWithAbsolutePath=function(e){return this._core.getChildWithAbsolutePath(e)},i.prototype.getChildrenOf=function(e){return this._core.getChildrenOf(e)},i.prototype.addChild=function(e,t,n,i){return this._core.addChild(e,t,n,i)},i.prototype.removeChild=function(e){return this._core.removeChild(e)},i.prototype.moveChild=function(e,t,n){return this._core.moveChild(e,t,n)},i.prototype.copyChild=function(e,t,n,i,r,o){return this._core.copyChild(e,t,n,i,r,o)},i.prototype.allComponents=function(){return this._core.allComponents()},i.prototype.getComponentWithId=function(e){return this._core.getComponentWithId(e)},i.prototype.getComponentWithAbsolutePath=function(e){return this._core.getComponentWithAbsolutePath(e)},i.prototype.getComponentsOf=function(e){return this._core.getComponentsOf(e)},i.prototype.addComponent=function(e,t,n,i,r,o,a,s,l,c){return this._core.addComponent(e,t,n,i,r,o,a,s,l,c)},i.prototype.addComponentWithUploadResults=function(e,t,n,i,r){return this._core.addComponentWithUploadResults(e,t,n,i,r)},i.prototype.updateComponent=function(e,t,n,i){return this._core.updateComponent(e,t,n,i)},i.prototype.updateComponentWithUploadResults=function(e,t){return this._core.updateComponentWithUploadResults(e,t)},i.prototype.removeComponent=function(e){return this._core.removeComponent(e)},i.prototype.moveComponent=function(e,t){return this._core.moveComponent(e,t)},i.prototype.copyComponent=function(e,t,n,i,r){return this._core.copyComponent(e,t,n,i,r)},i.prototype.assetOfComponent=function(e,t){return this._core.assetOfComponent(e,t)},i.prototype.parse=function(e){if("string"!=typeof e)throw new o(o.INVALID_PARAMS,'Param "data" must be a string');var t=null;try{t=JSON.parse(e)}catch(e){throw new o(o.INVALID_JSON,"Manifest could not be parsed. Underlying error: "+e.message)}return this._setData(t,this._core._readOnly)},i.prototype.copy=function(){return new i(JSON.parse(JSON.stringify(this._data)),this._owner)},i.prototype._updateLocalDataFromBranch=function(e){if(this._readOnly)throw new o(o.READ_ONLY,"This object is read-only.");if(!this._localStorage)throw new o(o.NO_LOCAL_STORAGE,"No local storage.");if(!e._localStorage)throw new o(o.NO_LOCAL_STORAGE,"No local storage for source.");if(this._localStorage.compositePath!==e._localStorage.compositePath)throw new o(o.INVALID_PARAMS,"Branches must have same storage path.");this._core._localStorage.copyLocalStorageData(e,e._core._local(),this,this._core._local()),this._core._copySourceHrefsFrom(e._core)},i.prototype._verify=function(e){return"string"!=typeof e.id?new o(o.INVALID_DATA,"Element is missing an id of type string"):"string"!=typeof e.name?new o(o.INVALID_DATA,"Element is missing a name of type string"):"string"!=typeof e.type?new o(o.INVALID_DATA,"Element is missing a type of type string"):null},i.prototype._setData=function(e,t){var n=this._verify(e);if(null===n)return this._core=new r(e,this,t),this._data=e,this;throw n},i.prototype._local=function(){return this._core._local()},i.prototype._setDirty=function(e){this._core._setDirty(e)},i.prototype._setPathOfNode=function(e,t){this._core._setPathOfNode(e,t)},i.prototype._verifyIntegrity=function(e,t,n){return this._core._verifyIntegrity(e,t,n)},i}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/components/dcx-js/src/AdobeDCXBranch",["require","exports","module","./AdobeDCXBranchCore","./AdobeDCXElement","./AdobeDCXError","./AdobeDCXUtil"],function(e,t,n){"use strict";function i(e,t,n){if(e)e=this._setData(e,t);else{var i=u.generateUuid();e={"manifest-format-version":d,id:i},this.originalManifestFormatVersion=d,this._core=new s(e,this,t),this._data=e}this._pendingElements=[],this.manifestPath=n}function r(e){var t,n,i=e.components;if(i)for(n=i.length,t=0;t<n;t++){var o=i[t];delete o.localStorageAssetId}var a=e.children;if(a)for(n=a.length,t=0;t<n;t++)r(a[t])}function o(e,t){t&&e.path&&delete e.path;var n,i=e.components;if("object"==typeof i)for(n=0;n<i.length;n++){var r=i[n];"number"==typeof r.version&&(r.version=r.version.toString())}var a=e.children;if("object"==typeof a)for(n=0;n<a.length;n++){var s=a[n];o(s)}}function a(e){var t=e["manifest-format-version"];if(t<d){if(t<4)throw new c(c.INVALID_DATA,"Encountered manifest format version "+e["manifest-format-version"]+". Format version conversion not yet implemented for that version.");t<5&&r(e),t<6&&o(e,!0)}}var s=e("./AdobeDCXBranchCore"),l=e("./AdobeDCXElement"),c=e("./AdobeDCXError"),u=e("./AdobeDCXUtil"),d=6;return i._newBranchAsCopyOfCore=function(e,t){var n=JSON.parse(JSON.stringify(e._data)),r=new i(n),o=r._core;return r._localStorage=t,r._resetIdentity(function(n){var i=e.getComponentWithId(n.id);if(!i)throw new c(c.INVALID_STATE,"Could not find original component.");if("modified"===i.state||!i.etag)throw new c(c.INVALID_STATE,"Cannot create a new composite from a branch that contains modified or unbound components.");var r=e._getHrefOfComponent(i);if(!r)throw new c(c.INVALID_STATE,"Cannot determine the href of component id "+i.id);o._setSourceHrefOfComponent(r,n),t&&t.removeComponentAsset(n,o._local())}),r},Object.defineProperties(i.prototype,{compositeId:{get:function(){return this._core.rootNode.id},set:function(e){var t=this._core;if(t._readOnly)throw new c(c.READ_ONLY,"This object is read-only.");if("string"!=typeof e||""===e)throw new c(c.INVALID_PARAMS,"Expecting a non-empty string.");if(t._allNodes[e])throw new c(c.DUPLICATE_VALUE,"There is already a node with the same id.");delete t._allNodes[this._data.id],this._data.id=e,t._allNodes[e]=this._core.rootNode,t._setDirty()}},rootNode:{get:function(){return this._core.rootNode},set:function(e){this._core.rootNode=e}},name:{get:function(){return this._core.rootNode.name},set:function(e){var t=this._core;if(t._readOnly)throw new c(c.READ_ONLY,"This object is read-only.");if("string"!=typeof e&&"undefined"!=typeof e)throw new c(c.INVALID_PARAMS,"Expecting a string or undefined.");t.rootNode.name=e}},type:{get:function(){return this._core.rootNode.type},set:function(e){var t=this._core;if(t._readOnly)throw new c(c.READ_ONLY,"This object is read-only.");if("string"!=typeof e||""===e)throw new c(c.INVALID_PARAMS,"Expecting a non-empty string.");t.rootNode.type=e}},compositeHref:{get:function(){return this._data.local?this._data.local.compositeHref:void 0},set:function(e){var t=this._core;if(t._readOnly)throw new c(c.READ_ONLY,"This object is read-only.");if("string"!=typeof e&&"undefined"!=typeof e)throw new c(c.INVALID_PARAMS,"Expecting a string or undefined.");t._local().compositeHref=u.ensureRelativeHrefStartsWithSlash(e),t._setDirty(!0)}},_collaborationType:{get:function(){return this._data.local?this._data.local.collaborationType:void 0},set:function(e){var t=this._core;if(t._readOnly)throw new c(c.READ_ONLY,"This object is read-only.");e?t._local().collaborationType=e:delete t._local().collaborationType,t._setDirty(!0)}},_clientDataString:{get:function(){return this._data.local?this._data.local.clientDataString:void 0},set:function(e){var t=this._core;if(t._readOnly)throw new c(c.READ_ONLY,"This object is read-only.");e?t._local().clientDataString=e:delete t._local().clientDataString,t._setDirty(!0)}},manifestEtag:{get:function(){return this._data.local?this._data.local.manifestEtag:void 0},set:function(e){var t=this._core;if(t._readOnly)throw new c(c.READ_ONLY,"This object is read-only.");if("string"!=typeof e&&"undefined"!=typeof e)throw new c(c.INVALID_PARAMS,"Expecting a string or undefined.");t._local().manifestEtag=e,t._setDirty(!0)}},compositeState:{get:function(){return this._data.state||"unmodified"},set:function(e){var t=this._core;if(t._readOnly)throw new c(c.READ_ONLY,"This object is read-only.");if("string"!=typeof e)throw new c(c.INVALID_PARAMS,"Expecting a string.");if("unmodified"!==e&&"modified"!==e&&"pendingDelete"!==e&&"committedDelete"!==e)throw new c(c.INVALID_PARAMS,'State must be "modified", "unmodified", "pendingDelete", or "committedDelete".');if("pendingDelete"===e&&"committedDelete"===e&&("pending"===this.compositeArchivalState||"archived"===this.compositeArchivalState))throw new c(c.INVALID_STATE,"Cannot delete an archived composite.");this._data.state=e,t._setDirty(!0)}},compositeArchivalState:{get:function(){return this._core._local().archivalState||"active"},set:function(e){var t=this._core;if(t._readOnly)throw new c(c.READ_ONLY,"This object is read-only.");if("string"!=typeof e)throw new c(c.INVALID_PARAMS,"Expecting a string.");if("pending"!==e&&"archived"!==e&&"active"!==e)throw new c(c.INVALID_PARAMS,'State must be "pending", "archived", or undefined.');if("archived"===this.compositeArchivalState)throw new c(c.INVALID_STATE,"Composite has already been archived.");if("active"!==e&&("pendingDelete"===this.compositeState||"committedDelete"===this.compositeState))throw new c(c.INVALID_STATE,"Cannot archive a deleted composite.");"active"===e?delete this._core._local().archivalState:this._core._local().archivalState=e,t._setDirty(!0)}},isBound:{get:function(){return this.manifestEtag&&this.compositeHref},set:function(){throw new c(c.READ_ONLY,"Cannot set the property isBound. Use resetIdentity instead.")}},_localStorage:{get:function(){return this._core._localStorage},set:function(e){this._core._localStorage=e}},hasLocalStorage:{get:function(){return this._core.hasLocalStorage},set:function(e){this._core.hasLocalStorage=e}},_isDirty:{get:function(){return this._core._isDirty},set:function(e){this._core._isDirty=e}},isDirty:{get:function(){return this._core.isDirty},set:function(e){this._core.isDirty=e}},localData:{get:function(){return this._core._stringify(!1,!0)},set:function(){throw new c(c.READ_ONLY,"Cannot set the property localData.")}},remoteData:{get:function(){return this._core._stringify(!0)},set:function(){throw new c(c.READ_ONLY,"Cannot set the property remoteData.")}},pendingElements:{get:function(){return this._pendingElements},set:function(e){throw new c(c.READ_ONLY,"Cannot set the property pendingElements.")}},changeCount:{get:function(){return this._core.changeCount},set:function(e){this._core.changeCount=e}},readOnly:{get:function(){return this._core._readOnly},set:function(e){this._core._readOnly=e}}}),i.prototype.parse=function(e){if("string"!=typeof e)throw new c(c.INVALID_PARAMS,'Param "data" must be a string');var t=null;try{t=JSON.parse(e)}catch(e){throw new c(c.INVALID_JSON,"Manifest could not be parsed. Underlying error: "+e.message)}return this._setData(t,this._core._readOnly)},i.prototype.getElementWithId=function(e){return this._createElement(this._core.getChildWithId(e))},i.prototype.getElementWithAbsolutePath=function(e){return this._createElement(this._core.getChildWithAbsolutePath(e))},i.prototype.addElement=function(e,t,n,i,r,o){if("string"!=typeof e)throw new c(c.INVALID_PARAMS,"Element must have a name of type string");if("string"!=typeof t)throw new c(c.INVALID_PARAMS,"Element must have a type of type string");if("string"!=typeof n)throw new c(c.INVALID_PARAMS,"Element must have a path of type string");var a=this._core.addChild(e,i,r,o);try{a.path=n}catch(e){throw this._core.removeChild(a),e}return a._data.type=t,this._createElement(a)},i.prototype.updateElement=function(e){var t=this.getChildWithId(e.rootNode.id);if(!t)throw new c(c.INVALID_PARAMS,"Element does not exist in branch.");var n=this._core.replaceChild(e.rootNode,t.path);return this._deleteElement(e),n},i.prototype.abandonElement=function(e){this._deleteElement(e)},i.prototype.getChildWithId=function(e){return this._core.getChildWithId(e)},i.prototype.getChildWithAbsolutePath=function(e){return this._core.getChildWithAbsolutePath(e)},i.prototype.getChildrenOf=function(e){return this._core.getChildrenOf(e)},i.prototype.addChild=function(e,t,n,i){return this._core.addChild(e,t,n,i)},i.prototype.removeChild=function(e){return this._core.removeChild(e)},i.prototype.moveChild=function(e,t,n){return this._core.moveChild(e,t,n)},i.prototype.copyChild=function(e,t,n,i,r,o){return this._core.copyChild(e,t,n,i,r,o)},i.prototype.replaceChild=function(e,t,n,i){return this._core.replaceChild(e,t,n,i)},i.prototype.allComponents=function(){return this._core.allComponents()},i.prototype.getComponentWithId=function(e){return this._core.getComponentWithId(e)},i.prototype.getComponentWithAbsolutePath=function(e){return this._core.getComponentWithAbsolutePath(e)},i.prototype.getComponentsOf=function(e){return this._core.getComponentsOf(e)},i.prototype.addComponent=function(e,t,n,i,r,o,a,s,l,c){return this._core.addComponent(e,t,n,i,r,o,a,s,l,c)},i.prototype.addComponentWithUploadResults=function(e,t,n,i,r){return this._core.addComponentWithUploadResults(e,t,n,i,r)},i.prototype.updateComponent=function(e,t,n,i){return this._core.updateComponent(e,t,n,i)},i.prototype.updateComponentWithUploadResults=function(e,t){return this._core.updateComponentWithUploadResults(e,t)},i.prototype.removeComponent=function(e){return this._core.removeComponent(e);
},i.prototype.moveComponent=function(e,t){return this._core.moveComponent(e,t)},i.prototype.copyComponent=function(e,t,n,i,r){return this._core.copyComponent(e,t,n,i,r)},i.prototype.replaceComponent=function(e,t,n,i){return this._core.replaceComponent(e,t,n,i)},i.prototype.assetOfComponent=function(e,t){return this._core.assetOfComponent(e,t)},i.prototype.copy=function(){var e=new i(JSON.parse(JSON.stringify(this._data)));return e._localStorage=this._localStorage,e},i.prototype._createElement=function(e){var t;if(e){var n=JSON.parse(JSON.stringify(e._data));n["manifest-format-version"]=this._data["manifest-format-version"],delete n.path,t=new l(n,this,this._core._readOnly),t&&this._localStorage&&(t._localStorage=this._localStorage,t._updateLocalDataFromBranch(this),this._localStorage.registerInMemoryBranchOrElement(t))}return t&&this._pendingElements.push(t),t},i.prototype._deleteElement=function(e){var t=this._pendingElements.indexOf(e);if(t<0)throw new c(c.INVALID_PARAMS,"Unknown element.");this._pendingElements.splice(t,1),this._localStorage&&this._localStorage.unregisterInMemoryBranchOrElement(e)},i.prototype._updateLocalDataFromBranch=function(e){if(this._readOnly)throw new c(c.READ_ONLY,"This object is read-only.");if(!this._localStorage)throw new c(c.NO_LOCAL_STORAGE,"No local storage.");if(!e._localStorage)throw new c(c.NO_LOCAL_STORAGE,"No local storage for source.");if(this._localStorage.compositePath!==e._localStorage.compositePath)throw new c(c.INVALID_PARAMS,"Branches must have same storage path.");this._core._localStorage.copyLocalStorageData(e,e._core._local(),this,this._core._local()),this._core._copySourceHrefsFrom(e._core)},i.prototype._verify=function(e){return"string"!=typeof e.id?new c(c.INVALID_DATA,"Manifest is missing an id of type string"):"string"!=typeof e.name?new c(c.INVALID_DATA,"Manifest is missing a name of type string"):"string"!=typeof e.type?new c(c.INVALID_DATA,"Manifest is missing a type of type string"):"number"!=typeof e["manifest-format-version"]?new c(c.INVALID_DATA,"Manifest is missing a manifest-format-version of type number"):null},i.prototype._setData=function(e,t){this.originalManifestFormatVersion=e["manifest-format-version"],a(e),e.local&&(e.local.version=2);var n=this._verify(e);if(null===n)return e["manifest-format-version"]=d,this._core=new s(e,this,t),this._data=e,this;throw n},i.prototype._reset=function(e,t){if(this._readOnly)throw new c(c.READ_ONLY,"This object is read-only.");this._data.local&&(delete this._data.local.manifestEtag,delete this._data.local.compositeHref),e||(this._data.id=u.generateUuid()),this._data.state="modified",this._core._recursiveReset(this._data,t),this._core._setDirty()},i.prototype._resetBinding=function(e){this._reset(!0,e)},i.prototype._resetIdentity=function(e){this._reset(!1,e)},i.prototype._local=function(){return this._core._local()},i.prototype._setDirty=function(e){this._core._setDirty(e)},i.prototype._setPathOfNode=function(e,t){this._core._setPathOfNode(e,t)},i.prototype._verifyIntegrity=function(e,t,n){return this._core._verifyIntegrity(e,t,n)},i}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/components/dcx-js/src/AdobeDCXPushJournal",["require","exports","module","./AdobeDCXError","./AdobeDCXFS","./AdobeDCXUtil"],function(e,t,n){"use strict";function i(e,t,n){n?this._setData(n,e.href):this._data={"push-journal-format-version":a,"composite-href":e.href,"uploaded-components":{}},this._filePath=t,this._waitingCallbacks=[],this._commitInProgress=!1,this._needAnotherCommit=!1}var r=e("./AdobeDCXError"),o=e("./AdobeDCXFS"),a=(e("./AdobeDCXUtil"),3);i.readJournal=function(e,t,n,r){o.readFile(e,"utf8",function(o,a){var s;if(o&&o.code&&n&&(o=void 0),!o)try{a=JSON.parse(a),s=new i(t,e,a)}catch(r){n?s=new i(t,e):o=r}r(o,o?void 0:s)})},Object.defineProperties(i.prototype,{compositeHref:{get:function(){return this._data["composite-href"]},set:function(e){throw new r(r.READ_ONLY,"This property is read-only.")}},manifestEtag:{get:function(){return this._data.etag},set:function(e){e?this._data.etag=e:delete this._data.etag}},currentBranchEtag:{get:function(){return this._data["current-branch-etag"]},set:function(e){e?this._data["current-branch-etag"]=e:delete this._data["current-branch-etag"]}},changeCount:{get:function(){return this._data.change},set:function(e){e?this._data.change=e:delete this._data.change}},compositeHasBeenCreated:{get:function(){return!!this._data["composite-created"]},set:function(e){e?this._data["composite-created"]=!0:delete this._data["composite-created"]}},compositeHasBeenDeleted:{get:function(){return!!this._data["composite-deleted"]},set:function(e){e?this._data["composite-deleted"]=!0:delete this._data["composite-deleted"]}},compositeHasBeenArchived:{get:function(){return!!this._data["composite-archived"]},set:function(e){e?this._data["composite-archived"]=!0:delete this._data["composite-archived"]}},isEmpty:{get:function(){return 0===Object.keys(this._data["uploaded-components"]).length&&!this.compositeHasBeenDeleted&&!this.manifestEtag},set:function(e){throw new r(r.READ_ONLY,"This property is read-only.")}},isComplete:{get:function(){return!!(this._data.etag&&this._data.change||this._data["composite-deleted"]||this._data["composite-archived"])},set:function(e){throw new r(r.READ_ONLY,"This property is read-only.")}}}),i.prototype.recordUploadedComponent=function(e,t,n,i,r,o,a){var s={etag:t,length:r,version:n,md5:i};o&&(s["storage-name"]=o),a&&(s["source-href"]=a),s.timestamp=(new Date).toISOString(),this._data["uploaded-components"][e]=s},i.prototype.idsOfAllUploadedComponents=function(){return Object.keys(this._data["uploaded-components"])};var s=6048e5;return i.prototype.getRecordForUploadedComponent=function(e){var t=this._data["uploaded-components"][e];if(t&&!this.isComplete){var n=t.timestamp;if(!n)return this.removeRecordForUploadedComponent(e);if(n=new Date(n),isNaN(n.getTime()))return this.removeRecordForUploadedComponent(e);var i=Date.now()-n.getTime();if(i>=s)return this.removeRecordForUploadedComponent(e)}return t},i.prototype.removeRecordForUploadedComponent=function(e){delete this._data["uploaded-components"][e]},i.prototype.applyToBranch=function(e,t){if(!this.isComplete)throw new r(r.INVALID_STATE,"Journal is not complete.");var n=e.isDirty;if(this.compositeHasBeenDeleted)e._data.state="committedDelete",e.manifestEtag=this.manifestEtag;else{this.compositeHasBeenArchived&&(e.compositeArchivalState="archived");var i,o="unmodified"!==e.compositeState&&this.changeCount!==e.changeCount,a=this.idsOfAllUploadedComponents(),s=a.length;for(i=0;i<s;i++){var l=a[i],c=e.getComponentWithId(l);if(c){var u=this.getRecordForUploadedComponent(c.id);c._data.etag=u.etag,c._data.length=u.length,c._data.version=u.version,c._data.md5=u.md5,u["source-href"]?e._core._getSourceHrefOfComponent(c)===u["source-href"]&&(c._data.state="unmodified",e._core._setSourceHrefOfComponent(void 0,c)):e.hasLocalStorage&&e._localStorage.componentAssetName(c,e._local())===u["storage-name"]?(c._data.state="unmodified",e._core._setSourceHrefOfComponent(void 0,c)):e.hasLocalStorage||(c._data.state="unmodified")}}e.manifestEtag=this.manifestEtag,o||(e._data.state="unmodified")}t&&(e._isDirty=n)},i.prototype.commitChanges=function(e){if(!this._filePath)return void(e&&e());var t=this,n=function(e){t._needAnotherCommit=!1,t._commitInProgress=!0,t._waitingCallbacks=[],o.writeFileAtomically(t._filePath,JSON.stringify(t._data),"utf8",function(i){var r,o=e.length;for(r=0;r<o;r++)try{e[r](i)}catch(e){}t._needAnotherCommit?n(t._waitingCallbacks):t._commitInProgress=!1})};t._commitInProgress?(this._needAnotherCommit=!0,e&&this._waitingCallbacks.push(e)):n(e?[e]:[])},i.prototype._setData=function(e,t){if(e["push-journal-format-version"]<=2){var n=e["uploaded-components"];if(n){var i,r=Object.keys(n),o=r.length;for(i=0;i<o;i++){var s=r[i],l=n[s];"number"==typeof l.version&&(l.version=String(l.version))}}e["push-journal-format-version"]=a}var c=this._verify(e,t);if(null===c)return this._data=e,this;throw c},i.prototype._verify=function(e,t){return e["push-journal-format-version"]!==a?new r(r.INVALID_DATA,"Wrong push journal format version."):e["composite-href"]!==t?new r(r.INVALID_DATA,"Composite and journal hrefs mismatch."):e["uploaded-components"]?null:new r(r.INVALID_DATA,"Missing component list.")},i}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/components/dcx-js/src/AdobeDCXLocalStorage",["require","exports","module","./AdobeDCXError","./AdobeDCXUtil","./AdobeDCXFS"],function(e,t,n){"use strict";function i(e,t){if("string"!=typeof e||""===e)throw new r(r.INVALID_PARAMS,'Param "compositePath" must be a non-empty string.');this._compositePath=e,this._preserveFileExtensions=t,this._inMemoryBranchesAndElements=[],this._inflightComponents=[]}var r=e("./AdobeDCXError"),o=e("./AdobeDCXUtil"),a=e("./AdobeDCXFS");Object.defineProperties(i.prototype,{compositePath:{get:function(){return this._compositePath},set:function(e){if("string"!=typeof e||""===e)throw new r(r.INVALID_PARAMS,'Param "compositePath" must be a non-empty string.');this._compositePath=e}}}),i.prototype.currentManifestPath=function(){return this._compositePath+"/manifest"},i.prototype.currentBaseManifestPath=function(){return this._compositePath+"/manifest.base"},i.prototype.pulledManifestPath=function(){return this._compositePath+"/pull.manifest"},i.prototype.pushedManifestPath=function(){return this._compositePath+"/push.manifest"},i.prototype.resolvePulledBranch=function(e,t){var n=this;a.writeFileAtomically(this.currentManifestPath(),e.localData,"utf8",function(e){e?(e.code!==r.OUT_OF_SPACE&&(e=new r(r.INVALID_STATE,"Could not write current manifest.",e)),t(e)):a.move(n.pulledManifestPath(),n.currentBaseManifestPath(),!1,function(e){e?t(new r(r.INVALID_STATE,"Could not move pull manifest.",e)):t()})})},i.prototype.acceptPushedBranch=function(e,t){var n=this;a.writeFileAtomically(this.currentManifestPath(),e.localData,"utf8",function(e){e?(e.code!==r.OUT_OF_SPACE&&(e=new r(r.INVALID_STATE,"Could not write current manifest.",e)),t(new r(r.INVALID_STATE,"Could not write current manifest.",e))):a.move(n.pushedManifestPath(),n.currentBaseManifestPath(),!1,function(e){e?t(new r(r.INVALID_STATE,"Could not move push manifest.",e)):n._deleteJournal(t)})})},i.prototype.discardPulledBranch=function(e){a.deleteFile(this.pulledManifestPath(),e)},i.prototype.discardPushedBranch=function(e){var t=this;a.deleteFile(this.pushedManifestPath(),function(n){n?e(n):t._deleteJournal(e)})},i.prototype.discardBaseBranch=function(e){a.deleteFile(this.currentBaseManifestPath(),e)},i.prototype.registerInMemoryBranchOrElement=function(e){if(this._inMemoryBranchesAndElements.indexOf(e)>=0)throw new r(r.INVALID_STATE,"Branch or element is already registered.");this._inMemoryBranchesAndElements.push(e)},i.prototype.unregisterInMemoryBranchOrElement=function(e){var t=this._inMemoryBranchesAndElements.indexOf(e);if(t<0)throw new r(r.INVALID_STATE,"Unknown branch or element.");this._inMemoryBranchesAndElements.splice(t,1)},i.prototype._deleteJournal=function(e){a.deleteFile(this.pushJournalPath(),e)};var s=/(\/)|(\.$)/;return i.prototype.componentAssetName=function(e,t){var n=t["copyOnWrite#storageIds"],i=n?n[e.id]:null;return i&&s.test(i)&&(i=null),i},i.prototype.componentAssetPath=function(e,t){var n=this.componentAssetName(e,t);return n?this._componentPathFromName(n):null},i.prototype.ingestComponentAsset=function(e,t,n,i,o){var s=this,l=this._newFileNameForComponent(e),c=this._componentPathFromName(l);this._inflightComponents.push(l);var u=function(t){if(!t)try{s._setComponentName(e,i,l)}catch(e){t=e}var n=s._inflightComponents.indexOf(l);n<0&&!t&&(t=new r(r.INVALID_STATE,"Could not find inflight component.")),s._inflightComponents.splice(n,1),o(t)};n?a.copyFile(t,c,u):a.move(t,c,!0,u)},i.prototype.removeComponentAsset=function(e,t){var n=t["copyOnWrite#storageIds"];n&&delete n[e.id]},i.prototype.componentIds=function(e){var t=e["copyOnWrite#storageIds"];return t?Object.keys(t):[]},i.prototype.copyLocalStorageData=function(e,t,n,i){var r,o=n.allComponents(),a=o.length,s=t["copyOnWrite#storageIds"];if(s){var l=i["copyOnWrite#storageIds"];for(l||(l=i["copyOnWrite#storageIds"]={}),r=0;r<a;r++){var c=o[r],u=c.id,d=e.getComponentWithId(u);if(d&&d.etag===c.etag){var p=s[u];p&&(l[u]=p)}}}},i.prototype.removeUnusedLocalFiles=function(e,t){var n,i,o,s,l,c=this,u=function(e){c._deleteComponentAsset(e,function(e){e&&!n&&(n=e),l--,0===l&&t(n)})},d=function(){try{var e,n=s.length,r=[];for(e=0;e<n;e++){var a=s[e].name,d=s[e].info;!i[a]&&d.mtime.getTime()<o&&c._inflightComponents.indexOf(a)<0&&r.push(a)}if(l=n=r.length,l>0)for(e=0;e<n;e++)u(r[e])}catch(e){return void t(e)}0===l&&t()};this._gatherComponentAssetNames([this.currentManifestPath(),this.currentBaseManifestPath(),this.pulledManifestPath(),this.pushedManifestPath()],e,function(e,a,l,c){if(n)return void t(n);if(!e)try{if(a<1||!c)throw new r(r.INVALID_STATE,a<1?"No manifest found.":"Invalid time stamp");i=l,o=c}catch(t){e=t}e&&(n=e),s&&(n?t(n):d())}),a.directoryListing(this._compositePath+"/components",function(e,r){if(n)return void t(n);if(!e)try{s=r}catch(t){e=t}e&&(n=e),i&&(n?t(n):d())})},i.prototype.tempPathForComponent=function(){return this._compositePath+"/tmp/"+o.generateUuid()},i.prototype.deleteTempFiles=function(e){a.deleteDirectory(this._compositePath+"/tmp",e)},i.prototype.clientDataPath=function(){return this._compositePath+"/clientdata"},i.prototype.pushJournalPath=function(){return this._compositePath+"/push.journal"},i.prototype._copyComponentMapping=function(e,t,n,i){var r=t["copyOnWrite#storageIds"];if(r){var o=i["copyOnWrite#storageIds"];o||(o=i["copyOnWrite#storageIds"]={});var a=r[e];return a&&(o[n]=a),a}},i.prototype._componentPathFromName=function(e){return this._compositePath+"/components/"+e},i.prototype._newFileNameForComponent=function(e){var t=o.generateUuid();if(this._preserveFileExtensions){var n=e.path?o.filePathComponents(e.path).extension:null;n&&(t=t+"."+n)}return t},i.prototype._setComponentName=function(e,t,n){var i=t["copyOnWrite#storageIds"];i||(i=t["copyOnWrite#storageIds"]={}),i[e.id]=n},i.prototype._gatherComponentAssetNames=function(e,t,n){try{var i,r,s={},l=t||o.timeStamp(!0),c=e.length,u=c,d=0,p=function(e){if(e){e=e["copyOnWrite#storageIds"];var t,n=Object.keys(e);for(t=0;t<n.length;t++){var i=e[n[t]];s[i]=!0}}},h=function(e){a.exists(e,function(t){t?(d++,a.info(e,function(t,i){if(!t)try{var o=i.mtime.getTime();o<l&&(l=o),a.readFile(e,"utf8",function(e,t){if(u--,!e)try{t=JSON.parse(t),p(t.local)}catch(t){e=t}e&&!r&&(r=e),0===u&&n(r,d,s,l)})}catch(e){t=e}t&&(u--,r||(r=t),0===u&&n(r))})):(u--,0===u&&n(r,d,s,l))})};for(i=0;i<c;i++)h(e[i]);for(c=this._inMemoryBranchesAndElements.length,i=0;i<c;i++)p(this._inMemoryBranchesAndElements[i]._local())}catch(e){n(e)}},i.prototype._deleteComponentAsset=function(e,t){a.deleteFile(this._componentPathFromName(e),t)},i}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/components/dcx-js/src/AdobeDCXComposite",["require","exports","module","./AdobeDCXError","./AdobeDCXBranch","./AdobeDCXPushJournal","./AdobeDCXLocalStorage","./AdobeDCXComponent","./AdobeDCXFS","./AdobeDCXUtil"],function(e,t,n){"use strict";function i(e,t,n,i,r,a){r=u.ensureRelativeHrefStartsWithSlash(r),this._options=a||{},n?this._setPath(n):r?(this._href=r,e&&(this._name=e),t&&(this._type=t),i&&(this._id=i)):t&&(this._current=new o,e&&(this._current._data.name=e),this._current._data.type=t,i&&(this._current.compositeId=i)),this._autoRemoveUnusedLocalFiles=!0,this._options.xhrBaseBranchSupport&&(this._baseBranchData=void 0,this._pushedBranchData=void 0,this._pulledBranchData=void 0),this._collaborationType=p.PRIVATE}var r=e("./AdobeDCXError"),o=e("./AdobeDCXBranch"),a=e("./AdobeDCXPushJournal"),s=e("./AdobeDCXLocalStorage"),l=e("./AdobeDCXComponent").STATES,c=e("./AdobeDCXFS"),u=e("./AdobeDCXUtil"),d=1024,p={PRIVATE:void 0,SHARED_BY_USER:"sharedByUser",SHARED_WITH_USER:"sharedWithUser"};return i.newCompositeAsCopyOf=function(e,t,n,a,s,l,c){var d=e._core;if(d||e.current&&(d=e.current._core),!d)throw new r(r.INVALID_PARAMS,"compositeBranchOrElement must be a branch, an element or a composite with a current branch.");var p=new i(void 0,void 0,void 0,void 0,void 0,c);return a&&(p.path=a),p._current=o._newBranchAsCopyOfCore(d,this._localStorage),p.id=s||u.generateUuid(),t&&(p.name=t),n&&(p.type=n),l&&(p.href=l),p},i.COLLABORATION=p,Object.defineProperties(i.prototype,{id:{get:function(){return this._current?this._current.compositeId:this._id},set:function(e){if("string"!=typeof e)throw new r(r.INVALID_PARAMS,"Expecting a string.");this._current&&(this._current.compositeId=e),this._id=e}},name:{get:function(){return this._current?this._current.name:this._name},set:function(e){if("string"!=typeof e)throw new r(r.INVALID_PARAMS,"Expecting a string.");this._current&&(this._current.name=e),this._name=e}},type:{get:function(){return this._current?this._current.type:this._type},set:function(e){if("string"!=typeof e)throw new r(r.INVALID_PARAMS,"Expecting a string.");this._current&&(this._current.type=e),this._type=e}},href:{get:function(){return this._current?this._current.compositeHref:this._href},set:function(e){if("string"!=typeof e)throw new r(r.INVALID_PARAMS,"Expecting a string.");e=u.ensureRelativeHrefStartsWithSlash(e),this._current&&(this._current.compositeHref=e),this._href=e}},collaborationType:{get:function(){return this._current?this._current._collaborationType:this._collaborationType},set:function(e){if(e!==p.PRIVATE&&e!==p.SHARED_BY_USER&&e!==p.SHARED_WITH_USER)throw new r(r.INVALID_PARAMS,"Invalid value: ."+e);this._current&&(this._current._collaborationType=e),this._collaborationType=e}},clientDataString:{get:function(){return this._current?this._current._clientDataString:this._clientDataString},set:function(e){if("string"!=typeof e&&void 0!==e)throw new r(r.INVALID_PARAMS,"Invalid clientDataString: must be a string or undefined.");var t=this._options.maxClientDataLength||d;if(e&&e.length>t)throw new r(r.INVALID_PARAMS,"Invalid clientDataString: cannot be greater than 1KB");this._current&&(this._current._clientDataString=e),this._clientDataString=e}},path:{get:function(){return this._path},set:function(e){if("string"!=typeof e)throw new r(r.INVALID_PARAMS,"Expecting a string.");this._setPath(e)}},isBound:{get:function(){return this._current&&this._current.isBound||!this._current&&this._href},set:function(){throw new r(r.READ_ONLY,"Cannot set the property isBound. Use resetIdentity or resetBinding instead.")}},hasLocalStorage:{get:function(){return this._localStorage},set:function(){throw new r(r.READ_ONLY,"Cannot set the property hasLocalStorage.")}},autoRemoveUnusedLocalFiles:{get:function(){if(!this._localStorage)throw new r(r.NO_LOCAL_STORAGE,"No local storage.");return this._autoRemoveUnusedLocalFiles},set:function(e){if(!this._localStorage)throw new r(r.NO_LOCAL_STORAGE,"No local storage.");this._autoRemoveUnusedLocalFiles=e}},clientDataStoragePath:{get:function(){if(!this._localStorage)throw new r(r.NO_LOCAL_STORAGE,"No local storage.");return this._localStorage.clientDataPath()},set:function(e){throw new r(r.READ_ONLY,'Property "clientDataStoragePath" is read-only.')}},current:{get:function(){return this._current},set:function(e){throw new r(r.READ_ONLY,'Property "current" is read-only.')}}}),i.prototype.loadCurrentFromLocalStorage=function(e){if(!this._localStorage)throw new r(r.NO_LOCAL_STORAGE,"No local storage.");var t=this;this._loadBranch(this._localStorage.currentManifestPath(),!1,function(n,i){if(!n&&i)try{t._current=i,t._currentBranchCommittedAtDate=u.timeStamp(!0)}catch(e){n=e}e(n,n?void 0:i)})},i.prototype.commitChanges=function(e){if(!this._localStorage)throw new r(r.NO_LOCAL_STORAGE,"No local storage.");if(!this._current)return e(new r(r.INVALID_STATE,"Current branch is not in memory."));var t=this;c.writeFileAtomically(this._localStorage.currentManifestPath(),this._current.localData,"utf8",function(n){if(!n)try{t._currentBranchCommittedAtDate=u.timeStamp(!0),t._current._isDirty=!1}catch(e){n=e}e(n)})},i.prototype.tempAssetPath=function(){if(!this._localStorage)throw new r(r.NO_LOCAL_STORAGE,"No local storage.");return this._localStorage.tempPathForComponent()},i.prototype.deleteTempFiles=function(e){if(!this._localStorage)throw new r(r.NO_LOCAL_STORAGE,"No local storage.");this._localStorage.deleteTempFiles(function(t){e&&e(t)})},i.prototype.removeUnusedLocalFiles=function(e){if(!this._localStorage)throw new r(r.NO_LOCAL_STORAGE,"No local storage.");this._localStorage.removeUnusedLocalFiles(this._currentBranchCommittedAtDate,e)},i.prototype.removeLocalFilesForComponentsWithIDs=function(e,t){if(!this._localStorage)throw new r(r.NO_LOCAL_STORAGE,"No local storage.");if(!e)throw new r(r.INVALID_PARAMS,"Param componentIds must not be nil.");var n=this,i=this._current;n._loadBranch(n._localStorage.currentManifestPath(),!0,function(o,a){o&&"ENOENT"!==o.code?t([o]):n.loadBaseBranch(function(o,s){if(o&&"ENOENT"!==o.code)t([o]);else{var u,d,p="/META-INF/metadata.xml",h=[],f={};for(u=0;u<e.length;++u){var g=e[u],m=i.getComponentWithId(g),v=a?a.getComponentWithId(g):void 0,_=s?s.getComponentWithId(g):void 0;if(!(m&&m.absolutePath===p||v&&v.absolutePath===p||_&&_.absolutePath===p))if(m&&m.state===l.modified||v&&v.state===l.modified){var y=new r(r.COMPONENT_MODIFIED_ERROR,"Cannot remove the file of a modified component.");y.componentId=g,h.push(y)}else m&&(d=i.assetOfComponent(m),d&&(void 0===f[d]&&(f[d]=g),n._localStorage.removeComponentAsset(m,i._local()),i._setDirty(!0))),v&&(d=a.assetOfComponent(v),d&&void 0===f[d]&&(f[d]=g)),_&&(d=s.assetOfComponent(_),d&&void 0===f[d]&&(f[d]=g))}var E=Object.keys(f),b=E.length;if(b>0){var T=function(e){c.deleteFile(e,function(n){n&&(n.componentId=f[e],h.push(n)),b--,0===b&&t(h.length>0?h:void 0)})};for(u=0;u<E.length;++u)T(E[u])}else t(h.length>0?h:void 0)}})})},i.prototype.removeLocalStorage=function(e){if(!this._localStorage)throw new r(r.NO_LOCAL_STORAGE,"No local storage.");return this._path?void c.deleteDirectory(this._path,e):e(new r(r.INVALID_STATE,"No path set."))},i.prototype.loadBaseBranch=function(e){if(!this._localStorage&&!this._baseBranchData)throw new r(r.NO_LOCAL_STORAGE,"No local storage.");if(this._localStorage)this._loadBranch(this._localStorage.currentBaseManifestPath(),!0,e);else{var t,n;try{n=new o(void 0,!0).parse(this._baseBranchData)}catch(e){t=e}e(t,n)}},i.prototype.loadPulledBranch=function(e){if(!this._localStorage)throw new r(r.NO_LOCAL_STORAGE,"No local storage.");this._loadBranch(this._localStorage.pulledManifestPath(),!1,e)},i.prototype.loadPushedBranch=function(e){if(!this._localStorage)throw new r(r.NO_LOCAL_STORAGE,"No local storage.");this._loadBranch(this._localStorage.pushedManifestPath(),!1,e)},i.prototype.resolvePullWithBranch=function(e,t){if(!e)throw new r(r.INVALID_PARAMS,"Need a branch.");if(e===this._current)throw new r(r.INVALID_PARAMS,"Cannot resolve current.");if(this._localStorage&&!t)throw new r(r.INVALID_PARAMS,"Need a callback function.");var n=this,i=function(){e.readOnly=!1,e._collaborationType=n.collaborationType,e._clientDataString=n.clientDataString,n._current=e};if(this._localStorage)n._localStorage.resolvePulledBranch(e,function(e){if(!e)try{i(),n._autoRemoveUnusedLocalFiles&&n._localStorage.removeUnusedLocalFiles(n._currentBranchCommittedAtDate,function(e){})}catch(t){e=t}t(e,e?void 0:n._current)});else{if(this._options.xhrBaseBranchSupport&&(this._baseBranchData=this._pulledBranchData,this._pulledBranchData=void 0),i(),!t)return this._current;t(void 0,this._current)}},i.prototype.acceptPush=function(e){if(this._localStorage&&!e)throw new r(r.INVALID_PARAMS,"Need a callback function.");var t,n,i=this,o=function(r){if(!r)if(t)try{i._localStorage?(t.applyToBranch(n),i._localStorage.acceptPushedBranch(n,function(n){if(!n)try{t.applyToBranch(i._current,!0),i._autoRemoveUnusedLocalFiles&&i._localStorage.removeUnusedLocalFiles(i._currentBranchCommittedAtDate,function(e){})}catch(e){n=e}e(n)})):(t.applyToBranch(i._current,!0),i._options.xhrBaseBranchSupport&&(i._baseBranchData=i._pushedBranchData,i._pushedBranchData=void 0),i._pushJournal=void 0,e&&e())}catch(e){r=e}else e&&e();if(r){if(!e)throw r;e(r)}};if(!this._localStorage)return t=this._pushJournal,o();var s,l=2;a.readJournal(i._localStorage.pushJournalPath(),i,!1,function(e,n){l--,s?o():(e?"ENOENT"!==e.code&&(s=new r(r.INVALID_STATE,"Failed to load push journal.",e)):t=n,l||o())}),this._loadBranch(this._localStorage.currentManifestPath(),!1,function(e,t){l--,s?o():(e?s=new r(r.INVALID_STATE,"Failed to load current manifest.",e):n=t,l||o())})},i.prototype.discardPulledBranch=function(e){if(!this._localStorage)throw new r(r.NO_LOCAL_STORAGE,"No local storage.");var t=this;this._localStorage.discardPulledBranch(function(n){if(!n){try{t._autoRemoveUnusedLocalFiles&&t._localStorage.removeUnusedLocalFiles(t._currentBranchCommittedAtDate,function(e){})}catch(e){n=e}e(n)}n&&e(n)})},i.prototype.discardPushedBranch=function(e){if(!this._localStorage)throw new r(r.NO_LOCAL_STORAGE,"No local storage.");var t=this;this._localStorage.discardPushedBranch(function(n){if(!n){try{t._autoRemoveUnusedLocalFiles&&t._localStorage.removeUnusedLocalFiles(t._currentBranchCommittedAtDate,function(e){})}catch(e){n=e}e(n)}n&&e(n)})},i.prototype.resetBinding=function(e){delete this._href,this._current&&this._current._resetBinding(),this._localStorage?this._discardEveryBranchButCurrent(e):(this._baseBranchData=void 0,this._pushedBranchData=void 0,this._pulledBranchData=void 0,e&&e())},i.prototype.resetIdentity=function(e){delete this._href,this._current?(this._current._resetIdentity(),this._id=this._current.compositeId):this._id=u.generateUuid(),this._localStorage?this._discardEveryBranchButCurrent(e):(this._baseBranchData=void 0,this._pushedBranchData=void 0,this._pulledBranchData=void 0,e&&e())},i.prototype._loadBranch=function(e,t,n){if("function"!=typeof n)throw new r(r.INVALID_PARAMS,'Param "callback" must be a function.');var i=this;c.exists(e,function(r){r?c.readFile(e,"utf8",function(r,a){var s;if(!r)try{s=new o(void 0,t,e).parse(a),s._localStorage=i._localStorage}catch(e){r=e}n(r,s)}):n()})},i.prototype._discardEveryBranchButCurrent=function(e){if(!this._localStorage)throw new r(r.NO_LOCAL_STORAGE,"No local storage.");var t,n=this,i=3,o=function(r){r&&!t&&(t=r),i--,0===i&&(!t&&n._autoRemoveUnusedLocalFiles&&n._localStorage.removeUnusedLocalFiles(n._currentBranchCommittedAtDate,function(e){}),e(t))};this._localStorage.discardPushedBranch(o),this._localStorage.discardPulledBranch(o),this._localStorage.discardBaseBranch(o)},i.prototype._setPath=function(e){this._localStorage?this._localStorage.compositePath=e:c.canUseFileSystem&&(this._localStorage=new s(e,this._options.preserveFileExtensions),this._current&&(this._current._localStorage=this._localStorage)),this._path=e},i}),"function"!=typeof nodeRequire)var nodeRequire=require;define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/components/dcx-js/src/AdobeNetworkHTTPService",["require","exports","module","./AdobeDCXUtil","./AdobeDCXError","./AdobeDCXFS"],function(e,t,n){"use strict";function i(e){this.filename=e}function r(){}function o(e){this._requestQueue=[],this._requestsOutstanding=[],this._rejectedAuths=[],this._authCallback=e,this._isActive=!0,this._waitingForAuthentication=!1,this._currentAuthId=c.generateUuid(),this._https=s,this._XMLHttpRequest=a,this._handlesRedirects=void 0!==a,this._maxOutstanding=5}var a,s,l,c=e("./AdobeDCXUtil"),u=e("./AdobeDCXError"),d=e("./AdobeDCXFS");"undefined"!=typeof global&&global.Buffer?(s=nodeRequire("https"),l=nodeRequire("url")):a=window.XMLHttpRequest;var p=c.merge,h=3e5;return Object.defineProperties(o.prototype,{isActive:{get:function(){return this._isActive},set:function(e){var t=this._isActive;t!==e&&(this._isActive=e,e||(this._authValue=void 0,this._checkQueue()))}},crossOriginCredentials:{get:function(){return this._withCredentials},set:function(e){this._withCredentials=e}},maxOutstanding:{get:function(){return this._maxOutstanding},set:function(e){this._maxOutstanding=e,this._checkQueue()}},handlesRedirects:{get:function(){return this._handlesRedirects}}}),o.prototype._forceXhr=function(e,t){this._https=void 0,this._XMLHttpRequest=e||a||nodeRequire("xhr2"),this._handlesRedirects=!t},o.FileContent=i,o.StreamProvider=r,o.prototype.setAdditionalHeaders=function(e){this._additionalHeaders=e||{}},o.prototype.setAdditionalNodeOptions=function(e){this._additionalNodeOptions=e},o.prototype.setApiKey=function(e){this._apiKey=e},o.prototype.setTimeout=function(e){this._timeout=e},o.prototype.setAuthToken=function(e){e?(this._authValue="Bearer "+e,this.resume()):(this._authValue=void 0,this._currentAuthId=c.generateUuid())},o.prototype.resume=function(){this._currentAuthId=c.generateUuid(),this._waitingForAuthentication=!1,this._checkQueue()},o.prototype.setRequestHooks=function(e,t){this._beforeHook=e,this._afterHook=t},o.prototype.invoke=function(e,t,n,r,o,a){o=o||{};var s=o.responseType;if(s instanceof i){if(!d.canUseFileSystem)throw new u(u.INVALID_PARAMS,"No filesystem access")}else if("buffer"===s){if("function"!=typeof Buffer)throw new u(u.INVALID_PARAMS,"No Buffer class")}else if("blob"===s){if("function"!=typeof Blob)throw new u(u.INVALID_PARAMS,"No Blob class")}else if(s&&"text"!==s&&"json"!==s&&"arraybuffer"!==s)throw new u(u.INVALID_PARAMS,"Unsupported response type");n=p({},n,this._additionalHeaders),this._apiKey&&(n["x-api-key"]=this._apiKey);var l={method:e,href:t,headers:n,callback:a,body:r,options:o},h=o.reuseRequestDesc;if(h){if(this._requestQueue.indexOf(h)>=0||this._requestsOutstanding.indexOf(h)>=0)throw new u(u.INVALID_PARAMS,"Request descriptor still in use.");l=c.merge(h,l)}return this._doRequest(l),l},o.prototype._doRequest=function(e){function t(t,n){t&&c.log("["+e.id+"] error: "+t),h&&h.end();var i=g._requestsOutstanding.indexOf(e);i>=0&&g._requestsOutstanding.splice(i,1);var r=e.callback;r&&(e.callback=void 0,t&&(t.clientRequest=e.clientRequest,t.xhr=e.xhr),t&&t.code!==u.SERVICE_IS_INACTIVE&&!g._isActive?t=new u(u.SERVICE_IS_INACTIVE,"Service is now inactive",t):e.timedOut&&(t=new u(u.TIMED_OUT,"timed out request",t)),r(t,n)),g._isActive&&g._checkQueue()}function n(n){function r(){if(!a)return a=!0,h=void 0,t(void 0,n)}var o=!1,a=!1,s=!1,l=g._requestsOutstanding.indexOf(e);if(l<0)return void g._checkQueue();e.response=n;var p=(new Date).valueOf()-e.startTime;if(c.log("["+e.id+"] "+n.statusCode+" ("+p+"ms)"),401===n.statusCode&&g._authCallback)g._requestsOutstanding.splice(l,1),g._requestQueue.unshift(e),g._authFail(e),c.consumeStream(n);else{var f=e.progress;200===n.statusCode||201===n.statusCode||202===n.statusCode?(n.on("data",function(e){e.length&&f&&f(e.length),!h&&e&&v.push(e)}),g._https&&y instanceof i&&(h=d.createWriteStream(y.filename),n.pipe(h),o=!0)):c.consumeStream(n),n.once("end",function(){s=!0;var i=g._requestsOutstanding.indexOf(e);if(!(i<0||(g._requestsOutstanding.splice(i,1),g._checkQueue(),o||a)))return a=!0,n.response=Buffer.concat(v),"arraybuffer"===y?n.response=new ArrayBuffer(n.response):"text"===y&&(n.response=n.response.toString()),t(void 0,n)}),n.once("close",function(){if(!s&&!a)return a=!0,t(new u(u.NETWORK_ERROR,"incomplete response"))}),o&&(h.once("finish",r),h.once("close",r))}}function o(){var n=e.progress;if(n&&s.response){var r=s.response.length;n(r-m),m=r}if(4===s.readyState){if(0===s.status)return t(new u(u.UNEXPECTED,"XHR failure"));var o=g._requestsOutstanding.indexOf(e);if(o<0)return void g._checkQueue();var a=(new Date).valueOf()-e.startTime;if(c.log("["+e.id+"] "+s.status+" ("+a+"ms)"),g._requestsOutstanding.splice(o,1),401!==s.status||!g._authCallback){if(e.xhr=s,e.response=s,s.statusCode=s.status,s.headers=c.parseHeaders(s.getAllResponseHeaders()),y instanceof i){var l=s.response.response;return void d.writeFileAtomically(y.filename,l,void 0,function(e){
return e?t(new u(u.UNEXPECTED,"Can't create file",e,s)):t(void 0,s)})}return n&&_&&n(_.length||_.size),t(void 0,s)}g._requestQueue.unshift(e),g._authFail(e),g._checkQueue()}}function a(n){n.pipe(f),n.on("error",function(n){return g.abort(e),t(new u(u.TERMINATED_INPUTSTREAM,"Input stream terminated abnormally",n))})}var s,h,f,g=this,m=0,v=[],_=e.body,y=e.options.responseType;if(!this._isActive)return t(new u(u.SERVICE_IS_INACTIVE,"Network request in inactive state"));if(this._waitingForAuthentication||this._requestsOutstanding.length>=this._maxOutstanding||e.options.noSoonerThen)this._requestQueue.push(e),this._waitingForAuthentication||this._checkQueue();else{var E=e.headers;if(null===E.Authorization)delete E.Authorization;else{if(!this._allowAuthTokenToBeSentInsecurely_DONT_USE_THIS_IN_PRODUCTION&&0!==e.href.indexOf("https:"))return t(new u(u.INVALID_PARAMS,"Must not send auth token over unsecured connection"));this._authValue&&(E.Authorization=this._authValue)}if(this._currentAuthId&&(e.authId=this._currentAuthId),this._beforeHook&&this._beforeHook(e),e.id=c.generateUuid(),e.startTime=(new Date).valueOf(),E["X-Request-Id"]=e.id,this._https){this._requestsOutstanding.push(e);var b=l.parse(e.href),T=p({},this._additionalNodeOptions,b);T.method=e.method||"GET",T.headers=E,c.log("["+e.id+"] "+T.method+" "+e.href),f=this._https.request(T,n),e.clientRequest=f,f.once("error",t),g._timeout&&f.setTimeout(g._timeout,function(){e.timedOut=!0,f.abort()}),e.bytesSent=0,e.bytesReported=0,f.once("end",function(){if(e.progress){var t=e.bytesSent-e.bytesReported;t>0&&(e.progress(t),e.bytesReported+=t)}});var S=f.write;if(f.write=function(t){var n=t&&t.length;return n&&(e.bytesSent+=n),S.call(f,t,function(){e.progress&&t&&(e.progress(n),e.bytesReported+=n)})},_ instanceof i){var L=d.createReadStream(_.filename);a(L)}else if(_ instanceof r)if(_.getStream){var A=_.getStream();a(A)}else _.getStreamAsync&&_.getStreamAsync(function(n,i){return n?(g.abort(e),t(new u(u.TERMINATED_INPUTSTREAM,"Error creating input stream",n))):void a(i)});else if(_ instanceof Buffer)f.write(_),f.end();else if(_ instanceof ArrayBuffer)f.write(new Buffer(new Int8Array(_))),f.end();else if("string"==typeof _)f.write(new Buffer(_,"utf8")),f.end();else{if(_)return t(new u(u.INVALID_PARAMS,"Invalid data type"));f.end()}this._afterHook&&this._afterHook(e,f)}else{if(_ instanceof i)return d.canUseFileSystem?void d.readFile(_.filename,{},function(n,i){return n?t(n):(e.body=i,void g._doRequest(e))}):t(new u(u.INVALID_PARAMS,"Can't use FileContent without filesystem support"));"function"==typeof Buffer&&_ instanceof Buffer&&(e.body=_=new Int8Array(_)),this._requestsOutstanding.push(e),c.log("["+e.id+"] "+e.method+" "+e.href),s=new this._XMLHttpRequest,s.open(e.method,e.href,!0),this._withCredentials&&(s.withCredentials=!0),y&&(y instanceof i?s.responseType="buffer":s.responseType=y),s.onreadystatechange=o;var C;for(C in E)E.hasOwnProperty(C)&&s.setRequestHeader(C,E[C]);e.xhr=s,g._timeout&&(s.timeout=g._timeout,s.ontimeout=function(){e.timedOut=!0,s.abort()}),_?s.send(_):s.send(),this._afterHook&&this._afterHook(e,s)}}},o.prototype._authFail=function(e){if(this._authCallback){var t=e.authId;if(this._rejectedAuths.indexOf(t)!==-1)return;this._authValue=null,this._waitingForAuthentication=!0,this._rejectedAuths.unshift(t)>this._maxOutstanding&&(this._rejectedAuths.length=this._maxOutstanding),this._authCallback(this)}},o.prototype._checkQueue=function(){if(!this._isActive){var e=this._requestsOutstanding;this._requestsOutstanding=[],e.forEach(function(e){e.xhr&&e.xhr.abort(),e.clientRequest&&e.clientRequest.abort();var t=e.callback;if(t){e.callback=void 0;var n=new u(u.SERVICE_IS_INACTIVE,"Network request in inactive state");t(n)}});var t=this._requestQueue;return this._requestQueue=[],t.forEach(function(e){var t=new u(u.SERVICE_IS_INACTIVE,"Network request in inactive state"),n=e.callback;n&&(e.callback=void 0,n(t))}),void(this._checkQueueTimerId&&(clearTimeout(this._checkQueueTimerId),this._checkQueueTimerId=void 0,this._checkQueueTimerWhen=void 0))}for(var n,i=Date.now(),r=i+h,o=0;;){if(this._waitingForAuthentication||this._requestsOutstanding.length>=this._maxOutstanding||o>=this._requestQueue.length)break;var a=this._requestQueue[o];n=a.options.noSoonerThen||i,n&&n>r&&(n=a.options.noSoonerThen=r),n<=i?(this._requestQueue.splice(o,1),a.options.noSoonerThen=void 0,this._doRequest(a)):o++}if(!this._waitingForAuthentication&&this._requestsOutstanding.length<this._maxOutstanding&&this._requestQueue.length>0){var s,l,c=this._requestQueue.length;for(l=0;l<c;l++)n=this._requestQueue[l].options.noSoonerThen,n&&n>r&&(n=this._requestQueue[l].options.noSoonerThen=r),n&&(s=s&&s<n?s:n);if(s&&(!this._checkQueueTimerWhen||this._checkQueueTimerWhen>s)){this._checkQueueTimerId&&clearTimeout(this._checkQueueTimerId),this._checkQueueTimerWhen=s;var d=this;this._checkQueueTimerId=setTimeout(function(){d._checkQueueTimerWhen=void 0,d._checkQueueTimerId=void 0,d._checkQueue()},s-i)}}},o.prototype.abort=function(e){var t=this._requestQueue.indexOf(e);return t>=0?void this._requestQueue.splice(t,1):(t=this._requestsOutstanding.indexOf(e),void(t>=0&&(this._requestsOutstanding.splice(t,1),e.xhr&&e.xhr.abort(),e.clientRequest&&e.clientRequest.abort(),this._checkQueue())))},o.prototype.abortAllWithToken=function(e){if(e){var t;for(t=0;t<this._requestQueue.length;++t)this._requestQueue[t].token===e&&(this._requestQueue.splice(t,1),--t);for(t=0;t<this._requestsOutstanding.length;++t)if(this._requestsOutstanding[t].token===e){var n=this._requestsOutstanding[t];this._requestsOutstanding.splice(t,1),--t,n.xhr&&n.xhr.abort(),n.clientRequest&&n.clientRequest.abort()}this._checkQueue()}},o}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/components/dcx-js/src/AdobeSessionBase",["require","exports","module","./AdobeDCXError","./AdobeDCXUtil","./AdobeNetworkHTTPService"],function(e,t,n){"use strict";function i(e,t){this._service=e,this._server=t,t&&(this._endPoint=s.endPointOf(t)),this.SYNC_ASYNC_DEFAULT_DELAY=5,this.ASYNC_DEFAULT_DELAY=1,this.DEFAULT_POLL_DELAY=10,this._maxRedirects=5,this._authenticationWhitelist=[]}var r=e("./AdobeDCXError"),o=r.networkError,a=r.unexpectedResponse,s=e("./AdobeDCXUtil"),l=s.merge,c=e("./AdobeNetworkHTTPService"),u=s.appendPathElements,d="If-None-Match";return i.FileContent=c.FileContent,i.StreamProvider=c.StreamProvider,Object.defineProperties(i.prototype,{maxRedirects:{get:function(){return this._maxRedirects},set:function(e){if("number"!=typeof e)throw new r(r.INVALID_PARAMS,"Expecting a number.");this._maxRedirects=Math.floor(e)}},authenticationWhitelist:{get:function(){return this._authenticationWhitelist},set:function(e){if(!Array.isArray(e))throw new r(r.INVALID_PARAMS,"Expecting an array.");this._authenticationWhitelist=e}}}),i.prototype.isValidHref=function(e){var t=s.endPointOf(e);return!t||t===this._endPoint},i.prototype.isDomainOnWhitelist=function(e){var t=s.parseURI(e).authority;if(!t||0===t.length)return!0;var n,i=t.length,r=this._authenticationWhitelist.length;for(n=0;n<r;n++){var o,a=this._authenticationWhitelist[n],l=a.length;if(o=i>l?t.slice(-l):t,o===a)return!0}return!1},i.prototype.getAsset=function(e,t,n,i){function c(e,t){if(e)return i(o("Error downloading an asset",e,t));var n=t.statusCode;if(200===n)i(void 0,t);else if(304===n)i(void 0,t);else if(301===n||302===n||303===n||307===n)if(!f._service.handlesRedirects&&f.maxRedirects)if(g<f.maxRedirects){var r=t.headers.location;r?h(r):i(a("Missing location header in redirect response",e,t))}else i(a("Too many redirects",e,t));else i(a("Unexpected response getting an asset",e,t));else i(a("Unexpected response getting an asset",e,t))}if(e=this._resolveUrl(e),!e)return i(new r(r.WRONG_ENDPOINT,"Wrong endpoint: "+e));var u,p={};"string"==typeof t?p[d]=t:l(p,t);var h,f=this,g=0;return h=function(t){var i={responseType:n};return t&&(g++,i.reuseRequestDesc=u,f.isDomainOnWhitelist(t)||(p.Authorization=null)),f._service.invoke("GET",t||e,p,void 0,i,c)},u=h(),u.progress=s.noOp,u},i.prototype.getAssetAsType=function(e,t,n,i){function r(e,t){if(e)return i(e);if(200===t.statusCode){var n=t.response||t.responseText;i(void 0,n,t.headers.etag,t)}else 304===t.statusCode?i(void 0,null,t.headers.etag,t):i(a("Unexpected response getting asset",e,t))}return this.getAsset(e,n,t,r)},i.prototype._resolveUrl=function(e){var t=s.endPointOf(e);if(t){if(t!==this._endPoint)return;return e}return u(this._server,e)},i.prototype._makeRelativeUrl=function(e){var t=s.endPointOf(e);if(t){if(t!==this._endPoint)return;var n=s.parseURI(e);(n.scheme||n.authority)&&(e=n.path,n.query&&(e+="?"+n.query),n.fragment&&(e+="#"+n.fragment))}return e},i.prototype._parseAsyncResponse=function(e){var t=e.responseText||e.response;if(!t)throw new r(r.INVALID_DATA,"No body data.");var n={},i=t.indexOf("\n");if(i===-1)throw new r(r.INVALID_DATA,"Could not find status line.");var o=t.slice(0,13===t.charCodeAt(i-1)?i-1:i),a=o.split(" ");if(n.statusCode=parseInt(a[1],10),!n.statusCode)throw new r(r.INVALID_DATA,"Could not find status code.");a.length>2&&(n.statusText=a[2]);var l=t.search(/\r?\n\r?\n/);l===-1&&(l=t.length);var c=t.slice(i+1,l);n.headers=s.parseHeaders(c);var u="\r"===t.charAt(l)?l+4:l+2;return n.response=t.slice(u),n},i.prototype._pollForAsyncResponse=function(e,t,n,i){var r=this,l=Date.now()+1e3*t,c={responseType:"text",reuseRequestDesc:n,noSoonerThen:l};s.log("asynchronous request - polling"),n=this._service.invoke("GET",e,void 0,void 0,c,function(t,l){if(t)return i(o("Error polling for an asynchronous reponse",t,l));var c=l.statusCode;if(202===c){s.log("asynchronous request - not yet ready");var u=l.headers["retry-after"];u&&(u=parseInt(u,10)),r._pollForAsyncResponse(e,u||r.DEFAULT_POLL_DELAY,n,i)}else if(200===c){s.log("asynchronous request - success");try{l=r._parseAsyncResponse(l)}catch(e){return i(a("Error parsing response body.",e,l))}c=l.statusCode,200===c||201===c||204===c?i(void 0,l):i(a("Unexpected response polling for an asynchronous response",t,l))}else s.log("asynchronous request - error"),i(a("Unexpected response polling for an asynchronous response",t,l))})},i.prototype._handle202Response=function(e,t,n,i){var r,o=e.responseText||e.response;try{r=JSON.parse(o)}catch(t){return i(a("Error parsing 202 response body.",t,e))}var s=r.href;if(!s)return i(a("202 response missing an href.",void 0,e));var l=e.headers["retry-after"];l=l?parseInt(l,10):n,this._pollForAsyncResponse(this._resolveUrl(s),l,t,i)},i}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/components/dcx-js/src/AdobeStorageSession",["require","exports","module","./AdobeSessionBase","./AdobeDCXError","./AdobeDCXComposite","./AdobeDCXUtil"],function(e,t,n){"use strict";function i(e,t,n,i){var r=[],o="";return t&&r.push("order="+t),e&&r.push("orderBy="+e),n&&r.push("start="+n),i&&r.push("limit="+i),r.length>0&&(o="?"+r.join("&")),o}function r(e,t){if(o.call(this,e,t),!this._endPoint)throw new a(a.INVALID_PARAMS,"Could not determine endpoint from: "+t);this.authenticationWhitelist=["adobe.com","adobe.io","fotolia.net"]}var o=e("./AdobeSessionBase"),a=e("./AdobeDCXError"),s=a.networkError,l=a.unexpectedResponse,c=e("./AdobeDCXComposite"),u=e("./AdobeDCXUtil"),d=u.appendPathElements,p="If-Match",h="If-None-Match",f="application/vnd.adobe.dcx-manifest+json";return r.prototype=Object.create(o.prototype),r.prototype.name="AdobeStorageSession",r.FileContent=o.FileContent,r.StreamProvider=o.StreamProvider,r.prototype.getCollection=function(e,t,n){function i(t,u){if(t)return n(s("Error retrieving a collection",t,u));if(200===u.statusCode){var d,p=u.responseText||u.response;try{d=JSON.parse(p)}catch(e){return t=new a(a.INVALID_DATA,"Invalid JSON returned by server",e),t.response=u,n(t)}r?r.children=r.children.concat(d.children):r=d;var h=u.headers["x-children-next-start"];if(h){var f=e+"&start="+h;c._service.invoke("GET",f,o,void 0,{responseType:"text"},i)}else n(void 0,r,u.headers.etag,u.headers)}else 304===u.statusCode?n(void 0,null,u.headers.etag,u.headers):n(l("Unexpected status code while getting a collection",void 0,u))}if(e=this._resolveUrl(e),!e)return n(new a(a.WRONG_ENDPOINT,"Wrong endpoint: "+e));e+="?order=asc&orderby=name";var r,o={};t&&(o[h]=t);var c=this,u=this._service.invoke("GET",e,o,void 0,{responseType:"text"},i);return u},r.prototype.pagedGetCollection=function(e,t,n,r,o,c,u,d){function p(e,t){if(e)return d(s("Error retrieving a collection",e,t));if(200===t.statusCode){var n,i=t.responseText||t.response;try{n=JSON.parse(i)}catch(n){return e=new a(a.INVALID_DATA,"Invalid JSON returned by server",n),e.response=t,d(e)}u?u.children=u.children.concat(n.children):u=n,d(void 0,u,t.headers.etag,t.headers)}else 304===t.statusCode?d(void 0,null,t.headers.etag,t.headers):d(l("Unexpected status code while getting a collection",void 0,t))}if(e=this._resolveUrl(e),!e)return d(new a(a.WRONG_ENDPOINT,"Wrong endpoint: "+e));e+=i(n,r,o,c);var f={};t&&(f[h]=t);var g=this._service.invoke("GET",e,f,void 0,{responseType:"text"},p);return g},r.prototype.getComponent=function(e,t,n){var i=this.getComponentHref(e,e.version);return this.getAsset(i,void 0,t,n)},r.prototype.getRenditionOfComponent=function(e,t,n,i,r){var o=this.getComponentRenditionHref(e,e.version,n);return this.getAsset(o,{accept:t},i,r)},r.prototype.getSyncGroups=function(e,t){var n=d(this._server,"assets");return this.getCollection(n,e,t)},r.prototype.getSyncGroup=function(e,t,n){var i=d(this._server,"assets",e);return this.getCollection(i,t,n)},r.prototype.getCompositeManifest=function(e,t,n){var i=e.href;return i&&(i=this._resolveUrl(i)),i?(i=d(i,"manifest"),this.getAssetAsType(i,"text",t,n)):n(new a(a.WRONG_ENDPOINT,"Wrong endpoint: "+i))},r.prototype.headRequest=function(e,t){return this._service.invoke("HEAD",e,{},void 0,void 0,function(e,n){return e?t(e):void t(e,n)})},r.prototype.remixComposite=function(e,t,n,i,r,o){var a={compositeId:i};r&&(a.creatorTool=r);var s={href:e};return t&&(s.authorization=t),this._invokeOperation("remix",s,{href:n},a,function(e,t,n){o(e)})},r.prototype.createCompositeDirectory=function(e,t,n){function i(e,t,n){var i={"Content-Type":"application/vnd.adobe.directory+json","X-Update":"content"};t&&(i[p]="*"),r._service.invoke("PUT",o,i,void 0,void 0,function(e,t){return e?n(s("Error Creating composite directory",e,t)):409===t.statusCode?(e=new a(a.ALREADY_EXISTS,e),e.response=t,n(e)):void n(void 0,t)})}var r=this,o=this._resolveUrl(e.href);return o?void i(e,t,function(a,c){if(a)return n(a);var d=c.statusCode;if(200===d||201===d)n(void 0,c);else if(404===d){var p=u.parentDirectory(o);r._service.invoke("PUT",p,{},void 0,void 0,function(r,o){if(r)return n(s("Error creating composite directory",r,o));var a=o.statusCode;200===a||201===a||409===a?i(e,t,function(e,t){if(e)return n(e);var i=t.statusCode;200===i||201===i?n(void 0,t):n(s("Error creating composite directory",e,t))}):n(l("Unexpected response creating composite directory",r,o))})}else n(l("Unexpected response creating composite directory",a,c))}):n(new a(a.WRONG_ENDPOINT,"Wrong endpoint: "+o))},r.prototype.deleteCompositeDirectory=function(e,t){var n=this,i=this._resolveUrl(e.href);if(!i)return t(new a(a.WRONG_ENDPOINT,"Wrong endpoint: "+i));var r={"If-Match":"*"};i+="?recursive=true&invocation_mode=sync,async";var o=this._service.invoke("DELETE",i,r,void 0,void 0,function(e,i){if(e)return t(s("Error deleting composite directory",e,i));var r=i.statusCode;return 200===r||204===r||404===r?t(void 0,i):202===r?n._handle202Response(i,o,n.SYNC_ASYNC_DEFAULT_DELAY,t):void t(l("Unexpected response deleting composite directory",e,i))})},r.prototype.archiveCompositeDirectory=function(e,t){var n=this,i=this._makeRelativeUrl(e.href);if(!i)return t(new a(a.WRONG_ENDPOINT,"Wrong endpoint: "+e.href));var r={"Content-Type":"application/vnd.adobe.directory+json",Link:"<"+i+">;rel=self"},o=this._resolveUrl("/archive/"+e.id)+"?invocation_mode=sync,async",c=this._service.invoke("PUT",o,r,void 0,void 0,function(e,i){if(e)return t(s("Error archiving composite directory",e,i));var r=i.statusCode;return 200===r||204===r||404===r?t(void 0,i):202===r?n._handle202Response(i,c,n.SYNC_ASYNC_DEFAULT_DELAY,t):void t(l("Unexpected response archiving composite directory",e,i))})},r.prototype.leaveSharedComposite=function(e,t){if(e.collaborationType!==c.COLLABORATION.SHARED_WITH_USER)throw new a(a.INVALID_STATE,"Composite's collaboration type must be sharedWithUser.");return this.deleteCompositeDirectory(e,t)},r.prototype.uploadComponent=function(e,t,n,i,r,o){if(!e._owner||!e._owner.compositeHref)throw new a(a.INVALID_STATE,"Component must be part of a branch of a bound composite.");return this.uploadAssetForComponentId(e.id,e.type,e._owner.compositeHref,t,n,i,r,o)},r.prototype.uploadAssetForComponentId=function(e,t,n,i,r,o,c,u){function d(e,t){e?delete g[p]:g[p]="*";var n=h._service.invoke("PUT",f,g,c,void 0,function(e,n){if(e)return t(s("Error uploading component",e,n));var i=n.statusCode;if(200===i||201===i||204===i){var r;try{r=JSON.parse(n.responseText||n.response)}catch(i){return e=new a(a.INVALID_DATA,"Invalid JSON returned by server",i),e.response=n,t(e,n,r)}t(void 0,n,r)}else 507===i?(e=new a(a.EXCEEDS_QUOTA,"Exceeds quota",e),e.response=n,t(e)):(e=l("Unexpected response uploading component",e),e.response=n,t(e))});return n.token=o,n}var h=this,f=this._constructComponentHref(n,e);r&&(f+="?intermediates=false");var g={};t&&(g["Content-Type"]=t);var m=d(i,function(e,t,n){if(e){if(t=e.response,!t)return u(e);var r=t.statusCode;return void(404===r||409===r||412===r?d(!i,u):u(e))}u(void 0,t,n)});return m},r.prototype.copyAssetToComponentId=function(e,t,n,i,r,o,c,u){function d(e,t,n){e?delete m[p]:m[p]="*";var i=f._service.invoke("PUT",g,m,void 0,{responseType:"text"},function(e,r){if(e)return n(s("Error uploading component",e,r));var o=r.statusCode;200===o||201===o||204===o?n(void 0,r,t):202===o?f._handle202Response(r,i,f.SYNC_ASYNC_DEFAULT_DELAY,function(e,i){n(e,i,t)}):n(l("Unexpected response copying a component asset",e,r),r,t)});return i.token=o,i}var h=this._makeRelativeUrl(c);if(!h)return u(new a(a.WRONG_ENDPOINT,"Cannot copy asset: "+c));var f=this,g=this._constructComponentHref(n,e);g+="?invocation_mode=sync,async",r&&(g+="&intermediates=false");var m={};t&&(m["Content-Type"]=t),m.Link="<"+h+">;rel=source";var v=function(e,t,n){var r;if(e){if(t=e.response,!t)return u(e);var o=t.statusCode;return void(n||404!==o&&409!==o&&412!==o?507===o?(e=new a(a.EXCEEDS_QUOTA,"Exceeds quota",e),e.response=t,u(e)):u(e):d(!i,!0,v))}try{r=JSON.parse(t.responseText||t.response)}catch(n){return e=new a(a.INVALID_DATA,"Invalid JSON returned by server",n),e.response=t,u(e)}u(void 0,t,r)},_=d(i,!0,v);return _},r.prototype.updateManifest=function(e,t,n,i){var r=this.getBranchManifestHref(e),o={"Content-Type":f},c=e.manifestEtag;n?o["If-Match"]="*":c&&(o["If-Match"]=c);var u=this._service.invoke("PUT",r,o,t,void 0,function(e,t){if(e)return i(s("Error updating manifest",e,t));var n=t.statusCode;!t.headers.etag||200!==n&&201!==n&&204!==n?412===n?(e=new a(a.UPDATE_CONFLICT,"Manifest has been changed"),e.response=t,i(e)):i(l("Unexpected response updating manifest",e,t)):i(void 0,t)});return u},r.prototype.getHrefForComposite=function(e,t){var n=e.type;if(!n)throw new a(a.INVALID_STATE,"Composite needs a type");if(!e.id)throw new a(a.INVALID_STATE,"Composite needs an id");if(e.href)return e.href;var i=this._resolveUrl(d("assets",t,e.id));return i},r.prototype.getHrefForCompositeWithId=function(e,t){var n=this._resolveUrl(d("assets",t,e));return n},r.prototype.getCompositeManifestHref=function(e){var t=this._resolveUrl(e.href);if(!t)throw new a(a.WRONG_ENDPOINT,"Wrong endpoint: "+t);return d(t,"manifest")},r.prototype.getBranchManifestHref=function(e){var t=this._resolveUrl(e.compositeHref);if(!t)throw new a(a.WRONG_ENDPOINT,"Wrong endpoint: "+t);return d(t,"manifest")},r.prototype.getComponentHref=function(e,t){var n=e._owner;if(!n||!n.compositeHref)throw new a(a.INVALID_STATE,"Component must be part of a branch of a bound composite.");var i;return n._core&&(i=n._core._getSourceHrefOfComponent(e)),i||this._constructComponentHref(n.compositeHref,e.id,t)},r.prototype.getComponentRenditionHref=function(e,t,n){var i=e._owner;if(!i||!i.compositeHref)throw new a(a.INVALID_STATE,"Component must be part of a branch of a bound composite.");if(i._core&&i._core._getSourceHrefOfComponent(e))throw new a(a.INVALID_STATE,"Getting a rendition of a source href not implemented.");return this._constructComponentRenditionHref(i.compositeHref,e,t,n)},r.prototype._constructComponentHref=function(e,t,n){var i=d(this._resolveUrl(e),t);return i&&"undefined"!=typeof n&&(i+=";version="+n),i},r.prototype._invokeOperation=function(e,t,n,i,r){var o=this,c=this._resolveUrl("/ops");c+="?invocation_mode=sync,async";var d={"Content-Type":"application/vnd.adobe.asset-operation+json"},p={op:e,id:u.generateUuid(),target:n,source:t};i&&(p.value=i),u.log("[invoke operation]: "+JSON.stringify(p,void 0,2));var h=function(e,t){var n;if(e){if(t=e.response,!t)return r(e);var i=t.statusCode;return void(507===i?(e=new a(a.EXCEEDS_QUOTA,"Exceeds quota",e),e.response=t,r(e)):r(e))}try{n=JSON.parse(t.responseText||t.response)}catch(n){return e=new a(a.INVALID_DATA,"Invalid JSON returned by server",n),e.response=t,r(e)}return n.error?(e=new a(a.UNEXPECTED_RESPONSE,"Error in operation result: "+JSON.stringify(n.error,void 0,2)),e.response=t,r(e)):void r(void 0,t,n)},f=o._service.invoke("POST",c,d,JSON.stringify(p),{responseType:"text"},function(t,n){if(t)return h(s("Error invoking operation "+e,t,n));var i=n.statusCode;200===i||201===i||204===i?h(void 0,n):202===i?o._handle202Response(n,f,o.SYNC_ASYNC_DEFAULT_DELAY,function(e,t){h(e,t)}):h(l("Unexpected response for operation "+e,t,n),n)});return f},r.prototype._constructComponentRenditionHref=function(e,t,n,i){var r=d(this._constructComponentHref(e,t.id),":rendition");return r+=";size="+(i||"full"),void 0!==n&&(r+=";version="+n),r},r}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/components/dcx-js/src/AdobeCommunitySession",["require","exports","module","./AdobeSessionBase","./AdobeDCXError","./AdobeDCXUtil"],function(e,t,n){"use strict";function i(e,t){if(r.call(this,e,t),!this._endPoint)throw new o(o.INVALID_PARAMS,"Could not determine endpoint from: "+t);this.authenticationWhitelist=["adobe.com","adobe.io","fotolia.net"]}var r=e("./AdobeSessionBase"),o=e("./AdobeDCXError"),a=e("./AdobeDCXUtil"),s=a.appendPathElements;i.prototype=Object.create(r.prototype),i.prototype.name="AdobeCommunitySession",i.FileContent=r.FileContent,i.StreamProvider=r.StreamProvider,i.prototype.getCompositeManifestHref=function(e){var t=this._resolveUrl(e.href);if(!t)throw new o(o.WRONG_ENDPOINT,"Wrong endpoint: "+t);return s(t,"manifest")},i.prototype.getComponent=function(e,t,n){var i=this.getComponentHref(e,e.version);return this.getAsset(i,void 0,t,n)},i.prototype.getRenditionOfComponent=function(e,t,n,i,r,o){var a=this.getComponentRenditionHref(e,e.version,t,n,i);return this.getAsset(a,{accept:t},r,o)},i.prototype.getCompositeManifest=function(e,t,n){var i=e.href;return i&&(i=this._resolveUrl(i)),i?(i=s(i,"manifest"),this.getAssetAsType(i,"text",t,n)):n(new o(o.WRONG_ENDPOINT,"Wrong endpoint: "+i))},i.prototype.headRequest=function(e,t){return this._service.invoke("HEAD",e,{},void 0,void 0,function(e,n){return e?t(e):void t(e,n)})},i.prototype.getComponentHref=function(e,t){var n=e._owner;if(!n||!n.compositeHref)throw new o(o.INVALID_STATE,"Component must be part of a branch of a bound composite.");var i;return n._core&&(i=n._core._getSourceHrefOfComponent(e)),i||this._constructComponentHref(n.compositeHref,e,t)},i.prototype.getComponentRenditionHref=function(e,t,n,i,r){var a=e._owner;if(!a||!a.compositeHref)throw new o(o.INVALID_STATE,"Component must be part of a branch of a bound composite.");if(a._core&&a._core._getSourceHrefOfComponent(e))throw new o(o.INVALID_STATE,"Getting a rendition of a source href not implemented.");return this._constructComponentRenditionHref(a.compositeHref,e,t,n,i,r)},i.prototype._constructComponentHref=function(e,t,n){var i=t.absolutePath.slice(1),r=s(this._resolveUrl(e),i);return r&&"undefined"!=typeof n&&(r+=this._hrefUsesContentApis(e)?"/version/"+n:"?version="+n),r};var l="/content/2/",c=/^\/?content\/2\/[^\/]+\/[^\/]+/,u=/^\/?api\/v2\/[^\/]+\/assets\/[^\/]+/,d={"image/jpeg":"jpg","image/png":"png"};return i.prototype._constructComponentRenditionHref=function(e,t,n,i,r,s){var p,h,f=t.absolutePath.slice(1),g=a.parseURI(e).path;if(g.slice(0,l.length)===l){var m=d[i];if(!m)throw new o(o.INVALID_PARAMS,"Unsupported rendition media type: "+i);if(p=c.exec(g),!(p&&p.length>0))throw new o(o.INVALID_PARAMS,"Failed to parse composite href: "+e);h=this._resolveUrl(a.appendPathElements(p[0],"rendition",f,"version",n,"format",m,"dimension",r,"size",String(s)))}else{if(p=u.exec(g),!(p&&p.length>0))throw new o(o.INVALID_PARAMS,"Failed to parse composite href: "+e);h=this._resolveUrl(a.appendPathElements(p[0],"rendition",r,String(s),f)+"?version="+n)}return h},i.prototype._hrefUsesContentApis=function(e){var t=a.parseURI(e).path;return t.slice(0,l.length)===l},i}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/components/dcx-js/src/AdobeDCXCompositeXfer",["require","exports","module","./AdobeDCXComposite","./AdobeDCXComponent","./AdobeDCXBranch","./AdobeDCXError","./AdobeDCXPushJournal","./AdobeSessionBase","./AdobeDCXUtil","./AdobeDCXFS"],function(e,t,n){"use strict";function i(e,t,n){return h.wrapError(h.UNEXPECTED_RESPONSE,e,t,n)}function r(e,t,n){this._session=e,this._callback=t,this._cleanup=n,this._componentsPending=0,this.bytesTransfered=0,this.bytesTotal=0,this.onProgress=m.noOp;var i=this;this._reportProgress=function(e){if(e>0){i.bytesTransfered+=e;var t=i.onProgress;t&&t(i.bytesTransfered,i.bytesTotal)}}}function o(e,t,n,r,o){function a(e){e||(t.compositeHasBeenCreated=!0);var n,i=t._compositeCreationCallbacks,r=i.length;for(n=0;n<r;n++)try{i[n](e)}catch(e){}t._compositeCreationCallbacks=void 0}e.isBound||t.compositeHasBeenCreated?o():t._compositeCreationCallbacks?t._compositeCreationCallbacks.push(o):(t._compositeCreationCallbacks=[o],r.createCompositeDirectory(e,n,function(t,o){if(t){if(t.code!==h.ALREADY_EXISTS)return a(i("Unexpected response creating a composite directory",t,o));if(n)a();else{var s=r.getCompositeManifestHref(e);r.headRequest(s,function(e,t){return e?a(e):404!==t.statusCode?(e=new h(h.INVALID_STATE,"Composite already exists and overwriteExisting not specified"),a(e)):void a()})}}else a()}))}function a(e,t,n,i,r){if("number"!=typeof t)throw new h(h.UNEXPECTED_RESPONSE,"No length");var o=i.headers.etag,a=i.headers["x-latest-version"],s=r.md5;if(!o)throw new h(h.UNEXPECTED_RESPONSE,"No etag");if(!a)throw new h(h.UNEXPECTED_RESPONSE,"No version");if(!s)throw new h(h.UNEXPECTED_RESPONSE,"No md5");return new d._UploadRecord(e,o,a,s,t,n)}function s(e,t,n,i){var r=i.headers.etag,o=i.headers["x-latest-version"],a=t.md5,s=t.size;if("number"!=typeof s)throw new h(h.UNEXPECTED_RESPONSE,"No length");if(!r)throw new h(h.UNEXPECTED_RESPONSE,"No etag");if(!o)throw new h(h.UNEXPECTED_RESPONSE,"No version");if(!a)throw new h(h.UNEXPECTED_RESPONSE,"No md5");return new d._UploadRecord(e,r,o,a,s,n)}var l,c,u=e("./AdobeDCXComposite"),d=e("./AdobeDCXComponent"),p=e("./AdobeDCXBranch"),h=e("./AdobeDCXError"),f=e("./AdobeDCXPushJournal"),g=e("./AdobeSessionBase"),m=e("./AdobeDCXUtil"),v=e("./AdobeDCXFS"),_=g.FileContent,y=d.STATES,E="all",b="min",T="none";return r.prototype._callCallback=function(e,t){var n=this._callback;n&&(this._callback=void 0,n(e,t))},r.prototype._xferComplete=function(e,t){var n=this._cleanup;n?(this._cleanup=void 0,n(e,t)):this._callCallback(e,t)},r.prototype.abort=function(e){this._aborted||(this._aborted=!0,this._session._service.abortAllWithToken(this)),e||(this._callback=void 0,e=new Error("Aborted")),this._xferComplete(e)},t.pullComposite=function(e,t,n){if(!e.hasLocalStorage)throw new h(h.INVALID_PARAMS,"No local storage. Use AdobeDCXCompositeXfer.pullCompositeManifestOnly() to pull down the composite without local storage.");return this._pullComposite(e,t,E,n)},t.pullMinimumComposite=function(e,t,n){if(!e.hasLocalStorage)throw new h(h.INVALID_PARAMS,"No local storage. Use AdobeDCXCompositeXfer.pullCompositeManifestOnly() to pull down the composite without local storage.");return this._pullComposite(e,t,b,n)},t.pullCompositeManifestOnly=function(e,t,n){return this._pullComposite(e,t,T,n)},t.downloadComponents=function(e,n,i,o){function a(e){return e._owner?a(e._owner):e}var s=a(n),l=new r(i,o);return l._referenceBranch=s,t._pullComponents(l,s,e||n.allComponents()),l},t.pushComposite=function(e,n,i,o){var a,s=e._localStorage,l=function(t,n){if(a._owner&&e.hasLocalStorage&&s.unregisterInMemoryBranchOrElement(a._owner),!e.hasLocalStorage){var i=a._journal;e._pushJournal=i.isEmpty?void 0:i}a._callCallback(t,n)};a=new r(i,o,l),a._composite=e,a._overwriteExisting=n;var c=!e.isBound;if(a._compositeIsNew=c,e.hasLocalStorage)e._loadBranch(s.currentManifestPath(),!1,function(n,i){return n?a._xferComplete(n):(a._owner=i,e._localStorage.registerInMemoryBranchOrElement(i),void f.readJournal(s.pushJournalPath(),e,!0,function(n,i){return n?a._xferComplete(n):(a._journal=i,void t._pushComposite(e,a))}))});else{var u=e.href;if(!u)return a._xferComplete(new h(h.INVALID_STATE,"New composite has no href"));a._owner=e.current.copy(),a._journal=e._pushJournal||new f(e),t._pushComposite(e,a)}return a},t.remixComposite=function(e,t,n,i,o,a,s){var l=m.parseURI(n).path;if(!l||!i||l.split("/").pop()!==i)throw new h(h.INVALID_PARAMS,"Invalid combination of params targetHref ("+n+") and compositeId ("+i+")");var c=new r(a,s),u=a.remixComposite(e,t,n,i,o,function(e){c._xferComplete(e,e?void 0:n)});return u.token=c,c},t.uploadNewComponent=function(e,t,n,i,r,o){if(n._localStorage)throw new h(h.INVALID_PARAMS,"For in-browser use only. Use composite.current.addComponent() to add a new component asset");return l(i||m.generateUuid(),t,!0,n.collaborationType===u.COLLABORATION.SHARED_WITH_USER,e,n.id,n.href,r,o)},t.uploadComponent=function(e,t,n,i,r){if(n._localStorage)throw new h(h.INVALID_PARAMS,"For in-browser use only. Use composite.current.updateComponent() to update a component asset");return l(e.id,e.type,!1,n.collaborationType===u.COLLABORATION.SHARED_WITH_USER,t,n.id,n.href,i,r)},t.copyAssetForNewComponent=function(e,t,n,i,r,o){if(n._localStorage)throw new h(h.INVALID_PARAMS,"For in-browser use only. Use composite.current.addComponent() to add a new component asset");return c(i||m.generateUuid(),t,!0,n.collaborationType===u.COLLABORATION.SHARED_WITH_USER,e,n.id,n.href,r,o)},t.getURLForComponent=function(e,t){if(e._owner._localStorage)throw new h(h.INVALID_PARAMS,"For in-browser use only.");return t.getComponentHref(e,e.version)},t._pullComposite=function(e,n,i,o){function a(t,n){if(t){var i=t.pulledBranch;return void(i?(i.compositeState=y.unmodified,i.hasLocalStorage?v.writeFileAtomically(e._localStorage.pulledManifestPath(),t.pulledBranch.localData,"utf8",function(e){s._callCallback(t)}):s._callCallback(t)):s._callCallback(t))}if(null===n)return s._callCallback(void 0,null);if(n.compositeState=y.unmodified,n.readOnly=!0,n.hasLocalStorage){var r=e._localStorage.pulledManifestPath();v.writeFileAtomically(r,n.localData,"utf8",function(e){return e?s._callCallback(e):(n.manifestPath=r,n._isDirty=!1,void s._callCallback(void 0,n))})}else e._options.xhrBaseBranchSupport&&(e._pulledBranchData=n.localData),s._callCallback(void 0,n)}if("string"!=typeof e.href)throw new h(h.INVALID_STATE,"Composite must have an href");var s,l=function(r,o){if(r)return s._xferComplete(r);var a;o?(a=o.manifestEtag,s._referenceBranch=o):e.current&&(a=e.current.manifestEtag,s._referenceBranch=e.current);var l=n.getCompositeManifest(e,a,function(n,r,a){if(n)return n.response&&404===n.response.statusCode?s._xferComplete(new h(h.NO_COMPOSITE,"Composite missing or deleted",n.underlyingError||n)):s._xferComplete(n);
if(null===r&&!o)return s._xferComplete(void 0,null);var l;if(null!==r)try{if(l=(new p).parse(r),l._localStorage=e._localStorage,l.compositeHref=e.href,l._collaborationType=e.collaborationType,l._clientDataString=e.clientDataString,l.manifestEtag=a,l.compositeState===y.committedDelete||l.compositeState===y.pendingDelete)return void s._session.deleteCompositeDirectory(e,function(e){return e?s._xferComplete(new h(h.DELETED_COMPOSITE,"Error deleting composite directory",e)):s._xferComplete(new h(h.DELETED_COMPOSITE,"Composite is deleted"))});s._referenceBranch&&l.hasLocalStorage&&l._updateLocalDataFromBranch(s._referenceBranch)}catch(e){return s._xferComplete(new h(h.INVALID_JSON,"Corrupted manifest",e))}else l=o;var c,u,d=l.allComponents();for(c=0;c<d.length;++c)u=d[c],u.state===y.pendingDelete||u.state===y.committedDelete?l.removeComponent(u):u.state=y.unmodified;d=void 0,i===E?d=l.allComponents():i===b&&(u=l.getComponentWithAbsolutePath("/META-INF/metadata.xml"),u&&(d=[u])),d?t._pullComponents(s,l,d):s._xferComplete(void 0,l)});l&&(l.token=s,l.progress=s._reportProgress)};return s=new r(n,o,a),s._composite=e,e.hasLocalStorage?e.loadPulledBranch(l):l(),s},t._pullComponents=function(e,n,i){function r(t,r){if(e._componentsPending-=1,t&&(e.failedComponents=e.failedComponents||[],e.failedComponents.push({component:r,error:t})),0===e._componentsPending&&!e._aborted){var o=e.failedComponents;if(o){t=new h(h.COMPONENT_DOWNLOAD_ERROR,"Failed to download all components");var a,s=o.length;for(a=0;a<s;a++){var l=o[a].error;if(l.code===h.OUT_OF_SPACE){t=new h(l.code,l.message);break}}t.pulledBranch=n,t.failedComponents=o}n.readOnly&&n.manifestPath&&(!o||i.length>o.length)?v.writeFileAtomically(n.manifestPath,n.localData,"utf8",function(i){t=t||i,e._xferComplete(t,t?void 0:n)}):e._xferComplete(t,t?void 0:n)}}function o(n){if(!e._aborted){e.bytesTotal+=n.length||0;var i=n._owner._localStorage,o=i.tempPathForComponent(n),a=m.parentDirectory(o);v.ensureDirectoryExists(a,function(i){if(i)return e.abort(i);var a=t._pullComponent(n,o,l,r);a.progress=e._reportProgress,a.token=e})}}function a(e){n.assetOfComponent(e,function(t,n){"string"!=typeof n?o(e):r(void 0,e)})}if(!n.hasLocalStorage)throw new h(h.INVALID_PARAMS,"No local storage.");var s,l=e._session;for(e._componentsPending=i.length,s=0;s<i.length;++s){var c,u=i[s];if(e._referenceBranch){var d=e._referenceBranch.getComponentWithId(u.id);d&&(c=d.etag)}u.etag!==c?o(u):a(u)}0===e._componentsPending&&e._xferComplete(void 0,n)},t._pullComponent=function(e,t,n,r){var o=e._owner;if(!e._owner.hasLocalStorage)throw new h(h.INVALID_PARAMS,"No local storage. Use AdobeDCXCompositeXfer.pullCompositeManifestOnly() to pull down the composite without local storage.");var a=n.getComponent(e,new _(t),function(n,a){if(n)r(n,e);else if(200===a.statusCode){var s=Number(a.headers["content-length"]);void 0===e.length||null===e.length||isNaN(s)||s===e.length?o._localStorage.ingestComponentAsset(e,t,!1,o._local(),function(t){r(t,e,a.headers.etag)}):r(new h(h.UNEXPECTED_RESPONSE,"Incorrect content length",n,a))}else 304===a.statusCode?r(void 0,e,a.headers.etag):r(i("Unexpected response getting a component",n,a),e)});return a},t._pushComposite=function(e,n){function i(t,i){m?p.archiveCompositeDirectory(e,function(r,o){return r?i(r):(t.compositeArchivalState="archived",n._journal.compositeHasBeenArchived=!0,void n._journal.commitChanges(function(n){return n?i(n):void(e.hasLocalStorage?v.writeFileAtomically(e._localStorage.pushedManifestPath(),t.localData,"utf8",function(e){return e?i(e):void i(void 0,t)}):i(void 0,t))}))}):i(void 0,t)}function r(t){if(c)return n._xferComplete(t);var i=p.getCompositeManifestHref(e);p.headRequest(i,function(e,i){return e?n._xferComplete(e):404===i.statusCode?(t=new h(h.NO_COMPOSITE,"Composite does not exist; may have been deleted"),n._xferComplete(t)):n._xferComplete(t)})}var a=e.href;if(!a)return n._xferComplete(new h(h.INVALID_STATE,"New composite has no href"));var s=n._owner,l=n._journal,c=n._compositeIsNew,d=n._overwriteExisting,p=n._session,f=s.changeCount,g=s.remoteData.length+50;if(n.bytesTotal=g,s.compositeState===y.committedDelete)return n._xferComplete(new h(h.DELETED_COMPOSITE,"Attempt to push a deleted composite"));if("archived"===s.compositeArchivalState)return n._xferComplete(new h(h.DELETED_COMPOSITE,"Attempt to push an archived composite"));var m="pending"===s.compositeArchivalState;return m&&e.collaborationType===u.COLLABORATION.SHARED_WITH_USER?n._xferComplete(new h(h.INVALID_STATE,"Attempt to archive composite that is shared with this user.")):c||m||s.compositeState!==y.unmodified?s.compositeState===y.pendingDelete?c&&!d?n._xferComplete(new h(h.DELETED_COMPOSITE,"Attempt to delete unbound composite")):e.collaborationType===u.COLLABORATION.SHARED_WITH_USER?n._xferComplete(new h(h.INVALID_STATE,"Attempt to delete composite that is shared with this user.")):t._deleteComposite(n,d,function(e,t){n._xferComplete(e,t)}):void o(e,l,d,p,function(o){return o?n._xferComplete(o):void t._pushComponents(n,s,function(){var t=n.failedComponents;if(t){o=new h(h.COMPONENT_UPLOAD_ERROR,"One or more components failed to upload.");var a,c=t.length;for(a=0;a<c;a++){var u=t[a].error;if(u.code===h.EXCEEDS_QUOTA){o=new h(u.code,u.message);break}}return o.failedComponents=t,r(o)}if(s.compositeState===y.modified){s.compositeState=y.unmodified,l.manifestEtag&&l.currentBranchEtag===s.manifestEtag&&(s.manifestEtag=l.manifestEtag);var m=s.remoteData;n.bytesTotal+=m.length,n.bytesTotal-=g;var _=p.updateManifest(s,m,d,function(t,o){if(t)return r(t);var a=o.headers.etag;l.manifestEtag=a,l.currentBranchEtag=s.manifestEtag,l.changeCount=f,l.commitChanges(function(t){return t?n._xferComplete(t):(l.applyToBranch(s),s.compositeState=y.unmodified,void(e.hasLocalStorage?v.writeFileAtomically(e._localStorage.pushedManifestPath(),s.localData,"utf8",function(e){return e?n._xferComplete(e):(s._isDirty=!1,void i(s,function(e,t){n._xferComplete(e,t)}))}):(e._options.xhrBaseBranchSupport&&(e._pushedBranchData=s.localData),i(s,function(e,t){n._xferComplete(e,t)}))))})});_&&(_.progress=n._reportProgress,_.token=n)}else i(s,function(e,t){n._xferComplete(e,t)})})}):n._xferComplete()},t._deleteComposite=function(e,t,n){var i=e._composite,r=e._owner,o=e._session;r.compositeState=y.committedDelete;var a=r.remoteData;e.bytesTotal=a.length,e._journal.manifestEtag&&e._journal.currentBranchEtag===r.manifestEtag&&(r.manifestEtag=e._journal.manifestEtag),o.updateManifest(r,a,t,function(t,a){return t?n(t):void o.deleteCompositeDirectory(i,function(t,o){return t?n(t):(e._journal.compositeHasBeenDeleted=!0,void e._journal.commitChanges(function(e){return e?n(e):void(i.hasLocalStorage?v.writeFileAtomically(i._localStorage.pushedManifestPath(),r.localData,"utf8",function(e){return e?n(e):void n(void 0,r)}):n(void 0,r))}))})})},t._pushComponents=function(e,t,n){function i(t,i,r){i?d[t.id]=i:delete d[t.id],r&&(e.failedComponents=e.failedComponents||[],e.failedComponents.push({component:t,error:r})),0===Object.keys(d).length&&p.commitChanges(n)}function r(t,n,r){i(t,"uploading"),v.info(n,function(o,a){if(o)return o=new h(h.INVALID_STATE,"Component asset missing",o),void i(t,null,o);var s=a.size,c=m.filePathComponents(n).fileName,d=p.getRecordForUploadedComponent(t.id);if(d&&d.length===s&&d["storage-name"]===c)return t.etag=d.etag,t.version=d.version,t.md5=d.md5,t.length=d.length,t.state=y.unmodified,void i(t,null);e.bytesTotal+=s;var f=e._session.uploadComponent(t,r,l.collaborationType===u.COLLABORATION.SHARED_WITH_USER,e,new _(n),function(e,n,r){if(!e){var o=n.headers.etag,a=n.headers["x-latest-version"],l=r.md5;o||(e=new h(h.UNEXPECTED_RESPONSE,"No etag")),a||(e=new h(h.UNEXPECTED_RESPONSE,"No version")),l||(e=new h(h.UNEXPECTED_RESPONSE,"No md5")),e||(t.etag=o,t.version=a,t.md5=l,t.length=s,t.state=y.unmodified,p.recordUploadedComponent(t.id,o,a,l,s,c),p.commitChanges())}i(t,null,e)});f&&(f.progress=e._reportProgress,f.token=e)})}function o(n,o,a){var s=p.getRecordForUploadedComponent(n.id);if(s&&s["source-href"]===o)return n.etag=s.etag,n.version=s.version,n.md5=s.md5,n.length=s.length,void(n.state=y.unmodified);i(n,"copying");var d=e._session.copyAssetToComponentId(n.id,n.type,e._composite.href,a,l.collaborationType===u.COLLABORATION.SHARED_WITH_USER,e,o,function(e,s,l){if(e){if(c){var u=c.componentAssetPath(n,t._local());if(u)return r(n,u,a)}}else{var d=s.headers.etag,f=s.headers["x-latest-version"],g=l.md5,m=l.size;d||(e=new h(h.UNEXPECTED_RESPONSE,"No etag")),f||(e=new h(h.UNEXPECTED_RESPONSE,"No version")),g||(e=new h(h.UNEXPECTED_RESPONSE,"No md5")),m||(e=new h(h.UNEXPECTED_RESPONSE,"No length")),e||(n.etag=d,n.version=f,n.md5=g,n.length=m,n.state=y.unmodified,p.recordUploadedComponent(n.id,d,f,g,m,void 0,o),p.commitChanges())}i(n,null,e)});d&&(d.progress=e._reportProgress,d.token=e)}var a,s=t.allComponents(),l=e._composite,c=l._localStorage,d={},p=e._journal;for(a=0;a<s.length;++a){var f=s[a],g=f.state,E=f.etag,b=!E;if(g||(g=y.unmodified),b||g===y.modified){var T=t._core._getSourceHrefOfComponent(f);if(t.hasLocalStorage||T){var S=b||e._compositeIsNew;T?o(f,T,S):r(f,c.componentAssetPath(f,t._local()),S)}else{var L=new h(h.INVALID_STATE,"Component should not be modified or new without local storage");e.failedComponents=e.failedComponents||[],e.failedComponents.push({component:f,error:L})}}else g===y.unmodified?p.removeRecordForUploadedComponent(f.id):g!==y.committedDelete&&g!==y.pendingDelete||t.removeComponent(f)}0===Object.keys(d).length&&n()},l=function(e,t,n,i,o,s,l,c,u){if("function"!=typeof u)throw new h(h.INVALID_PARAMS,'Param "callback" must be a function.');var p=o.length||o.byteLength||o.size,f=new r(c,u);f.bytesTotal=p;var g=c.uploadAssetForComponentId(e,t,l,n,i,f,o,function(n,i,r){var o;if(!n)try{o=new d._UploadResults(s),p=p||g.bytesSent,o.records[e]=a(e,p,t,i,r)}catch(e){n=e,o=void 0}f._xferComplete(n,o)});return g&&(g.progress=f._reportProgress,g.token=f),f},c=function(e,t,n,i,o,a,l,c,u){if("function"!=typeof u)throw new h(h.INVALID_PARAMS,'Param "callback" must be a function.');var p=new r(c,u),f=c.copyAssetToComponentId(e,t,l,n,i,p,o,function(n,i,r){if(!p._aborted){var o;if(!n)try{o=new d._UploadResults(a),o.records[e]=s(e,r,t,i)}catch(e){n=e,o=void 0}u(n,o)}});return f&&(f.progress=p._reportProgress,f.token=p),p},t}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/components/dcx-js/src/AdobeDCX",["require","exports","module","./AdobeDCXComposite","./AdobeDCXLocalStorage","./AdobeNetworkHTTPService","./AdobeStorageSession","./AdobeCommunitySession","./AdobeDCXCompositeXfer","./AdobeDCXUtil","./AdobeDCXError","./AdobeDCXFS"],function(e,t,n){"use strict";function i(e,t){e&&d._setFS(e),this._compositeOptions=c.merge({},t),t&&t.logCallback&&c._setLogCallback(t.logCallback)}var r=e("./AdobeDCXComposite"),o=(e("./AdobeDCXLocalStorage"),e("./AdobeNetworkHTTPService")),a=e("./AdobeStorageSession"),s=e("./AdobeCommunitySession"),l=e("./AdobeDCXCompositeXfer"),c=e("./AdobeDCXUtil"),u=e("./AdobeDCXError"),d=e("./AdobeDCXFS");return i.COLLABORATION={PRIVATE:r.COLLABORATION.PRIVATE,SHARED_BY_USER:r.COLLABORATION.SHARED_BY_USER,SHARED_WITH_USER:r.COLLABORATION.SHARED_WITH_USER},i.AdobeDCXError=u,i.FileContent=o.FileContent,i.StreamProvider=o.StreamProvider,i.prototype.newEmptyComposite=function(e,t,n,i){var o=new r(e,t,null,i,null,this._compositeOptions);return n&&(o.path=n),o},i.prototype.newCompositeFromLocalStorage=function(e,t){try{if("string"!=typeof e)throw new u(u.INVALID_PARAMS,"");var n=new r(null,null,e,null,null,this._compositeOptions);n.loadCurrentFromLocalStorage(function(e,i){t(e,e?void 0:n)}),n.deleteTempFiles()}catch(e){t(e)}},i.prototype.newCompositeWithHref=function(e,t,n,i,o){var a=new r(n,o,null,i,e,this._compositeOptions);return t&&(a.path=t),a},i.prototype.newCompositeAsCopyOf=function(e,t,n,i,o,a){return r.newCompositeAsCopyOf(e,t,n,i,o,a,this._compositeOptions)},i.prototype.createHTTPService=function(e){return new o(e)},i.prototype.createStorageSession=function(e,t){return new a(e,t)},i.prototype.createCommunitySession=function(e,t){return new s(e,t)},i.prototype.compositeXfer=l,i}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/AdobeLibraryServices",["require","exports","module","./components/uuid/uuid","./components/dcx-js/src/AdobeDCX"],function(e,t,n){"use strict";function i(){var e=typeof nodeRequire;"undefined"!==e&&(this.fs=nodeRequire("fs"),this.path=nodeRequire("path")),this._initDCX()}var r=e("./components/uuid/uuid"),o=e("./components/dcx-js/src/AdobeDCX");return i.prototype._initDCX=function(){var e=this;this.dcx=new o(this.fs,{preserveFileExtensions:!0,logCallback:function(t){e._log&&e._log("DCX: "+t)}})},i.prototype.uuid=function(){return r()},i.prototype.log=function(e){this._log&&this._log("CC Libraries: "+e)},i.prototype.getDisplayName=function(e){return this._getDisplayName?this._getDisplayName(e):e.name},i.prototype.hasFileSystem=function(){return void 0!==this.fs},i.prototype.setFileSystem=function(e){this.fs=e,this._initDCX()},i.prototype.getVulcanInterface=function(){var e=typeof VulcanInterface;if("undefined"!==e)return VulcanInterface},i.prototype.getVulcanMessage=function(){var e=typeof VulcanMessage;if("undefined"!==e)return VulcanMessage},i.prototype.hasCEPVulcan=function(){return void 0!==this.getVulcanInterface()&&void 0!==this.getVulcanMessage()},i.prototype.getNodeTunnelOptions=function(e){return this._getNodeTunnelOptions?this._getNodeTunnelOptions(e):{}},i.prototype.getPathSeparator=function(){return"/"},i.prototype.getFileNameFromPath=function(e){return e.indexOf("/")===-1&&e.indexOf("\\")!==-1&&(e=e.replace(/\\/g,"/")),e.split("/").pop()},Object.freeze(i),Object.seal(i.prototype),new i}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/AdobeLibraryError",["require","exports","module"],function(e,t,n){"use strict";function i(e,t,n,r){if(Error.call(this),Error.captureStackTrace)Error.captureStackTrace(this,i);else{var o=new Error;o.name=this.name,this.stack=o.stack}this.code=e,this._message=t,this.message="["+e+"] "+t,this.libraryId=n,this.underlyingError=r}return i.prototype=Object.create(Error.prototype),i.prototype.name="AdobeLibraryError",i.INVALID_PARAMETER="INVALID_PARAMETER",i.READ_ONLY="READ_ONLY",i.NOT_IMPLEMENTED="NOT_IMPLEMENTED",i.NOT_SUPPORTED="NOT_SUPPORTED",i.REQUIRES_FILESYSTEM="REQUIRES_FILESYSTEM",i.DELETED_LOCALLY="DELETED_LOCALLY",i.NOT_ALLOWED="NOT_ALLOWED",i.FILE_TOO_LARGE="FILE_TOO_LARGE",i.EXCEEDS_MAX_LIBRARY_SIZE="EXCEEDS_MAX_LIBRARY_SIZE",i.CORRUPTED_LIBRARY="CORRUPTED_LIBRARY",i.THUMBNAIL_NOT_AVAILABLE="THUMBNAIL_NOT_AVAILABLE",i.RENDITION_NOT_AVAILABLE="RENDITION_NOT_AVAILABLE",i.FS_ERROR="FS_ERROR",i.OUT_OF_SPACE="OUT_OF_SPACE",i.LOGGED_OUT="LOGGED_OUT",i.EXCEEDS_QUOTA="EXCEEDS_QUOTA",i.RETRYABLE_SERVER_ERROR="RETRYABLE_SERVER_ERROR",i.TRANSFER_ERROR="TRANSFER_ERROR",i.TRANSFER_ABORTED="TRANSFER_ABORTED",i.NETWORK_ERROR="NETWORK_ERROR",i.ACCESS_DENIED="ACCESS_DENIED",i.URL_VALIDATION_FAILED="URL_VALIDATION_FAILED",i.NO_COMPATIBLE_APP_FOUND="NO_COMPATIBLE_APP_FOUND",i.APP_LAUNCH_FAILED="APP_LAUNCH_FAILED",Object.freeze(i),Object.seal(i.prototype),i}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/AdobeLibraryConfig",["require","exports","module","./AdobeLibraryError"],function(e,t,n){"use strict";function i(){this.name="config"}var r=e("./AdobeLibraryError"),o=["ROOT_DIR","POLL_INTERVAL","RENDITION_SIZES","FULL_RENDITION_CONFIG","EXTERNAL_LINK_PREFETCH","LOCALE","STORAGE_API_KEY","USER_AGENT_HEADER","SYNC_POLICY","ELEMENT_TYPE_FILTERS","AUTO_START_POLLING","SHARED_LOCAL_STORAGE","SHARED_LOCAL_STORAGE_ANALYTICS","WHITELISTED_DOMAINS","CLIENT_DESCRIPTION","DEVICE_ID","DEVICE_DESCRIPTION","APP_DESCRIPTION"];return i.prototype.VERSION=1,i.prototype.MAX_ELEMENTS=1e3,i.prototype.MAX_REMOVED_ELEMENTS=1e3,i.prototype.MAX_COMPONENT_SIZE=1073741824,i.prototype.VALID_RELATIONS=["rendition","primary","alternate"],i.prototype.VALID_LIBRARY_RENDITION_TYPES=["banner","cover"],i.prototype.VALID_SYNC_POLICIES=["manifestAndAssets","manifestOnly"],i.prototype.ELEMENT_TYPE_FILTERS=[],i.prototype.DL_NAMESPACE="library",i.prototype.DL_PREFIX=i.prototype.DL_NAMESPACE+"#",i.prototype.VERSION_KEY=i.prototype.DL_PREFIX+"version",i.prototype.RELATIONSHIP_KEY=i.prototype.DL_PREFIX+"rel",i.prototype.WIDTH_KEY=i.prototype.DL_PREFIX+"width",i.prototype.HEIGHT_KEY=i.prototype.DL_PREFIX+"height",i.prototype.LENGTH_KEY=i.prototype.DL_PREFIX+"length",i.prototype.IS_FULL_SIZE_KEY=i.prototype.DL_PREFIX+"isFullSize",i.prototype.IS_PREFERRED_THUMBNAIL_KEY=i.prototype.DL_PREFIX+"isPreferredThumbnail",i.prototype.MODIFIED_KEY=i.prototype.DL_PREFIX+"modified",i.prototype.CREATED_KEY=i.prototype.DL_PREFIX+"created",i.prototype.REMOVED_KEY=i.prototype.DL_PREFIX+"removed",i.prototype.MODIFIED_DATA_KEY=i.prototype.DL_PREFIX+"modifiedData",i.prototype.CREATED_DATA_KEY=i.prototype.DL_PREFIX+"createdData",i.prototype.REMOVED_DATA_KEY=i.prototype.DL_PREFIX+"removedData",i.prototype.ANIMATION_ELEMENT_TYPE="application/vnd.adobe.element.animation+dcx",i.prototype.BRUSH_ELEMENT_TYPE="application/vnd.adobe.element.brush+dcx",i.prototype.COLOR_ELEMENT_TYPE="application/vnd.adobe.element.color+dcx",i.prototype.IMAGE_ELEMENT_TYPE="application/vnd.adobe.element.image+dcx",i.prototype.LAYER_STYLE_ELEMENT_TYPE="application/vnd.adobe.element.layerstyle+dcx",i.prototype.REPRESENTATION_CONTENT_VALUES={"application/vnd.adobe.color+json":{namespace:"color",key:"data"},"application/vnd.adobe.text+json":{namespace:"text",key:"data",contentFromData:!0}},i.prototype.LINK_TYPE_KEY=i.prototype.DL_PREFIX+"linktype",i.prototype.LINK_URL_KEY=i.prototype.DL_PREFIX+"linkurl",i.prototype.REPRESENTATION_ORDER_KEY=i.prototype.DL_PREFIX+"representationOrder",i.prototype.RENDITION_TYPE_KEY=i.prototype.DL_PREFIX+"renditiontype",i.prototype.COMPOSITE_TYPE="application/vnd.adobe.library+dcx",i.prototype.LINK_REPRESENTATION_TYPE="application/vnd.adobe.library.link+dcx",i.prototype.ELEMENTS_NAME="elements",i.prototype.REMOVED_ELEMENTS_NAME="removed_elements",i.prototype.DATA_COLLABORATION_ROLE="collaborationRole",i.prototype.ANALYTICS_ELEMENT_UPDATE_THRESHOLD=500,i.prototype.BOOKMARKS_FILENAME="bookmarks.json",i.prototype.BOOKMARKS_PATH="/bookmarks",i.prototype.BOOKMARKS_MONITOR_PATH="/sync/adobe-libraries/"+i.prototype.BOOKMARKS_FILENAME,i.prototype.PUBLIC_USER_ID="public",i.prototype.DEFAULT_CLOUD_ID="creative_cloud",i.prototype.DEFAULT_CORESYNC_CLOUD_ID="00000000-0000-0000-0000-000000000000",i.prototype.STORAGE_ASSETS_PATH="/assets/",i.prototype.LIBRARY_SYNC_GROUP="adobe-libraries",i.prototype.CP_CLOUD_ID="community-platform",i.prototype.CP_STORAGE_ASSETS_PATH="/content/2/",i.prototype.STORAGE_API_KEY="",i.prototype.USER_AGENT_HEADER=void 0,i.prototype.SYNCING_ENABLED=!0,i.prototype.VULCAN_QUERY_TIMEOUT=8e3,i.prototype.DEFAULT_MAX_SYNC_INTERVAL=1e4,i.prototype.RETRY_FAIL_MAX_SYNC_INTERVAL=6e4,i.prototype.MAX_SYNC_INTERVAL=i.prototype.DEFAULT_MAX_SYNC_INTERVAL,i.prototype.POLL_INTERVAL=1,i.prototype.AUTO_START_POLLING=!1,i.prototype.RENDITION_SIZES={},i.prototype.FULL_RENDITION_CONFIG={},i.prototype.BACKOFF_INTERVALS=[1,1,2,3,5,8,13,21,34,55],i.prototype.ERROR_RETRY_INTERVALS=[30,60,120],i.prototype.NETWORK_TIMEOUT=6e5,i.prototype.RETRY_RANDOM_SECONDS=30,i.prototype.RENDITION_MAX_RETRIES=2,i.prototype.DEFAULT_RENDITION_RETRY_INTERVAL=1e3,i.prototype.RENDITION_RETRY_INTERVAL=i.prototype.DEFAULT_RENDITION_RETRY_INTERVAL,i.prototype.DEFAULT_RENDITION_404_BACKOFF=3e5,i.prototype.RENDITION_404_BACKOFF=i.prototype.DEFAULT_RENDITION_404_BACKOFF,i.prototype.LOCAL_RENDITION_MAX_RETRIES=5,i.prototype.LOCAL_RENDITION_RETRY_INTERVAL=200,i.prototype.MAX_UPDATE_CONFLICTS=5,i.prototype.MAX_REDIRECT_FOLLOW=5,i.prototype.MAX_HEAD_REDIRECT_FOLLOW=0,i.prototype.WHITELISTED_DOMAINS=[],i.prototype.ADOBE_AUTHENTICATED_DOMAINS=["adobe.com","adobe.io","adobestock.com","fotolia.net"],i.prototype.SYNC_POLICY="manifestAndAssets",i.prototype.REMOVED_ELEMENTS_CACHE_TIMEOUT=6e5,i.prototype.RENDITION_CACHE_FILE="cache.json",i.prototype.RENDITION_CACHE_PLACEHOLDER="<placeholder>",i.prototype.SHARED_LOCAL_STORAGE=!0,i.prototype.SHARED_LOCAL_STORAGE_VERSION=10,i.prototype.SHARED_LOCAL_STORAGE_MIN_CLIENT_VERSION=5,i.prototype.SHARED_LOCAL_STORAGE_MAX_CLIENT_VERSION=10,i.prototype.VULCAN_PREFIX="vulcan.SuiteMessage.",i.prototype.VULCAN_STARTUP_MESSAGE="cclibraries.service.Initialized",i.prototype.VULCAN_SHUTDOWN_REQUEST="cclibraries.service.TerminateServiceRequest",i.prototype.VULCAN_QUERY_REQUEST="cclibraries.service.QueryRequest",i.prototype.VULCAN_QUERY_RESPONSE="cclibraries.service.QueryResponse",i.prototype.VULCAN_LIBRARY_CHANGED_LOCAL_TYPE="cclibraries.service.LibraryChangedLocal",i.prototype.VULCAN_LIBRARY_CHANGED_REMOTE_TYPE="cclibraries.service.LibraryChangedRemote",i.prototype.VULCAN_LIBRARY_DELETED_TYPE="cclibraries.service.LibraryDeleted",i.prototype.VULCAN_COLLECTIONS_LOADED_TYPE="cclibraries.service.LibrariesLoaded",i.prototype.VULCAN_COLLECTIONS_UNLOADED_TYPE="cclibraries.service.LibrariesUnloaded",i.prototype.VULCAN_PROXY_QUERY_REQUEST="cclibraries.service.QueryProxySettingsRequest",i.prototype.VULCAN_PROXY_QUERY_RESPONSE="cclibraries.service.QueryProxySettingsResponse",i.prototype.VULCAN_PROXY_CHANGE_MESSAGE="cclibraries.service.ProxySettingsChanged",i.prototype.VULCAN_APP_READY_MESSAGE="cclibraries.accessor.AppReady",i.prototype.VULCAN_APP_SEND_ACTION_MESSAGE="cclibraries.accessor.EditElementRequest",i.prototype.VULCAN_APP_ACTION_ACCEPTED_MESSAGE="cclibraries.accessor.EditAcceptedMessage",i.prototype.ELEMENT_ACTIONS=["edit","openStock"],i.prototype.ELEMENT_ACTION_PRODUCT_MAP={types:{"application/vnd.adobe.element.image+dcx":{"application/illustrator":["ILST_EDIT","ILST_PLACE","IDSN_PLACE"],"image/svg+xml":["ILST_EDIT","ILST_PLACE"],"application/vnd.adobe.indesign-idms":["IDSN_EDIT","IDSN_PLACE"],"image/vnd.adobe.photoshop":["PHXS_EDIT","PHXS_PLACE","IDSN_PLACE"],"application/photoshop":["PHXS_EDIT","PHXS_PLACE","IDSN_PLACE"],"application/photoshop.large":["PHXS_EDIT","PHXS_PLACE","IDSN_PLACE"],"image/png":["PHXS_EDIT","PHXS_PLACE","ILST_PLACE","IDSN_PLACE","PPRO_PLACE","AEFT_PLACE"],"image/jpeg":["PHXS_EDIT","PHXS_PLACE","ILST_PLACE","IDSN_PLACE","PPRO_PLACE","AEFT_PLACE"],"image/jpg":["PHXS_EDIT","PHXS_PLACE","IDSN_PLACE","ILST_PLACE","PPRO_PLACE","AEFT_PLACE"],"image/gif":["PHXS_EDIT","PHXS_PLACE","ILST_PLACE","IDSN_PLACE","PPRO_PLACE","AEFT_PLACE"],"image/bmp":["PHXS_EDIT","PHXS_PLACE","ILST_PLACE","IDSN_PLACE","PPRO_PLACE","AEFT_PLACE"],"image/x-portable-bitmap":["PHXS_EDIT","PHXS_PLACE"],"image/x-pict":["PHXS_EDIT","PHXS_PLACE"],"image/x-pcx":["PHXS_EDIT","PHXS_PLACE"],"image/x-portable-graymap":["PHXS_EDIT","PHXS_PLACE"],"image/x-portable-anymap":["PHXS_EDIT","PHXS_PLACE"],"image/x-portable-pixmap":["PHXS_EDIT","PHXS_PLACE"],"image/x-tga":["PHXS_EDIT","PHXS_PLACE"],"image/tiff":["PHXS_EDIT","PHXS_PLACE"],"image/vnd.wap.wbmp":["PHXS_EDIT","PHXS_PLACE"]},"application/vnd.adobe.element.text+dcx":{"application/illustrator-text":["ILST_EDIT_TEXT"],"application/vnd.adobe.indesign-idms-text":["IDSN_EDIT_TEXT"]},"application/vnd.adobe.element.template+dcx":{"image/vnd.adobe.photoshop.template":["PHXS_PLACE"],"application/illustrator.template":["ILST_PLACE"],"application/vnd.adobe.indesign.template":["IDSN_PLACE"]},"application/vnd.adobe.element.3d+dcx":{"application/vnd.adobe.obj.3d+zip":["ESHR_PLACE"]},"application/vnd.adobe.element.material+dcx":{"application/vnd.adobe.mdl.material+zip":["ESHR_PLACE"]},"application/vnd.adobe.element.light+dcx":{"application/vnd.adobe.ibl.light+zip":["ESHR_PLACE"]},"application/vnd.adobe.element.animation+dcx":{"application/vnd.adobe.animate-xfl+zip":["FLPR_EDIT"],"application/vnd.adobe.animate-sym+zip":["FLPR_EDIT"]}},products:{ILST_EDIT:{minVersion:"19.2",appCode:"ILST",appName:"Illustrator",action:"edit"},ILST_EDIT_TEXT:{minVersion:"22",appCode:"ILST",appName:"Illustrator",action:"edit"},IDSN_EDIT:{minVersion:"11.2",appCode:"IDSN",appName:"InDesign",action:"edit"},IDSN_EDIT_TEXT:{minVersion:"13",appCode:"IDSN",appName:"InDesign",action:"edit"},PHXS_EDIT:{minVersion:"16.1.2",appCode:"PHXS",appName:"Photoshop",action:"edit"},FLPR_EDIT:{minVersion:"16.1",appCode:"FLPR",appName:"Flash",action:"edit"},PHXS_PLACE:{minVersion:"17.0.0",appCode:"PHXS",appName:"Photoshop",action:"openStock"},ILST_PLACE:{minVersion:"20.0.0",appCode:"ILST",appName:"Illustrator",action:"openStock"},IDSN_PLACE:{minVersion:"11.4.0",appCode:"IDSN",appName:"InDesign",action:"openStock"},PPRO_PLACE:{minVersion:"10.3.0",appCode:"PPRO",appName:"Premiere Pro",action:"openStock"},AEFT_PLACE:{minVersion:"13.8.0",appCode:"AEFT",appName:"After Effects",action:"openStock"},ESHR_PLACE:{minVersion:"0.1",appCode:"ESHR",appName:"Project Felix",action:"openStock"}},installedApps:[]},i.prototype.STOCK_NAMESPACE="adobestock",i.prototype.STOCK_DATA_KEY="trackingdata",i.prototype.STOCK_STATE_PURCHASED="purchased",i.prototype.setParameter=function(e,t){if(o.indexOf(e)===-1)throw new r(r.INVALID_PARAMETER,"Parameter not configurable");if("SYNC_POLICY"===e&&this.VALID_SYNC_POLICIES.indexOf(t)===-1)throw new r(r.INVALID_PARAMETER,"Invalid value for SYNC_POLICY");"POLL_INTERVAL"===e&&(t=Math.max(1,t)),this[e]=t},Object.freeze(i),Object.seal(i.prototype),new i}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/utils/AdobeLibraryLock",["require","exports","module"],function(e,t,n){"use strict";function i(){this._isLocked=!1,this._pendingContinuations=[]}return i.prototype.obtain=function(e,t){this._isLocked?this._pendingContinuations.push({continuation:e,thisObject:t}):(this._isLocked=!0,e.apply(t,[null]))},i.prototype.release=function(){if(this._pendingContinuations.length>0){var e=this._pendingContinuations.shift();setTimeout(function(){e.continuation.apply(e.thisObject,[null])})}else this._isLocked=!1},i.prototype.abortPendingOperations=function(e){var t=this._pendingContinuations;this._pendingContinuations=[],t.forEach(function(t){t.continuation.apply(t.thisObject,[e])})},i.prototype.isLocked=function(){return this._isLocked},i.prototype.hasPendingRequest=function(){return this._pendingContinuations.length>0},Object.freeze(i),Object.seal(i.prototype),i}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/utils/AdobeLibraryMimeTypeUtils",["require","exports","module"],function(e,t,n){"use strict";function i(e){var t=e.match(/application\/x-adobe-libraries-(.+)/);return t?[t[1]]:[]}function r(e){return["application/x-adobe-libraries-"+e]}var o={},a={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomsvc+xml":["atomsvc"],"application/ccxml+xml":["ccxml"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["ecma"],"application/emma+xml":["emma"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/font-tdpfr":["pfr"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/hyperstudio":["stk"],"application/illustrator":["ai"],"application/illustrator-text":["ai"],"application/illustrator.template":["ait"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/java-archive":["jar"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js"],"application/json":["json"],"application/jsonml+json":["jsonml"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/photoshop":["psd"],"application/photoshop.large":["psb"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/prs.cww":["cww"],"application/pskc+xml":["pskcxml"],"application/rdf+xml":["rdf"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/vnd.3gpp.pic-bw-large":["plb"],"application/vnd.3gpp.pic-bw-small":["psb"],"application/vnd.3gpp.pic-bw-var":["pvb"],"application/vnd.3gpp2.tcap":["tcap"],"application/vnd.3m.post-it-notes":["pwn"],"application/vnd.accpac.simply.aso":["aso"],"application/vnd.accpac.simply.imp":["imp"],"application/vnd.acucobol":["acu"],"application/vnd.acucorp":["atc","acutc"],"application/vnd.adobe.air-application-installer-package+zip":["air"],"application/vnd.adobe.animate-xfl+zip":["fla","xfl"],"application/vnd.adobe.animate-oam+zip":["oam"],"application/vnd.adobe.animate-sym+zip":["sym"],"application/vnd.adobe.animate-swf+zip":["swa"],"application/vnd.adobe.characterstyle+json":["style"],"application/vnd.adobe.characterstyle+snippet":["idms"],"application/vnd.adobe.charts+zip":["zip"],"application/vnd.adobe.ch.puppet+zip":["puppet"],"application/vnd.adobe.color+json":["ase"],"application/vnd.adobe.colortheme+json":["ase"],"application/vnd.adobe.cube+txt":["cube"],"application/vnd.adobe.formscentral.fcdt":["fcdt"],"application/vnd.adobe.fxp":["fxp","fxpl"],"application/vnd.adobe.ibl.light+zip":["zip"],"application/vnd.adobe.indesign-idms":["idms"],"application/vnd.adobe.indesign-idms-text":["idms"],"application/vnd.adobe.indesign.template":["indt"],"application/vnd.adobe.layerstyle":["asl"],"application/vnd.adobe.look+xml":["look"],"application/vnd.adobe.ppro.graphic+zip":["prgraphic"],"application/vnd.adobe.ae.graphic+zip":["aegraphic"],
"application/vnd.adobe.graphic+json":["json"],"application/vnd.adobe.mdl.material+zip":["zip"],"application/vnd.adobe.muse-collection":["muse"],"application/vnd.adobe.obj.3d+zip":["zip"],"application/vnd.adobe.paragraphstyle+json":["style"],"application/vnd.adobe.paragraphstyle+snippet":["idms"],"application/vnd.adobe.ribbon.brush+zip":["brush"],"application/vnd.adobe.scatter.brush+zip":["brush"],"application/vnd.adobe.vector.brush+zip":["brush"],"application/vnd.adobe.text+json":["text-json"],"application/vnd.adobe.xdp+xml":["xdp"],"application/vnd.adobe.xfdf":["xfdf"],"application/vnd.ahead.space":["ahead"],"application/vnd.airzip.filesecure.azf":["azf"],"application/vnd.airzip.filesecure.azs":["azs"],"application/vnd.amazon.ebook":["azw"],"application/vnd.americandynamics.acc":["acc"],"application/vnd.amiga.ami":["ami"],"application/vnd.android.package-archive":["apk"],"application/vnd.anser-web-certificate-issue-initiation":["cii"],"application/vnd.anser-web-funds-transfer-initiation":["fti"],"application/vnd.antix.game-component":["atx"],"application/vnd.apple.installer+xml":["mpkg"],"application/vnd.apple.mpegurl":["m3u8"],"application/vnd.aristanetworks.swi":["swi"],"application/vnd.astraea-software.iota":["iota"],"application/vnd.audiograph":["aep"],"application/vnd.blueice.multipass":["mpm"],"application/vnd.bmi":["bmi"],"application/vnd.businessobjects":["rep"],"application/vnd.chemdraw+xml":["cdxml"],"application/vnd.chipnuts.karaoke-mmd":["mmd"],"application/vnd.cinderella":["cdy"],"application/vnd.claymore":["cla"],"application/vnd.cloanto.rp9":["rp9"],"application/vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"application/vnd.cluetrust.cartomobile-config":["c11amc"],"application/vnd.cluetrust.cartomobile-config-pkg":["c11amz"],"application/vnd.commonspace":["csp"],"application/vnd.contact.cmsg":["cdbcmsg"],"application/vnd.cosmocaller":["cmc"],"application/vnd.crick.clicker":["clkx"],"application/vnd.crick.clicker.keyboard":["clkk"],"application/vnd.crick.clicker.palette":["clkp"],"application/vnd.crick.clicker.template":["clkt"],"application/vnd.crick.clicker.wordbank":["clkw"],"application/vnd.criticaltools.wbs+xml":["wbs"],"application/vnd.ctc-posml":["pml"],"application/vnd.cups-ppd":["ppd"],"application/vnd.curl.car":["car"],"application/vnd.curl.pcurl":["pcurl"],"application/vnd.dart":["dart"],"application/vnd.data-vision.rdz":["rdz"],"application/vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"application/vnd.dece.ttml+xml":["uvt","uvvt"],"application/vnd.dece.unspecified":["uvx","uvvx"],"application/vnd.dece.zip":["uvz","uvvz"],"application/vnd.denovo.fcselayout-link":["fe_launch"],"application/vnd.dna":["dna"],"application/vnd.dolby.mlp":["mlp"],"application/vnd.dpgraph":["dpg"],"application/vnd.dreamfactory":["dfac"],"application/vnd.ds-keypoint":["kpxx"],"application/vnd.dvb.ait":["ait"],"application/vnd.dvb.service":["svc"],"application/vnd.dynageo":["geo"],"application/vnd.ecowin.chart":["mag"],"application/vnd.enliven":["nml"],"application/vnd.epson.esf":["esf"],"application/vnd.epson.msf":["msf"],"application/vnd.epson.quickanime":["qam"],"application/vnd.epson.salt":["slt"],"application/vnd.epson.ssf":["ssf"],"application/vnd.eszigno3+xml":["es3","et3"],"application/vnd.ezpix-album":["ez2"],"application/vnd.ezpix-package":["ez3"],"application/vnd.fdf":["fdf"],"application/vnd.fdsn.mseed":["mseed"],"application/vnd.fdsn.seed":["seed","dataless"],"application/vnd.flographit":["gph"],"application/vnd.fluxtime.clip":["ftc"],"application/vnd.framemaker":["fm","frame","maker","book"],"application/vnd.frogans.fnc":["fnc"],"application/vnd.frogans.ltf":["ltf"],"application/vnd.fsc.weblaunch":["fsc"],"application/vnd.fujitsu.oasys":["oas"],"application/vnd.fujitsu.oasys2":["oa2"],"application/vnd.fujitsu.oasys3":["oa3"],"application/vnd.fujitsu.oasysgp":["fg5"],"application/vnd.fujitsu.oasysprs":["bh2"],"application/vnd.fujixerox.ddd":["ddd"],"application/vnd.fujixerox.docuworks":["xdw"],"application/vnd.fujixerox.docuworks.binder":["xbd"],"application/vnd.fuzzysheet":["fzs"],"application/vnd.genomatix.tuxedo":["txd"],"application/vnd.geogebra.file":["ggb"],"application/vnd.geogebra.tool":["ggt"],"application/vnd.geometry-explorer":["gex","gre"],"application/vnd.geonext":["gxt"],"application/vnd.geoplan":["g2w"],"application/vnd.geospace":["g3w"],"application/vnd.gmx":["gmx"],"application/vnd.google-earth.kml+xml":["kml"],"application/vnd.google-earth.kmz":["kmz"],"application/vnd.grafeq":["gqf","gqs"],"application/vnd.groove-account":["gac"],"application/vnd.groove-help":["ghf"],"application/vnd.groove-identity-message":["gim"],"application/vnd.groove-injector":["grv"],"application/vnd.groove-tool-message":["gtm"],"application/vnd.groove-tool-template":["tpl"],"application/vnd.groove-vcard":["vcg"],"application/vnd.hal+xml":["hal"],"application/vnd.handheld-entertainment+xml":["zmm"],"application/vnd.hbci":["hbci"],"application/vnd.hhe.lesson-player":["les"],"application/vnd.hp-hpgl":["hpgl"],"application/vnd.hp-hpid":["hpid"],"application/vnd.hp-hps":["hps"],"application/vnd.hp-jlyt":["jlt"],"application/vnd.hp-pcl":["pcl"],"application/vnd.hp-pclxl":["pclxl"],"application/vnd.ibm.minipay":["mpy"],"application/vnd.ibm.modcap":["afp","listafp","list3820"],"application/vnd.ibm.rights-management":["irm"],"application/vnd.ibm.secure-container":["sc"],"application/vnd.iccprofile":["icc","icm"],"application/vnd.igloader":["igl"],"application/vnd.immervision-ivp":["ivp"],"application/vnd.immervision-ivu":["ivu"],"application/vnd.insors.igm":["igm"],"application/vnd.intercon.formnet":["xpw","xpx"],"application/vnd.intergeo":["i2g"],"application/vnd.intu.qbo":["qbo"],"application/vnd.intu.qfx":["qfx"],"application/vnd.ipunplugged.rcprofile":["rcprofile"],"application/vnd.irepository.package+xml":["irp"],"application/vnd.is-xpr":["xpr"],"application/vnd.isac.fcs":["fcs"],"application/vnd.jam":["jam"],"application/vnd.jcp.javame.midlet-rms":["rms"],"application/vnd.jisp":["jisp"],"application/vnd.joost.joda-archive":["joda"],"application/vnd.kahootz":["ktz","ktr"],"application/vnd.kde.karbon":["karbon"],"application/vnd.kde.kchart":["chrt"],"application/vnd.kde.kformula":["kfo"],"application/vnd.kde.kivio":["flw"],"application/vnd.kde.kontour":["kon"],"application/vnd.kde.kpresenter":["kpr","kpt"],"application/vnd.kde.kspread":["ksp"],"application/vnd.kde.kword":["kwd","kwt"],"application/vnd.kenameaapp":["htke"],"application/vnd.kidspiration":["kia"],"application/vnd.kinar":["kne","knp"],"application/vnd.koan":["skp","skd","skt","skm"],"application/vnd.kodak-descriptor":["sse"],"application/vnd.las.las+xml":["lasxml"],"application/vnd.llamagraphics.life-balance.desktop":["lbd"],"application/vnd.llamagraphics.life-balance.exchange+xml":["lbe"],"application/vnd.lotus-1-2-3":["123"],"application/vnd.lotus-approach":["apr"],"application/vnd.lotus-freelance":["pre"],"application/vnd.lotus-notes":["nsf"],"application/vnd.lotus-organizer":["org"],"application/vnd.lotus-screencam":["scm"],"application/vnd.lotus-wordpro":["lwp"],"application/vnd.macports.portpkg":["portpkg"],"application/vnd.mcd":["mcd"],"application/vnd.medcalcdata":["mc1"],"application/vnd.mediastation.cdkey":["cdkey"],"application/vnd.mfer":["mwf"],"application/vnd.mfmp":["mfm"],"application/vnd.micrografx.flo":["flo"],"application/vnd.micrografx.igx":["igx"],"application/vnd.mif":["mif"],"application/vnd.mobius.daf":["daf"],"application/vnd.mobius.dis":["dis"],"application/vnd.mobius.mbk":["mbk"],"application/vnd.mobius.mqy":["mqy"],"application/vnd.mobius.msl":["msl"],"application/vnd.mobius.plc":["plc"],"application/vnd.mobius.txf":["txf"],"application/vnd.mophun.application":["mpn"],"application/vnd.mophun.certificate":["mpc"],"application/vnd.mozilla.xul+xml":["xul"],"application/vnd.ms-artgalry":["cil"],"application/vnd.ms-cab-compressed":["cab"],"application/vnd.ms-excel":["xls","xlm","xla","xlc","xlt","xlw"],"application/vnd.ms-excel.addin.macroenabled.12":["xlam"],"application/vnd.ms-excel.sheet.binary.macroenabled.12":["xlsb"],"application/vnd.ms-excel.sheet.macroenabled.12":["xlsm"],"application/vnd.ms-excel.template.macroenabled.12":["xltm"],"application/vnd.ms-fontobject":["eot"],"application/vnd.ms-htmlhelp":["chm"],"application/vnd.ms-ims":["ims"],"application/vnd.ms-lrm":["lrm"],"application/vnd.ms-officetheme":["thmx"],"application/vnd.ms-pki.seccat":["cat"],"application/vnd.ms-pki.stl":["stl"],"application/vnd.ms-powerpoint":["ppt","pps","pot"],"application/vnd.ms-powerpoint.addin.macroenabled.12":["ppam"],"application/vnd.ms-powerpoint.presentation.macroenabled.12":["pptm"],"application/vnd.ms-powerpoint.slide.macroenabled.12":["sldm"],"application/vnd.ms-powerpoint.slideshow.macroenabled.12":["ppsm"],"application/vnd.ms-powerpoint.template.macroenabled.12":["potm"],"application/vnd.ms-project":["mpp","mpt"],"application/vnd.ms-word.document.macroenabled.12":["docm"],"application/vnd.ms-word.template.macroenabled.12":["dotm"],"application/vnd.ms-works":["wps","wks","wcm","wdb"],"application/vnd.ms-wpl":["wpl"],"application/vnd.ms-xpsdocument":["xps"],"application/vnd.mseq":["mseq"],"application/vnd.musician":["mus"],"application/vnd.muvee.style":["msty"],"application/vnd.mynfc":["taglet"],"application/vnd.neurolanguage.nlu":["nlu"],"application/vnd.nitf":["ntf","nitf"],"application/vnd.noblenet-directory":["nnd"],"application/vnd.noblenet-sealer":["nns"],"application/vnd.noblenet-web":["nnw"],"application/vnd.nokia.n-gage.data":["ngdat"],"application/vnd.nokia.radio-preset":["rpst"],"application/vnd.nokia.radio-presets":["rpss"],"application/vnd.novadigm.edm":["edm"],"application/vnd.novadigm.edx":["edx"],"application/vnd.novadigm.ext":["ext"],"application/vnd.oasis.opendocument.chart":["odc"],"application/vnd.oasis.opendocument.chart-template":["otc"],"application/vnd.oasis.opendocument.database":["odb"],"application/vnd.oasis.opendocument.formula":["odf"],"application/vnd.oasis.opendocument.formula-template":["odft"],"application/vnd.oasis.opendocument.graphics":["odg"],"application/vnd.oasis.opendocument.graphics-template":["otg"],"application/vnd.oasis.opendocument.image":["odi"],"application/vnd.oasis.opendocument.image-template":["oti"],"application/vnd.oasis.opendocument.presentation":["odp"],"application/vnd.oasis.opendocument.presentation-template":["otp"],"application/vnd.oasis.opendocument.spreadsheet":["ods"],"application/vnd.oasis.opendocument.spreadsheet-template":["ots"],"application/vnd.oasis.opendocument.text":["odt"],"application/vnd.oasis.opendocument.text-master":["odm"],"application/vnd.oasis.opendocument.text-template":["ott"],"application/vnd.oasis.opendocument.text-web":["oth"],"application/vnd.olpc-sugar":["xo"],"application/vnd.oma.dd2+xml":["dd2"],"application/vnd.openofficeorg.extension":["oxt"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/vnd.openxmlformats-officedocument.presentationml.slide":["sldx"],"application/vnd.openxmlformats-officedocument.presentationml.slideshow":["ppsx"],"application/vnd.openxmlformats-officedocument.presentationml.template":["potx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.template":["xltx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.template":["dotx"],"application/vnd.osgeo.mapguide.package":["mgp"],"application/vnd.osgi.dp":["dp"],"application/vnd.osgi.subsystem":["esa"],"application/vnd.palm":["pdb","pqa","oprc"],"application/vnd.pawaafile":["paw"],"application/vnd.pg.format":["str"],"application/vnd.pg.osasli":["ei6"],"application/vnd.picsel":["efif"],"application/vnd.pmi.widget":["wg"],"application/vnd.pocketlearn":["plf"],"application/vnd.powerbuilder6":["pbd"],"application/vnd.previewsystems.box":["box"],"application/vnd.proteus.magazine":["mgz"],"application/vnd.publishare-delta-tree":["qps"],"application/vnd.pvi.ptid1":["ptid"],"application/vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"application/vnd.realvnc.bed":["bed"],"application/vnd.recordare.musicxml":["mxl"],"application/vnd.recordare.musicxml+xml":["musicxml"],"application/vnd.rig.cryptonote":["cryptonote"],"application/vnd.rim.cod":["cod"],"application/vnd.rn-realmedia":["rm"],"application/vnd.rn-realmedia-vbr":["rmvb"],"application/vnd.route66.link66+xml":["link66"],"application/vnd.sailingtracker.track":["st"],"application/vnd.seemail":["see"],"application/vnd.sema":["sema"],"application/vnd.semd":["semd"],"application/vnd.semf":["semf"],"application/vnd.shana.informed.formdata":["ifm"],"application/vnd.shana.informed.formtemplate":["itp"],"application/vnd.shana.informed.interchange":["iif"],"application/vnd.shana.informed.package":["ipk"],"application/vnd.simtech-mindmapper":["twd","twds"],"application/vnd.smaf":["mmf"],"application/vnd.smart.teacher":["teacher"],"application/vnd.solent.sdkm+xml":["sdkm","sdkd"],"application/vnd.spotfire.dxp":["dxp"],"application/vnd.spotfire.sfs":["sfs"],"application/vnd.stardivision.calc":["sdc"],"application/vnd.stardivision.draw":["sda"],"application/vnd.stardivision.impress":["sdd"],"application/vnd.stardivision.math":["smf"],"application/vnd.stardivision.writer":["sdw","vor"],"application/vnd.stardivision.writer-global":["sgl"],"application/vnd.stepmania.package":["smzip"],"application/vnd.stepmania.stepchart":["sm"],"application/vnd.sun.xml.calc":["sxc"],"application/vnd.sun.xml.calc.template":["stc"],"application/vnd.sun.xml.draw":["sxd"],"application/vnd.sun.xml.draw.template":["std"],"application/vnd.sun.xml.impress":["sxi"],"application/vnd.sun.xml.impress.template":["sti"],"application/vnd.sun.xml.math":["sxm"],"application/vnd.sun.xml.writer":["sxw"],"application/vnd.sun.xml.writer.global":["sxg"],"application/vnd.sun.xml.writer.template":["stw"],"application/vnd.sus-calendar":["sus","susp"],"application/vnd.svd":["svd"],"application/vnd.symbian.install":["sis","sisx"],"application/vnd.syncml+xml":["xsm"],"application/vnd.syncml.dm+wbxml":["bdm"],"application/vnd.syncml.dm+xml":["xdm"],"application/vnd.tao.intent-module-archive":["tao"],"application/vnd.tcpdump.pcap":["pcap","cap","dmp"],"application/vnd.tmobile-livetv":["tmo"],"application/vnd.trid.tpt":["tpt"],"application/vnd.triscape.mxs":["mxs"],"application/vnd.trueapp":["tra"],"application/vnd.ufdl":["ufd","ufdl"],"application/vnd.uiq.theme":["utz"],"application/vnd.umajin":["umj"],"application/vnd.unity":["unityweb"],"application/vnd.uoml+xml":["uoml"],"application/vnd.vcx":["vcx"],"application/vnd.visio":["vsd","vst","vss","vsw"],"application/vnd.visionary":["vis"],"application/vnd.vsf":["vsf"],"application/vnd.wap.wbxml":["wbxml"],"application/vnd.wap.wmlc":["wmlc"],"application/vnd.wap.wmlscriptc":["wmlsc"],"application/vnd.webturbo":["wtb"],"application/vnd.wolfram.player":["nbp"],"application/vnd.wordperfect":["wpd"],"application/vnd.wqd":["wqd"],"application/vnd.wt.stf":["stf"],"application/vnd.xara":["xar"],"application/vnd.xfdl":["xfdl"],"application/vnd.yamaha.hv-dic":["hvd"],"application/vnd.yamaha.hv-script":["hvs"],"application/vnd.yamaha.hv-voice":["hvp"],"application/vnd.yamaha.openscoreformat":["osf"],"application/vnd.yamaha.openscoreformat.osfpvg+xml":["osfpvg"],"application/vnd.yamaha.smaf-audio":["saf"],"application/vnd.yamaha.smaf-phrase":["spf"],"application/vnd.yellowriver-custom-menu":["cmp"],"application/vnd.zul":["zir","zirz"],"application/vnd.zzazz.deck+xml":["zaz"],"application/voicexml+xml":["vxml"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/x-7z-compressed":["7z"],"application/x-abiword":["abw"],"application/x-ace-compressed":["ace"],"application/x-apple-diskimage":["dmg"],"application/x-authorware-bin":["aab","x32","u32","vox"],"application/x-authorware-map":["aam"],"application/x-authorware-seg":["aas"],"application/x-bcpio":["bcpio"],"application/x-bittorrent":["torrent"],"application/x-blorb":["blb","blorb"],"application/x-bzip":["bz"],"application/x-bzip2":["bz2","boz"],"application/x-cbr":["cbr","cba","cbt","cbz","cb7"],"application/x-cdlink":["vcd"],"application/x-cfs-compressed":["cfs"],"application/x-chat":["chat"],"application/x-chess-pgn":["pgn"],"application/x-conference":["nsc"],"application/x-cpio":["cpio"],"application/x-csh":["csh"],"application/x-debian-package":["deb","udeb"],"application/x-dgc-compressed":["dgc"],"application/x-director":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"],"application/x-doom":["wad"],"application/x-dtbncx+xml":["ncx"],"application/x-dtbook+xml":["dtb"],"application/x-dtbresource+xml":["res"],"application/x-dvi":["dvi"],"application/x-envoy":["evy"],"application/x-eva":["eva"],"application/x-font-bdf":["bdf"],"application/x-font-ghostscript":["gsf"],"application/x-font-linux-psf":["psf"],"application/x-font-otf":["otf"],"application/x-font-pcf":["pcf"],"application/x-font-snf":["snf"],"application/x-font-ttf":["ttf","ttc"],"application/x-font-type1":["pfa","pfb","pfm","afm"],"application/font-woff":["woff"],"application/x-freearc":["arc"],"application/x-futuresplash":["spl"],"application/x-gca-compressed":["gca"],"application/x-glulx":["ulx"],"application/x-gnumeric":["gnumeric"],"application/x-gramps-xml":["gramps"],"application/x-gtar":["gtar"],"application/x-hdf":["hdf"],"application/x-install-instructions":["install"],"application/x-iso9660-image":["iso"],"application/x-java-jnlp-file":["jnlp"],"application/x-latex":["latex"],"application/x-lzh-compressed":["lzh","lha"],"application/x-mie":["mie"],"application/x-mobipocket-ebook":["prc","mobi"],"application/x-ms-application":["application"],"application/x-ms-shortcut":["lnk"],"application/x-ms-wmd":["wmd"],"application/x-ms-wmz":["wmz"],"application/x-ms-xbap":["xbap"],"application/x-msaccess":["mdb"],"application/x-msbinder":["obd"],"application/x-mscardfile":["crd"],"application/x-msclip":["clp"],"application/x-msdownload":["exe","dll","com","bat","msi"],"application/x-msmediaview":["mvb","m13","m14"],"application/x-msmetafile":["wmf","wmz","emf","emz"],"application/x-msmoney":["mny"],"application/x-mspublisher":["pub"],"application/x-msschedule":["scd"],"application/x-msterminal":["trm"],"application/x-mswrite":["wri"],"application/x-netcdf":["nc","cdf"],"application/x-nzb":["nzb"],"application/x-pkcs12":["p12","pfx"],"application/x-pkcs7-certificates":["p7b","spc"],"application/x-pkcs7-certreqresp":["p7r"],"application/x-rar-compressed":["rar"],"application/x-research-info-systems":["ris"],"application/x-sh":["sh"],"application/x-shar":["shar"],"application/x-shockwave-flash":["swf"],"application/x-silverlight-app":["xap"],"application/x-sql":["sql"],"application/x-stuffit":["sit"],"application/x-stuffitx":["sitx"],"application/x-subrip":["srt"],"application/x-sv4cpio":["sv4cpio"],"application/x-sv4crc":["sv4crc"],"application/x-t3vm-image":["t3"],"application/x-tads":["gam"],"application/x-tar":["tar"],"application/x-tcl":["tcl"],"application/x-tex":["tex"],"application/x-tex-tfm":["tfm"],"application/x-texinfo":["texinfo","texi"],"application/x-tgif":["obj"],"application/x-ustar":["ustar"],"application/x-wais-source":["src"],"application/x-x509-ca-cert":["der","crt"],"application/x-xfig":["fig"],"application/x-xliff+xml":["xlf"],"application/x-xpinstall":["xpi"],"application/x-xz":["xz"],"application/x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"application/xaml+xml":["xaml"],"application/xcap-diff+xml":["xdf"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xml":["xml","xsl"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/adpcm":["adp"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mp4":["mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/vnd.dece.audio":["uva","uvva"],"audio/vnd.digital-winds":["eol"],"audio/vnd.dra":["dra"],"audio/vnd.dts":["dts"],"audio/vnd.dts.hd":["dtshd"],"audio/vnd.lucent.voice":["lvp"],"audio/vnd.ms-playready.media.pya":["pya"],"audio/vnd.nuera.ecelp4800":["ecelp4800"],"audio/vnd.nuera.ecelp7470":["ecelp7470"],"audio/vnd.nuera.ecelp9600":["ecelp9600"],"audio/vnd.rip":["rip"],"audio/webm":["weba"],"audio/x-aac":["aac"],"audio/x-aiff":["aif","aiff","aifc"],"audio/x-caf":["caf"],"audio/x-flac":["flac"],"audio/x-matroska":["mka"],"audio/x-mpegurl":["m3u"],"audio/x-ms-wax":["wax"],"audio/x-ms-wma":["wma"],"audio/x-pn-realaudio":["ram","ra"],"audio/x-pn-realaudio-plugin":["rmp"],"audio/x-wav":["wav"],"audio/xm":["xm"],"chemical/x-cdx":["cdx"],"chemical/x-cif":["cif"],"chemical/x-cmdf":["cmdf"],"chemical/x-cml":["cml"],"chemical/x-csml":["csml"],"chemical/x-xyz":["xyz"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dng":["dng"],"image/g3fax":["g3"],"image/gif":["gif"],"image/ief":["ief"],"image/jpeg":["jpeg","jpg","jpe"],"image/jpg":["jpg"],"image/ktx":["ktx"],"image/png":["png"],"image/prs.btif":["btif"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/tiff":["tiff","tif"],"image/vnd.adobe.photoshop":["psd"],"image/vnd.adobe.photoshop.template":["psdt"],"image/vnd.adobe.pattern+png":["png"],"image/vnd.adobe.shape+svg":["shape"],"image/vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"image/vnd.dvb.subtitle":["sub"],"image/vnd.djvu":["djvu","djv"],"image/vnd.dwg":["dwg"],"image/vnd.dxf":["dxf"],"image/vnd.fastbidsheet":["fbs"],"image/vnd.fpx":["fpx"],"image/vnd.fst":["fst"],"image/vnd.fujixerox.edmics-mmr":["mmr"],"image/vnd.fujixerox.edmics-rlc":["rlc"],"image/vnd.ms-modi":["mdi"],"image/vnd.ms-photo":["wdp"],"image/vnd.net-fpx":["npx"],"image/vnd.wap.wbmp":["wbmp"],"image/vnd.xiff":["xif"],"image/webp":["webp"],"image/x-3ds":["3ds"],"image/x-adobe-dng":["dng"],"image/x-adobe-photoshop-brush":["abr"],"image/x-cmu-raster":["ras"],"image/x-cmx":["cmx"],"image/x-freehand":["fh","fhc","fh4","fh5","fh7"],"image/x-icon":["ico"],"image/x-mrsid-image":["sid"],"image/x-pcx":["pcx"],"image/x-pict":["pic","pct"],"image/x-portable-anymap":["pnm"],"image/x-portable-bitmap":["pbm"],"image/x-portable-graymap":["pgm"],"image/x-portable-pixmap":["ppm"],"image/x-rgb":["rgb"],"image/x-tga":["tga"],"image/x-xbitmap":["xbm"],"image/x-xpixmap":["xpm"],"image/x-xwindowdump":["xwd"],"message/rfc822":["eml","mime"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/vnd.collada+xml":["dae"],"model/vnd.dwf":["dwf"],"model/vnd.gdl":["gdl"],"model/vnd.gtw":["gtw"],"model/vnd.mts":["mts"],"model/vnd.vtu":["vtu"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["x3db","x3dbz"],"model/x3d+vrml":["x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"text/cache-manifest":["appcache"],"text/calendar":["ics","ifb"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in"],"text/prs.lines.tag":["dsc"],"text/richtext":["rtx"],"text/sgml":["sgml","sgm"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vnd.curl":["curl"],"text/vnd.curl.dcurl":["dcurl"],"text/vnd.curl.scurl":["scurl"],"text/vnd.curl.mcurl":["mcurl"],"text/vnd.dvb.subtitle":["sub"],"text/vnd.fly":["fly"],"text/vnd.fmi.flexstor":["flx"],"text/vnd.graphviz":["gv"],"text/vnd.in3d.3dml":["3dml"],"text/vnd.in3d.spot":["spot"],"text/vnd.sun.j2me.app-descriptor":["jad"],"text/vnd.wap.wml":["wml"],"text/vnd.wap.wmlscript":["wmls"],"text/x-asm":["s","asm"],"text/x-c":["c","cc","cxx","cpp","h","hh","dic"],"text/x-fortran":["f","for","f77","f90"],"text/x-java-source":["java"],"text/x-opml":["opml"],"text/x-pascal":["p","pas"],"text/x-nfo":["nfo"],"text/x-setext":["etx"],"text/x-sfv":["sfv"],"text/x-uuencode":["uu"],"text/x-vcalendar":["vcs"],"text/x-vcard":["vcf"],"video/3gpp":["3gp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/jpeg":["jpgv"],"video/jpm":["jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/vnd.dece.hd":["uvh","uvvh"],"video/vnd.dece.mobile":["uvm","uvvm"],"video/vnd.dece.pd":["uvp","uvvp"],"video/vnd.dece.sd":["uvs","uvvs"],"video/vnd.dece.video":["uvv","uvvv"],"video/vnd.dvb.file":["dvb"],"video/vnd.fvt":["fvt"],"video/vnd.mpegurl":["mxu","m4u"],"video/vnd.ms-playready.media.pyv":["pyv"],"video/vnd.uvvu.mp4":["uvu","uvvu"],"video/vnd.vivo":["viv"],"video/webm":["webm"],"video/x-f4v":["f4v"],"video/x-fli":["fli"],"video/x-flv":["flv"],"video/x-m4v":["m4v"],"video/x-matroska":["mkv","mk3d","mks"],"video/x-mng":["mng"],"video/x-ms-asf":["asf","asx"],"video/x-ms-vob":["vob"],"video/x-ms-wm":["wm"],"video/x-ms-wmv":["wmv"],"video/x-ms-wmx":["wmx"],"video/x-ms-wvx":["wvx"],"video/x-msvideo":["avi"],"video/x-sgi-movie":["movie"],"video/x-smv":["smv"],"x-conference/x-cooltalk":["ice"]},s={};return Object.keys(a).forEach(function(e){var t=a[e];t.forEach(function(t){s[t]=s[t]||[],s[t].push(e)})}),o.getExtensions=function(e){return e?a[e.toLowerCase()]||i(e.toLowerCase()):[]},o.getMimeTypes=function(e){return e?s[e.toLowerCase()]||r(e.toLowerCase()):[]},Object.seal(o),o}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/utils/AdobeLibraryGeneralUtils",["require","exports","module"],function(e,t,n){"use strict";var i={};return i.wrapCallback=function(e){return function(){e&&e.apply(this,arguments)}},i.constructStringFromTemplate=function(e,t){var n=e;return Object.keys(t).forEach(function(e){n=n.replace("{{"+e+"}}",t[e])}),n},i.parseLocalisationFile=function(e){var t,n,i,r,o={},a=0,s=e.split(/\n/);for(a=0;a<s.length;a++)if(s[a]=s[a].replace(/^\s\s*/,"").replace(/\s\s*$/,""),s[a].length>0&&"#"!==s[a].match("^#")){for(t=s[a].split("="),n=t[0].replace(/^\s\s*/,"").replace(/\s\s*$/,""),i=1===t.length?"":t[1];i.match(/\\$/)&&"\\"===i.match(/\\$/).toString();)i=i.substring(0,i.length-1),i+=s[++a].replace(/\s\s*$/,"");for(r=2;r<t.length;r++)i+="="+t[r];i=i.replace(/^\s\s*/,"").replace(/\s\s*$/,""),o[n]=i}return o},i.compareVersions=function(e,t){if(e=(e||"0").toString().replace(/(\.0)*$/,"").replace(/[^\.0-9]+/gim,"."),t=(t||"0").toString().replace(/(\.0)*$/,"").replace(/[^\.0-9]+/gim,"."),(isNaN(parseInt(e,10))||parseInt(e,10)>250)&&(e="0"),(isNaN(parseInt(t,10))||parseInt(t,10)>250)&&(t="0"),e===t)return 0;var n,i,r=e.split("."),o=t.split(".");for(n=0;n<r.length&&n<o.length;n++){if(i=parseInt(r[n],10)-parseInt(o[n],10),isNaN(i))return isNaN(parseInt(r[n],10))?1:-1;if(i>0)return-1;if(i<0)return 1}return i=r.length-o.length,i>0?-1:i<0?1:0},Object.seal(i),i}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/third_party/text/text",["module"],function(e){"use strict";function t(e,t){return void 0===e||""===e?t:e}function n(e,n,i,r){if(n===r)return!0;if(e===i){if("http"===e)return t(n,"80")===t(r,"80");if("https"===e)return t(n,"443")===t(r,"443")}return!1}var i,r,o=["LIBS_OPEN_IN"],a=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],s=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,l=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,c="undefined"!=typeof location&&location.href,u=c&&location.protocol&&location.protocol.replace(/\:/,""),d=c&&location.hostname,p=c&&(location.port||void 0),h={},f=e.config&&e.config()||{};return i={version:"2.0.15",strip:function(e){if(e){e=e.replace(s,"");var t=e.match(l);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:f.createXhr||function(){var e,t,n;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(t=0;t<3;t+=1){n=a[t];try{e=new ActiveXObject(n)}catch(e){}if(e){a=[n];break}}return e},parseName:function(e){var t,n,i,r=!1,o=e.lastIndexOf("."),a=0===e.indexOf("./")||0===e.indexOf("../");return o!==-1&&(!a||o>1)?(t=e.substring(0,o),n=e.substring(o+1)):t=e,i=n||t,o=i.indexOf("!"),o!==-1&&(r="strip"===i.substring(o+1),i=i.substring(0,o),n?n=i:t=i),{moduleName:t,ext:n,strip:r}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,t,r,o){var a,s,l,c=i.xdRegExp.exec(e);return!c||(a=c[2],s=c[3],s=s.split(":"),l=s[1],s=s[0],(!a||a===t)&&(!s||s.toLowerCase()===r.toLowerCase())&&(!l&&!s||n(a,l,t,o)))},finishLoad:function(e,t,n,r){if(e.match(/.*messages.properties$/)){var a=[];n.split("\n").forEach(function(e){var t=o.every(function(t){return 0!==e.indexOf(t)});e.length>0&&t&&a.push(e)}),n=a.join("\n")}n=t?i.strip(n):n,f.isBuild&&(h[e]=n),r(n)},load:function(e,t,n,r){if(r&&r.isBuild&&!r.inlineText)return void n();f.isBuild=r&&r.isBuild;var o=i.parseName(e),a=o.moduleName+(o.ext?"."+o.ext:""),s=t.toUrl(a),l=f.useXhr||i.useXhr;return 0===s.indexOf("empty:")?void n():void(!c||l(s,u,d,p)?i.get(s,function(t){i.finishLoad(e,o.strip,t,n)},function(e){n.error&&n.error(e)}):t([a],function(e){i.finishLoad(o.moduleName+"."+o.ext,o.strip,e,n)}))},write:function(e,t,n,r){if(h.hasOwnProperty(t)){var o=i.jsEscape(h[t]);n.asModule(e+"!"+t,"define(function () { return '"+o+"';});\n")}},writeFile:function(e,t,n,r,o){var a=i.parseName(t),s=a.ext?"."+a.ext:"",l=a.moduleName+s,c=n.toUrl(a.moduleName+s)+".js";i.load(l,n,function(t){var n=function(e){return r(c,e)};n.asModule=function(e,t){return r.asModule(e,c,t)},i.write(e,l,n,o)},o)}},"node"===f.env||!f.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]&&!process.versions["atom-shell"]?(r=nodeRequire("fs"),i.get=function(e,t,n){try{var i=r.readFileSync(e,"utf8");"\ufeff"===i[0]&&(i=i.substring(1)),t(i)}catch(e){n&&n(e)}}):("xhr"===f.env||!f.env&&i.createXhr())&&(i.get=function(e,t,n,r){var o,a=i.createXhr();if(a.open("GET",e,!0),r)for(o in r)r.hasOwnProperty(o)&&a.setRequestHeader(o.toLowerCase(),r[o]);f.onXhr&&f.onXhr(a,e),a.onreadystatechange=function(i){var r,o;4===a.readyState&&(r=a.status||0,r>399&&r<600?(o=new Error(e+" HTTP status: "+r),o.xhr=a,n&&n(o)):t(a.responseText),f.onXhrComplete&&f.onXhrComplete(a,e))},a.send(null)}),i}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/third_party/text/text!angular-cc-libraries-api-js/components/cc-libraries-api-js/locale/cs_CZ/messages.properties",[],function(){return"LIBS_DEFAULT_LIBRARY_NAME=Moje knihovna\nLIBS_RECOVERED_LIBRARY={{name}} (obnoveno)"}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/third_party/text/text!angular-cc-libraries-api-js/components/cc-libraries-api-js/locale/da_DK/messages.properties",[],function(){return"LIBS_DEFAULT_LIBRARY_NAME=Mit bibliotek\nLIBS_RECOVERED_LIBRARY={{name}} (Gendannet)"}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/third_party/text/text!angular-cc-libraries-api-js/components/cc-libraries-api-js/locale/de_DE/messages.properties",[],function(){return"LIBS_DEFAULT_LIBRARY_NAME=Meine Bibliothek\nLIBS_RECOVERED_LIBRARY={{name}} (Wiederhergestellt)"}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/third_party/text/text!angular-cc-libraries-api-js/components/cc-libraries-api-js/locale/en_US/messages.properties",[],function(){return"LIBS_DEFAULT_LIBRARY_NAME=My Library\nLIBS_RECOVERED_LIBRARY={{name}} (Recovered)"}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/third_party/text/text!angular-cc-libraries-api-js/components/cc-libraries-api-js/locale/es_ES/messages.properties",[],function(){
return"LIBS_DEFAULT_LIBRARY_NAME=Mi biblioteca\nLIBS_RECOVERED_LIBRARY={{name}} (recuperado)"}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/third_party/text/text!angular-cc-libraries-api-js/components/cc-libraries-api-js/locale/es_MX/messages.properties",[],function(){return"LIBS_DEFAULT_LIBRARY_NAME=Mi biblioteca\nLIBS_RECOVERED_LIBRARY={{name}} (recuperado)"}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/third_party/text/text!angular-cc-libraries-api-js/components/cc-libraries-api-js/locale/fi_FI/messages.properties",[],function(){return"LIBS_DEFAULT_LIBRARY_NAME=Oma kirjasto\nLIBS_RECOVERED_LIBRARY={{name}} (palautettu)"}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/third_party/text/text!angular-cc-libraries-api-js/components/cc-libraries-api-js/locale/fr_CA/messages.properties",[],function(){return"LIBS_DEFAULT_LIBRARY_NAME=Ma bibliothèque\nLIBS_RECOVERED_LIBRARY={{name}} (Récupéré)"}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/third_party/text/text!angular-cc-libraries-api-js/components/cc-libraries-api-js/locale/fr_FR/messages.properties",[],function(){return"LIBS_DEFAULT_LIBRARY_NAME=Ma bibliothèque\nLIBS_RECOVERED_LIBRARY={{name}} (Récupéré)"}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/third_party/text/text!angular-cc-libraries-api-js/components/cc-libraries-api-js/locale/fr_MA/messages.properties",[],function(){return"LIBS_DEFAULT_LIBRARY_NAME=Ma bibliothèque\nLIBS_RECOVERED_LIBRARY={{name}} (Récupéré)"}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/third_party/text/text!angular-cc-libraries-api-js/components/cc-libraries-api-js/locale/hu_HU/messages.properties",[],function(){return"LIBS_DEFAULT_LIBRARY_NAME=Saját könyvtár\nLIBS_RECOVERED_LIBRARY={{name}} (helyreállított)"}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/third_party/text/text!angular-cc-libraries-api-js/components/cc-libraries-api-js/locale/it_IT/messages.properties",[],function(){return"LIBS_DEFAULT_LIBRARY_NAME=Libreria personale\nLIBS_RECOVERED_LIBRARY={{name}} (recuperato)"}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/third_party/text/text!angular-cc-libraries-api-js/components/cc-libraries-api-js/locale/ja_JP/messages.properties",[],function(){return"LIBS_DEFAULT_LIBRARY_NAME=マイライブラリ\nLIBS_RECOVERED_LIBRARY={{name}} (回復済み)"}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/third_party/text/text!angular-cc-libraries-api-js/components/cc-libraries-api-js/locale/ko_KR/messages.properties",[],function(){return"LIBS_DEFAULT_LIBRARY_NAME=내 라이브러리\nLIBS_RECOVERED_LIBRARY={{name}}(복구됨)"}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/third_party/text/text!angular-cc-libraries-api-js/components/cc-libraries-api-js/locale/nb_NO/messages.properties",[],function(){return"LIBS_DEFAULT_LIBRARY_NAME=Biblioteket mitt\nLIBS_RECOVERED_LIBRARY={{name}} (gjenopprettet)"}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/third_party/text/text!angular-cc-libraries-api-js/components/cc-libraries-api-js/locale/nl_NL/messages.properties",[],function(){return"LIBS_DEFAULT_LIBRARY_NAME=Mijn bibliotheek\nLIBS_RECOVERED_LIBRARY={{name}} (hersteld)"}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/third_party/text/text!angular-cc-libraries-api-js/components/cc-libraries-api-js/locale/pl_PL/messages.properties",[],function(){return"LIBS_DEFAULT_LIBRARY_NAME=Moja biblioteka\nLIBS_RECOVERED_LIBRARY={{name}} (Odzyskane)"}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/third_party/text/text!angular-cc-libraries-api-js/components/cc-libraries-api-js/locale/pt_BR/messages.properties",[],function(){return"LIBS_DEFAULT_LIBRARY_NAME=Minha biblioteca\nLIBS_RECOVERED_LIBRARY={{name}} (Recuperado)"}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/third_party/text/text!angular-cc-libraries-api-js/components/cc-libraries-api-js/locale/ru_RU/messages.properties",[],function(){return"LIBS_DEFAULT_LIBRARY_NAME=Моя библиотека\nLIBS_RECOVERED_LIBRARY={{name}} (восстановлено)"}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/third_party/text/text!angular-cc-libraries-api-js/components/cc-libraries-api-js/locale/sv_SE/messages.properties",[],function(){return"LIBS_DEFAULT_LIBRARY_NAME=Mitt bibliotek\nLIBS_RECOVERED_LIBRARY={{name}} (återskapet)"}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/third_party/text/text!angular-cc-libraries-api-js/components/cc-libraries-api-js/locale/tr_TR/messages.properties",[],function(){return"LIBS_DEFAULT_LIBRARY_NAME=Kitaplığım\nLIBS_RECOVERED_LIBRARY={{ad}} ((Kurtarıldı))"}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/third_party/text/text!angular-cc-libraries-api-js/components/cc-libraries-api-js/locale/uk_UA/messages.properties",[],function(){return"LIBS_DEFAULT_LIBRARY_NAME=Моя бібліотека\nLIBS_RECOVERED_LIBRARY={{name}} (відновлено)"}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/third_party/text/text!angular-cc-libraries-api-js/components/cc-libraries-api-js/locale/zh_CN/messages.properties",[],function(){return"LIBS_DEFAULT_LIBRARY_NAME=我的库\nLIBS_RECOVERED_LIBRARY={{name}} （已恢复）"}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/third_party/text/text!angular-cc-libraries-api-js/components/cc-libraries-api-js/locale/zh_TW/messages.properties",[],function(){return"LIBS_DEFAULT_LIBRARY_NAME=我的資料庫\nLIBS_RECOVERED_LIBRARY={{name}} (已復原)"}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/AdobeLibraryLocalisation",["require","exports","module","./AdobeLibraryServices","./utils/AdobeLibraryGeneralUtils","./third_party/text/text!../locale/cs_CZ/messages.properties","./third_party/text/text!../locale/da_DK/messages.properties","./third_party/text/text!../locale/de_DE/messages.properties","./third_party/text/text!../locale/en_US/messages.properties","./third_party/text/text!../locale/es_ES/messages.properties","./third_party/text/text!../locale/es_MX/messages.properties","./third_party/text/text!../locale/fi_FI/messages.properties","./third_party/text/text!../locale/fr_CA/messages.properties","./third_party/text/text!../locale/fr_FR/messages.properties","./third_party/text/text!../locale/fr_MA/messages.properties","./third_party/text/text!../locale/hu_HU/messages.properties","./third_party/text/text!../locale/it_IT/messages.properties","./third_party/text/text!../locale/ja_JP/messages.properties","./third_party/text/text!../locale/ko_KR/messages.properties","./third_party/text/text!../locale/nb_NO/messages.properties","./third_party/text/text!../locale/nl_NL/messages.properties","./third_party/text/text!../locale/pl_PL/messages.properties","./third_party/text/text!../locale/pt_BR/messages.properties","./third_party/text/text!../locale/ru_RU/messages.properties","./third_party/text/text!../locale/sv_SE/messages.properties","./third_party/text/text!../locale/tr_TR/messages.properties","./third_party/text/text!../locale/uk_UA/messages.properties","./third_party/text/text!../locale/zh_CN/messages.properties","./third_party/text/text!../locale/zh_TW/messages.properties"],function(e,t,n){"use strict";function i(){this.setLocale()}var r=e("./AdobeLibraryServices"),o=e("./utils/AdobeLibraryGeneralUtils"),a={},s=typeof LOCALE_ROOT,l="undefined"!==s;return r.hasFileSystem()&&l||(a={cs_CZ:e("./third_party/text/text!../locale/cs_CZ/messages.properties"),da_DK:e("./third_party/text/text!../locale/da_DK/messages.properties"),de_DE:e("./third_party/text/text!../locale/de_DE/messages.properties"),en_US:e("./third_party/text/text!../locale/en_US/messages.properties"),es_ES:e("./third_party/text/text!../locale/es_ES/messages.properties"),es_MX:e("./third_party/text/text!../locale/es_MX/messages.properties"),fi_FI:e("./third_party/text/text!../locale/fi_FI/messages.properties"),fr_CA:e("./third_party/text/text!../locale/fr_CA/messages.properties"),fr_FR:e("./third_party/text/text!../locale/fr_FR/messages.properties"),fr_MA:e("./third_party/text/text!../locale/fr_MA/messages.properties"),hu_HU:e("./third_party/text/text!../locale/hu_HU/messages.properties"),it_IT:e("./third_party/text/text!../locale/it_IT/messages.properties"),ja_JP:e("./third_party/text/text!../locale/ja_JP/messages.properties"),ko_KR:e("./third_party/text/text!../locale/ko_KR/messages.properties"),nb_NO:e("./third_party/text/text!../locale/nb_NO/messages.properties"),nl_NL:e("./third_party/text/text!../locale/nl_NL/messages.properties"),pl_PL:e("./third_party/text/text!../locale/pl_PL/messages.properties"),pt_BR:e("./third_party/text/text!../locale/pt_BR/messages.properties"),ru_RU:e("./third_party/text/text!../locale/ru_RU/messages.properties"),sv_SE:e("./third_party/text/text!../locale/sv_SE/messages.properties"),tr_TR:e("./third_party/text/text!../locale/tr_TR/messages.properties"),uk_UA:e("./third_party/text/text!../locale/uk_UA/messages.properties"),zh_CN:e("./third_party/text/text!../locale/zh_CN/messages.properties"),zh_TW:e("./third_party/text/text!../locale/zh_TW/messages.properties")}),i.prototype._getLocaleData=function(e){if(!a[e]&&r.hasFileSystem()&&l)try{var t="readFileSync";a[e]=r.fs[t](LOCALE_ROOT+e+"/messages.properties","utf8")}catch(e){}return a[e]},i.prototype._normaliseLocale=function(e){if(e){e=e.replace("-","_");var t=e.split("_");return t[0]=t[0]&&t[0].toLowerCase(),t[1]=t[1]&&t[1].toUpperCase(),t.join("_")}},i.prototype.setLocale=function(e){e=this._normaliseLocale(e),e&&this._getLocaleData(e)||(e="en_US"),this._locale=e,this._strings=o.parseLocalisationFile(this._getLocaleData(this._locale))},i.prototype.getLocale=function(){return this._locale},i.prototype.translate=function(e,t){var n=this._strings[e];return n&&t&&(n=o.constructStringFromTemplate(n,t)),n||e},Object.freeze(i),Object.seal(i.prototype),new i}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/AdobeLibraryAnalytics",["require","exports","module","./AdobeLibraryServices","./AdobeLibraryConfig"],function(e,t,n){"use strict";function i(e){if(e.type){var t=e.type.match(/application\/vnd\.adobe\.element\.(.*)\+dcx/);return t&&2===t.length?t[1]:e.type}return null}function r(e){if(!e)return{};var t={libraryID:e.id,libraryElementCount:e._elements.length};return e.collection.isPublic?t.libraryShared="incoming-public":e.collaboration&&(t.libraryShared=e.collaboration,e.isWritable||(t.libraryShared+="-readonly")),t}function o(e){var t=null;return e.getValues().forEach(function(e){"trackingdata"===e.key&&(t||(t={}),t[e.namespace]=e.value)}),t}function a(e){if(!e)return{};var t=r(e._library);t.elementID=e.id,t.elementType=i(e);var n=e.getPrimaryRepresentation();if(n){var a=o(n);a&&(t.trackingData=JSON.stringify(a)),t.elementPrimaryType=n.type}return t}function s(e){if(!e)return{};var t=a(e._element);return t.representationType=e.type,t}function l(e){if(!e)return{};var t=a(e.element);return t.appCode=e.appCode,t.elementAction=e.id,t}function c(){return null!==p.analytics&&void 0!==p.analytics}var u,d,p=e("./AdobeLibraryServices"),h=e("./AdobeLibraryConfig"),f={};return f.reportError=function(e){c()&&e&&p.analytics.reportError(e.code+(e.underlyingError?":"+e.underlyingError.code:""))},f.reportCreateLibrary=function(e){c()&&p.analytics.reportEvent("createLibrary",{libraryID:e.id})},f.reportDeleteLibrary=function(e){c()&&p.analytics.reportEvent("deleteLibrary",r(e))},f.reportCreateElement=function(e){c()&&(u=e,d=Date.now(),p.analytics.reportEvent("createElement",a(e)))},f.reportUpdateElement=function(e,t){if(c()){if(e===u&&Date.now()-d<h.ANALYTICS_ELEMENT_UPDATE_THRESHOLD)return;u=e,d=Date.now();var n=a(e);n.updateType=t?"info":"representation",p.analytics.reportEvent("updateElement",n)}},f.reportUseElement=function(e,t,n){if(c()){var i=s(e);i.opType=t,i.details=n,p.analytics.reportEvent("useElement",i)}},f.reportCheckoutElement=function(e,t,n){if(c()){var i=a(e);i.opType=t,i.details=n,p.analytics.reportEvent("checkoutElement",i)}},f.reportDeleteElement=function(e,t){if(c()){var n=a(e);n.isPermanent=!!t,p.analytics.reportEvent("deleteElement",n)}},f.reportRestoreElement=function(e){c()&&p.analytics.reportEvent("restoreElement",a(e))},f.reportCopyElement=function(e,t){if(c()){u=e,d=Date.now();var n=a(e);n.oldLibraryID=t._library.id,n.oldElementID=t.id,p.analytics.reportEvent("copyElement",n)}},f.reportMoveElement=function(e,t){if(c()){u=e,d=Date.now();var n=a(e);n.oldLibraryID=t._library.id,n.oldElementID=t.id,p.analytics.reportEvent("moveElement",n)}},f.reportCollisionElement=function(e){c()&&p.analytics.reportEvent("collisionLibrary",a(e))},f.reportCreateLink=function(e,t){if(c()){var n=a(e);n.opType=t,p.analytics.reportEvent("createLink",n)}},f.reportShareElementLink=function(e){c()&&p.analytics.reportEvent("shareElementLink",a(e))},f.reportShareLibraryLink=function(e){c()&&p.analytics.reportEvent("shareLibraryLink",r(e))},f.reportElementActionInvoked=function(e){c()&&p.analytics.reportEvent("elementActionInvoked",l(e))},f.reportElementActionSuccessful=function(e,t){if(c()){var n=l(e);n.appVersion=t&&t.version,n.appLaunchStatus=t?t.isAlreadyRunning?"Running":"Launched":"Unknown",p.analytics.reportEvent("elementActionSuccessful",n)}},f.reportElementActionFailed=function(e,t){if(c()){var n=l(e);n.error=t?t.code+":"+t.message:"",p.analytics.reportEvent("elementActionFailed",n)}},f.reportUnexpectedState=function(e,t){if(c()){var n=r(e);n.details=t,n.logs=!0,p.analytics.reportEvent("unexpectedState",n)}},f.reportRemoveMissingComponents=function(e,t,n){if(c()){var i={libraryID:e,numMissing:t.length,numFixed:n,componentErrors:[]};t.forEach(function(e){var t=e.error,n=t&&t.code,r=t&&t.response&&t.response.statusCode,o=(n||"UNKNOWN_ERROR")+(r?": "+r:"");i.componentErrors.push(o)}),p.analytics.reportEvent("removeMissingComponents",i)}},Object.seal(f),f}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/utils/AdobeLibraryAsyncJoin",["require","exports","module","../AdobeLibraryError"],function(e,t,n){"use strict";function i(){this._operations=[],this._isRunning=!1}var r=e("../AdobeLibraryError");return i.prototype.addOperation=function(e,t,n){if(this._isRunning)throw new r(r.INVALID_PARAMETER,"Cannot add operations after calling run()");this._operations.push({operation:e,argsArray:t||[],thisObject:n})},i.prototype.run=function(e,t){function n(t,n,i){e&&e(t,n,i)}function i(e,i,d){if(e&&t&&t(e),!l){if(a=a||e,c[d])return l=!0,void n(new r(r.INVALID_PARAMETER,"Operation not valid: calls callback multiple times"));if(s++,u[d]=i,c[d]=!0,s===o){l=!0;var p=!!u.reduce(function(e,t){return e||t},!1);n(a||null,p,u)}}}if(this._isRunning)throw new r(r.INVALID_PARAMETER,"Cannot call run() more than once");this._isRunning=!0;var o=this._operations.length;0===o&&n(null,!1,[]);var a,s=0,l=!1,c=[],u=[];this._operations.forEach(function(e,t){e.argsArray.push(function(e,n){i(e,n,t)}),e.operation.apply(e.thisObject,e.argsArray)})},Object.freeze(i),Object.seal(i.prototype),i}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/utils/AdobeLibraryManifestUtils",["require","exports","module","../components/dcx-js/src/AdobeDCX","../components/dcx-js/src/AdobeDCXError","../AdobeLibraryConfig","../AdobeLibraryServices","../AdobeLibraryLocalisation","../AdobeLibraryError","../AdobeLibraryAnalytics","./AdobeLibraryAsyncJoin"],function(e,t,n){"use strict";var i=e("../components/dcx-js/src/AdobeDCX"),r=e("../components/dcx-js/src/AdobeDCXError"),o=e("../AdobeLibraryConfig"),a=e("../AdobeLibraryServices"),s=e("../AdobeLibraryLocalisation"),l=e("../AdobeLibraryError"),c=e("../AdobeLibraryAnalytics"),u=e("./AdobeLibraryAsyncJoin"),d={},p={};d.isCompatibleType=function(e,t){return e===t||e===p[t]},d.validateLibraryId=function(e,t){if(t){if(e&&e.length>=30&&e.match(/^[0-9A-Z\-]+$/i))return!0}else if(e&&e.match(/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i))return!0;return!1},d.validateLibrary=function(e){var t=e.current&&e.current.rootNode.getValue(o.VERSION_KEY);return t===o.VERSION},d.areManifestsEqual=function(e,t){try{var n=JSON.parse(e),i=JSON.parse(t);if(delete n["manifest-format-version"],delete i["manifest-format-version"],JSON.stringify(n)===JSON.stringify(i))return!0}catch(e){}return!1},d.getDCXKey=function(e,t){if(!e||!("string"==typeof e||e instanceof String)||""===e)throw new l(l.INVALID_PARAMETER,"Invalid namespace");if(!t||!("string"==typeof t||t instanceof String)||""===t)throw new l(l.INVALID_PARAMETER,"Invalid key");return e+"#"+t},d.getCustomDCXData=function(e){var t=e.getCustomKeys(),n=[];return t.forEach(function(t){var i=t.split("#"),r=i.length>=2;r&&i.forEach(function(e){""===e&&(r=!1)});var a=0===t.indexOf(o.DL_PREFIX);r&&!a&&n.push({namespace:i.shift(),key:i.join("#"),value:e.getValue(t)})}),n},d.copyCustomDCXData=function(e,t){var n=d.getCustomDCXData(e);n.forEach(function(e){t.setValue(d.getDCXKey(e.namespace,e.key),e.value)});var i=[o.REPRESENTATION_ORDER_KEY,o.IS_PREFERRED_THUMBNAIL_KEY];i.forEach(function(n){var i=e.getValue(n);i&&t.setValue(n,i)})},d.checkDeletedState=function(e,t){if(e.isDeletedLocally){if(t)return t(new l(l.DELETED_LOCALLY,"deleted/orphan object")),!0;throw new l(l.DELETED_LOCALLY,"deleted/orphan object")}return!1},d.checkEncoding=function(e,t,n){if(t.indexOf(e)===-1){var i=t.join(", ");return n(new l(l.INVALID_PARAMETER,"Unsupported encoding. Supported encodings are: "+i)),!1}return!0},d.sortRepresentations=function(e){if(!(e.length<2))for(var t,n,i,r;;){for(t=!1,n=1;n<e.length;n++)i=e[n-1],r=e[n],r._getOrder()<i._getOrder()&&(e[n-1]=r,e[n]=i,t=!0);if(!t)break}},d.removeMissingComponents=function(e,t){if(e&&t){var n=0,i=0;return t.forEach(function(t){var r=t.component,o=t.error,s=r&&o&&o.response&&404===o.response.statusCode;s&&(e.removeComponent(r),n++,a.log("Removed missing component: "+r.id+" from library "+e.compositeId));var l=r&&o&&"[UNEXPECTED_RESPONSE] Incorrect content length"===o.message;l&&(i++,a.log("Skipped length-mismatch component: "+r.id+" from library "+e.compositeId))}),a.log("Fixed "+n+" of "+t.length+" components that failed to download"),c.reportRemoveMissingComponents(e.compositeId,t,n),t.length===n+i?e:void 0}};var h=function(e,t){var n;return e.elements.some(function(e){return e.representations.some(function(e){if(e.id===t)return n=e,!0})}),n};return d.removeMissingLocalComponents=function(e,t){if(e&&t){var n=0,i=[];t.forEach(function(t){var o=t.component,s=t.error;if(o&&s&&s.code===r.INVALID_STATE){var l=h(e,o.id);l?i.push(l):e._dcxBranch.removeComponent(o),n++,a.log("Removed missing local component: "+o.id+" from library "+e.id)}}),n>0&&(e._beginOperation(),i.forEach(function(e){e.element.removeRepresentation(e)}),e._endOperation()),a.log("Fixed "+n+" of "+t.length+" components that failed to upload")}},d.recoverReadOnlyEdits=function(e,t,n){var i=[];e.elements.forEach(function(e){var n=t&&t.getChildWithId(e.id),r=n&&n.getValue(o.MODIFIED_KEY);r!==e.modified&&i.push(e)});var r=new u;if(i.length>0){var l,c=s.translate("LIBS_RECOVERED_LIBRARY",{name:e.name});e.collection.libraries.some(function(e){if(e.name===c&&e.isWritable&&"incoming"!==e.collaboration&&e.elements.length<o.MAX_ELEMENTS)return l=e,!0}),l||(l=e.collection.createLibrary(c)),i.forEach(function(t){r.addOperation(e.copyElement,[t,l],e)}),a.log("Recovering "+i.length+" elements from read-only library")}r.run(n)},d.ensureBranchDataValid=function(e){var t=[o.ELEMENTS_NAME,o.REMOVED_ELEMENTS_NAME],n=!1,i=function(i){if(t.indexOf(i.name)!==-1){var r=i.name===o.REMOVED_ELEMENTS_NAME,a=e.getChildrenOf(i);a.forEach(function(e){var t=e.getValue(o.REMOVED_KEY);!r&&t?(e.removeValue(o.REMOVED_KEY),n=!0):r&&!t&&(e.setValue(o.REMOVED_KEY,(new Date).valueOf()),n=!0)})}};return e.getChildrenOf().forEach(i),n},d.collaborationStateToDCX=function(e){return"incoming"===e?i.COLLABORATION.SHARED_WITH_USER:"outgoing"===e?i.COLLABORATION.SHARED_BY_USER:i.COLLABORATION.PRIVATE},d.collaborationStateFromDCX=function(e){return e===i.COLLABORATION.SHARED_WITH_USER?"incoming":e===i.COLLABORATION.SHARED_BY_USER?"outgoing":void 0},d.getCompositeRenditionMap=function(e){var t=e.getComponentsOf(),n={};return t&&t.forEach(function(e){if("rendition"===e.relationship){var t=e.getValue(o.RENDITION_TYPE_KEY);t&&(n[t]=e)}}),n},Object.seal(d),d}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/utils/AdobeLibraryFileUtils",["require","exports","module","../AdobeLibraryServices","./AdobeLibraryGeneralUtils","../AdobeLibraryConfig","../AdobeLibraryError"],function(e,t,n){"use strict";var i=e("../AdobeLibraryServices"),r=e("./AdobeLibraryGeneralUtils"),o=e("../AdobeLibraryConfig"),a=e("../AdobeLibraryError"),s={},l=function(e){return e+".TEMP_"+i.uuid()},c=function(e){var t=e.match(/(.*)\.TEMP_[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i);return t&&t[1]?t[1]:e};return s.ensurePathExists=function(e,t){function n(e,t,i){var a=t.slice(0,e).join(r),s=function(r){e<t.length?n(e+1,t,i):i(null)};o.exists(a,function(e){e?s():o.mkdir(a,s)})}var r=i.getPathSeparator(),o=i.fs,a=e.split(r);n(2,a,t)},s.copyFile=function(e,t,n){var r=i.fs;try{var o=l(t),a=r.createWriteStream(o),s=r.createReadStream(e),c=!1;s.on("end",function(){c||r.rename(o,t,n)}),s.on("error",function(e){c=!0,n(e)}),s.pipe(a)}catch(e){n(e)}},s.normaliseTempFileName=function(e){return c(e)},s.getFileExtension=function(e){var t=e&&e.replace(/^.*[\\\/]/,""),n=t?t.lastIndexOf("."):-1;if(n!==-1)return t.substr(n+1).toLowerCase()},s.recursiveDeleteDirectory=function(e,t){var n=i.getPathSeparator(),r=i.fs,o=function(e){e&&"ENOENT"===e.code&&(e=null),t&&t(e)};r.exists(e,function(t){t?r.readdir(e,function(t,i){function a(t){t&&"ENOENT"===t.code&&(t=null),l=l||t,c++,c===i.length&&(l?o(l):r.rmdir(e,o))}if(t)return void o(t);if(!i||0===i.length)return void r.rmdir(e,o);var l=null,c=0;i.forEach(function(t){var i=e+n+t;r.stat(i,function(e,t){l=l||e,t&&t.isDirectory()?s.recursiveDeleteDirectory(i,a):r.unlink(i,a)})})}):o(null)})},s.moveLibrary=function(e,t,n){var r=i.fs;if(t===e.id)return void n(null);var o=e._collection._getCompositeDir(t),a=e._getCompositeDir(),s=e._collection._getRenditionCacheDir(t),l=e._getRenditionCacheDir();r.rename(o,a,function(t){return t?void n(t):(e._dcxComposite.path=a,void r.rename(s,l,n))})},s.readLibraryDirectory=function(e,t){var n=i.fs,r=e._getTempDir();s.recursiveDeleteDirectory(r,function(){var i=e._getCompositeDir();n.readdir(i,t)})},s.doesRootDirExist=function(e,t){var n=i.fs,r=e._getCompositeDir();n.exists(r,function(e){t(null,e)})},s.deleteLibraryFromDisk=function(e,t,n){var o=r.wrapCallback(n);if(!i.hasFileSystem())return void o(null);var a=e._getCompositeDir(t),l=e._getRenditionCacheDir(t);s.recursiveDeleteDirectory(a,function(){s.recursiveDeleteDirectory(l,o)})},s.writeJSONData=function(e,t,n,r){var o=i.fs;s.ensurePathExists(e,function(a){if(a)return void r(a);var s=e+i.getPathSeparator()+t,l=s+".TEMP_"+i.uuid();o.writeFile(l,JSON.stringify(n,void 0,2),"utf8",function(e){return e?void r(e):void o.rename(l,s,function(e){return e?r(e):void r(null,s)})})})},s.readJSONData=function(e,t){var n=i.fs;n.readFile(e,"utf8",function(e,n){if(e){if("ENOENT"===e.code)return t(null)}else try{n=n&&JSON.parse(n)}catch(t){n=void 0,e=t}t(e,n)})},s.statFile=function(e,t){var n=i.fs;n.stat(e,function(e,n){return e?void t(new a(a.FS_ERROR,"filesystem error: "+e)):void t(null,n)})},s.checkFileSize=function(e,t){s.statFile(e,function(e,n){return e?void t(e):n&&n.size>o.MAX_COMPONENT_SIZE||n&&!n.isFile()?void t(new a(a.FILE_TOO_LARGE,"Exceeds maximum file size")):void t(null)})},Object.seal(s),s}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/utils/AdobeLibraryErrorUtils",["require","exports","module","../components/dcx-js/src/AdobeDCXError","../AdobeLibraryError"],function(e,t,n){"use strict";var i=e("../components/dcx-js/src/AdobeDCXError"),r=e("../AdobeLibraryError"),o={};return o.getErrorStatusCode=function(e){if(e){var t=e.code===i.UNEXPECTED_RESPONSE&&e.response&&e.response.statusCode;return t?t:e.underlyingError?o.getErrorStatusCode(e.underlyingError):void 0}},o.getSyncError=function(e,t,n){if(e){var a,s=o.getErrorStatusCode(e);return a=e.code===i.SERVICE_IS_INACTIVE?new r(r.LOGGED_OUT,"no access token: call updateAccessToken() and try again",t,e):e.code===i.NETWORK_ERROR?new r(r.NETWORK_ERROR,"error connecting to server",t,e):e.code===i.EXCEEDS_QUOTA?new r(r.EXCEEDS_QUOTA,"push failed due to insufficient remaining quota",t,e):e.code===i.OUT_OF_SPACE?new r(r.OUT_OF_SPACE,"not enough disk space",t,e):e.code===i.NOT_IMPLEMENTED?new r(r.NOT_IMPLEMENTED,"tried to call an API not implemented on the server",t,e):e.code===i.RETRYABLE_SERVER_ERROR?new r(r.RETRYABLE_SERVER_ERROR,"intermittent server failure - can retry later",t,e):e.code===i.INVALID_DATA||e.code===i.INVALID_JSON?new r(r.CORRUPTED_LIBRARY,"unable to read manifest",t,e):s&&n&&n[s]?new r(n[s],"server returned "+s+"response",t,e):new r(r.TRANSFER_ERROR,"something went wrong during a push/pull operation",t,e)}},o.getCommitError=function(e,t,n){if(e){var o,a=n?" - "+n:"";return o=e.code===i.INVALID_DATA||e.code===i.INVALID_JSON?new r(r.CORRUPTED_LIBRARY,"unable to read manifest"+a,t,e):e.code===i.OUT_OF_SPACE?new r(r.OUT_OF_SPACE,"not enough disk space"+a,t,e):new r(r.FS_ERROR,"filesystem error"+a,t,e)}},o.getErrorPriority=function(e){var t=[r.EXCEEDS_MAX_LIBRARY_SIZE,r.THUMBNAIL_NOT_AVAILABLE,r.RENDITION_NOT_AVAILABLE,r.URL_VALIDATION_FAILED,r.CORRUPTED_LIBRARY,r.TRANSFER_ABORTED,r.TRANSFER_ERROR,r.NETWORK_ERROR,r.EXCEEDS_QUOTA,r.RETRYABLE_SERVER_ERROR,r.LOGGED_OUT,r.FILE_TOO_LARGE,r.FS_ERROR,r.OUT_OF_SPACE,r.ACCESS_DENIED,r.NOT_ALLOWED,r.DELETED_LOCALLY,r.REQUIRES_FILESYSTEM,r.NOT_SUPPORTED,r.NOT_IMPLEMENTED,r.INVALID_PARAMETER,r.READ_ONLY],n=e&&e.code&&t.indexOf(e.code);return void 0!==n?n:-1},o.errorToString=function(e){var t="";return e&&(e.message&&(t+=e.message),e.libraryId&&(t+=" library: "+e.libraryId),e.underlyingError?t+="\n<- "+o.errorToString(e.underlyingError):e.response&&e.response.statusCode&&(t+=": "+e.response.statusCode),e.failedComponents&&(t+="\n<- Failed Components:",e.failedComponents.forEach(function(e){var n=e.component&&e.component.id,i=e.error,r=i&&i.message,o=i&&i.response&&i.response.statusCode;t+="\n    ["+n+"] "+r+(o?": "+o:"")}))),t},o.isErrorCode=function(e){return!!e&&(r.hasOwnProperty(e)&&r[e]===e)},Object.seal(o),o}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/utils/AdobeLibrarySyncUtils",["require","exports","module","../AdobeLibraryConfig","../AdobeLibraryError","../components/dcx-js/src/AdobeDCXUtil"],function(e,t,n){"use strict";var i=e("../AdobeLibraryConfig"),r=e("../AdobeLibraryError"),o=e("../components/dcx-js/src/AdobeDCXUtil"),a={};a.getBackoffTicks=function(e){var t=i.BACKOFF_INTERVALS,n=Math.max(0,Math.min(e,t.length-1));return t[n]-1},a.getRetryAfterHeader=function(e){if(e){var t=e["retry-after"]||e["Retry-After"];if(t)try{var n=parseInt(t,10);if(n)return Math.max(0,n);var r=Date.parse(t);if(r){var o=(new Date).valueOf(),a=Math.max(0,r-o)/1e3,s=Math.floor(Math.random()*i.RETRY_RANDOM_SECONDS);return a+s}}catch(e){}}return 0},a.getLocationHeader=function(e){if(e){var t=e.location||e.Location;if(t)return t}},a.getContentTypeHeader=function(e){if(e){var t=e["content-type"]||e["Content-Type"];if(t){var n=t.indexOf(";");return n>0&&(t=t.substring(0,n)),t}}},a.getContentLengthHeader=function(e){if(e){var t=e["content-length"]||e["Content-Length"];return Number(t)||void 0}},a.isUnrecoverableClientError=function(e,t){return!!e&&(e>=400&&e<500&&(401!==e||!!t)&&407!==e&&408!==e)},a.isRedirect=function(e){return 301===e||302===e||303===e||307===e};var s=function(e,t){return t.some(function(t){if(e===t)return!0;var n=e.indexOf("."+t);return n!==-1&&n===e.length-t.length-1})};return a.isAdobeDomain=function(e){return!!e&&s(e,i.ADOBE_AUTHENTICATED_DOMAINS)},a.validateURL=function(e){if(!e)return new r(r.URL_VALIDATION_FAILED,"URL not specified");var t=o.parseURI(e);if("https"!==t.scheme)return new r(r.URL_VALIDATION_FAILED,"URL must be https://");var n=a.isAdobeDomain(t.authority),l=n||s(t.authority,i.WHITELISTED_DOMAINS);return l?null:new r(r.URL_VALIDATION_FAILED,"URL domain not in whitelist")},Object.seal(a),a}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/utils/AdobeLibraryRenditionUtils",["require","exports","module","../AdobeLibraryConfig","../AdobeLibraryServices","./AdobeLibraryAsyncJoin","./AdobeLibraryFileUtils","./AdobeLibraryErrorUtils","./AdobeLibraryGeneralUtils"],function(e,t,n){"use strict";var i=e("../AdobeLibraryConfig"),r=e("../AdobeLibraryServices"),o=e("./AdobeLibraryAsyncJoin"),a=e("./AdobeLibraryFileUtils"),s=e("./AdobeLibraryErrorUtils"),l=e("./AdobeLibraryGeneralUtils"),c={},u={"application/x-indesign":!0,"application/postscript":!0,"application/illustrator":!0,"application/pdf":!0,"application/vnd.adobe.psremix":!0,"application/vnd.adobe.pstouch":!0,"application/vnd.adobe.ideas":!0,"application/vnd.adobe.ase":!0,"image/jpeg":!0,"image/jpg":!0,"image/pjpeg":!0,"image/tiff":!0,"image/gif":!0,"image/bmp":!0,"image/x-ms-bmp":!0,"image/svg+xml":!0,"image/png":!0,"image/x-png":!0,"image/jp2":!0,"image/psd":!0,"image/vnd.adobe.photoshop":!0,"application/photoshop":!0,"application/x-photoshop":!0,"image/raw":!0,"image/dng":!0,"image/x-adobe-dng":!0,"video/mp4":!0,"video/mpeg":!0,"video/x-ms-wmv":!0,"video/3gpp":!0,"video/3gpp2":!0,"video/quicktime":!0,"video/x-msvideo":!0,"video/x-flv":!0,"video/x-ms-asf":!0,"video/x-m4v":!0,"video/mp2t":!0,"application/mxf":!0,"application/x-shockwave-flash":!0,"application/vnd.adobe.brushes.brush+ucf":!0,"application/vnd.adobe.collage":!0,"application/vnd.adobe.proto":!0,"application/msword":!0,"application/msexcel":!0,"application/mspowerpoint":!0,"application/vnd.ms-publisher":!0,"application/vnd.openxmlformats-officedocument.wordprocessingml.document":!0,"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":!0,"application/vnd.openxmlformats-officedocument.presentationml.presentation":!0,"application/vnd.adobe.charts+zip":!0,"text/plain":!0,"text/rtf":!0},d=function(e,t){var n=r.fs;n.stat(e,function(i,r){return i?void t(i):void(r&&r.isDirectory()?a.recursiveDeleteDirectory(e,t):n.unlink(e,t))})},p=function(e,t,n){var s=r.getPathSeparator(),l=r.fs;if(!e._dcxComposite.autoRemoveUnusedLocalFiles)return void n(null);var c={};Object.keys(t.renditions).forEach(function(n){var i=t.renditions[n];Object.keys(i).forEach(function(t){var n=i[t];c[n]=!0,delete e._pendingRenditionCacheItems[n]})});var u=e._getRenditionCacheDir();l.readdir(u,function(t,r){if(t)return void n(t);var l=new o;r.forEach(function(t){var n=a.normaliseTempFileName(t);t===i.RENDITION_CACHE_FILE||c[t]||e._pendingRenditionCacheItems[n]||l.addOperation(d,[u+s+t])}),l.run(n)})};return c.readRenditionCacheData=function(e,t){var n=r.getPathSeparator(),o=e._getRenditionCacheDir();a.readJSONData(o+n+i.RENDITION_CACHE_FILE,function(e,n){var i=n||{};i.renditions=i.renditions||{},t(null,i)})},c.writeRenditionCacheData=function(e,t,n){var r=e._getRenditionCacheDir();a.writeJSONData(r,i.RENDITION_CACHE_FILE,t,function(i){return i?void n(i):void p(e,t,n)})},c.copyRenditionCache=function(e,t,n,a){var l=t._library._getRenditionCacheDir()+r.getPathSeparator(),c=new o,u=n||{};Object.keys(u).forEach(function(n){var r=u[n],o=t.getRepresentationById(n);if(o&&!e.getRepresentationById(n)){var a=t.representations.indexOf(o);if(a>=0&&a<e.representations.length){var d=e.representations[a];n=d.id}}r===i.RENDITION_CACHE_PLACEHOLDER||s.isErrorCode(r)?e._renditionCache[n]=r:c.addOperation(e.setThumbnailCache,[n,l+r],e)}),i.SHARED_LOCAL_STORAGE?(c.run(),a(null)):c.run(a)},c.canComputeRenditionFromMimeType=function(e){return!!u[e]},c.canComputeRendition=function(e){var t=void 0!==e._dcxComponent;return!(!t||!c.canComputeRenditionFromMimeType(e.type));
},c.shouldPrefetchFullRendition=function(e){var t=i.FULL_RENDITION_CONFIG||{},n=t[e.type];if(!n)return!1;var r=!1;return Object.keys(n).forEach(function(t){var i=n[t];if("IF_NO_MATCHING_REPRESENTATION"===i.condition&&i.types){var o=e.representations.every(function(e){return i.types.indexOf(e.type)===-1});r=r||o}}),r},c.shouldPrefetchExternalLink=function(e){if(!e.isExternalLink)return!1;var t=i.EXTERNAL_LINK_PREFETCH||{},n=t[e.element.type];return void 0===n||n},c.prefetchRenditionsForElement=function(e,t){var n=l.wrapCallback(t);if(!r.hasFileSystem())return void n(null);var a=new o,s=i.RENDITION_SIZES||{},u=s[e.type]||s["*"]||[];u.forEach(function(t){a.addOperation(e.getThumbnailPath,[t],e)}),c.shouldPrefetchFullRendition(e)&&a.addOperation(e.getThumbnailPath,[void 0],e),e.representations.forEach(function(e){c.shouldPrefetchExternalLink(e)?a.addOperation(e.getContentPath,[],e):e.isExternalLink&&a.addOperation(e.testExternalLink,[],e)}),a.run(n)},c.prefetchRenditions=function(e,t){var n=l.wrapCallback(t);if(!r.hasFileSystem())return void n(null);var i=new o;e.elements.forEach(function(e){i.addOperation(c.prefetchRenditionsForElement,[e],c)}),i.run(n)},c.addToRenditionSizeConfig=function(e){var t=i.RENDITION_SIZES,n=t["*"]||[];n=JSON.parse(JSON.stringify(n));var r=e["*"]||[];Object.keys(t).forEach(function(n){if(!e[n]){var i=t[n];r.forEach(function(e){i.indexOf(e)===-1&&i.push(e)}),t[n]=i}}),Object.keys(e).forEach(function(i){var r=t[i]||JSON.parse(JSON.stringify(n)),o=e[i];o.forEach(function(e){r.indexOf(e)===-1&&r.push(e)}),t[i]=r}),i.setParameter("RENDITION_SIZES",t)},c.addToFullRenditionConfig=function(e){var t=i.FULL_RENDITION_CONFIG;Object.keys(e).forEach(function(n){var i=t[n]||{},r=e[n];r.forEach(function(e){e.id&&(i[e.id]=e)}),t[n]=i}),i.setParameter("FULL_RENDITION_CONFIG",t)},c.addToPendingSetRenditionCache=function(e,t,n,i,r){e=e||{data:[],callbacks:[]};var o=[];return e.data.forEach(function(i,r){e.callbacks[r]||i.element!==t.id||i.size!==n||"CLEAR"!==i.path||o.unshift(r)}),o.forEach(function(t){e.data.splice(t,1),e.callbacks.splice(t,1)}),e.data.push({element:t.id,size:n,path:i}),e.callbacks.push(r),e},Object.seal(c),c}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/utils/AdobeLibraryFeatureUtils",["require","exports","module","../AdobeLibraryServices","../AdobeLibraryConfig"],function(e,t,n){"use strict";var i=e("../AdobeLibraryServices"),r=e("../AdobeLibraryConfig"),o=function(){return i.storageInterface.getServiceInfo()},a=function(){var e=o(),t=e&&e.apiVersion;return t||0},s={};return s.supportsClearRenditionCache=function(){return a()>=7},s.supportsTestExternalLink=function(){return a()>=10},s.updateElementActionMap=function(e){if(o()){if(a()<9){var t=e.types;e.types=r.ELEMENT_ACTION_PRODUCT_MAP.types,e.types["application/vnd.adobe.element.image+dcx"]=t}r.ELEMENT_ACTION_PRODUCT_MAP=e}},s.formatElementActionMapForClient=function(e){return e<9?{types:r.ELEMENT_ACTION_PRODUCT_MAP.types["application/vnd.adobe.element.image+dcx"],products:r.ELEMENT_ACTION_PRODUCT_MAP.products,installedApps:r.ELEMENT_ACTION_PRODUCT_MAP.installedApps}:r.ELEMENT_ACTION_PRODUCT_MAP},Object.seal(s),s}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/AdobeLibraryRepresentation",["require","exports","module","./AdobeLibraryServices","./AdobeLibraryConfig","./AdobeLibraryError","./utils/AdobeLibraryLock","./utils/AdobeLibraryMimeTypeUtils","./utils/AdobeLibraryManifestUtils","./utils/AdobeLibraryFileUtils","./utils/AdobeLibraryErrorUtils","./utils/AdobeLibrarySyncUtils","./utils/AdobeLibraryGeneralUtils","./utils/AdobeLibraryRenditionUtils","./utils/AdobeLibraryFeatureUtils"],function(e,t,n){"use strict";function i(e,t,n){this._element=e,t?this._setDCXNode(t):this._setDCXComponent(n),this._lock=new s,this._pendingDownloadCallbacks=[]}var r=e("./AdobeLibraryServices"),o=e("./AdobeLibraryConfig"),a=e("./AdobeLibraryError"),s=e("./utils/AdobeLibraryLock"),l=e("./utils/AdobeLibraryMimeTypeUtils"),c=e("./utils/AdobeLibraryManifestUtils"),u=e("./utils/AdobeLibraryFileUtils"),d=e("./utils/AdobeLibraryErrorUtils"),p=e("./utils/AdobeLibrarySyncUtils"),h=e("./utils/AdobeLibraryGeneralUtils"),f=e("./utils/AdobeLibraryRenditionUtils"),g=e("./utils/AdobeLibraryFeatureUtils");return i.prototype._setDCXNode=function(e){this._dcxNode=e,delete this._dcxComponent,this._deletedLocally=!1},i.prototype._setDCXComponent=function(e,t){this._dcxComponent=e,delete this._dcxNode,t||(this._deletedLocally=!1)},i.prototype._markDeletedLocally=function(e){this._deletedLocally=e},i.prototype._toJSON=function(){var e={id:this.id,type:this.type,relationship:this.relationship};return r.hasFileSystem()&&(e._componentPath=this._getComponentPath()),e},i.prototype._getOrder=function(){return this._getDCXElement().getValue(o.REPRESENTATION_ORDER_KEY)||0},i.prototype._setComponentInBrowser=function(e,t,n){var i=this,r=this._element._library._collection._syncManager;r.uploadNewComponentForRepresentation(e,t,this,function(e,t){if(c.checkDeletedState(i,n))return void n(e);if(e)return void n(e);c.copyCustomDCXData(i._dcxNode,t);var r=i._element._library._dcxBranch;r.removeChild(i._dcxNode),i._setDCXComponent(t,!0),i._commit(),n(null)})},i.prototype._setComponentFromPath=function(e,t,n){var i=this,o=e&&r.getFileNameFromPath(e),a=u.getFileExtension(o),s=this.id+"."+a;u.checkFileSize(e,function(a){return a?void n(a):void r.storageInterface.notifyStartWrite(i._element._library,[],function(){var r=i._element._library._dcxBranch;r.addComponent(o,i.type,i.relationship,s,e,t,void 0,i._element._dcxNode,i.id,function(e,t){if(!c.checkDeletedState(i,n)){if(e)return void n(e);c.copyCustomDCXData(i._dcxNode,t),r.removeChild(i._dcxNode),i._setDCXComponent(t,!0),i._commit(),n(null)}})})})},i.prototype._setComponent=function(e,t,n,i){function o(e){if(!c.checkDeletedState(h,i))return e?void i(d.getCommitError(e,h._element._library.id,"error writing representation contents")):void h._setComponentFromPath(s,!1,i)}function a(){"buffer"===t?p.writeFile(s,e,o):p.writeFile(s,e,t,o)}var s,p=r.fs,h=this,f=this.element.library.collection._getTempDir();u.ensurePathExists(f,function(e){if(!c.checkDeletedState(h,i)){if(e)return void i(d.getCommitError(e,h._element._library.id,"error creating temp directory"));if(!n){var t=l.getExtensions(h.type)[0];n=h.id+"."+t}s=f+r.getPathSeparator()+n,a()}})},i.prototype._getCurrentComponentPath=function(){if(this._dcxComponent)return this._element._library._dcxBranch.assetOfComponent(this._dcxComponent)},i.prototype._getComponentPath=function(e,t){var n=this;if(!e)return this._getCurrentComponentPath();if(this.isExternalLink)this._getExternalLinkPath(!1,e);else if(this._dcxComponent){var i=this._getCurrentComponentPath();if(i||t)e(null,i);else{var r=this._element._library;r._networkLock.obtain(function(t){if(t)return void e(t);if(c.checkDeletedState(n,e))return void r._networkLock.release();r._setSyncState("downloading");var i=r._collection._syncManager;i.downloadRepresentation(n,function(t){if(r._networkLock.release(),r._setSyncState(),!c.checkDeletedState(n,e)){if(t)return void e(d.getSyncError(t,n._element._library.id));r._commit(!0,!0),n._getComponentPath(e,!0)}})})}}else{var o=this._getContentFromData();if(o){var a=this.element._lookupRenditionPath(this.id);a?e(null,a):this._generateContentDataFile(o,e)}else e(null)}},i.prototype._getContentFromData=function(){if(r.hasFileSystem()){var e=o.REPRESENTATION_CONTENT_VALUES[this.type];if(e&&e.contentFromData)return this.getValue(e.namespace,e.key)}},i.prototype._generateContentDataFile=function(e,t){var n=this,i=this.element.library.collection._getTempDir(),o=l.getExtensions(this.type)[0];u.writeJSONData(i,this.id+"."+o,e,function(e,i){return e?t(d.getCommitError(e)):void n.element.setThumbnailCache(n.id,i,function(e,i){r.storageInterface.notifyDownloadRendition(n.element),t(e,i)})})},i.prototype._setRenditionCache=function(e,t,n,i){var r=this.element;r._lock.obtain(function(){r._setRenditionCache(e,t,n),r._lock.release(),i()})},i.prototype._getCachedExternalLinkPath=function(e){var t=null,n=this.element._lookupRenditionPath(this.id);if(e||n!==o.RENDITION_CACHE_PLACEHOLDER||(n=void 0),d.isErrorCode(n)&&(t=new a(n,"Broken link, or access denied",this.element.library.id),n=void 0),!t&&!n){var i=this._dcxNode.getValue(o.LINK_URL_KEY);t=p.validateURL(i)}return{err:t,path:n}},i.prototype._getExternalLinkPath=function(e,t){var n=this;n._lock.obtain(function(){n._getExternalLinkPathUnsafe(e,function(e,i){n._lock.release(),t(e,i)})})},i.prototype._getExternalLinkPathUnsafe=function(e,t){var n=this,i=this.element.library,s=i.collection,u=s._getTempDir();if(!e){var h=this._getCachedExternalLinkPath();if(h.err||h.path)return void t(h.err,h.path)}if(o.SHARED_LOCAL_STORAGE)return void r.storageInterface.downloadExternalLink(n,t);if(this._pendingDownloadCallbacks.push(t),!(this._pendingDownloadCallbacks.length>1)){var f=function(e,t){var i=n._pendingDownloadCallbacks;n._pendingDownloadCallbacks=[],i.forEach(function(n){n(e,t)})},g=function(e,t,i){s._updateExternalLinkDownloadProgress(n,e,t,i)},m=function(e,t){var o=function(t,n){g(void 0,void 0,e),f(t,n)};return e?void o(e):d.isErrorCode(t)?void n._setRenditionCache(n.id,t,!0,function(){o(new a(t,"Broken link, or access denied",i.id))}):void n.element.setThumbnailCache(n.id,t,function(e,t){r.storageInterface.notifyDownloadRendition(n.element),o(e,t)})},v=this._dcxNode.getValue(o.LINK_URL_KEY),_=(new Date).valueOf();r.log("Downloading from external URL: "+v),s._syncManager.getAssetFromURL(v,{},u,g,function(e,t,i,o){if(r.log("Finished downloading from external URL: "+((new Date).valueOf()-_)+"ms"),!c.checkDeletedState(n,m)){var u=e&&e.response&&e.response.statusCode;if(p.isUnrecoverableClientError(u,s.isPublic))return void m(null,a.RENDITION_NOT_AVAILABLE);if(e)return void m(d.getSyncError(e));var h=p.getContentTypeHeader(o&&o.headers)||n.type,f=l.getExtensions(h)[0]||"data",g=t+"."+f;r.fs.rename(t,g,function(e){return e?void m(d.getCommitError(e)):void m(null,g)})}})}},i.prototype._testExternalLink=function(e,t){var n=this;n._lock.obtain(function(){n._testExternalLinkUnsafe(e,function(e,i){n._lock.release(),t(e,i)})})},i.prototype._testExternalLinkUnsafe=function(e,t){var n=this;if(!e){var i=this._getCachedExternalLinkPath(!0);if(i.err)return void t(null,!1);if(i.path)return void t(null,!0)}if(o.SHARED_LOCAL_STORAGE&&g.supportsTestExternalLink())return void r.storageInterface.testExternalLink(this,t);var s=this.element.library.collection,l=this._dcxNode.getValue(o.LINK_URL_KEY);s._updateExternalLinkDownloadProgress(this,0,1);var c=function(e,i){s._updateExternalLinkDownloadProgress(n),t(e,i)},u=(new Date).valueOf();r.log("HEAD request of external URL: "+l),r.storageInterface.doHeadRequestOfURL(s,l,function(e,t){if(r.log("Finished HEAD request of external URL: "+((new Date).valueOf()-u)+"ms"),e)return void c(null,!0);var i=t&&t.statusCode;p.isUnrecoverableClientError(i,s.isPublic)?n._setRenditionCache(n.id,a.RENDITION_NOT_AVAILABLE,!0,function(){c(null,!1)}):i&&i>=200&&i<400?n._setRenditionCache(n.id,o.RENDITION_CACHE_PLACEHOLDER,!1,function(){c(null,!0)}):c(null,!0)})},i.prototype._getDCXElement=function(){return this._dcxComponent||this._dcxNode},i.prototype._commit=function(){this._element._commit()},i.prototype._getMissingLocalComponents=function(){return r.hasFileSystem()&&this._dcxComponent&&!this._getCurrentComponentPath()?[this._dcxComponent]:[]},i.prototype.jasmineToString=function(){return this.toString()},Object.defineProperties(i.prototype,{id:{get:function(){return this._getDCXElement().id},set:function(e){throw new a(a.READ_ONLY,"Cannot change the id of an existing representation",this._element._library.id)}},element:{get:function(){return this._element},set:function(e){throw new a(a.READ_ONLY,"element is a read-only property",this._element._library.id)}},isWritable:{get:function(){return this._element.isWritable},set:function(){throw new a(a.READ_ONLY,"isWritable is a read-only property",this._element._library.id)}},type:{get:function(){var e=this._getDCXElement().type;return e===o.LINK_REPRESENTATION_TYPE&&(e=this._getDCXElement().getValue(o.LINK_TYPE_KEY)),e},set:function(e){throw new a(a.READ_ONLY,"Cannot change the content type of an existing representation",this._element._library.id)}},relationship:{get:function(){return this._dcxComponent?this._dcxComponent.relationship:this._dcxNode.getValue(o.RELATIONSHIP_KEY)||this._dcxNode.getValue("relationship")},set:function(e){this._element._validateRelationship(e,this),this._dcxComponent?this._dcxComponent.relationship=e:this._dcxNode.setValue(o.RELATIONSHIP_KEY,e)}},width:{get:function(){return this._dcxComponent?this._dcxComponent.getValue("width"):this._dcxNode.getValue(o.WIDTH_KEY)},set:function(e){if(c.checkDeletedState(this),!this.isWritable)throw new a(a.NOT_ALLOWED,"you do not have write access to this library",this._element._library.id);if(!this._dcxComponent&&!this.isExternalLink)throw new a(a.INVALID_PARAMETER,"Cannot set width on a representation without contents",this._element._library.id);if("number"!=typeof e||e<0)throw new a(a.INVALID_PARAMETER,"Invalid width",this._element._library.id);this._dcxComponent?this._dcxComponent.setValue("width",e):this._dcxNode.setValue(o.WIDTH_KEY,e),this._commit()}},height:{get:function(){return this._dcxComponent?this._dcxComponent.getValue("height"):this._dcxNode.getValue(o.HEIGHT_KEY)},set:function(e){if(c.checkDeletedState(this),!this.isWritable)throw new a(a.NOT_ALLOWED,"you do not have write access to this library",this._element._library.id);if(!this._dcxComponent&&!this.isExternalLink)throw new a(a.INVALID_PARAMETER,"Cannot set height on a representation without contents",this._element._library.id);if("number"!=typeof e||e<0)throw new a(a.INVALID_PARAMETER,"Invalid height",this._element._library.id);this._dcxComponent?this._dcxComponent.setValue("height",e):this._dcxNode.setValue(o.HEIGHT_KEY,e),this._commit()}},isFullSize:{get:function(){return this._getDCXElement().getValue(o.IS_FULL_SIZE_KEY)},set:function(e){if(c.checkDeletedState(this),!this.isWritable)throw new a(a.NOT_ALLOWED,"you do not have write access to this library",this._element._library.id);if(!this._dcxComponent&&!this.isExternalLink)throw new a(a.INVALID_PARAMETER,"Cannot set isFullSize on a representation without contents",this._element._library.id);if("boolean"!=typeof e)throw new a(a.INVALID_PARAMETER,"Invalid isFullSize",this._element._library.id);this._getDCXElement().setValue(o.IS_FULL_SIZE_KEY,e),this._commit()}},isPreferredThumbnail:{get:function(){return this._getDCXElement().getValue(o.IS_PREFERRED_THUMBNAIL_KEY)||!1},set:function(e){if(c.checkDeletedState(this),!this.isWritable)throw new a(a.NOT_ALLOWED,"you do not have write access to this library",this._element._library.id);if("boolean"!=typeof e)throw new a(a.INVALID_PARAMETER,"Invalid isPreferredThumbnail",this._element._library.id);this._getDCXElement().setValue(o.IS_PREFERRED_THUMBNAIL_KEY,e),this._commit()}},contentLength:{get:function(){if(this.isExternalLink)return this._dcxNode.getValue(o.LENGTH_KEY);if(this._dcxComponent){if(void 0===this._dcxComponent.length&&r.hasFileSystem()){var e=this._getCurrentComponentPath(),t="statSync";try{var n=r.fs[t](e);return n&&n.size}catch(e){}}return this._dcxComponent.length}},set:function(e){if(!this.isExternalLink)throw new a(a.READ_ONLY,"setContentLength can only be used for an externally-linked representation",this._element._library.id);if("number"!=typeof e||e<0)throw new a(a.INVALID_PARAMETER,"Invalid content length",this._element._library.id);this._dcxNode.setValue(o.LENGTH_KEY,e),this._commit()}},isDeletedLocally:{get:function(){return this._deletedLocally},set:function(e){throw new a(a.READ_ONLY,"isDeletedLocally is a read-only property",this._element._library.id)}},isExternalLink:{get:function(){return void 0!==this._dcxNode&&this._dcxNode.type===o.LINK_REPRESENTATION_TYPE},set:function(e){throw new a(a.READ_ONLY,"isExternalLink is a read-only property",this._element._library.id)}}}),i.prototype.isCompatibleType=function(e){if(this._dcxComponent){var t=u.getFileExtension(this._dcxComponent.path),n=l.getExtensions(e);if(n.indexOf(t)===-1)return!1}return c.isCompatibleType(e,this.type)},i.prototype.toString=function(){return JSON.stringify(this._toJSON())},i.prototype.getValue=function(e,t){if(e===o.DL_NAMESPACE)throw new a(a.INVALID_PARAMETER,"Reserved namespace",this._element._library.id);var n=c.getDCXKey(e,t);return this._getDCXElement().getValue(n)},i.prototype.getValues=function(){return c.getCustomDCXData(this._getDCXElement())},i.prototype.setValue=function(e,t,n){if(c.checkDeletedState(this),!this.isWritable)throw new a(a.NOT_ALLOWED,"you do not have write access to this library",this._element._library.id);if(e===o.DL_NAMESPACE)throw new a(a.INVALID_PARAMETER,"Reserved namespace",this._element._library.id);var i,r=c.getDCXKey(e,t);try{i=JSON.parse(JSON.stringify(n))}catch(e){throw new a(a.INVALID_PARAMETER,"Value cannot be serialized to JSON",this._element._library.id)}this._getDCXElement().setValue(r,i),this._commit()},i.prototype.setContent=function(e,t,n,i){if(!c.checkDeletedState(this,i)){if(!this.isWritable)return void i(new a(a.NOT_ALLOWED,"you do not have write access to this library",this._element._library.id));if(this._dcxComponent||this.isExternalLink)return void i(new a(a.INVALID_PARAMETER,"Cannot modify representation content once set",this._element._library.id));if(r.hasFileSystem()){if(!c.checkEncoding(t,["utf8","ascii","base64","buffer"],i))return;this._setComponent(e,t,n,i)}else{if(void 0!==t)return void i(new a(a.INVALID_PARAMETER,"Encoding parameter not supported in-browser"));this._setComponentInBrowser(e,n,i)}}},i.prototype.setContentFromPath=function(e,t,n){return"function"==typeof t&&(n=t,t=!1),r.hasFileSystem()?c.checkDeletedState(this,n)?void 0:this.isWritable?this._dcxComponent||this.isExternalLink?void n(new a(a.INVALID_PARAMETER,"Cannot modify representation content once set",this._element._library.id)):void this._setComponentFromPath(e,!t,n):void n(new a(a.NOT_ALLOWED,"you do not have write access to this library",this._element._library.id)):void n(new a(a.REQUIRES_FILESYSTEM,"path-based APIs require a filesystem",this._element._library.id))},i.prototype.setContentFromURL=function(e,t,n,i){if(!r.hasFileSystem()&&!e)return void i(new a(a.NOT_IMPLEMENTED,"not yet implemented setContentFromURL without a filesystem",this._element._library.id));if(!c.checkDeletedState(this,i)){if(!this.isWritable)return void i(new a(a.NOT_ALLOWED,"you do not have write access to this library",this._element._library.id));if("boolean"!=typeof e)return void i(new a(a.INVALID_PARAMETER,"Invalid createLink parameter: must be Boolean",this._element._library.id));if(this._dcxComponent||this.isExternalLink)return void i(new a(a.INVALID_PARAMETER,"Cannot modify representation content once set",this._element._library.id));if(e)return this._dcxNode.setValue(o.LINK_TYPE_KEY,this._dcxNode.type),this._dcxNode.type=o.LINK_REPRESENTATION_TYPE,this._dcxNode.setValue(o.LINK_URL_KEY,t),this._commit(),void i(null);var s=this,u=this.element.library.collection,h=u._getTempDir();r.storageInterface.getAssetFromURL(u,t,n,h,function(e,t,n,o){if(e)return void i(d.getSyncError(e));if(!c.checkDeletedState(s,i)){var a=p.getContentTypeHeader(o&&o.headers);if(a){var u=l.getExtensions(a)[0],h=t+"."+u;r.fs.rename(t,h,function(e){return e?void i(d.getCommitError(e)):void s._setComponentFromPath(h,!1,i)})}else s._setComponentFromPath(t,!1,i)}})}},i.prototype.getContentPath=function(e){return r.hasFileSystem()?void(c.checkDeletedState(this,e)||this._getComponentPath(e)):void e(new a(a.REQUIRES_FILESYSTEM,"path-based APIs require a filesystem",this._element._library.id))},i.prototype.getCachedContentPath=function(){if(r.hasFileSystem()){if(this.isExternalLink){var e=this._getCachedExternalLinkPath();return e.path}return this._dcxComponent?this._getCurrentComponentPath()||void 0:void 0}},i.prototype.getContent=function(e,t){var n=r.fs,i=this;if(!c.checkDeletedState(this,t))if(r.hasFileSystem()){if(!c.checkEncoding(e,["utf8","ascii","base64","buffer"],t))return;this._getComponentPath(function(r,o){if(r||!o)return void t(r);if(!c.checkDeletedState(i,t)){var a=function(e,n){e&&d.getCommitError(e,i._element._library.id,"error reading content from disk"),t(e,n)};"buffer"===e?n.readFile(o,a):n.readFile(o,e,a)}})}else{if(!c.checkEncoding(e,["text","blob","arraybuffer"],t))return;if(!this._dcxComponent)return void t(null);var o=this._element._library._collection._syncManager;o.getSharedCloudContent(this,e,t)}},i.prototype.getContentURL=function(){if(this.isExternalLink)return this._dcxNode.getValue(o.LINK_URL_KEY);if(this._dcxComponent){var e=this._element._library._collection._syncManager;return e.getSharedCloudContentURL(this._dcxComponent)}},i.prototype.getAuthenticatedContentURL=function(e){var t=this.getContentURL(),n=this._element._library._collection._syncManager;n.appendAccessTokenToURL(t,e)},i.prototype.testExternalLink=function(e){return this.isExternalLink&&this.getContentURL()?void this._testExternalLink(!1,e):void e(new a(a.INVALID_PARAMETER,"Not an external link",this._element._library.id))},i.prototype.clearCachedExternalLink=function(){if(!this.isExternalLink||!this.getContentURL())throw new a(a.INVALID_PARAMETER,"Not an external link",this._element._library.id);if(o.SHARED_LOCAL_STORAGE)return void r.storageInterface.clearCachedExternalLink(this);var e=h.wrapCallback();f.shouldPrefetchExternalLink(this)?this._getExternalLinkPath(!0,e):this._testExternalLink(!0,e)},i.prototype.getCachedExternalLinkError=function(){if(!this.isExternalLink||!this.getContentURL())return new a(a.INVALID_PARAMETER,"Not an external link",this._element._library.id);var e=this._getCachedExternalLinkPath();return e.err},i.prototype.getExternalLinkDownloadProgress=function(){if(this.isExternalLink)return this.element.library.collection._getExternalLinkDownloadProgress(this)},Object.freeze(i),Object.seal(i.prototype),i}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/AdobeLibraryElementAction",["require","exports","module","./AdobeLibraryError","./utils/AdobeLibraryGeneralUtils","./AdobeLibraryConfig","./AdobeLibraryServices","./AdobeLibraryAnalytics"],function(e,t,n){"use strict";function i(e,t){this._element=e,this._id=t.action,this._appCode=t.appCode,this._appName=t.appName,this._minVersion=t.minVersion,this._installedVersions=a.ELEMENT_ACTION_PRODUCT_MAP.installedApps.filter(function(e){return e.code===t.appCode}).map(function(e){return e.version}).sort(o.compareVersions),this._invokable=this._installedVersions.length>0&&o.compareVersions(t.minVersion,this._installedVersions[0])>=0,Object.freeze(this._installedVersions)}var r=e("./AdobeLibraryError"),o=e("./utils/AdobeLibraryGeneralUtils"),a=e("./AdobeLibraryConfig"),s=e("./AdobeLibraryServices"),l=e("./AdobeLibraryAnalytics");return Object.defineProperties(i.prototype,{id:{get:function(){return this._id},set:function(e){throw new r(r.READ_ONLY,"Cannot change the id of an existing element action",this._id)}},element:{get:function(){return this._element},set:function(e){throw new r(r.READ_ONLY,"element is a read-only property",this._element.id)}},appCode:{get:function(){return this._appCode},set:function(){throw new r(r.READ_ONLY,"Cannot change the app code of an element action",this._appCode)}},appName:{get:function(){return this._appName},set:function(){throw new r(r.READ_ONLY,"Cannot change the app name of an element action",this._appName)}},minAppVersion:{get:function(){return this._minVersion},set:function(){throw new r(r.READ_ONLY,"Cannot change the min version of an element action",this._minVersion)}},installedVersions:{get:function(){return this._installedVersions},set:function(){throw new r(r.READ_ONLY,"Cannot change the installed versions of an element action")}},isCompatibleVersionInstalled:{get:function(){return!!this._invokable},set:function(){throw new r(r.READ_ONLY,"Cannot change the compatibility of an element action")}}}),i.prototype.invoke=function(e){var t=o.wrapCallback(e);return this.isCompatibleVersionInstalled?(l.reportElementActionInvoked(this),void s.storageInterface.sendElementAction(this,function(e,n){e?(e=["APP_NOT_INSTALLED","NO_COMPATIBLE_VERSION"].indexOf(e)!==-1?new r(r.NO_COMPATIBLE_APP_FOUND,"A compatible version of application is needed for this action:"+e):new r(r.APP_LAUNCH_FAILED,"Launching the app failed:"+e),l.reportElementActionFailed(this,e)):l.reportElementActionSuccessful(this,n),t(e,n)})):void t(new r(r.NO_COMPATIBLE_APP_FOUND,"A compatible version of application is needed for this action",this._appCode))},Object.freeze(i),Object.seal(i.prototype),i}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/utils/AdobeLibraryListenerManager",["require","exports","module","../AdobeLibraryServices","../AdobeLibraryError"],function(e,t,n){"use strict";function i(e){this._restrictedTypes=e,this._listeners={}}var r=e("../AdobeLibraryServices"),o=e("../AdobeLibraryError");return i.prototype._checkType=function(e){if(this._restrictedTypes&&this._restrictedTypes.indexOf(e)===-1){var t="["+this._restrictedTypes.join(", ")+"]";throw new o(o.INVALID_PARAMETER,e+" is not allowed. Should be one of: "+t)}},i.prototype.add=function(e,t){this._checkType(e),this._listeners[e]=this._listeners[e]||[],this._listeners[e].push(t)},i.prototype.remove=function(e,t){this._checkType(e);var n=this._listeners[e];if(n){var i=n.indexOf(t);i!==-1&&n.splice(i,1)}},i.prototype.removeAll=function(e){e?(this._checkType(e),delete this._listeners[e]):this._listeners={}},i.prototype.notify=function(e,t){this._checkType(e);var n=this._listeners[e];n&&n.slice(0).forEach(function(e){try{e.apply(void 0,t||[])}catch(e){r.log("Error in listener callback: "+(e?e.toString():"")),e&&e.stack&&r.log(e.stack)}})},i.prototype.hasListeners=function(e){this._checkType(e);var t=this._listeners[e];return!!(t&&t.length>0)},i.prototype.forEach=function(e){var t=this._listeners;Object.keys(t).forEach(function(n){t[n].forEach(function(t){e(n,t)})})},Object.freeze(i),Object.seal(i.prototype),i}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/AdobeLibraryElement",["require","exports","module","./AdobeLibraryServices","./AdobeLibraryConfig","./AdobeLibraryRepresentation","./AdobeLibraryAnalytics","./AdobeLibraryError","./AdobeLibraryElementAction","./utils/AdobeLibraryLock","./utils/AdobeLibraryManifestUtils","./utils/AdobeLibraryFileUtils","./utils/AdobeLibraryRenditionUtils","./utils/AdobeLibraryErrorUtils","./utils/AdobeLibraryFeatureUtils","./utils/AdobeLibraryListenerManager"],function(e,t,n){"use strict";function i(e,t){this._library=e,this._renditionCache={},this._lock=new u,this._listenerManager=new m(["change"]),this._transactionCount=0,this._setDCXNode(t)}var r=e("./AdobeLibraryServices"),o=e("./AdobeLibraryConfig"),a=e("./AdobeLibraryRepresentation"),s=e("./AdobeLibraryAnalytics"),l=e("./AdobeLibraryError"),c=e("./AdobeLibraryElementAction"),u=e("./utils/AdobeLibraryLock"),d=e("./utils/AdobeLibraryManifestUtils"),p=e("./utils/AdobeLibraryFileUtils"),h=e("./utils/AdobeLibraryRenditionUtils"),f=e("./utils/AdobeLibraryErrorUtils"),g=e("./utils/AdobeLibraryFeatureUtils"),m=e("./utils/AdobeLibraryListenerManager");return i.prototype._setDCXNode=function(e,t,n){var i=this,r={};this._representations&&this._representations.forEach(function(e){r[e.id]=e}),this._dcxNode=e,this._representations=[],this._deletedLocally=!1;var o=this._library._dcxBranch.getChildrenOf(e);o.forEach(function(e){var t=r[e.id];t?(t._setDCXNode(e),delete r[e.id]):t=new a(i,e),i._representations.push(t)});var s=this._library._dcxBranch.getComponentsOf(e);s.forEach(function(e){var t=r[e.id];t?(t._setDCXComponent(e),delete r[e.id]):t=new a(i,void 0,e),i._representations.push(t)}),d.sortRepresentations(this._representations),n||this._clearRenditionCache(t,!1),this._displayName=void 0},i.prototype._markDeletedLocally=function(e){this._deletedLocally=e,this._representations.forEach(function(t){t._markDeletedLocally(e)}),e&&this._listenerManager.removeAll()},i.prototype._removeAllListeners=function(){this._listenerManager.removeAll()},i.prototype._toJSON=function(){var e={id:this.id,name:this.name,type:this.type,representations:[]};return this._representations.forEach(function(t){e.representations.push(t._toJSON())}),e.representations.sort(function(e,t){return e.type>t.type?1:e.type<t.type?-1:0}),e},i.prototype._addRepresentation=function(e,t){void 0!==t?this._representations.splice(t,0,e):this._representations.push(e)},i.prototype._removeRepresentation=function(e){var t=this._representations.indexOf(e);t!==-1&&this._representations.splice(t,1)},i.prototype._validateRelationship=function(e,t){if(o.VALID_RELATIONS.indexOf(e)===-1)throw new l(l.INVALID_PARAMETER,"Unsupported relationship",this._library.id);if(this._representations.length>0&&"primary"===e){var n=this;this._representations.forEach(function(t){if(t!==e&&"primary"===t.relationship)throw new l(l.INVALID_PARAMETER,"Cannot have more than one primary representation",n._library.id)})}},i.prototype._doCreateRepresentation=function(e,t,n){var i=this._library._dcxBranch.addChild(void 0,void 0,void 0,this._dcxNode);if(i.type=e,i.setValue(o.RELATIONSHIP_KEY,t),void 0===n){var r=this.representations[this.representations.length-1],s=Math.max(this.representations.length,r?r._getOrder()+1:0);i.setValue(o.REPRESENTATION_ORDER_KEY,s)}else i.setValue(o.REPRESENTATION_ORDER_KEY,n),this._representations.forEach(function(e,t){if(t>=n){var i=e._getDCXElement(),r=i.getValue(o.REPRESENTATION_ORDER_KEY);void 0!==r&&i.setValue(o.REPRESENTATION_ORDER_KEY,r+1)}});var l=new a(this,i);return this._addRepresentation(l,n),l},i.prototype._lookupRenditionPath=function(e){var t="existsSync",n=r.getPathSeparator(),i=this._renditionCache[e];if(i){if(i===o.RENDITION_CACHE_PLACEHOLDER||f.isErrorCode(i))return i;var a=this._library._getRenditionCacheDir()+n+i;if(o.SHARED_LOCAL_STORAGE||r.fs[t](a))return a}},i.prototype._getNewRenditionPath=function(e,t){var n=this,i=r.getPathSeparator(),o=this._library._getRenditionCacheDir();p.ensurePathExists(o,function(a){if(!d.checkDeletedState(n,t)){var s=r.uuid()+"."+(e||"png"),l=o+i+s;t(a,l,s)}})},i.prototype._getEventData=function(e,t){var n=!t&&{},i=this._dcxNode.getValue(o[e+"_DATA_KEY"])||n;if("CREATED"!==e){var r=this._dcxNode.getValue(o[e+"_KEY"]);r&&r===i.time||(i=n)}return i},i.prototype._isLocalEvent=function(e){var t=this._getEventData(e).deviceId;if(t&&o.DEVICE_ID)return t===o.DEVICE_ID},i.prototype._getEventContext=function(e){var t=JSON.parse(JSON.stringify(this._getEventData(e)));return delete t.time,delete t.deviceId,delete t.userId,t},i.prototype._clearEventData=function(e){this._dcxNode.getValue(o[e+"_DATA_KEY"])&&this._dcxNode.removeValue(o[e+"_DATA_KEY"])},i.prototype._setEventData=function(e,t){if(!o.DEVICE_ID)return void this._clearEventData(e);var n={userId:this.library.collection.userId,deviceId:o.DEVICE_ID};o.DEVICE_DESCRIPTION&&(n.device=o.DEVICE_DESCRIPTION),o.APP_DESCRIPTION&&(n.app=o.APP_DESCRIPTION),t&&(n.time=t),this._dcxNode.setValue(o[e+"_DATA_KEY"],n)},i.prototype._updateModifiedTime=function(){var e=(new Date).valueOf();this._dcxNode.setValue(o.MODIFIED_KEY,e),this._setEventData("MODIFIED",e)},i.prototype._updateCreatedTime=function(){var e=(new Date).valueOf();this._dcxNode.setValue(o.CREATED_KEY,e),this._dcxNode.setValue(o.MODIFIED_KEY,e),this._setEventData("CREATED"),this._setEventData("MODIFIED",e)},i.prototype._updateTimestampOnRemove=function(e){var t=e||(new Date).valueOf();this._dcxNode.setValue(o.REMOVED_KEY,t),this._setEventData("REMOVED",t)},i.prototype._updateTimestampOnRestore=function(){this._dcxNode.removeValue(o.REMOVED_KEY),this._clearEventData("REMOVED")},i.prototype._ensureRemovedDataValid=function(e){this.removed&&!this._getEventData("REMOVED",!0)?e?this._setEventData("REMOVED",this.removed):this._clearEventData("REMOVED"):this.removed||this._clearEventData("REMOVED");
},i.prototype._ensureModifiedDataValid=function(e){this._getEventData("MODIFIED",!0)||(e?this._setEventData("MODIFIED",this.modified):this._clearEventData("MODIFIED")),this._ensureRemovedDataValid(e)},i.prototype._ensureCreatedDataValid=function(e){e&&!this._getEventData("CREATED",!0)&&this._setEventData("CREATED"),this._ensureModifiedDataValid(e)},i.prototype._clearRenditionCache=function(e,t){var n=this,i=this._renditionCache;this._renditionCache={};var a=t&&o.SHARED_LOCAL_STORAGE&&g.supportsClearRenditionCache();Object.keys(i).forEach(function(t){!e&&!n.getRepresentationById(t)||f.isErrorCode(i[t])?a&&r.storageInterface.setRenditionCache(n,t,"CLEAR"):n._renditionCache[t]=i[t]})},i.prototype._commit=function(e){this._displayName=void 0,this._updateModifiedTime(),this._clearRenditionCache(!0,!0),this._library._commit(),this._listenerManager.notify("change"),s.reportUpdateElement(this,e)},i.prototype._commitRenditionCache=function(){this._library._commit(!0,!0),this._listenerManager.notify("change")},i.prototype._setRenditionCache=function(e,t,n){this._renditionCache[e]=t,this._commitRenditionCache(),n&&(r.storageInterface.notifyDownloadRendition(this),this._listenerManager.notify("change"))},i.prototype._wrapOperation=function(e,t){var n=this._library._wrapOperation(function(){var n=this._library._wrapOperation(e,t);return this._updateModifiedTime(),n},this);return this._listenerManager.notify("change"),n},i.prototype._getMissingLocalComponents=function(){var e=[];return this._representations.forEach(function(t){e=e.concat(t._getMissingLocalComponents())}),e},i.prototype._shouldGCLocalData=function(){var e=(new Date).valueOf();return this.removed&&e-this.removed>=o.REMOVED_ELEMENTS_CACHE_TIMEOUT},i.prototype.jasmineToString=function(){return this.toString()},Object.defineProperties(i.prototype,{id:{get:function(){return this._dcxNode.id},set:function(e){throw new l(l.READ_ONLY,"Cannot change the id of an existing element",this._library.id)}},library:{get:function(){return this._library},set:function(e){throw new l(l.READ_ONLY,"library is a read-only property",this._library.id)}},isWritable:{get:function(){return this._library.isWritable},set:function(){throw new l(l.READ_ONLY,"isWritable is a read-only property",this.id)}},name:{get:function(){return this._dcxNode.name||""},set:function(e){if(d.checkDeletedState(this),!this.isWritable)throw new l(l.NOT_ALLOWED,"you do not have write access to this library",this._library.id);this._dcxNode.name=e,this._commit(!0)}},displayName:{get:function(){return void 0===this._displayName&&(this._displayName=r.getDisplayName(this)||""),this._displayName},set:function(e){throw new l(l.READ_ONLY,"displayName is a read-only property",this._library.id)}},type:{get:function(){return this._dcxNode.type},set:function(e){throw new l(l.READ_ONLY,"Cannot change the type of an existing element",this._library.id)}},tags:{get:function(){return this._dcxNode.getValue("tags")||[]},set:function(e){if(d.checkDeletedState(this),!this.isWritable)throw new l(l.NOT_ALLOWED,"you do not have write access to this library",this._library.id);if(!e||e.constructor!==Array)throw new l(l.INVALID_PARAMETER,"tags must be an array",this._library.id);var t=e.every(function(e){return"string"==typeof e});if(!t)throw new l(l.INVALID_PARAMETER,"tags must be an array of strings",this._library.id);this._dcxNode.setValue("tags",e),this._commit()}},modified:{get:function(){return this._dcxNode.getValue(o.MODIFIED_KEY)},set:function(){throw new l(l.READ_ONLY,"Cannot change the modified timestamp of an element directly",this._library.id)}},modifiedBy:{get:function(){return this._getEventData("MODIFIED").userId},set:function(){throw new l(l.READ_ONLY,"Cannot change the modifiedBy property of an element directly",this._library.id)}},modifiedContext:{get:function(){return this._getEventContext("MODIFIED")},set:function(){throw new l(l.READ_ONLY,"Cannot change the modifiedContext property of an element directly",this._library.id)}},wasModifiedLocally:{get:function(){return this._isLocalEvent("MODIFIED")},set:function(){throw new l(l.READ_ONLY,"Cannot change the wasModifiedLocally property of an element directly",this._library.id)}},created:{get:function(){return this._dcxNode.getValue(o.CREATED_KEY)},set:function(){throw new l(l.READ_ONLY,"Cannot change the created timestamp of an element directly",this._library.id)}},createdBy:{get:function(){return this._getEventData("CREATED").userId},set:function(){throw new l(l.READ_ONLY,"Cannot change the createdBy property of an element directly",this._library.id)}},createdContext:{get:function(){return this._getEventContext("CREATED")},set:function(){throw new l(l.READ_ONLY,"Cannot change the createdContext property of an element directly",this._library.id)}},wasCreatedLocally:{get:function(){return this._isLocalEvent("CREATED")},set:function(){throw new l(l.READ_ONLY,"Cannot change the wasCreatedLocally property of an element directly",this._library.id)}},removed:{get:function(){return this._dcxNode.getValue(o.REMOVED_KEY)},set:function(){throw new l(l.READ_ONLY,"Cannot change the removed timestamp of an element directly",this._library.id)}},removedBy:{get:function(){return this._getEventData("REMOVED").userId},set:function(){throw new l(l.READ_ONLY,"Cannot change the removedBy property of an element directly",this._library.id)}},removedContext:{get:function(){return this._getEventContext("REMOVED")},set:function(){throw new l(l.READ_ONLY,"Cannot change the removedContext property of an element directly",this._library.id)}},wasRemovedLocally:{get:function(){return this._isLocalEvent("REMOVED")},set:function(){throw new l(l.READ_ONLY,"Cannot change the wasRemovedLocally property of an element directly",this._library.id)}},representations:{get:function(){return this._representations},set:function(){throw new l(l.READ_ONLY,"Cannot modify representation list directly",this._library.id)}},isDeletedLocally:{get:function(){return this._deletedLocally},set:function(){throw new l(l.READ_ONLY,"isDeletedLocally is a read-only property",this._library.id)}}}),i.prototype.toString=function(){return JSON.stringify(this._toJSON())},i.prototype.addChangeListener=function(e){d.checkDeletedState(this),this._listenerManager.add("change",e)},i.prototype.removeChangeListener=function(e){this._listenerManager.remove("change",e)},i.prototype.beginOperation=function(){if(d.checkDeletedState(this),!this.isWritable)throw new l(l.NOT_ALLOWED,"you do not have write access to this library",this.id);this._transactionCount++,this._library._beginOperation()},i.prototype.endOperation=function(e){if(d.checkDeletedState(this),!this.isWritable)throw new l(l.NOT_ALLOWED,"you do not have write access to this library",this.id);this._transactionCount>0&&(this._transactionCount--,this._library._endOperation()),e&&this._library._waitForCommit(e,!0)},i.prototype.createRepresentation=function(e,t,n,i){if(d.checkDeletedState(this),!this.isWritable)throw new l(l.NOT_ALLOWED,"you do not have write access to this library",this._library.id);return this._wrapOperation(function(){if(e===o.LINK_REPRESENTATION_TYPE)throw new l(l.INVALID_PARAMETER,"Cannot create external link representation directly - use setContentFromURL instead",this._library.id);if(void 0!==n&&(n<0||n>this._representations.length))throw new l(l.INVALID_PARAMETER,"Invalid index",this._library.id);this._validateRelationship(t);var r=this._doCreateRepresentation(e,t,n);return i||this._clearRenditionCache(!1,!0),r},this)},i.prototype.removeRepresentation=function(e){if(d.checkDeletedState(this),!this.isWritable)throw new l(l.NOT_ALLOWED,"you do not have write access to this library",this._library.id);return this._wrapOperation(function(){this._removeRepresentation(e),e._dcxComponent?this._library._dcxBranch.removeComponent(e._dcxComponent):this._library._dcxBranch.removeChild(e._dcxNode),this._clearRenditionCache(!1,!0),e._markDeletedLocally(!0)},this)},i.prototype.removeAllRepresentations=function(){if(d.checkDeletedState(this),!this.isWritable)throw new l(l.NOT_ALLOWED,"you do not have write access to this library",this._library.id);return this._wrapOperation(function(){for(;this._representations[0];)this.removeRepresentation(this._representations[0])},this)},i.prototype.getPrimaryRepresentation=function(){var e;return this._representations.forEach(function(t){e||"primary"!==t.relationship||(e=t)}),e},i.prototype.getValue=function(e,t){if(e===o.DL_NAMESPACE)throw new l(l.INVALID_PARAMETER,"Reserved namespace",this._library.id);var n=d.getDCXKey(e,t);return this._dcxNode.getValue(n)},i.prototype.getValues=function(){return d.getCustomDCXData(this._dcxNode)},i.prototype.setValue=function(e,t,n){if(d.checkDeletedState(this),!this.isWritable)throw new l(l.NOT_ALLOWED,"you do not have write access to this library",this._library.id);if(e===o.DL_NAMESPACE)throw new l(l.INVALID_PARAMETER,"Reserved namespace",this._library.id);var i,r=d.getDCXKey(e,t);try{i=JSON.parse(JSON.stringify(n))}catch(e){throw new l(l.INVALID_PARAMETER,"Value cannot be serialized to JSON",this._library.id)}this._dcxNode.setValue(r,i),this._commit()},i.prototype._getRenditionCandidate=function(e){var t,n,i,r,o,a,s,l,c=0;for(n=0;n<this._representations.length&&(i=this._representations[n],r=Math.max(i.width||0,i.height||0),o=i.isFullSize?Number.POSITIVE_INFINITY:r,a="primary"===i.relationship,s="rendition"===i.relationship,l=!t||i.isPreferredThumbnail&&!t.isPreferredThumbnail||a&&"primary"!==t.relationship||s&&"primary"!==t.relationship&&"rendition"!==t.relationship||s&&"rendition"===t.relationship&&o>c,l&&h.canComputeRendition(i)&&(t=i,c=o),!s||"image/png"!==i.type||!e||r!==e);n++);return t},i.prototype.getThumbnailURL=function(e,t){var n=this;d.checkDeletedState(this,t)||this._library._waitForCommit(function(){if(!d.checkDeletedState(n,t)){var i=n._getRenditionCandidate(e);if(i){var r=n._library._collection._syncManager;return void r.getSharedCloudRenditionUrl(i,e,t)}t(new l(l.THUMBNAIL_NOT_AVAILABLE,"no representation that can be converted into a thumbnail",n._library.id))}})},i.prototype.getThumbnailPath=function(e,t){var n=this;return r.hasFileSystem()?void(d.checkDeletedState(this,t)||this._library._waitForCommit(function(){if(!d.checkDeletedState(n,t)){if(o.SHARED_LOCAL_STORAGE)return void r.storageInterface.getRenditionPath(n,e,t);var i=function(e,i){n._lock.release(),t(e,i)};n._lock.obtain(function(){if(!d.checkDeletedState(n,i)){var t=this._lookupRenditionPath(e||"full");if(t)return void i(null,t);var o=this._getRenditionCandidate(e);if(o){if("rendition"===o.relationship&&"image/png"===o.type&&e&&Math.max(o.width||0,o.height||0)===e)return void o.getContentPath(i);var a=this._library._collection._syncManager;return void a.getSharedCloudRendition(o,e,function(t,o){if(!d.checkDeletedState(n,i))return t?void i(new l(l.THUMBNAIL_NOT_AVAILABLE,"error generating thumbnail from shared cloud",n._library.id,t)):void n._getNewRenditionPath(void 0,function(t,a,s){if(!d.checkDeletedState(n,i)){if(t)return void i(f.getCommitError(t,n._library.id,"unable to create thumbnail cache directory"));n._library._pendingRenditionCacheItems[s]=!0,r.fs.rename(o,a,function(t){if(!d.checkDeletedState(n,i)){if(t)return void i(f.getCommitError(t,n._library.id,"unable to write thumbnail to cache"));n._setRenditionCache(e||"full",s,!0),i(null,a)}})}})})}i(new l(l.THUMBNAIL_NOT_AVAILABLE,"no representation that can be converted into a thumbnail",n._library.id))}},n)}})):void t(new l(l.REQUIRES_FILESYSTEM,"path-based APIs require a filesystem",this._library.id))},i.prototype.setThumbnailCache=function(e,t,n){if("string"!=typeof t)return void n(new l(l.INVALID_PARAMETER,"path must be a string",this._library.id));if(!r.hasFileSystem())return void n(new l(l.REQUIRES_FILESYSTEM,"path-based APIs require a filesystem",this._library.id));if(!d.checkDeletedState(this,n)){if(o.SHARED_LOCAL_STORAGE)return void r.storageInterface.setRenditionCache(this,e,t,n);var i=this,a=function(e,t){i._lock.release(),n(e,t)};this._lock.obtain(function(){d.checkDeletedState(i,a)||this._getNewRenditionPath(p.getFileExtension(t),function(n,r,o){if(!d.checkDeletedState(i,a)){if(n)return void a(f.getCommitError(n,i._library.id,"unable to create thumbnail cache directory"));i._library._pendingRenditionCacheItems[o]=!0,p.copyFile(t,r,function(t){if(!d.checkDeletedState(i,a)){if(t)return void a(f.getCommitError(t,i._library.id,"unable to write thumbnail to cache"));i._setRenditionCache(e||"full",o,!1),a(null,r)}})}})},this)}},i.prototype._getActions=function(e){var t=this.getPrimaryRepresentation();if(!t)return[];var n=o.ELEMENT_ACTION_PRODUCT_MAP,i=n.types[this.type]||{},r=i[t.type]||[],a=[];r.forEach(function(t){!n.products[t]||e&&e!==n.products[t].action||a.push(new c(this,n.products[t]))}.bind(this));var s=a.map(function(e,t){return{i:t,v:e}});return s.sort(function(e,t){return e.v.isCompatibleVersionInstalled&&!t.v.isCompatibleVersionInstalled?-1:t.v.isCompatibleVersionInstalled&&!e.v.isCompatibleVersionInstalled?1:e.i-t.i}),s.map(function(e){return e.v})},i.prototype.getActions=function(e){if(!o.SHARED_LOCAL_STORAGE)throw new l(l.NOT_SUPPORTED,"getActions() not supported without shared local storage");if(e&&o.ELEMENT_ACTIONS.indexOf(e)===-1)throw new l(l.INVALID_PARAMETER,"Unknown id supplied. Potential ids are",o.ELEMENT_ACTIONS.join(", "));return this._getActions(e)},i.prototype.getReference=function(){return"cloud-asset://"+this._library._collection._syncManager.getElementRefDomain()+this._library._collection._syncManager.getElementRefPath()+"/"+this._library.id+";node="+this.id},i.prototype.getRepresentationById=function(e){var t;return this.representations.forEach(function(n){n.id===e&&(t=n)}),t},Object.freeze(i),Object.seal(i.prototype),i}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/AdobeLibraryFolder",["require","exports","module","./components/dcx-js/src/AdobeDCXError","./AdobeLibraryElement","./AdobeLibraryConfig","./AdobeLibraryAnalytics","./AdobeLibraryError","./AdobeLibraryServices","./AdobeLibraryLocalisation","./utils/AdobeLibraryAsyncJoin","./utils/AdobeLibraryLock","./utils/AdobeLibraryRenditionUtils","./utils/AdobeLibraryManifestUtils","./utils/AdobeLibraryErrorUtils","./utils/AdobeLibraryFileUtils","./utils/AdobeLibraryGeneralUtils","./utils/AdobeLibraryMimeTypeUtils","./utils/AdobeLibraryListenerManager"],function(e,t,n){"use strict";function i(e,t){this._collection=e,this._dcxComposite=t,this._dcxBranch=t.current,this._listenerManager=new y(["change"]),this._writable=!0,this._filterCache={},this._transactionCount=0,this._commitInProgress=!1,this._pendingCommit=!1,this._onCommitCallbacks=[],this._dcxLock=new p,this._renditionCacheLock=new p,this._pendingRenditionCacheItems={},this._networkLock=new p,this._syncState=void 0,this._deletedLocally=!1,this._deletedFromServer=!1,this._waitForSyncToFinishCallbacks=[],this._errors=[],this._pushFailedDueToQuota=!1,this._numUpdateConflicts=0;var n=this._dcxBranch.getChildrenOf();n.forEach(function(e){e.name===a.ELEMENTS_NAME&&(this._dcxElementsNode=e),e.name===a.REMOVED_ELEMENTS_NAME&&(this._dcxRemovedElementsNode=e)},this),this._dcxElementsNode||(this._dcxElementsNode=this._dcxBranch.addChild(a.ELEMENTS_NAME)),this._dcxCompositeRenditionMap=f.getCompositeRenditionMap(this._dcxBranch),this._elements=[],this._removedElements=[];var i=this._dcxBranch.getChildrenOf(this._dcxElementsNode);if(i.forEach(function(e){var t=new o(this,e);this._addElementToFilter(t),this._elements.push(t)},this),this._dcxRemovedElementsNode){var r=this._dcxBranch.getChildrenOf(this._dcxRemovedElementsNode);r.forEach(function(e){var t=new o(this,e);this._removedElements.push(t)},this),this._sortRemovedElements()}c.hasFileSystem()||(this._dcxBaseBranch=this._dcxBranch.copy())}var r=e("./components/dcx-js/src/AdobeDCXError"),o=e("./AdobeLibraryElement"),a=e("./AdobeLibraryConfig"),s=e("./AdobeLibraryAnalytics"),l=e("./AdobeLibraryError"),c=e("./AdobeLibraryServices"),u=e("./AdobeLibraryLocalisation"),d=e("./utils/AdobeLibraryAsyncJoin"),p=e("./utils/AdobeLibraryLock"),h=e("./utils/AdobeLibraryRenditionUtils"),f=e("./utils/AdobeLibraryManifestUtils"),g=e("./utils/AdobeLibraryErrorUtils"),m=e("./utils/AdobeLibraryFileUtils"),v=e("./utils/AdobeLibraryGeneralUtils"),_=e("./utils/AdobeLibraryMimeTypeUtils"),y=e("./utils/AdobeLibraryListenerManager");return i.prototype._getRemovedElementsNode=function(){return this._dcxRemovedElementsNode||(this._dcxRemovedElementsNode=this._dcxBranch.addChild(a.REMOVED_ELEMENTS_NAME)),this._dcxRemovedElementsNode},i.prototype._markDeletedLocally=function(e){this._deletedLocally=e,this._elements.forEach(function(t){t._markDeletedLocally(e)}),e&&this._listenerManager.removeAll()},i.prototype._removeAllListeners=function(){this._listenerManager.removeAll(),this._elements.forEach(function(e){e._removeAllListeners()})},i.prototype._toJSON=function(){var e={id:this.id,name:this.name,elements:[],renditionCache:{}};return this._elements.forEach(function(t){e.elements.push(t._toJSON()),e.renditionCache[t.id]=JSON.parse(JSON.stringify(t._renditionCache))}),e},i.prototype._getRenditionCache=function(){var e={},t=function(t){e[t.id]=JSON.parse(JSON.stringify(t._renditionCache))};return this._elements.forEach(t),this._removedElements.forEach(t),e},i.prototype._setRenditionCache=function(e){var t=function(t){e[t.id]&&(t._renditionCache=e[t.id])};this._elements.forEach(t),this._removedElements.forEach(t)},i.prototype._loadRenditionCache=function(e){var t=this;h.readRenditionCacheData(this,function(n,i){!n&&i&&t._setRenditionCache(i.renditions),e(null)})},i.prototype._saveRenditionCache=function(e){var t=this;if(!c.hasFileSystem()||a.SHARED_LOCAL_STORAGE)return void(e&&e(null));var n=function(n){t._renditionCacheLock.release(),e&&e(n)};this._renditionCacheLock.obtain(function(){var e={};e.renditions=this._getRenditionCache(),h.writeRenditionCacheData(this,e,n)},this)},i.prototype._doCommit=function(e){function t(){if(e&&!a.SHARED_LOCAL_STORAGE){if(r._deletedLocally)return;r._collection._clearSyncErrors(),r._push(),r._collection._resetPollBackoff()}}function n(e){var n=r._onCommitCallbacks;r._onCommitCallbacks=[],n.forEach(function(t){t.waitForSuccess&&!e?r._onCommitCallbacks.push(t):r._waitForCommit(t.callback)}),t()}function i(e,t){e&&(e=g.getCommitError(e,r.id,t)),r._collection._reportCommitError(e)}var r=this;return c.hasFileSystem()?this._commitInProgress?void(this._pendingCommit=!0):(this._commitInProgress=!0,void c.storageInterface.commitManifest(this,function(t,o){i(t,"Failed to write composite to disk"),r._saveRenditionCache(function(t){i(t,"Failed to write rendition cache to disk"),r._commitInProgress=!1,r._pendingCommit?(r._pendingCommit=!1,0===r._transactionCount&&r._doCommit(e)):n(o)})})):void n()},i.prototype._waitForCommit=function(e,t){this._commitInProgress||this._transactionCount>0?this._onCommitCallbacks.push({callback:e,waitForSuccess:t}):e()},i.prototype._notifyChange=function(){this._listenerManager.notify("change"),this._collection._notifyChange()},i.prototype._commit=function(e,t){0===this._transactionCount&&(t||(this._updateModifiedTime(),this._notifyChange()),this._doCommit(!e))},i.prototype._wrapOperation=function(e,t){this._beginOperation();var n;try{n=e.call(t)}catch(e){throw this._transactionCount--,e}return this._endOperation(),n},i.prototype._beginOperation=function(){this._transactionCount++},i.prototype._endOperation=function(){this._transactionCount--,this._commit()},i.prototype._updateModifiedTime=function(){var e=(new Date).valueOf();this._dcxBranch.rootNode.setValue(a.MODIFIED_KEY,e)},i.prototype._updateCreatedTime=function(){var e=(new Date).valueOf();this._dcxBranch.rootNode.setValue(a.CREATED_KEY,e),this._dcxBranch.rootNode.setValue(a.MODIFIED_KEY,e)},i.prototype._getMissingLocalComponents=function(){var e=[];return this._elements.forEach(function(t){e=e.concat(t._getMissingLocalComponents())}),e},i.prototype._gcLocalData=function(e){var t=[],n=[];return this._removedElements.forEach(function(e){e._shouldGCLocalData()&&(t.push(e),e.representations.forEach(function(e){var t=e._dcxComponent,i=e._getCurrentComponentPath();t&&i&&t.etag&&"modified"!==t.state&&n.push(t.id)}))}),0===t.length?void e(null):(t.forEach(function(e){e._renditionCache={}}),void this._dcxComposite.removeLocalFilesForComponentsWithIDs(n,e))},i.prototype._checkRenditionType=function(e,t){if(!e||a.VALID_LIBRARY_RENDITION_TYPES.indexOf(e)===-1){if(t)return t(new l(l.INVALID_PARAMETER,"composite rendition type not supported: "+e)),!1;throw new l(l.INVALID_PARAMETER,"composite rendition type not supported: "+e)}return!0},i.prototype._setRenditionFromPath=function(e,t,n,i){if(!f.checkDeletedState(this,i)){var r=this._dcxCompositeRenditionMap[e],o=this,s=t&&c.getFileNameFromPath(t),l=m.getFileExtension(s),u=c.uuid()+"."+l;m.checkFileSize(t,function(l){return l?void i(l):void c.storageInterface.notifyStartWrite(o,[],function(){o._dcxBranch.addComponent(s,n,"rendition",u,t,!0,void 0,o._dcxBranch.rootNode,void 0,function(t,n){return t?void i(t):void(f.checkDeletedState(o,i)||(n.setValue(a.MODIFIED_KEY,(new Date).valueOf()),n.setValue(a.RENDITION_TYPE_KEY,e),r&&o._dcxBranch.removeComponent(r),o._dcxCompositeRenditionMap=f.getCompositeRenditionMap(o._dcxBranch),o._commit(),i(null)))})})})}},i.prototype._setRendition=function(e,t,n,i,r){function o(t){return t?void r(g.getCommitError(t,u.id,"error writing library rendition")):void(f.checkDeletedState(u,r)||u._setRenditionFromPath(e,s,i,r))}function a(){"buffer"===n?l.writeFile(s,t,o):l.writeFile(s,t,n,o)}var s,l=c.fs,u=this,d=this.collection._getTempDir();m.ensurePathExists(d,function(e){if(e)return void r(g.getCommitError(e,u.id,"error creating temp directory"));if(!f.checkDeletedState(u,r)){var t=_.getExtensions(i)[0],n=c.uuid()+"."+t;s=d+c.getPathSeparator()+n,a()}})},i.prototype._setRenditionInBrowser=function(e,t,n,i){var r=this,o=this._dcxCompositeRenditionMap[e],s=this._collection._syncManager,l=c.uuid();s.uploadNewComponentForLibrary(t,l,n,"rendition",this,function(t,n){return t?void i(t):void(f.checkDeletedState(r,i)||(n.setValue(a.MODIFIED_KEY,(new Date).valueOf()),n.setValue(a.RENDITION_TYPE_KEY,e),o&&r._dcxBranch.removeComponent(o),r._dcxCompositeRenditionMap=f.getCompositeRenditionMap(r._dcxBranch),r._commit(),i(null)))})},i.prototype._getFilterKey=function(e){var t=e&&a.ELEMENT_TYPE_FILTERS.indexOf(e)!==-1;return t?e:"*"},i.prototype._removeElementFromFilter=function(e){var t=this._getFilterKey(e.type);if(this._filterCache[t]){var n=this._filterCache[t].indexOf(e);n!==-1&&this._filterCache[t].splice(n,1)}},i.prototype._addElementToFilter=function(e){var t=this._getFilterKey(e.type);this._filterCache[t]=this._filterCache[t]||[],this._filterCache[t].push(e)},i.prototype._doCreateElement=function(e,t){var n=this._dcxBranch.addChild(e,void 0,void 0,this._dcxElementsNode);n.path=n.id,n.type=t;var i=new o(this,n);return i._updateCreatedTime(),this._elements.push(i),this._addElementToFilter(i),i},i.prototype._doRemoveElement=function(e,t){var n=this._elements.indexOf(e);n!==-1&&this._elements.splice(n,1),n=this._removedElements.indexOf(e),n!==-1&&this._removedElements.splice(n,1),this._removeElementFromFilter(e),t&&this._dcxBranch.removeChild(e._dcxNode),e._markDeletedLocally(!0)},i.prototype._ensureRemovedElementsSpace=function(){for(;this.removedElements.length>=a.MAX_REMOVED_ELEMENTS;)this._doRemoveElement(this.removedElements[0],!0)},i.prototype._sortRemovedElements=function(){this._removedElements.sort(function(e,t){return e.removed-t.removed})},i.prototype._doMarkElementRemoved=function(e,t){var n=this._elements.indexOf(e);n!==-1&&(this._ensureRemovedElementsSpace(),this._elements.splice(n,1),this._removeElementFromFilter(e),this._removedElements.push(e),this._sortRemovedElements(),t&&(e._dcxNode=this._dcxBranch.moveChild(e._dcxNode,void 0,this._getRemovedElementsNode()),e._updateTimestampOnRemove()))},i.prototype._doRestoreElement=function(e,t){var n=this._removedElements.indexOf(e);n!==-1&&(this._removedElements.splice(n,1),this._elements.push(e),this._addElementToFilter(e),t&&(e._dcxNode=this._dcxBranch.moveChild(e._dcxNode,void 0,this._dcxElementsNode),e._updateTimestampOnRestore()))},i.prototype._doCopyDCXElement=function(e,t,n,i,r){var a=this;t._beginOperation(),c.storageInterface.notifyStartWrite(t,[this],function(){t._dcxBranch.copyChild(e._dcxNode,t._dcxElementsNode,void 0,i,i,function(i,s){if(!f.checkDeletedState(a,r)){if(i)return t._endOperation(),void r(i);var l=new o(t,s);t._addElementToFilter(l),t._elements.push(l);var u=function(){f.checkDeletedState(a,r)||(t._endOperation(),n&&a._wrapOperation(function(){a._doRemoveElement(e,!0)}),r(null,l))};c.hasFileSystem()?h.copyRenditionCache(l,e,e._renditionCache,u):u()}})})},i.prototype._doCopyElement=function(e,t,n,i){if(t._elements.length>=a.MAX_ELEMENTS)return void i(new l(l.EXCEEDS_MAX_LIBRARY_SIZE,"Library cannot have more than "+a.MAX_ELEMENTS+" elements",this.id));var r=e.id,o=t._elements.every(function(e){return e.id!==r})&&t._removedElements.every(function(e){return e.id!==r});o||(r=c.uuid()),this._doCopyDCXElement(e,t,n,r,i)},i.prototype.jasmineToString=function(){return this.toString()},i.prototype._setSyncState=function(e){this._syncState!==e&&(this._syncState=e,this._collection._updateSyncState(),this._checkSyncFinishedAndNotify())},i.prototype._isSyncing=function(){return void 0!==this._syncState},i.prototype._checkSyncFinishedAndNotify=function(){if(!this._isSyncing()){var e=this._waitForSyncToFinishCallbacks;this._waitForSyncToFinishCallbacks=[],e.forEach(function(e){e()})}},i.prototype._waitForSyncToFinish=function(e){this._waitForSyncToFinishCallbacks.push(e),this._checkSyncFinishedAndNotify()},i.prototype._getClientData=function(){var e={};if(this._dcxComposite.clientDataString)try{e=JSON.parse(this._dcxComposite.clientDataString)}catch(e){}return e},i.prototype._getClientDataValue=function(e){var t=this._getClientData();return t[e]},i.prototype._setClientDataValue=function(e,t){var n=this._getClientData();n[e]=t,this._dcxComposite.clientDataString=JSON.stringify(n)},i.prototype._setCollaboration=function(e){var t=e&&e.collaboration&&e.collaboration.toLowerCase(),n=e&&e.collaboration_role&&e.collaboration_role.toLowerCase(),i=this._getClientDataValue(a.DATA_COLLABORATION_ROLE);if(this.collaboration!==t||i!==n){var r=f.collaborationStateToDCX(t);this._dcxComposite.collaborationType=r,this._setClientDataValue(a.DATA_COLLABORATION_ROLE,n),this._commit(!0,!0),this._notifyChange(),this._revertLocalChangesIfNecessary()}},i.prototype._isDeletedError=function(e){var t=e&&(e.code===r.NO_COMPOSITE||e.code===r.DELETED_COMPOSITE),n=e&&e.code===r.UNEXPECTED_RESPONSE&&e.response&&401===e.response.statusCode;return t||this.collection.isPublic&&n},i.prototype._isAlreadyExistsError=function(e){var t=e&&e.code===r.ALREADY_EXISTS,n=e&&e.code===r.UNEXPECTED_RESPONSE&&e.response&&409===e.response.statusCode;return t||n},i.prototype._isReadOnlyError=function(e){if("incoming"!==this.collaboration)return!1;var t=!1;return!e||e.code!==r.COMPONENT_UPLOAD_ERROR&&e.code!==r.UNEXPECTED_RESPONSE||(e.code===r.UNEXPECTED_RESPONSE&&e.response&&403===e.response.statusCode&&(t=!0),e.code===r.COMPONENT_UPLOAD_ERROR&&Array.isArray(e.failedComponents)&&e.failedComponents.length>0&&(t=!0,e.failedComponents.forEach(function(e){e.error&&e.error.code===r.UNEXPECTED_RESPONSE&&e.error.response&&403===e.error.response.statusCode||(t=!1)}))),t},i.prototype._mergeAndSwitchToBranch=function(e,t,n){function i(t,i){if(!f.checkDeletedState(r,n)){if(t)return void n(g.getCommitError(t,r.id));c.log("Starting merge "+(l?"(local)":"(remote)")),i.name!==r.name&&(e.name=r.name);var p=e.rootNode.getValue(a.MODIFIED_KEY),m=Math.max(p||0,r.modified||0);i!==r._dcxBranch&&m&&p!==m&&e.rootNode.setValue(a.MODIFIED_KEY,m);var v=f.getCompositeRenditionMap(e),_=f.getCompositeRenditionMap(i);Object.keys(r._dcxCompositeRenditionMap).forEach(function(t){var n=r._dcxCompositeRenditionMap[t],i=_[t],o=v[t];if(!i||n.id!==i.id)if(o){var s=n.getValue(a.MODIFIED_KEY)||0,l=o.getValue(a.MODIFIED_KEY)||0;s>l&&(e.removeComponent(o),e.copyComponent(n,e.rootNode))}else e.copyComponent(n,e.rootNode)}),Object.keys(_).forEach(function(t){var n=r._dcxCompositeRenditionMap[t],i=_[t],o=v[t];!n&&o&&o.id===i.id&&e.removeComponent(o)});var y,E,b=e.getChildrenOf();b.forEach(function(e){e.name===a.ELEMENTS_NAME&&(y=e),e.name===a.REMOVED_ELEMENTS_NAME&&(E=e)}),y||(y=e.addChild(a.ELEMENTS_NAME));var T=function(){E||(E=e.addChild(a.REMOVED_ELEMENTS_NAME))},S={},L=[],A=[],C=[],w=[],x=[],O=new d,D=function(t){var n=t.id,u=t._dcxNode,d=t.modified,p=t.removed,f=e.getChildWithId(n),g=f&&f.getValue(a.MODIFIED_KEY),m=f&&f.getValue(a.REMOVED_KEY),v=i&&i.getChildWithId(n),_=v&&v.getValue(a.MODIFIED_KEY),b=v&&v.getValue(a.REMOVED_KEY);r._dcxBranch=e;var D=function(){return p?(T(),E):y},R=function(){return!p&&t.removed?(w.push(t),!0):!(!p||t.removed)&&(x.push(t),!0)};if(!_&&!g||_&&!g&&d!==_){c.log("1: created locally");var I=e.copyChild(u,D(),void 0,void 0,void 0);t._setDCXNode(I,!0)}else if(_&&!g&&d===_)c.log("2: deleted on server"),C.push(t);else if(_===d&&_===g)c.log("3: no changes to modified time"),t._setDCXNode(f,!0,!0),b!==p&&(b===m?p&&!m?(c.log("3a: removed locally"),T(),t._dcxNode=e.moveChild(t._dcxNode,void 0,E),t._updateTimestampOnRemove(p)):m&&!p&&(c.log("3b: restored locally"),t._dcxNode=e.moveChild(t._dcxNode,void 0,y),t._updateTimestampOnRestore()):p||(c.log("3c: remove/restore conflict - local restore wins"),t._dcxNode=e.moveChild(t._dcxNode,void 0,y),t._updateTimestampOnRestore())),R()&&L.push(t),t._ensureRemovedDataValid(l&&!a.SHARED_LOCAL_STORAGE);else if(_===d&&_!==g)c.log("4: updated on server"),t._setDCXNode(f,l),L.push(t),R(),t._ensureModifiedDataValid(l&&!a.SHARED_LOCAL_STORAGE);else if(_!==d&&_===g){c.log("5: updated locally");var P=e.replaceChild(u,void 0,void 0);t._setDCXNode(P,!0),(p&&!m||m&&!p)&&(t._dcxNode=e.moveChild(t._dcxNode,void 0,D()))}else if(_!==d&&_!==g){c.log("6: updated locally and on server (conflict)");var N=t._renditionCache;t._setDCXNode(f),L.push(t),R(),t._ensureModifiedDataValid(l&&!a.SHARED_LOCAL_STORAGE);var M=c.uuid(),k=e.copyChild(u,D(),void 0,M,M),U=new o(r,k);A.push(U),S[U.id]=!0,c.hasFileSystem()&&O.addOperation(h.copyRenditionCache,[U,t,N]),s.reportCollisionElement(t)}else c.log("ERROR: unexpected merge case: base="+_+", current="+d+", pulled="+g);r._dcxBranch=r._dcxComposite.current,S[n]=!0};r._elements.forEach(D),r._removedElements.forEach(D);var R=function(e){e.removed?r._removedElements.push(e):(r._addElementToFilter(e),r._elements.push(e))};A.forEach(R),r._sortRemovedElements(),C.forEach(function(e){r._doRemoveElement(e,!1)}),w.forEach(function(e){r._doMarkElementRemoved(e,!1)}),x.forEach(function(e){r._doRestoreElement(e,!1)}),r._dcxBranch=e,r._dcxElementsNode=y,r._dcxRemovedElementsNode=E,r._dcxCompositeRenditionMap=f.getCompositeRenditionMap(e);var I=function(t){if(!S[t.id]){var n=t.getValue(a.MODIFIED_KEY),s=i&&i.getChildWithId(t.id),u=s&&s.getValue(a.MODIFIED_KEY);if(u&&n&&u===n)c.log("7: deleted locally"),e.removeChild(t);else{c.log("8: created on server");var d=new o(r,t);R(d),d._ensureCreatedDataValid(l&&!a.SHARED_LOCAL_STORAGE)}}},P=r._dcxBranch.getChildrenOf(r._dcxElementsNode),N=r._dcxRemovedElementsNode?r._dcxBranch.getChildrenOf(r._dcxRemovedElementsNode):[];P.forEach(I),N.forEach(I),r._transactionCount++,O.run(function(){f.checkDeletedState(r,n)||(r._transactionCount--,c.storageInterface.resolvePullWithBranch(r,e,u,l,function(t){if(!f.checkDeletedState(r,n)){if(t)return void n(g.getCommitError(t,r.id));c.hasFileSystem()||(r._dcxBaseBranch=e.copy()),a.SHARED_LOCAL_STORAGE||l||h.prefetchRenditions(r),n(null),L.forEach(function(e){e._listenerManager.notify("change")}),r._notifyChange()}}))})}}var r=this,l=void 0!==t,u=e.localData;this._waitForCommit(function(){f.checkDeletedState(r,n)||(t?i(null,t):"unmodified"===r._dcxBranch.compositeState?i(null,r._dcxBranch):r._loadBaseBranch(i));
})},i.prototype._pull=function(e){var t=this;if(!this._dcxComposite.href||!this._dcxBranch.isBound)return void e(null,!1);if(this._deletedFromServer)return void e(null,!1);var n=function(n,i){f.checkDeletedState(t,e)||(n&&t._collection._reportSyncError(n),t._setSyncState(),t._networkLock.release(),e(n,i))};this._networkLock.obtain(function(i){return i?void e(null):void(f.checkDeletedState(t,e)||(this._setSyncState("downloading"),this._collection._syncManager.pullComposite(this._dcxComposite,this._collection,function(i,r){if(!f.checkDeletedState(t,e))return t._isDeletedError(i)?void(c.hasFileSystem()&&"modified"===t._dcxBranch.compositeState&&"incoming"!==t.collaboration?(t._doRebindToServer(!1,e),t._networkLock.release()):(t._deletedFromServer=!0,t._notifyChange(),n(null,!0))):i?void n(g.getSyncError(i,t.id)):r?void t._mergeAndSwitchToBranch(r,void 0,function(i){f.checkDeletedState(t,e)||n(i,!0)}):void n(null,!1)})))},this)},i.prototype._pushWithParameters=function(e,t){var n=this,i=function(e,n){t&&t(null,n)};if(!a.SYNCING_ENABLED)return void i(null,!1);if(this._collection._retryTimeoutId)return void i(null,!1);if(this._dcxBranch.isBound&&"modified"!==this._dcxBranch.compositeState)return void i(null,!1);if(this._deletedFromServer)return void i(null,!1);if(!this.isWritable)return void i(null,!1);if(this._pushPending)return void i(null,!1);var o=function(e,r){f.checkDeletedState(n,i)||(n._pushFailedDueToQuota=!1,e&&(n._collection._reportSyncError(e),e.code===l.EXCEEDS_QUOTA&&(n._pushFailedDueToQuota=!0)),n._setSyncState(),n._collection._syncManager.pullMissingComponents(n,function(e){f.checkDeletedState(n,t)||(n._networkLock.release(),h.prefetchRenditions(n),i(null,r))}))};this._pushPending=!0,this._networkLock.obtain(function(t){return t?void i(null,!1):void this._waitForCommit(function(){if(!f.checkDeletedState(n,i)){n._pushPending=!1;var t;c.hasFileSystem()||(t=n._dcxBranch.copy()),n._setSyncState("uploading"),n._collection._syncManager.pushComposite(n._dcxComposite,n._collection,e,function(e){if(!f.checkDeletedState(n,i)){if(n._isDeletedError(e))return void(c.hasFileSystem()&&"modified"===n._dcxBranch.compositeState&&"incoming"!==n.collaboration?(n._doRebindToServer(!1,i),n._networkLock.release()):(n._deletedFromServer=!0,n._notifyChange(),o(null,!0)));if(n._isAlreadyExistsError(e))return n._dcxComposite.name=u.translate("LIBS_RECOVERED_LIBRARY",{name:n._dcxComposite.name}),n._doRebindToServer(!0,i),void n._networkLock.release();if(n._isReadOnlyError(e))return c.log("Push failed due to read only. Reverting: "+n.id),n._setClientDataValue(a.DATA_COLLABORATION_ROLE,"viewer"),void n._revertLocalChangesIfNecessary(function(e){o(e,!1)});if(e&&e.code===l.TRANSFER_ABORTED)return void o(null,!0);if(e&&e.code===r.UPDATE_CONFLICT){if(c.log("Push failed due to conflict: "+n.id),n._numUpdateConflicts++,n._numUpdateConflicts<=a.MAX_UPDATE_CONFLICTS)return n._sync(!1,i),void n._networkLock.release();s.reportUnexpectedState(n,"updateConflict"),c.log("Reached maximum number of update-conflict retries: "+n.id)}return n._numUpdateConflicts=0,e&&e.code===r.COMPONENT_UPLOAD_ERROR&&(c.log("Push failed due to component upload failure: "+n.id),f.removeMissingLocalComponents(n,e.failedComponents)),e?void o(g.getSyncError(e,n.id)):void c.storageInterface.acceptPush(n,function(e){if(!f.checkDeletedState(n,i)){if(e)return void o(g.getCommitError(e,n.id),!0);c.hasFileSystem()||(n._dcxBaseBranch=t),o(null,!0)}})}})}})},this)},i.prototype._loadBaseBranch=function(e){var t=this;c.hasFileSystem()?t._dcxComposite.loadBaseBranch(function(n,i){t._waitForCommit(function(){e(n,i)})}):e(null,t._dcxBaseBranch)},i.prototype._revertLocalChangesIfNecessary=function(e){var t=this,n=v.wrapCallback(e);return this.isWritable||"modified"!==this._dcxBranch.compositeState?void n(null):void this._loadBaseBranch(function(e,i){t._transactionCount++,f.recoverReadOnlyEdits(t,i,function(e){e&&c.log("Error recovering library changes: "+e),t._transactionCount--;var r=i.copy(),o=t.collaboration,s=t._getClientDataValue(a.DATA_COLLABORATION_ROLE);t._mergeAndSwitchToBranch(r,t._dcxBranch,function(e){if(e)c.log("Error Reverting: "+t.id),n(e);else{var i=f.collaborationStateToDCX(o);t._dcxComposite.collaborationType=i,t._setClientDataValue(a.DATA_COLLABORATION_ROLE,s),t._commit(!0,!0),t._waitForCommit(function(){t._notifyChange(),n(null)})}})})})},i.prototype._push=function(e){this._pushWithParameters(!1,e)},i.prototype._abortPushOrPull=function(){this._networkLock.abortPendingOperations(new l(l.TRANSFER_ABORTED)),this._collection._syncManager.abortPushOrPull(this.id)},i.prototype._deleteFromServer=function(e,t){var n=this;if(!this._dcxComposite.href||!this._dcxBranch.isBound)return void t(null);if(this._deletedFromServer)return void t(null);this._deletingFromServerInProgress||this._abortPushOrPull(),this._deletingFromServerInProgress=!0;var i=function(e){n._deletingFromServerInProgress=!1,n._networkLock.release(),t(e)};this._networkLock.obtain(function(o){return o?void t(null):this._deletedFromDisk?void i(null):(this._setSyncState("uploading"),this._dcxBranch.compositeState="pendingDelete",this._commit(!0,!0),void this._waitForCommit(function(){return n._deletedFromDisk?void i(null):void n._collection._syncManager.pushDeletedComposite(n._dcxComposite,n._collection,n.collaboration,e,function(t){t?n._isDeletedError(t)?t=null:(e||t.code!==r.UPDATE_CONFLICT)&&(t=g.getSyncError(t,n.id),n._collection._reportSyncError(t)):n._deletedFromServer=!0,n._setSyncState(),i(t)})}))},this)},i.prototype._doRebindToServer=function(e,t){var n=this;this._deletedFromServer=!1;var i=e||"incoming"===this.collaboration?"resetIdentity":"resetBinding",r=this.id;this._dcxComposite[i](function(e){if(!f.checkDeletedState(n,t)){if(e)return void t(e);n._transactionCount++,n.id!==r&&(n._collection._libraryIdMap[n.id]=n,delete n._collection._libraryIdMap[r]),m.moveLibrary(n,r,function(e){if(!f.checkDeletedState(n,t)){if(n._transactionCount--,e)return void t(e);n._collection._syncManager.prepareCompositeForPush(n._dcxComposite),n._setCollaboration(),n._commit(!1,!0),n._pushWithParameters(!0,t)}})}})},i.prototype._sync=function(e,t){function n(e,n){t&&r._waitForSyncToFinish(function(){t(e,n)})}function i(e,t){if(!f.checkDeletedState(r,n))return e?void n(e,t):void r._push(function(e,i){f.checkDeletedState(r,n)||n(e,t||i)})}var r=this;return a.SHARED_LOCAL_STORAGE||!a.SYNCING_ENABLED?void n(null,!1):this._collection._retryTimeoutId?void n(null,!1):(this._collection._clearSyncErrors(this.id),void(e?i(null,!1):this._pull(i)))},i.prototype._getCompositeDir=function(){return this._collection._getCompositeDir(this.id)},i.prototype._getRenditionCacheDir=function(){return this._collection._getRenditionCacheDir(this.id)},Object.defineProperties(i.prototype,{id:{get:function(){return this._publicId||this._dcxComposite.id},set:function(e){throw new l(l.READ_ONLY,"Cannot change the id of an existing library",this.id)}},collection:{get:function(){return this._collection},set:function(e){throw new l(l.READ_ONLY,"collection is a read-only property",this.id)}},isWritable:{get:function(){var e=this._getClientDataValue(a.DATA_COLLABORATION_ROLE);return this._writable&&"viewer"!==e},set:function(e){throw new l(l.READ_ONLY,"isWritable is a read-only property",this.id)}},name:{get:function(){return this._dcxComposite.name||""},set:function(e){if(f.checkDeletedState(this),!this.isWritable)throw new l(l.NOT_ALLOWED,"you do not have write access to this library",this.id);this._dcxComposite.name=e,this._commit()}},modified:{get:function(){return this._dcxBranch.rootNode.getValue(a.MODIFIED_KEY)},set:function(e){throw new l(l.READ_ONLY,"Cannot change the modified timestamp of a library directly",this.id)}},created:{get:function(){return this._dcxBranch.rootNode.getValue(a.CREATED_KEY)},set:function(e){throw new l(l.READ_ONLY,"Cannot change the created timestamp of a library directly",this.id)}},elements:{get:function(){return this._elements},set:function(){throw new l(l.READ_ONLY,"Cannot modify elements list directly",this.id)}},removedElements:{get:function(){return this._removedElements},set:function(){throw new l(l.READ_ONLY,"Cannot modify removed elements list directly",this.id)}},isDeletedFromServer:{get:function(){return this._deletedFromServer},set:function(){throw new l(l.READ_ONLY,"isDeletedFromServer is a read-only property",this.id)}},isDeletedLocally:{get:function(){return this._deletedLocally},set:function(e){throw new l(l.READ_ONLY,"isDeletedLocally is a read-only property",this.id)}},isQuotaExceeded:{get:function(){return this._pushFailedDueToQuota},set:function(){throw new l(l.READ_ONLY,"isQuotaExceeded is a read-only property",this.id)}},collaboration:{get:function(){var e=this._dcxComposite.collaborationType;return f.collaborationStateFromDCX(e)},set:function(){throw new l(l.READ_ONLY,"collaboration is a read-only property",this.id)}},syncState:{get:function(){return this._syncState},set:function(){throw new l(l.READ_ONLY,"syncState is a read-only property")}},syncProgress:{get:function(){var e=this._collection._syncProgressMap[this.id];return e&&e.progress},set:function(){throw new l(l.READ_ONLY,"syncProgress is a read-only property")}}}),i.prototype.toString=function(){return JSON.stringify(this._toJSON())},i.prototype.addChangeListener=function(e){f.checkDeletedState(this),this._listenerManager.add("change",e)},i.prototype.removeChangeListener=function(e){this._listenerManager.remove("change",e)},i.prototype.createElement=function(e,t){if(f.checkDeletedState(this),!this.isWritable)throw new l(l.NOT_ALLOWED,"you do not have write access to this library",this.id);if(this._elements.length>=a.MAX_ELEMENTS)throw new l(l.EXCEEDS_MAX_LIBRARY_SIZE,"Library cannot have more than "+a.MAX_ELEMENTS+" elements",this.id);return this._wrapOperation(function(){var n=this._doCreateElement(e,t);return s.reportCreateElement(n),n.beginOperation(),n},this)},i.prototype.removeElement=function(e,t){if(f.checkDeletedState(this),!this.isWritable)throw new l(l.NOT_ALLOWED,"you do not have write access to this library",this.id);if(!e)throw new l(l.INVALID_PARAMETER,"No element specified",this.id);if(this._elements.indexOf(e)===-1){if(this._removedElements.indexOf(e)===-1)throw new l(l.INVALID_PARAMETER,"Element not in this library",this.id);if(!t)throw new l(l.INVALID_PARAMETER,"Element already removed",this.id)}return this._wrapOperation(function(){for(;e._transactionCount>0;)e.endOperation();t?this._doRemoveElement(e,!0):this._doMarkElementRemoved(e,!0),s.reportDeleteElement(e,t)},this)},i.prototype.restoreElement=function(e){if(f.checkDeletedState(this),!this.isWritable)throw new l(l.NOT_ALLOWED,"you do not have write access to this library",this.id);if(!e)throw new l(l.INVALID_PARAMETER,"No element specified",this.id);if(this._removedElements.indexOf(e)===-1){if(this._elements.indexOf(e)===-1)throw new l(l.INVALID_PARAMETER,"Element not in this library",this.id);throw new l(l.INVALID_PARAMETER,"Element already restored",this.id)}if(this._elements.length>=a.MAX_ELEMENTS)throw new l(l.EXCEEDS_MAX_LIBRARY_SIZE,"Library cannot have more than "+a.MAX_ELEMENTS+" elements",this.id);return this._wrapOperation(function(){this._doRestoreElement(e,!0),s.reportRestoreElement(e)},this)},i.prototype.copyElement=function(e,t,n){if(!f.checkDeletedState(this,n))return e?this._elements.indexOf(e)===-1&&this._removedElements.indexOf(e)===-1?void n(new l(l.INVALID_PARAMETER,"Element not in this library",this.id)):t?t.isWritable?this._doCopyElement(e,t,!1,function(t,i){return t?void n(t):(s.reportCopyElement(i,e),void n(null,i))}):void n(new l(l.NOT_ALLOWED,"you do not have write access to the destination library",t.id)):void n(new l(l.INVALID_PARAMETER,"No destination library specified",this.id)):void n(new l(l.INVALID_PARAMETER,"No element specified",this.id))},i.prototype.moveElement=function(e,t,n){if(!f.checkDeletedState(this,n))return this.isWritable?e?this._elements.indexOf(e)===-1&&this._removedElements.indexOf(e)===-1?void n(new l(l.INVALID_PARAMETER,"Element not in this library",this.id)):t?this===t?void n(new l(l.INVALID_PARAMETER,"Move must have a different destination library",this.id)):t.isWritable?this._doCopyElement(e,t,!0,function(t,i){return t?void n(t):(s.reportMoveElement(i,e),void n(null,i))}):void n(new l(l.NOT_ALLOWED,"you do not have write access to the destination library",t.id)):void n(new l(l.INVALID_PARAMETER,"No destination library specified",this.id)):void n(new l(l.INVALID_PARAMETER,"No element specified",this.id)):void n(new l(l.NOT_ALLOWED,"you do not have write access to this library",this.id))},i.prototype.getRenditionPath=function(e,t){if(!c.hasFileSystem())return void t(new l(l.REQUIRES_FILESYSTEM,"path-based APIs require a filesystem",this.id));if(!f.checkDeletedState(this,t)&&this._checkRenditionType(e,t)){var n=this._dcxCompositeRenditionMap[e];if(!n)return t(null);var i=this._dcxBranch.assetOfComponent(n);if(i)return t(null,i);var r=this;this._networkLock.obtain(function(e){if(e)return void t(e);if(f.checkDeletedState(r,t))return void r._networkLock.release();r._setSyncState("downloading");var i=r._collection._syncManager;i.downloadComponent(r._dcxBranch,n,function(e){return r._networkLock.release(),r._setSyncState(),e?void t(g.getSyncError(e,r.id)):void(f.checkDeletedState(r,t)||(r._commit(!0,!0),t(null,r._dcxBranch.assetOfComponent(n))))})})}},i.prototype.getRenditionURL=function(e){f.checkDeletedState(this),this._checkRenditionType(e);var t=this._dcxCompositeRenditionMap[e];if(t){var n=this._collection._syncManager;return n.getSharedCloudContentURL(t)}},i.prototype.getAuthenticatedRenditionURL=function(e,t){if(!f.checkDeletedState(this,t)&&this._checkRenditionType(e,t)){var n=this.getRenditionURL(e);if(!n)return t(null);var i=this._collection._syncManager;i.appendAccessTokenToURL(n,t)}},i.prototype.setRendition=function(e,t,n,i,r){if(!f.checkDeletedState(this,r)&&this._checkRenditionType(e,r)){if(!t)return void r(new l(l.INVALID_PARAMETER,"content must exist",this.id));if(!this.isWritable)return void r(new l(l.NOT_ALLOWED,"you do not have write access to this library",this.id));if(c.hasFileSystem()){if(!f.checkEncoding(n,["utf8","ascii","base64","buffer"],r))return;this._setRendition(e,t,n,i,r)}else{if(void 0!==n)return void r(new l(l.INVALID_PARAMETER,"Encoding parameter not supported in-browser"));this._setRenditionInBrowser(e,t,i,r)}}},i.prototype.setRenditionFromPath=function(e,t,n,i){if(!f.checkDeletedState(this,i)&&this._checkRenditionType(e,i))return"string"!=typeof t?void i(new l(l.INVALID_PARAMETER,"path must be a string",this.id)):c.hasFileSystem()?this.isWritable?void this._setRenditionFromPath(e,t,n,i):void i(new l(l.NOT_ALLOWED,"you do not have write access to this library",this.id)):void i(new l(l.REQUIRES_FILESYSTEM,"path-based APIs require a filesystem",this.id))},i.prototype.removeRendition=function(e){if(f.checkDeletedState(this),this._checkRenditionType(e),!this.isWritable)throw new l(l.NOT_ALLOWED,"you do not have write access to this library",this.id);var t=this._dcxCompositeRenditionMap[e];if(t)return this._wrapOperation(function(){this._dcxBranch.removeComponent(t),this._dcxCompositeRenditionMap=f.getCompositeRenditionMap(this._dcxBranch),this._commit()},this)},i.prototype.getFilteredElements=function(e){if(!e)throw new l(l.INVALID_PARAMETER,"must specify element type to filter",this.id);if("*"!==e&&a.ELEMENT_TYPE_FILTERS.indexOf(e)===-1)throw new l(l.INVALID_PARAMETER,"must specify '*', or an element type in config.ELEMENT_TYPE_FILTERS",this.id);var t=this._getFilterKey(e);return this._filterCache[t]=this._filterCache[t]||[],this._filterCache[t]},i.prototype.sync=function(e){f.checkDeletedState(this,e)||this._sync(!1,e)},i.prototype.rebindToServer=function(e){if(!c.hasFileSystem())return void e(new l(l.REQUIRES_FILESYSTEM,"rebindToServer requires a filesystem",this.id));if(!f.checkDeletedState(this,e))return this.isWritable?this._deletedFromServer?void this._doRebindToServer(!1,e):void e(null):void e(new l(l.NOT_ALLOWED,"you do not have write access to this library",this.id))},i.prototype.getElementById=function(e,t){var n;return this.elements.forEach(function(t){t.id===e&&(n=t)}),n||t||this.removedElements.forEach(function(t){t.id===e&&(n=t)}),n},Object.freeze(i),Object.seal(i.prototype),i}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/AdobeLibrarySyncManager",["require","exports","module","./components/dcx-js/src/AdobeStorageSession","./components/dcx-js/src/AdobeDCXCompositeXfer","./components/dcx-js/src/AdobeDCXUtil","./components/dcx-js/src/AdobeDCXError","./AdobeLibraryConfig","./AdobeLibraryError","./AdobeLibraryServices","./utils/AdobeLibrarySyncUtils","./utils/AdobeLibraryErrorUtils","./utils/AdobeLibraryFileUtils","../src/utils/AdobeLibraryGeneralUtils","./utils/AdobeLibraryManifestUtils","./utils/AdobeLibraryMimeTypeUtils"],function(e,t,n){"use strict";function i(e,t){this._collection=e,this._isPublic=t.IS_PUBLIC,this._storageHost=t.STORAGE_HOSTNAME,this._collaborationHost=t.COLLABORATION_HOSTNAME,this._storageAssetsPath=this._isPublic?t.STORAGE_ASSETS_PATH:l.STORAGE_ASSETS_PATH,this._apiKey=l.STORAGE_API_KEY,this._syncGroup=this._isPublic?t.SYNC_GROUP:l.LIBRARY_SYNC_GROUP,this._XHR=t.XHR,this._requiresCommunitySession=t.REQUIRES_COMMUNITY_SESSION,this._getAccessToken=t.getAccessToken,this._httpServices=[],this._storageService=this._createStorageSession(),this._renditionStorageService=this._createStorageSession(),this._temporaryStorageServices={},this._lastSyncGroupState={},this._hasSetAuthToken=!1,this._authToken=void 0,this._inProgressSyncMap={},l.SHARED_LOCAL_STORAGE||this._isPublic||this._updateAuthToken()}var r=e("./components/dcx-js/src/AdobeStorageSession"),o=e("./components/dcx-js/src/AdobeDCXCompositeXfer"),a=e("./components/dcx-js/src/AdobeDCXUtil"),s=e("./components/dcx-js/src/AdobeDCXError"),l=e("./AdobeLibraryConfig"),c=e("./AdobeLibraryError"),u=e("./AdobeLibraryServices"),d=e("./utils/AdobeLibrarySyncUtils"),p=e("./utils/AdobeLibraryErrorUtils"),h=e("./utils/AdobeLibraryFileUtils"),f=e("../src/utils/AdobeLibraryGeneralUtils"),g=e("./utils/AdobeLibraryManifestUtils"),m=e("./utils/AdobeLibraryMimeTypeUtils");return i.prototype._getCommonRequestHeaders=function(){var e={};return l.USER_AGENT_HEADER&&(e["User-Agent"]=l.USER_AGENT_HEADER),e},i.prototype._setAuthToken=function(e){this._hasSetAuthToken=!0,this._authToken=e,this._httpServices.forEach(function(t){e?(t.isActive=!0,t.setAuthToken(e)):t.isActive=!1})},i.prototype._updateAuthToken=function(e){var t=this,n=f.wrapCallback(e);this._getAccessToken(this._authToken,function(e,i){!e&&i?t._setAuthToken(i):(e&&e.code===c.ACCESS_DENIED&&(t._collection._reportSyncError(e),t._collection._updateSyncState()),t._setAuthToken()),n(null,i)})},i.prototype._getAuthToken=function(e){this._isPublic?e(null,void 0):this._hasSetAuthToken?e(null,this._authToken):this._updateAuthToken(e)},i.prototype._authHandler=function(){this._updateAuthToken()},i.prototype._createStorageSession=function(){var e;return this._isPublic?e=u.dcx.createHTTPService():(e=u.dcx.createHTTPService(this._authHandler.bind(this)),this._httpServices.push(e)),e.setApiKey(this._apiKey),e.setTimeout(l.NETWORK_TIMEOUT),e.setAdditionalNodeOptions(u.getNodeTunnelOptions(this.getStorageHost())),e.setAdditionalHeaders(this._getCommonRequestHeaders()),this._XHR&&e._forceXhr(this._XHR),this._requiresCommunitySession?u.dcx.createCommunitySession(e,this.getStorageHost()):u.dcx.createStorageSession(e,this.getStorageHost())},i.prototype._createTemporaryStorageSession=function(e,t){var n;return t&&this._getAccessToken?(n=u.dcx.createHTTPService(this._authHandler.bind(this)),n.setApiKey(this._apiKey),n.setAdditionalHeaders(this._getCommonRequestHeaders()),n.setAuthToken(this._authToken),this._httpServices.push(n)):n=u.dcx.createHTTPService(),n.setTimeout(l.NETWORK_TIMEOUT),n.setAdditionalNodeOptions(u.getNodeTunnelOptions(e)),this._XHR&&n._forceXhr(this._XHR),u.dcx.createStorageSession(n,e)},i.prototype._getTemporaryStorageSession=function(e){var t=a.parseURI(e),n=t.scheme+"://"+t.authority,i=d.isAdobeDomain(t.authority);return this._temporaryStorageServices[n]||(this._temporaryStorageServices[n]=this._createTemporaryStorageSession(n,i)),this._temporaryStorageServices[n]},i.prototype.getServerComposites=function(e){var t=this,n=this._lastSyncGroupState.etag;this._storageService.getCollection(this.getSyncGroupPath(),n,function(n,i,r,o){if(n)return void(n.response&&404===n.response.statusCode?e(null,[]):e(n));if(!i){var a=Math.max(l.DEFAULT_MAX_SYNC_INTERVAL,1e3*d.getRetryAfterHeader(o));return l.MAX_SYNC_INTERVAL=a,void e(null,[])}l.MAX_SYNC_INTERVAL=l.DEFAULT_MAX_SYNC_INTERVAL;var s=t._lastSyncGroupState.compositeEtags||{},c={},u=[],p={},h=i.children||[];h.forEach(function(e){e&&g.validateLibraryId(e.name,!1)&&(e.isUnmodified=e.etag&&s[e.name]===e.etag,u.push(e),p[e.name]=e,c[e.name]=e.etag)}),t._lastSyncGroupState={etag:r,compositeEtags:c},e(null,u,p)})},i.prototype.clearSyncGroupCache=function(){this._lastSyncGroupState={}},i.prototype.doHeadRequest=function(e,t){var n;try{n=this._storageService.getCompositeManifestHref(e)}catch(e){return void t(e)}this._storageService.headRequest(n,t)},i.prototype.hasCompositeChangedOnServer=function(e,t){this.doHeadRequest(e,function(n,i){if(n)return void t(!0);var r=i&&i.headers&&i.headers.etag,o=e.current&&e.current.manifestEtag;t(r!==o)})},i.prototype.downloadComponent=function(e,t,n){o.downloadComponents([t],e,this._storageService,n)},i.prototype.downloadRepresentation=function(e,t){var n=e._dcxComponent,i=e.element.library._dcxBranch;this.downloadComponent(i,n,t)},i.prototype.abortPushOrPull=function(e){this._inProgressSyncMap[e]&&(this._inProgressSyncMap[e].abort(new c(c.TRANSFER_ABORTED,"abort push or pull operation")),delete this._inProgressSyncMap[e])},i.prototype._isManifestOnly=function(){return"manifestOnly"===l.SYNC_POLICY||!u.hasFileSystem()},i.prototype._pullCompositeComponents=function(e,t,n,i,r){if(this._isManifestOnly())return void r(null);var a=o.downloadComponents(e,t,this._storageService,r);this._inProgressSyncMap[i]=a,a.onProgress=function(e,t){0!==t&&n._updateProgress(i,e,t)}},i.prototype._pullComposite=function(e,t,n,i){var r=this;this._inProgressSyncMap[n]=o.pullCompositeManifestOnly(e,this._storageService,function(e,o){if(e||!o)return void i(e,o);var a=o.getComponentsOf();o.getChildrenOf().forEach(function(e){e.name===l.ELEMENTS_NAME&&o.getChildrenOf(e).forEach(function(e){a=a.concat(o.getComponentsOf(e))})}),r._pullCompositeComponents(a,o,t,n,function(e){i(e,o)})})},i.prototype.pullComposite=function(e,t,n){var i=this,r=e.id;if(!r&&e.href){var o=e.href.split("/");r=o&&o[o.length-1]}u.log("Started pulling: "+r+(this._isManifestOnly()?" (manifest only)":""));var a=(new Date).valueOf();t._updateProgress(r),this._pullComposite(e,t,r,function(o,l){var d=(new Date).valueOf()-a;return u.log("Finished pulling: "+r+(o?" ["+o.code+"]":"")+" duration="+d),delete i._inProgressSyncMap[r],t._updateProgress(r),l&&(l=l.copy(),g.ensureBranchDataValid(l)),o&&o.code===s.COMPONENT_DOWNLOAD_ERROR?void i.doHeadRequest(e,function(e,t){var i=!e&&t&&200===t.statusCode;if(i){var r=g.removeMissingComponents(o.pulledBranch.copy(),o.failedComponents);if(r)return void n(null,r)}n(o,l)}):o&&o.code===c.TRANSFER_ABORTED?void n(null,void 0):void n(o,l)})},i.prototype.pullMissingComponents=function(e,t){var n=this,i=e.id,r=e.collection,o=e._getMissingLocalComponents();if(this._isManifestOnly()||0===o.length)return void t(null);e._setSyncState("downloading"),u.log("Started pulling missing components: "+i);var a=(new Date).valueOf();r._updateProgress(i),this._pullCompositeComponents(o,e._dcxBranch,r,i,function(o){var s=(new Date).valueOf()-a;return u.log("Finished pulling missing components: "+i+(o?" ["+o.code+"]":"")+" duration="+s),delete n._inProgressSyncMap[i],r._updateProgress(i),e._setSyncState(),o&&o.code===c.TRANSFER_ABORTED?void t(null):void t(o)})},i.prototype.pushComposite=function(e,t,n,i){var r=this,a=e.id;u.log("Started pushing: "+a);var s=(new Date).valueOf();t._updateProgress(a),this._inProgressSyncMap[a]=o.pushComposite(e,n,this._storageService,function(e){var n=(new Date).valueOf()-s;u.log("Finished pushing: "+a+(e?" ["+e.code+"]":"")+" duration="+n),delete r._inProgressSyncMap[a],t._updateProgress(a),i(e)});var l=this._inProgressSyncMap[a];l.onProgress=function(e,n){0!==n&&t._updateProgress(a,e,n)}},i.prototype.pushDeletedComposite=function(e,t,n,i,r){var o=this;"incoming"===n?(u.log("Deleting incoming collaboration without pushing: "+e.id),this._storageService.deleteCompositeDirectory(e,r)):(u.log("Pushing deleted composite: "+e.id),this.pushComposite(e,t,i,function(n){if(n){if(n.code===s.UNEXPECTED_RESPONSE&&n.response&&404===n.response.statusCode)return void o._storageService.deleteCompositeDirectory(e,r);if(n.code===s.UPDATE_CONFLICT){var i=n;return void o.pullComposite(e,t,function(t){return t&&t.code===s.NO_COMPOSITE?void o._storageService.deleteCompositeDirectory(e,r):t&&t.code===s.DELETED_COMPOSITE?void r(null):t?void r(t):void r(i)})}}r(n)}))},i.prototype.getStorageHost=function(){return"https://"+this._storageHost},i.prototype.getSyncGroupPath=function(){var e=this.getStorageHost()+(this._storageAssetsPath||"");return this._syncGroup?a.appendPathElements(e,this._syncGroup):e},i.prototype.getCompositePath=function(e){return a.appendPathElements(this.getSyncGroupPath(),e)},i.prototype.getComponentPath=function(e,t){return a.appendPathElements(this.getSyncGroupPath(),e,t)},i.prototype.getElementRefDomain=function(){return this._requiresCommunitySession?l.CP_CLOUD_ID:this._storageHost},i.prototype.getElementRefPath=function(){return l.STORAGE_ASSETS_PATH+l.LIBRARY_SYNC_GROUP},i.prototype.getElementRefDomainPath=function(){return this.getElementRefDomain()+this.getElementRefPath()},i.prototype.getCollaborationHost=function(){return"https://"+this._collaborationHost},i.prototype._getSharedCloudRenditionUrl=function(e,t,n,i){if(!e._dcxComponent)return void i("representation must be a component to generate a rendition");try{var r;if(this._requiresCommunitySession)r=this._storageService.getComponentRenditionHref(e._dcxComponent,e._dcxComponent.version,"image/png","width",t||"full");else if(r=this._storageService.getComponentRenditionHref(e._dcxComponent,e._dcxComponent.version,t||"full"),n){var o=this._apiKey;return void this._getAuthToken(function(e,t){r+="?accept=image/png&api_key="+o+(t?"&user_token="+t:""),i(null,r)})}i(null,r)}catch(e){i(e)}},i.prototype._getAssetAsType=function(e,t,n,i,o,a){var s=this;a=a||0;var c=function(){s._getAssetAsType(e,t,n,i,o,a)};if(a>0&&"uploading"===e.element.library.syncState)return void setTimeout(c,l.RENDITION_RETRY_INTERVAL);var h=n+u.getPathSeparator()+u.uuid()+".png",f=new r.FileContent(h);this._renditionStorageService.getAssetAsType(t,f,i,function(t){var n=t&&t.response&&t.response.headers,i=1e3*d.getRetryAfterHeader(n);if(l.RENDITION_RETRY_INTERVAL=Math.max(l.DEFAULT_RENDITION_RETRY_INTERVAL,i),l.RENDITION_404_BACKOFF=Math.max(l.DEFAULT_RENDITION_404_BACKOFF,i),404===p.getErrorStatusCode(t)){if(a<l.RENDITION_MAX_RETRIES)return u.log("404 fetching rendition: retrying"),a++,void setTimeout(c,l.RENDITION_RETRY_INTERVAL);u.log("404 fetching rendition: reached maximum retries"),u.log("Backing off rendition fetch of "+e.id+" for "+l.RENDITION_404_BACKOFF+"ms"),e._lastRendition404=(new Date).valueOf()}o(t,h)})},i.prototype.getSharedCloudRenditionUrl=function(e,t,n){var i=!l.SHARED_LOCAL_STORAGE;this._getSharedCloudRenditionUrl(e,t,i,n)},i.prototype.getSharedCloudRendition=function(e,t,n){var i=this;if(e.element.library.isDeletedFromServer)return u.log("Error: Trying to fetch rendition from deleted library."),void n("Error: library deleted");var r=(new Date).valueOf(),o=r-(e._lastRendition404||0);return o<l.RENDITION_404_BACKOFF?void n("Error: got 404 on last rendition attempt - backing off"):void this._getSharedCloudRenditionUrl(e,t,!1,function(t,r){if(t)return void n(t);var o={Accept:"image/png"},a=e.element.library.collection._getTempDir();h.ensurePathExists(a,function(t){return t?void n(t):void i._getAssetAsType(e,r,a,o,n)})})},i.prototype.getSharedCloudContentURL=function(e){return this._storageService.getComponentHref(e,e.version)},i.prototype.appendAccessTokenToURL=function(e,t){if(!e)return void t(null,void 0);var n=this._apiKey;this._getAuthToken(function(i,r){e+="?api_key="+n+(r?"&user_token="+r:""),t(null,e)})},i.prototype.getSharedCloudContent=function(e,t,n){var i=this._storageService.getComponentHref(e._dcxComponent,e._dcxComponent.version),r={};this._storageService.getAssetAsType(i,t,r,function(e,t){return e?void n(e):void n(null,t)})},i.prototype.getAssetFromURL=function(e,t,n,i,o,a){var c=this;u.log("getAssetFromURL: "+e);var p=this._getTemporaryStorageSession(e),f=n+u.getPathSeparator()+u.uuid(),g=new r.FileContent(f);a=a||0,t=t||{},h.ensurePathExists(n,function(r){if(r)return void o(r);var h=p.getAssetAsType(e,g,t,function(r,p,g,m){if(h&&delete h.progress,r&&r.code===s.UNEXPECTED_RESPONSE){var v=r.response&&r.response.statusCode;if(u.log("getAssetFromURL: Unexpected Response "+v+" from "+e),d.isRedirect(v)){var _=d.getLocationHeader(r.response.headers);if(_&&a<l.MAX_REDIRECT_FOLLOW)return u.log("getAssetFromURL: Redirecting to "+_),void c.getAssetFromURL(_,t,n,i,o,a+1);r.response.statusCode=404}}o(r,f,g,m)});if(h&&i){var m,v=0;h.progress=function(e){v+=e,!m&&h.response&&h.response.headers&&(m=d.getContentLengthHeader(h.response.headers)),i(v,m||1)},i(0,1)}})},i.prototype.doHeadRequestOfURL=function(e,t,n){var i=this;n=n||0;var r=this._getTemporaryStorageSession(e);r.headRequest(e,function(r,o){var a=o?o.statusCode:r;if(u.log("doHeadRequestOfURL: "+e+" -> "+a),o&&d.isRedirect(o.statusCode)){var s=d.getLocationHeader(o.headers);if(s&&n<l.MAX_HEAD_REDIRECT_FOLLOW)return u.log("doHeadRequestOfURL: Redirecting to "+s),void i.doHeadRequestOfURL(s,t,n+1);n>0&&(o.statusCode=404)}t(r,o)})},i.prototype.prepareCompositeForPush=function(e){e.href=this.getCompositePath(e.id)},i.prototype.updateAccessToken=function(e){this._setAuthToken(e)},i.prototype.isLoggedIn=function(){return this._isPublic||this._httpServices[0].isActive},i.prototype.uploadNewComponentForRepresentation=function(e,t,n,i){var r=n._element._library._dcxComposite;o.uploadNewComponent(e,n.type,r,n.id,this._storageService,function(e,o){if(e)return void i(e);var a=t?t.lastIndexOf("."):-1,s=a!==-1&&t.substr(a+1).toLowerCase(),l=n.id+"."+s,c=r.current.addComponentWithUploadResults(t,n.relationship,l,n._element._dcxNode,o);i(null,c)})},i.prototype.uploadNewComponentForLibrary=function(e,t,n,i,r,a){var s=r._dcxComposite;o.uploadNewComponent(e,n,s,t,this._storageService,function(e,r){if(e)return void a(e);var o=m.getExtensions(n)[0],l=t+"."+o,c=s.current.addComponentWithUploadResults(l,i,l,s,r);a(null,c)})},Object.freeze(i),Object.seal(i.prototype),i}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/AdobeLibraryBookmark",["require","exports","module","./AdobeLibraryError"],function(e,t,n){"use strict";function i(e,t){this._id=e,this._url=t}var r=e("./AdobeLibraryError");return Object.defineProperties(i.prototype,{id:{get:function(){return this._id},set:function(e){throw new r(r.READ_ONLY,"Cannot change the id of an existing bookmark")}},url:{get:function(){return this._url},set:function(e){throw new r(r.READ_ONLY,"Cannot change the url of an existing bookmark")}}}),Object.freeze(i),Object.seal(i.prototype),i}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/AdobeLibraryBookmarkManager",["require","exports","module","./AdobeLibraryBookmark","./AdobeLibraryServices","./AdobeLibraryConfig","./utils/AdobeLibraryLock","./utils/AdobeLibraryFileUtils","./utils/AdobeLibraryErrorUtils"],function(e,t,n){"use strict";function i(e){this._collection=e,this._bookmarks=[],this._bookmarksEtag=void 0,this._bookmarksBase=void 0,this._syncModified=!1,
this._lock=new u,this._service=e._syncManager._createTemporaryStorageSession(e._syncManager.getCollaborationHost(),!0)._service,this._bookmarksURL=e._syncManager.getCollaborationHost()+c.BOOKMARKS_PATH}function r(e,t){var n;return e.some(function(e){if(e.id===t)return n=e,!0}),n}function o(e){var t=[];return e.forEach(function(e){t.push({id:e.id,url:e.url})}),t}function a(e){var t=[];return e&&e.forEach(function(e){t.push(new s(e.id,e.url))}),t}var s=e("./AdobeLibraryBookmark"),l=e("./AdobeLibraryServices"),c=e("./AdobeLibraryConfig"),u=e("./utils/AdobeLibraryLock"),d=e("./utils/AdobeLibraryFileUtils"),p=e("./utils/AdobeLibraryErrorUtils");return i.prototype._getBookmarksDir=function(){return this._collection._getBaseDir()},i.prototype._saveBookmarks=function(e){if(l.hasFileSystem()){var t={bookmarks:o(this._bookmarks),etag:this._bookmarksEtag};this._bookmarksBase&&(t.bookmarks_base=this._bookmarksBase),d.writeJSONData(this._getBookmarksDir(),c.BOOKMARKS_FILENAME,t,function(t){t&&(t=p.getCommitError(t,null,"bookmarks could not be saved")),e(t)})}else e(null)},i.prototype._loadBookmarks=function(e){if(l.hasFileSystem()){var t=this,n=this._getBookmarksDir()+l.getPathSeparator()+c.BOOKMARKS_FILENAME;d.readJSONData(n,function(n,i){return n?(n=p.getCommitError(n,null,"bookmarks could not be loaded"),e(n)):(i&&(t._bookmarks=a(i.bookmarks),t._bookmarksEtag=i.etag,t._bookmarksBase=i.bookmarks_base&&a(i.bookmarks_base)),void e(null))})}else e(null)},i.prototype._pullBookmarks=function(e){function t(t,n){if(t)return e(t);if(200===n.statusCode)try{var r=JSON.parse(n.response);i._syncModified=!0,e(null,a(r.bookmarks),n.headers.etag)}catch(t){e("Cannot parse data: "+n.response)}else 304===n.statusCode||404===n.statusCode?e(null,void 0,n.headers.etag):e("Unexpected response getting bookmarks: "+n.statusCode)}l.log("Pulling bookmarks");var n={},i=this;this._bookmarksEtag&&(n["If-None-Match"]=this._bookmarksEtag),this._service.invoke("GET",this._bookmarksURL,n,void 0,{responseType:"text"},t)},i.prototype._mergeBookmarks=function(e,t){if(l.log("Merging bookmarks"),e){if(this._bookmarksBase){var n=this;e.forEach(function(t){var i=r(n._bookmarks,t.id),o=r(n._bookmarksBase,t.id);!i&&o&&e.splice(e.indexOf(t),1)}),this._bookmarks.forEach(function(t){var i=r(e,t.id),o=r(n._bookmarksBase,t.id);i||o||e.push(t)})}this._bookmarks=e}this._bookmarksEtag=t},i.prototype._pushBookmarks=function(e){l.log("Pushing bookmarks");var t={"Content-Type":"application/json"};this._bookmarksEtag&&(t["If-Match"]=this._bookmarksEtag);var n=this,i=JSON.stringify({bookmarks:o(this._bookmarks)});this._service.invoke("PUT",this._bookmarksURL,t,i,void 0,function(t,i){if(t)return e(t);var r=i.statusCode;!i.headers.etag||200!==r&&201!==r&&204!==r?409===r||412===r?n._pullBookmarks(function(t,i,r){return t?e(t):(n._mergeBookmarks(i,r),void n._pushBookmarks(e))}):e("Unexpected response updating bookmarks: "+r):e(null,i.headers.etag)})},i.prototype._commit=function(e){l.log("Commiting bookmarks");var t=this;this._lock.obtain(function(){t._saveBookmarks(function(n){return t._lock.release(),n?void t._collection._reportCommitError(n):void(e&&t.sync(function(e){e&&t._collection._reportSyncError(e)}))})})},i.prototype._sync=function(e){var t=this;this._bookmarksBase?t._pushBookmarks(function(n,i){return n?e(n):(t._bookmarksEtag=i,t._bookmarksBase=void 0,t._commit(),void e(null))}):t._pullBookmarks(function(n,i,r){return n?e(n):(i&&(t._bookmarks=i,t._bookmarksEtag=r,t._bookmarksBase=void 0,t._commit()),void e(null))})},i.prototype._createBase=function(){this._bookmarksBase||(this._bookmarksBase=this._bookmarks.slice())},i.prototype.load=function(e){l.log("Loading bookmarks");var t=this;this._lock.obtain(function(){t._loadBookmarks(function(n){t._lock.release(),e(n)})})},i.prototype.sync=function(e){l.log("Syncing bookmarks");var t=this;this._lock.obtain(function(){t._syncModified=!1,t._sync(function(n){return t._lock.release(),n?(n=p.getSyncError(n,null),e(n)):(e(null),void(t._syncModified&&t._collection._notifyChange(!0)))})})},i.prototype.createBookmark=function(e,t,n){if(c.SHARED_LOCAL_STORAGE)return void l.storageInterface.createBookmark(this._collection,e,t,n);l.log("Creating bookmark: "+e+" url: "+t);var i=this;this._lock.obtain(function(){var o=r(i._bookmarks,e),a=!1;o||(i._createBase(),o=new s(e,t),i._bookmarks.push(o),a=!0),i._lock.release(),n(null,o,a),a&&(i._commit(c.SYNCING_ENABLED),i._collection._notifyChange(!0))})},i.prototype.removeBookmark=function(e,t){if(c.SHARED_LOCAL_STORAGE)return void l.storageInterface.removeBookmark(this._collection,e,t);l.log("Removing bookmark: "+e.id+" url: "+e.id);var n=this;this._lock.obtain(function(){e=r(n._bookmarks,e.id),e&&(n._createBase(),n._bookmarks.splice(n._bookmarks.indexOf(e),1)),n._lock.release(),t(null),e&&(n._commit(c.SYNCING_ENABLED),n._collection._notifyChange(!0))})},i.prototype.getBookmarks=function(){return this._bookmarks.slice()},Object.freeze(i),Object.seal(i.prototype),i}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/AdobeLibraryCollection",["require","exports","module","./components/dcx-js/src/AdobeDCXError","./AdobeLibraryFolder","./AdobeLibraryServices","./AdobeLibraryConfig","./AdobeLibrarySyncManager","./AdobeLibraryBookmarkManager","./AdobeLibraryAnalytics","./AdobeLibraryError","./AdobeLibraryLocalisation","./utils/AdobeLibraryAsyncJoin","./utils/AdobeLibraryFileUtils","./utils/AdobeLibraryManifestUtils","./utils/AdobeLibraryErrorUtils","./utils/AdobeLibrarySyncUtils","./utils/AdobeLibraryGeneralUtils","./utils/AdobeLibraryRenditionUtils","./utils/AdobeLibraryListenerManager"],function(e,t,n){"use strict";function i(e){this._rootDir=s.ROOT_DIR,this._userId=e.USER_ID,this._cloudId=e.CLOUD_ID,this._cloudInfo=e.CLOUD_INFO||{},this._syncManager=new l(this,e),this._libraries=[],this._syncState="syncing",this._syncProgressMap={},this._externalLinkDownloadProgressMap={},this._initialSyncInProgress=!1,this._syncErrors=[],this._listenerManager=new E(["change","deepchange","sync","commitError"]),this._libraryIdMap={},this._pendingDeletes=[],this._loaded=!1,this._syncing=!1,this._lastSyncTime=0,this._pendingSyncs=[],this._backoffTicks=0,this._numBackoffs=0,this._numRetries=0,this.isPublic||(this._bookmarkManager=new c(this))}var r=e("./components/dcx-js/src/AdobeDCXError"),o=e("./AdobeLibraryFolder"),a=e("./AdobeLibraryServices"),s=e("./AdobeLibraryConfig"),l=e("./AdobeLibrarySyncManager"),c=e("./AdobeLibraryBookmarkManager"),u=e("./AdobeLibraryAnalytics"),d=e("./AdobeLibraryError"),p=e("./AdobeLibraryLocalisation"),h=e("./utils/AdobeLibraryAsyncJoin"),f=e("./utils/AdobeLibraryFileUtils"),g=e("./utils/AdobeLibraryManifestUtils"),m=e("./utils/AdobeLibraryErrorUtils"),v=e("./utils/AdobeLibrarySyncUtils"),_=e("./utils/AdobeLibraryGeneralUtils"),y=e("./utils/AdobeLibraryRenditionUtils"),E=e("./utils/AdobeLibraryListenerManager");return i.prototype._removeAllListeners=function(){this._listenerManager.removeAll(),this._libraries.forEach(function(e){e._removeAllListeners()})},i.prototype._notifyChange=function(e){this._listenerManager.notify("deepchange"),e&&this._listenerManager.notify("change")},i.prototype._load=function(e){if(this._loaded)return void e(null);this._loaded=!0;var t=this;f.readLibraryDirectory(this,function(n,i){function r(e,n){if(g.validateLibraryId(e,t.isPublic)){var i=t._getCompositeDir(e);a.dcx.newCompositeFromLocalStorage(i,function(i,r){if(i)return a.log("Load error: DCX error loading composite for "+e),void n(m.getCommitError(i,e));if(!r||!r.current)return a.log("Load error: composite/branch not loaded for "+e),f.deleteLibraryFromDisk(t,e),void n(null);if(!g.validateLibrary(r))return a.log("Load error: failed validation for "+e),void n(null);if(!t.isPublic&&r.id!==e)return a.log("Load error: library id "+r.id+"doesn't match folder on disk "+e),void n(null);var s=new o(t,r);t.isPublic&&(s._publicId=e,s._writable=!1),"pendingDelete"===r.current.compositeState?(t._pendingDeletes.push(s),n(null)):(t._libraries.push(s),t._libraryIdMap[s.id]=s,s._loadRenditionCache(n))})}else n(null)}if(n||!i)return void e(null);var s=new h;i.forEach(function(e){s.addOperation(r,[e])}),t.isPublic||s.addOperation(t._bookmarkManager.load,[],t._bookmarkManager),s.run(function(n){a.log("Loaded "+t._libraries.length+" libraries and "+t._pendingDeletes.length+" pending deletes"),e(null)},function(e){t._reportCommitError(e)})})},i.prototype._removeFromPendingDeletes=function(e){var t=this._pendingDeletes.indexOf(e);t!==-1&&this._pendingDeletes.splice(t,1)},i.prototype._handlePendingDeletes=function(e){var t=this,n=new h;this._pendingDeletes.forEach(function(e){n.addOperation(function(n){e._deleteFromServer(!1,function(i){return i&&i.code===r.UPDATE_CONFLICT?(t._removeFromPendingDeletes(e),t._libraries.push(e),t._libraryIdMap[e.id]=e,e._markDeletedLocally(!1),t._updateSyncState(),t._notifyChange(!0),void n(null,!0)):i?void n(i):(t._removeFromPendingDeletes(e),e._deletedFromDisk=!0,void f.deleteLibraryFromDisk(t,e.id,function(e){n(e,!0)}))})})}),n.run(e)},i.prototype._doesLibraryExist=function(e){if(this._libraryIdMap[e])return!0;var t;for(t=0;t<this._pendingDeletes.length;t++)if(this._pendingDeletes[t].id===e)return!0;return!1},i.prototype._syncNewLibrary=function(e,t,n,i){var s=this,l=t||this._syncManager.getCompositePath(e),c=a.hasFileSystem()&&this._getCompositeDir(e),u=a.dcx.newCompositeWithHref(l,c);s._libraryIdMap[e]="pending",s._updateSyncState(),s._syncManager.pullComposite(u,s,function(t,a){return t||!a?(delete s._libraryIdMap[e],s._updateSyncState(),t=t?t.code===r.NO_COMPOSITE||t.code===r.DELETED_COMPOSITE?null:m.getSyncError(t,e):new d(d.NETWORK_ERROR,"No pulled branch"),void i(t,!0)):void u.resolvePullWithBranch(a,function(t){if(t||!s.isPublic&&u.id!==e)return delete s._libraryIdMap[e],s._updateSyncState(),t=t?m.getCommitError(t,e):new d(d.CORRUPTED_LIBRARY,"Library id does not match sync group id"),void i(t,!0);var r=new o(s,u);s.isPublic&&(r._publicId=e,r._writable=!1),s._libraries.push(r),s._libraryIdMap[r.id]=r,s._updateSyncState(),r._setCollaboration(n),y.prefetchRenditions(r),s._notifyChange(!0),i(null,!0)})})},i.prototype._syncNewLibraries=function(e,t){var n=this,i=new h;if(this._loadingHint){var r=[];e.forEach(function(e){n._loadingHint.indexOf(e.name)!==-1&&r.push(e)}),e.forEach(function(e){n._loadingHint.indexOf(e.name)===-1&&r.push(e)}),e=r}e.forEach(function(e){var t=e.name;n._doesLibraryExist(e.name)||i.addOperation(n._syncNewLibrary,[t,void 0,e],n)}),i.run(t)},i.prototype._syncExistingLibraries=function(e,t,n){var i=this,r=new h;this._libraries.forEach(function(n){var o=e&&e[n.id];if(o&&(n._setCollaboration(o),n._deletedFromServer&&(n._deletedFromServer=!1,n._notifyChange())),t)return void((t[n.id]||o&&!o.isUnmodified)&&r.addOperation(n._sync,[!1],n));var a=!e||o&&o.isUnmodified;void 0===n.collaboration?r.addOperation(n._sync,[a],n):a?r.addOperation(function(e){i._syncManager.hasCompositeChangedOnServer(n._dcxComposite,function(t){n._sync(!t,e)})}):r.addOperation(n._sync,[!1],n)}),r.run(n)},i.prototype._dosync=function(e,t){var n=this;this._clearSyncErrors(),this._syncManager.getServerComposites(function(i,r,o){if(i)return i=m.getSyncError(i,void 0,{403:d.ACCESS_DENIED}),n._reportSyncError(i),void t(null,!1);var a=new h;a.addOperation(n._syncNewLibraries,[r],n),a.addOperation(n._syncExistingLibraries,[o,e],n),a.addOperation(n._handlePendingDeletes,[],n),e||a.addOperation(n._bookmarkManager.sync,[],n._bookmarkManager),a.run(function(e,n){t(null,n)},function(e){n._reportSyncError(e)})})},i.prototype._reportSyncError=function(e){e&&(a.log("Sync error: "+m.errorToString(e)),this._syncErrors.push(e))},i.prototype._clearSyncErrors=function(e){if(e){var t=[];this._syncErrors.forEach(function(n){n.libraryId!==e&&t.push(n)}),this._syncErrors=t}else this._syncErrors=[]},i.prototype._reportCommitError=function(e){this._lastCommitError=e,e&&(a.log("Commit error: "+m.errorToString(e)),this._listenerManager.notify("commitError",[e]))},i.prototype._updateRetryState=function(){if(!this._retryTimeoutId&&"syncing"!==this._syncState){if("error"===this._syncState){var e=this.getPrimarySyncError();if(e&&e.code===d.RETRYABLE_SERVER_ERROR){if(this._numRetries++,this._numRetries>s.ERROR_RETRY_INTERVALS.length)return this._retryTime="never",a.log("Retry Failed"),void(s.MAX_SYNC_INTERVAL=s.RETRY_FAIL_MAX_SYNC_INTERVAL);a.log("Retry "+this._numRetries);var t=e.underlyingError&&e.underlyingError.response&&e.underlyingError.response.headers,n=1e3*v.getRetryAfterHeader(t);n>0?(this._numRetries=s.ERROR_RETRY_INTERVALS.length,a.log("Got Retry-After header")):n=1e3*s.ERROR_RETRY_INTERVALS[this._numRetries-1],a.log("Retrying after "+n+"ms"),this._retryTime=(new Date).valueOf()+n;var i=this;return void(this._retryTimeoutId=setTimeout(function(){i._retryTimeoutId=void 0,i._retryTime=void 0,a.log("Starting retry"),i._syncWithParameters(!1)},n))}if(e&&e.code===d.EXCEEDS_QUOTA)return s.MAX_SYNC_INTERVAL=s.RETRY_FAIL_MAX_SYNC_INTERVAL,this._numRetries=s.ERROR_RETRY_INTERVALS.length+1,void(this._retryTime="never")}this._numRetries=0,this._retryTime=void 0}},i.prototype._updateSyncState=function(){var e=this,t=this._initialSyncInProgress;Object.keys(this._libraryIdMap).forEach(function(n){var i=e._libraryIdMap[n],r="pending"===i||i._isSyncing();t=t||r});var n;t?n="syncing":(this._syncErrors.length>0?(n="error",e._syncManager.clearSyncGroupCache(),u.reportError(this.getPrimarySyncError())):n="ok",this._syncProgressMap={},this._syncProgress=void 0);var i=this._syncState;this._syncState=n,this._updateRetryState(),i===n&&"error"!==this._syncState||this._listenerManager.notify("sync"),e._ensureDefaultLibrary()},i.prototype._updateProgress=function(e,t,n){n?this._syncProgressMap[e]={bytesLoaded:t||0,bytesTotal:n}:this._syncProgressMap[e]?(0===this._syncProgressMap[e].bytesTotal&&(this._syncProgressMap[e].bytesTotal=1e4),this._syncProgressMap[e].bytesLoaded=this._syncProgressMap[e].bytesTotal):this._syncProgressMap[e]={bytesLoaded:0,bytesTotal:0};var i=!1,r=t||0,o=n||0,a=o>0?Math.max(0,Math.min(100,Math.round(r/n*100))):void 0;this._syncProgressMap[e].progress!==a&&(this._syncProgressMap[e].progress=a,i=!0);var s=0,l=0,c=0,u=0,d=this._syncProgressMap;Object.keys(d).forEach(function(e){s++,d[e].bytesTotal>0&&l++,c+=d[e].bytesLoaded,u+=d[e].bytesTotal});var p=u>0?c*l/(u*s):0,h=Math.max(0,Math.min(100,Math.round(100*p)));(!this._syncProgress||this._syncProgress<h||100===this._syncProgress&&h<100)&&(this._syncProgress=h,i=!0),i&&this._listenerManager.notify("sync")},i.prototype._updateExternalLinkDownloadProgress=function(e,t,n,i){var r,o=e.element.library.id+"."+e.element.id+"."+e.id;n?(t=t||0,r=Math.max(0,Math.min(100,Math.round(t/n*100)))):i&&(r=-1),r!==this._externalLinkDownloadProgressMap[o]&&(void 0===r?delete this._externalLinkDownloadProgressMap[o]:this._externalLinkDownloadProgressMap[o]=r,this._listenerManager.notify("sync"))},i.prototype._getExternalLinkDownloadProgress=function(e){var t=e.element.library.id+"."+e.element.id+"."+e.id;return this._externalLinkDownloadProgressMap[t]},i.prototype._setInitialSyncState=function(e,t){this._initialSyncInProgress=e,this._loadingHint=t,this._updateSyncState()},i.prototype._resetPollBackoff=function(){this._backoffTicks=0,this._numBackoffs=0},i.prototype._getBaseDir=function(){var e=a.getPathSeparator(),t=this._userId.replace(/@/g,"_"),n=this._rootDir+e+t;return this._isPublic&&t!==s.PUBLIC_USER_ID&&(n+=e+s.PUBLIC_USER_ID),n+e+this._cloudId},i.prototype._getCompositeDir=function(e){var t=a.getPathSeparator(),n=this._getBaseDir()+t+"dcx";return e&&(n+=t+e),n},i.prototype._getTempDir=function(){var e=a.getPathSeparator();return this._getBaseDir()+e+".tmp"},i.prototype._getRenditionCacheDir=function(e){var t=a.getPathSeparator(),n=this._getBaseDir()+t+"renditions";return e&&(n+=t+e),n},i.prototype._ensureDefaultLibrary=function(){var e="ok"===this.syncState&&!this.isInitialSyncInProgress&&s.SYNCING_ENABLED,t=0;if(this.libraries.forEach(function(e){e.isDeletedLocally||e.isDeletedFromServer||t++}),!this.isPublic&&e&&0===t){var n=p.translate("LIBS_DEFAULT_LIBRARY_NAME");a.log("Creating default library: "+n),this.createLibrary(n)}},i.prototype._doRemoveLibrary=function(e,t){var n=this,i=_.wrapCallback(t),r=this._libraries.indexOf(e);r!==-1&&(this._libraries.splice(r,1),delete this._libraryIdMap[e.id]),e._removeAllListeners(),s.SHARED_LOCAL_STORAGE?(e._dcxBranch.compositeState="pendingDelete",e._commit(!1,!0),e._markDeletedLocally(!0),i(null)):(n._pendingDeletes.push(e),s.SYNCING_ENABLED?e._deleteFromServer(!0,function(t){return e._markDeletedLocally(!0),t?void i(null):(n._removeFromPendingDeletes(e),e._deletedFromDisk=!0,void f.deleteLibraryFromDisk(n,e.id,i))}):(e._dcxBranch.compositeState="pendingDelete",e._commit(!0,!0),e._markDeletedLocally(!0),i(null))),this._notifyChange(!0)},Object.defineProperties(i.prototype,{libraries:{get:function(){return this._libraries},set:function(){throw new d(d.READ_ONLY,"Cannot modify libraries list directly")}},commitError:{get:function(){return this._lastCommitError},set:function(){throw new d(d.READ_ONLY,"commitError is a read-only property")}},syncState:{get:function(){return this._syncState},set:function(){throw new d(d.READ_ONLY,"syncState is a read-only property")}},syncErrors:{get:function(){return this._syncErrors},set:function(){throw new d(d.READ_ONLY,"syncErrors is a read-only property")}},syncProgress:{get:function(){return this._syncProgress},set:function(){throw new d(d.READ_ONLY,"syncProgress is a read-only property")}},isInitialSyncInProgress:{get:function(){return this._initialSyncInProgress},set:function(){throw new d(d.READ_ONLY,"isInitialSyncInProgress is a read-only property")}},isPolling:{get:function(){return void 0!==this._pollTimerId},set:function(){throw new d(d.READ_ONLY,"isPolling is a read-only property")}},isLoggedIn:{get:function(){if(!s.SHARED_LOCAL_STORAGE)return this._syncManager.isLoggedIn()},set:function(){throw new d(d.READ_ONLY,"isLoggedIn is a read-only property")}},retryTime:{get:function(){if("never"!==this._retryTime)return this._retryTime},set:function(){throw new d(d.READ_ONLY,"retryTime is a read-only property")}},userId:{get:function(){return this._userId},set:function(){throw new d(d.READ_ONLY,"userId is a read-only property")}},cloudId:{get:function(){return this._cloudId},set:function(){throw new d(d.READ_ONLY,"cloudId is a read-only property")}},cloudInfo:{get:function(){return this._cloudInfo},set:function(){throw new d(d.READ_ONLY,"cloudInfo is a read-only property")}},isPublic:{get:function(){return!1},set:function(){throw new d(d.READ_ONLY,"isPublic is a read-only property")}},bookmarks:{get:function(){return this._bookmarkManager.getBookmarks()},set:function(){throw new d(d.READ_ONLY,"bookmarks is a read-only property")}}}),i.prototype.addChangeListener=function(e){this._listenerManager.add("change",e)},i.prototype.removeChangeListener=function(e){this._listenerManager.remove("change",e)},i.prototype.addDeepChangeListener=function(e){this._listenerManager.add("deepchange",e)},i.prototype.removeDeepChangeListener=function(e){this._listenerManager.remove("deepchange",e)},i.prototype.createLibrary=function(e){var t=a.uuid(),n=s.COMPOSITE_TYPE,i=this._getCompositeDir(t),r=a.dcx.newEmptyComposite(e,n,i,t);r.current.rootNode.setValue(s.VERSION_KEY,s.VERSION),this._syncManager.prepareCompositeForPush(r);var l=new o(this,r);return l._updateCreatedTime(),this._libraries.push(l),this._libraryIdMap[l.id]=l,this._notifyChange(!0),l._commit(!1,!0),u.reportCreateLibrary(l),l},i.prototype.removeLibrary=function(e,t){this._doRemoveLibrary(e,t),u.reportDeleteLibrary(e)},i.prototype.removeDeletedLibraries=function(e,t){function n(e,t){var n=i._libraries.indexOf(e);n!==-1&&(i._libraries.splice(n,1),delete i._libraryIdMap[e.id]),e._deletedFromDisk=!0,f.deleteLibraryFromDisk(i,e.id,t),e._markDeletedLocally(!0)}var i=this,r=_.wrapCallback(t);"function"==typeof e&&(r=e,e=void 0);var o=e&&e.exclude||[],a=new h,s=!1;this._libraries.forEach(function(e){if(e.isDeletedFromServer){var t=!0;o.forEach(function(n){t=t&&e!==n}),t&&(s=!0,a.addOperation(n,[e]))}}),a.run(function(e){s&&i._notifyChange(!0),r(e)})},i.prototype.sync=function(e){this._syncWithParameters(!1,!1,void 0,e)},i.prototype.syncChanges=function(e,t){e=e||[];var n={};e.forEach(function(e){n[e]=!0}),this._syncWithParameters(!1,!1,n,t)},i.prototype.syncFull=function(e){this._syncManager.clearSyncGroupCache(),this._syncWithParameters(!1,!1,void 0,e)},i.prototype.syncBookmarks=function(e){var t=function(t){e&&e(t)};this._bookmarkManager.sync(t)},i.prototype._syncWithParameters=function(e,t,n,i){var r=this,o=function(){i&&i(null)};if(s.SHARED_LOCAL_STORAGE)return a.storageInterface.sync(this),void o();if(!s.SYNCING_ENABLED)return void o();if(this._retryTimeoutId)return void o();if(e||this._resetPollBackoff(),this.isPolling){if(this._syncing)return void o()}else if(this._syncing)return void r._pendingSyncs.push(o);var l=(new Date).valueOf();return l<this._lastSyncTime+s.MAX_SYNC_INTERVAL?t?void o():void setTimeout(function(){r._syncWithParameters(e,!0,n,o)},s.MAX_SYNC_INTERVAL):(a.log("Start Sync: "+this.cloudId+(e?" [polling]":"")),this._syncing=!0,this._lastSyncTime=(new Date).valueOf(),void this._dosync(n,function(e,t){if(r._syncing=!1,r._updateSyncState(),a.log("End Sync: "+r.cloudId),t&&(r._backoffTicks=0,r._numBackoffs=0),r._pendingSyncs.length>0){var n=r._pendingSyncs;r._pendingSyncs=[],r.sync(function(){n.forEach(function(e){e()})})}o()}))},i.prototype.addSyncListener=function(e){this._listenerManager.add("sync",e)},i.prototype.removeSyncListener=function(e){this._listenerManager.remove("sync",e)},i.prototype.getPrimarySyncError=function(){var e=this._syncErrors[0];return this._syncErrors.forEach(function(t){var n=m.getErrorPriority(t),i=m.getErrorPriority(e);n>i?e=t:n===i&&e.code===t.code&&e.libraryId!==t.libraryId&&(e=new d(e.code,"multiple errors (see libraryCollection.syncErrors)",void 0))}),e},i.prototype.getNewLibrarySyncProgress=function(){var e=this;if(this._newLibraryProgress)return this._newLibraryProgress;var t=[];return Object.keys(this._libraryIdMap).forEach(function(n){"pending"===e._libraryIdMap[n]&&t.push({id:n,progress:e._syncProgressMap[n]&&e._syncProgressMap[n].progress})}),t},i.prototype.addCommitErrorListener=function(e){this._listenerManager.add("commitError",e)},i.prototype.removeCommitErrorListener=function(e){this._listenerManager.remove("commitError",e)},i.prototype.startPolling=function(){if(s.SHARED_LOCAL_STORAGE)throw new d(d.NOT_SUPPORTED,"startPolling() not supported with shared local storage");if(!this.isPolling){var e=this,t=6e4*s.POLL_INTERVAL;this._pollTimerId=setInterval(function(){if("never"!==e._retryTime){if(e._backoffTicks>0)return void e._backoffTicks--;0===e._backoffTicks&&(e._numBackoffs++,e._backoffTicks=v.getBackoffTicks(e._numBackoffs)),e._syncWithParameters(!0)}},t)}},i.prototype.stopPolling=function(){if(s.SHARED_LOCAL_STORAGE)throw new d(d.NOT_SUPPORTED,"stopPolling() not supported with shared local storage");this.isPolling&&(clearInterval(this._pollTimerId),delete this._pollTimerId),this._retryTimeoutId&&(clearTimeout(this._retryTimeoutId),delete this._retryTimeoutId)},i.prototype.createBookmark=function(e,t,n){this._bookmarkManager.createBookmark(e,t,n)},i.prototype.removeBookmark=function(e,t){this._bookmarkManager.removeBookmark(e,t)},i.prototype.findBookmark=function(e){var t;return this.bookmarks&&this.bookmarks.some(function(n){if(n.url===e._dcxComposite.href)return t=n,!0}),t},i.prototype.getDefaultLibrary=function(){var e;return this.libraries.forEach(function(t){"incoming"!==t.collaboration&&(!e||(e.created||0)>(t.created||0))&&(e=t)}),e},i.prototype.getLibraryById=function(e){var t;return this.libraries.forEach(function(n){n.id===e&&(t=n)}),t},i.prototype.updateAccessToken=function(e){if(s.SHARED_LOCAL_STORAGE)throw new d(d.NOT_SUPPORTED,"updateAccessToken() not supported with shared local storage");this._syncManager.updateAccessToken(e),a.log("defined")},i.prototype.getTempDir=function(e){if(!a.hasFileSystem())return void e(new d(d.REQUIRES_FILESYSTEM,"getTempDir only supported when you have a filesystem"));var t=this._getTempDir();f.ensurePathExists(t,function(n){e(n,t)})},Object.freeze(i),Object.seal(i.prototype),i}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/AdobeLibraryPublicCollection",["require","exports","module","./AdobeLibraryCollection","./AdobeLibraryError","./AdobeLibraryConfig","./AdobeLibraryServices","./utils/AdobeLibraryAsyncJoin","./utils/AdobeLibraryFileUtils"],function(e,t,n){"use strict";function i(e){e.IS_PUBLIC=!0,e.USER_ID=e.USER_ID||a.PUBLIC_USER_ID,this._newLibrariesLoading={},r.call(this,e)}var r=e("./AdobeLibraryCollection"),o=e("./AdobeLibraryError"),a=e("./AdobeLibraryConfig"),s=e("./AdobeLibraryServices"),l=e("./utils/AdobeLibraryAsyncJoin"),c=e("./utils/AdobeLibraryFileUtils");return Object.keys(r.prototype).forEach(function(e){0===e.indexOf("_")&&(i.prototype[e]=r.prototype[e])}),i.prototype._dosync=function(e,t){var n=this;this._clearSyncErrors();var i=new l;this._libraries.forEach(function(e){i.addOperation(function(t){n._syncManager.hasCompositeChangedOnServer(e._dcxComposite,function(n){e._sync(!n,t)})})}),i.run(function(e,n){t(null,n)},function(e){n._reportSyncError(e)})},Object.defineProperties(i.prototype,{libraries:{get:function(){return this._libraries},set:function(){throw new o(o.READ_ONLY,"Cannot modify libraries list directly")}},commitError:{get:function(){return this._lastCommitError},set:function(){throw new o(o.READ_ONLY,"commitError is a read-only property")}},syncState:{get:function(){return this._syncState},set:function(){throw new o(o.READ_ONLY,"syncState is a read-only property")}},syncErrors:{get:function(){return this._syncErrors},set:function(){throw new o(o.READ_ONLY,"syncErrors is a read-only property")}},syncProgress:{get:function(){return this._syncProgress},set:function(){throw new o(o.READ_ONLY,"syncProgress is a read-only property")}},isPolling:{get:function(){return void 0!==this._pollTimerId},set:function(){throw new o(o.READ_ONLY,"isPolling is a read-only property")}},retryTime:{get:function(){if("never"!==this._retryTime)return this._retryTime},set:function(){throw new o(o.READ_ONLY,"retryTime is a read-only property")}},userId:{get:function(){return this._userId},set:function(){throw new o(o.READ_ONLY,"userId is a read-only property")}},cloudId:{get:function(){return this._cloudId},set:function(){throw new o(o.READ_ONLY,"cloudId is a read-only property")}},cloudInfo:{get:function(){return this._cloudInfo},set:function(){throw new o(o.READ_ONLY,"cloudInfo is a read-only property")}},isPublic:{get:function(){return!0},set:function(){throw new o(o.READ_ONLY,"isPublic is a read-only property")}}}),i.prototype.addChangeListener=function(e){r.prototype.addChangeListener.call(this,e)},i.prototype.removeChangeListener=function(e){r.prototype.removeChangeListener.call(this,e)},i.prototype.addDeepChangeListener=function(e){r.prototype.addDeepChangeListener.call(this,e)},i.prototype.removeDeepChangeListener=function(e){r.prototype.removeDeepChangeListener.call(this,e)},i.prototype.canLoadLibrary=function(e){var t=new RegExp(this._syncManager.getSyncGroupPath()+"/(.+)");return!!e.match(t)},i.prototype.loadLibrary=function(e,t,n){function i(t,n){var i=r._newLibrariesLoading[e];delete r._newLibrariesLoading[e],i.forEach(function(e){e(t,n)})}var r=this,l=this.getLibraryById(e);if(l)return void n(null,l);if(t&&!this.canLoadLibrary(t))return void n(new o(o.INVALID_PARAMETER,"Invalid library url"));var c=this._newLibrariesLoading[e];return c?void c.push(n):(this._newLibrariesLoading[e]=[n],a.SHARED_LOCAL_STORAGE?void s.storageInterface.loadPublicLibrary(this,e,t,i):void this._syncNewLibrary(e,t,void 0,function(t){return t?void i(t):(l=r.getLibraryById(e),l&&(l._loadedExternally=!0),void i(null,l))}))},i.prototype.unloadLibrary=function(e,t){var n=this._libraries.indexOf(e);return n===-1?void t(null):(this._libraries.splice(n,1),delete this._libraryIdMap[e.id],e._markDeletedLocally(!0),a.SHARED_LOCAL_STORAGE?s.storageInterface.unloadPublicLibrary(e,t):(e._deletedFromDisk=!0,c.deleteLibraryFromDisk(this,e.id,t)),void this._listenerManager.notify("change"))},i.prototype.removeDeletedLibraries=function(e,t){r.prototype.removeDeletedLibraries.call(this,e,t)},i.prototype.sync=function(e){r.prototype.sync.call(this,e)},i.prototype.addSyncListener=function(e){r.prototype.addSyncListener.call(this,e)},i.prototype.removeSyncListener=function(e){r.prototype.removeSyncListener.call(this,e)},i.prototype.getPrimarySyncError=function(){return r.prototype.getPrimarySyncError.call(this)},i.prototype.getNewLibrarySyncProgress=function(){return r.prototype.getNewLibrarySyncProgress.call(this)},i.prototype.addCommitErrorListener=function(e){r.prototype.addCommitErrorListener.call(this,e)},i.prototype.removeCommitErrorListener=function(e){r.prototype.removeCommitErrorListener.call(this,e)},i.prototype.startPolling=function(){r.prototype.startPolling.call(this)},i.prototype.stopPolling=function(){r.prototype.stopPolling.call(this)},i.prototype.getLibraryById=function(e){return r.prototype.getLibraryById.call(this,e)},i.prototype.getTempDir=function(e){r.prototype.getTempDir.call(this,e)},Object.freeze(i),Object.seal(i.prototype),i}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/AdobeLibraryCollectionManager",["require","exports","module","./utils/AdobeLibraryListenerManager"],function(e,t,n){"use strict";function i(){this._collections=[],this._listenerManager=new r(["change"])}var r=e("./utils/AdobeLibraryListenerManager");return i.prototype.getLibraryCollection=function(e,t){var n;return this._collections.forEach(function(i){i.isPublic||i.userId!==e||i.cloudId!==t||(n=i)}),n},i.prototype.getPublicLibraryCollection=function(e){var t;return this._collections.forEach(function(n){n.isPublic&&n.cloudId===e&&(t=n)}),t},i.prototype.addLibraryCollection=function(e){this._collections.push(e),this._listenerManager.notify("change")},i.prototype.removeLibraryCollection=function(e){var t=this._collections.indexOf(e);t!==-1&&(this._collections.splice(t,1),this._listenerManager.notify("change"))},i.prototype.removeAllLibraryCollections=function(){this._collections=[],this._listenerManager.notify("change")},i.prototype.getLoadedCollections=function(){return this._collections},i.prototype.addLoadedCollectionsListener=function(e){this._listenerManager.add("change",e)},i.prototype.removeLoadedCollectionsListener=function(e){this._listenerManager.remove("change",e)},Object.freeze(i),Object.seal(i.prototype),i}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/AdobeLibraryMessageChannel",["require","exports","module","./AdobeLibraryServices","./utils/AdobeLibraryListenerManager"],function(e,t,n){"use strict";function i(e){this._socket=e,this._listenerManager=new l,this._socketListenerManager=new l,this._pendingWriteState={},this._pendingWriteDependencyMap={},this._init()}function r(e){return e+"_req"}function o(e){return e+"_res"}function a(e,t,n){return e+"#"+t+"#"+n}var s=e("./AdobeLibraryServices"),l=e("./utils/AdobeLibraryListenerManager");return i.prototype._init=function(){var e=this;this._addSocketListener("message",function(t){var n=JSON.parse(t);e._logReceive(n.type),e._listenerManager.notify(n.type,[n.data])})},i.prototype._addSocketListener=function(e,t){this._socketListenerManager.add(e,t),this._socket.addListener(e,t)},i.prototype._removeSocketListeners=function(){var e=this;this._socketListenerManager.forEach(function(t,n){e._socket.removeListener(t,n)}),this._socketListenerManager.removeAll()},i.prototype._logSend=function(e){this._logCallback&&this._logCallback("SEND "+e)},i.prototype._logReceive=function(e){this._logCallback&&this._logCallback("RECEIVE "+e)},i.prototype._logError=function(e){this._logCallback&&this._logCallback("ERROR "+e)},i.prototype.setPendingWriteState=function(e,t,n){
var i=a(e,t,n);this._pendingWriteState[i]=!0},i.prototype.setPendingWriteDependency=function(e,t,n,i,r,o){var s=a(e,t,n),l=a(i,r,o);s!==l&&(this._pendingWriteDependencyMap[s]=this._pendingWriteDependencyMap[s]||{},this._pendingWriteDependencyMap[s][l]={userId:i,cloudId:r,id:o})},i.prototype.clearPendingWriteState=function(e,t,n){var i=a(e,t,n),r=[];return Object.keys(this._pendingWriteDependencyMap[i]||{}).forEach(function(e){r.push(this._pendingWriteDependencyMap[i][e])},this),delete this._pendingWriteState[i],delete this._pendingWriteDependencyMap[i],r},i.prototype.getPendingWriteState=function(e,t,n,i){var r=a(e,t,n),o=!1;return!i&&this._pendingWriteState[r]&&(o=this._pendingWriteState[r]),Object.keys(this._pendingWriteDependencyMap).forEach(function(e){var t=this._pendingWriteDependencyMap[e];t[r]&&(o=this._pendingWriteState[e]||o)},this),o},i.prototype.setLogCallback=function(e){this._logCallback=e},i.prototype.addListener=function(e,t){this._listenerManager.add(e,t)},i.prototype.removeListener=function(e,t){this._listenerManager.remove(e,t)},i.prototype.send=function(e,t){try{this._logSend(e),this._socket.send(JSON.stringify({type:e,data:t}))}catch(e){this._logError(e),this._socketListenerManager.notify("error",[e])}},i.prototype.addCallListener=function(e,t){var n=this;this.addListener(r(e),function(i){var r=i.id;t(i.data,function(t){n.send(o(e),{id:r,data:t})})})},i.prototype.removeCallListener=function(e,t){this.removeListener(r(e),t)},i.prototype.call=function(e,t,n){var i=this,a=s.uuid(),l=function(t){t.id===a&&(i.removeListener(o(e),l),n(t.data))};this.addListener(o(e),l),this.send(r(e),{id:a,data:t})},i.prototype.onOpen=function(e){this._addSocketListener("open",e)},i.prototype.onClose=function(e){this._addSocketListener("close",e)},i.prototype.onError=function(e){this._addSocketListener("error",e)},i.prototype.shutdown=function(){var e=this;this._addSocketListener("close",function(){e._removeSocketListeners(),e._listenerManager.removeAll()}),this._socket.close()},Object.freeze(i),Object.seal(i.prototype),i}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/AdobeLibraryWebSocket",["require","exports","module","./AdobeLibraryConfig","./utils/AdobeLibraryListenerManager"],function(e,t,n){"use strict";function i(e,t){var n="ws://127.0.0.1:"+e+"/?version="+r.SHARED_LOCAL_STORAGE_VERSION;t&&(n+="&token="+t),this._socket=new WebSocket(n),this._socket.onopen=this._onSocketOpen.bind(this),this._socket.onclose=this._onSocketClose.bind(this),this._socket.onmessage=this._onSocketMessage.bind(this),this._socket.onerror=this._onSocketError.bind(this),this._listenerManager=new o(["open","close","message","error"])}var r=e("./AdobeLibraryConfig"),o=e("./utils/AdobeLibraryListenerManager");return i.prototype._onSocketOpen=function(e){this._listenerManager.notify("open")},i.prototype._onSocketClose=function(e){this._listenerManager.notify("close")},i.prototype._onSocketMessage=function(e){this._listenerManager.notify("message",[e.data])},i.prototype._onSocketError=function(e){this._listenerManager.notify("error",[e])},i.prototype.send=function(e){this._socket.send(e)},i.prototype.addListener=function(e,t){this._listenerManager.add(e,t)},i.prototype.removeListener=function(e,t){this._listenerManager.remove(e,t)},i.prototype.close=function(){this._socket.close(),this._socket.onopen=void 0,this._socket.onclose=void 0,this._socket.onmessage=void 0,this._socket.onerror=void 0,this._listenerManager.removeAll()},Object.freeze(i),Object.seal(i.prototype),i}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/AdobeLibraryStorageInterfaceFS",["require","exports","module","./AdobeLibraryError","./utils/AdobeLibraryGeneralUtils"],function(e,t,n){"use strict";function i(e){this._storageInterface=e}var r=e("./AdobeLibraryError"),o=e("./utils/AdobeLibraryGeneralUtils"),a={rename:!0,renameSync:!1,ftruncate:!1,ftruncateSync:!1,truncate:!1,truncateSync:!1,chown:!1,chownSync:!1,fchown:!1,fchownSync:!1,lchown:!1,lchownSync:!1,chmod:!1,chmodSync:!1,fchmod:!1,fchmodSync:!1,lchmod:!1,lchmodSync:!1,stat:!0,lstat:!1,fstat:!1,statSync:!1,lstatSync:!1,fstatSync:!1,link:!1,linkSync:!1,symlink:!1,symlinkSync:!1,readlink:!1,readlinkSync:!1,realpath:!1,realpathSync:!1,unlink:!0,unlinkSync:!1,rmdir:!0,rmdirSync:!1,mkdir:!0,mkdirSync:!1,readdir:!0,readdirSync:!1,close:!1,closeSync:!1,open:!1,openSync:!1,utimes:!0,utimesSync:!1,futimes:!1,futimesSync:!1,fsync:!1,fsyncSync:!1,write:!1,writeSync:!1,read:!1,readSync:!1,readFile:!0,readFileSync:!1,writeFile:!0,writeFileSync:!1,appendFile:!1,appendFileSync:!1,watchFile:!1,unwatchFile:!1,watch:!1,exists:!0,existsSync:!1,createReadStream:!1,createWriteStream:!1};return i.prototype._fsCall=function(e,t,n){var i=o.wrapCallback(n),r={method:e,args:t};this._storageInterface._channel.call("fscall",r,function(e){i.apply(null,e)})},i.prototype._pipeCall=function(e,t,n,i){var r=o.wrapCallback(i),a={readStream:{path:e,options:t},writeStream:n};this._storageInterface._channel.call("fspipe",a,r)},Object.keys(a).forEach(function(e){a[e]?i.prototype[e]=function(){var t,n=Array.prototype.slice.call(arguments);"function"==typeof n[n.length-1]&&(t=n.pop()),this._fsCall(e,n,t)}:i.prototype[e]=function(){var t=new r(r.NOT_IMPLEMENTED,e+" is not implemented in shared local storage"),n=arguments[arguments.length-1];if("function"==typeof n)return void n(t);throw t}}),i.prototype.createReadStream=function(e,t){var n=this,i={};return i.on=function(e,t){i[e]=t},i.pipe=function(t,r){n._pipeCall(e,r,t,function(e){i[e.event]&&i[e.event].apply(null,e.args)})},i},i.prototype.createWriteStream=function(e,t){return{path:e,options:t}},Object.freeze(i),Object.seal(i.prototype),i}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/AdobeLibraryStorageInterface",["require","exports","module","./components/dcx-js/src/AdobeDCXComposite","./components/dcx-js/src/AdobeDCXBranch","./AdobeLibraryCollection","./AdobeLibraryPublicCollection","./AdobeLibraryFolder","./AdobeLibraryBookmark","./AdobeLibraryError","./AdobeLibraryConfig","./AdobeLibraryServices","./AdobeLibraryMessageChannel","./AdobeLibraryWebSocket","./AdobeLibraryStorageInterfaceFS","./utils/AdobeLibraryAsyncJoin","./utils/AdobeLibraryManifestUtils","./utils/AdobeLibraryRenditionUtils","./utils/AdobeLibraryGeneralUtils","./utils/AdobeLibraryFeatureUtils"],function(e,t,n){"use strict";function i(e){this._collectionManager=e,this._acceptPushedBranchListeners=[],this._downloadRenditionListeners=[],this._rootListeners=[],this._baseBranches={},this._pendingSetRenditionCache={},this._portDiagnosis="UNKNOWN",this._logIndex=0,d.SHARED_LOCAL_STORAGE&&(this._connect(),this.fs=new g(this),p.hasFileSystem()||p.setFileSystem(this.fs))}var r=e("./components/dcx-js/src/AdobeDCXComposite"),o=e("./components/dcx-js/src/AdobeDCXBranch"),a=e("./AdobeLibraryCollection"),s=e("./AdobeLibraryPublicCollection"),l=e("./AdobeLibraryFolder"),c=e("./AdobeLibraryBookmark"),u=e("./AdobeLibraryError"),d=e("./AdobeLibraryConfig"),p=e("./AdobeLibraryServices"),h=e("./AdobeLibraryMessageChannel"),f=e("./AdobeLibraryWebSocket"),g=e("./AdobeLibraryStorageInterfaceFS"),m=e("./utils/AdobeLibraryAsyncJoin"),v=e("./utils/AdobeLibraryManifestUtils"),_=e("./utils/AdobeLibraryRenditionUtils"),y=e("./utils/AdobeLibraryGeneralUtils"),E=e("./utils/AdobeLibraryFeatureUtils"),b=function(e){var t={};return t.isPublic=e.isPublic,t.userId=e.userId,t.cloudId=e.cloudId,t},T=function(e,t){var n=b(e.collection);return n[t||"id"]=e.id,n},S=function(e,t,n){var i=T(e.library,n);return i[t||"element"]=e.id,i},L=function(e){var t=S(e.element);return t.representation=e.id,t};return i.prototype._getBase=function(e){var t=this._baseBranches[e];return t&&t.base},i.prototype._setBase=function(e,t){this._baseBranches[e]=this._baseBranches[e]||{},this._baseBranches[e].base=t},i.prototype._getLogIndex=function(){return this._logIndex++},i.prototype._getServicePort=function(e){function t(t){var n;try{n=JSON.parse(t)}catch(e){}return n?void e(null,n):void e("NO_DATA")}var n=d.VULCAN_PREFIX+d.VULCAN_QUERY_REQUEST,i=d.VULCAN_PREFIX+d.VULCAN_QUERY_RESPONSE;if(p.vulcanCall)p.vulcanCall(n,"",i,t);else if(p.hasCEPVulcan()){var r,o=p.getVulcanInterface(),a=p.getVulcanMessage(),s=function(n){return o.removeMessageListener(i,s),clearTimeout(r),n?void t(o.getPayload(n)):void e("NO_VULCAN_MESSAGE")};o.addMessageListener(i,s),r=setTimeout(s,d.VULCAN_QUERY_TIMEOUT);var l=new a(n);l.setPayload(""),o.dispatchMessage(l)}},i.prototype._connectToPort=function(e,t){var n=t&&t.port,i=t&&t.token;if(this._portDiagnosis=t?t.portdiagnosis:"UNKNOWN",this._connectionPort=n,!this._isConnected&&n&&"SIMPLE_HOSTNAME_GOING_TO_PROXY"!==this._portDiagnosis){try{var r=new f(n,i);this._channel=new h(r),this._isConnected=!0}catch(e){}this._isConnected&&(this._channel.addListener("environmentinfo",this._onEnvironmentInfo.bind(this)),this._channel.addListener("collectionadded",this._onCollectionAdded.bind(this)),this._channel.addListener("collectionremoved",this._onCollectionRemoved.bind(this)),this._channel.addListener("clearcollections",this._onClearCollections.bind(this)),this._channel.addListener("syncstate",this._onSyncState.bind(this)),this._channel.addListener("librarychange",this._onLibraryChange.bind(this)),this._channel.addListener("renditioncachechange",this._onRenditionCacheChange.bind(this)),this._channel.addListener("librarydeleted",this._onLibraryDeleted.bind(this)),this._channel.addListener("bookmarkschanged",this._onBookmarksChanged.bind(this)),this._channel.onOpen(this._sendConfiguration.bind(this)),this._channel.onClose(this._onDisconnect.bind(this)))}},i.prototype._connect=function(){this._getServicePort(this._connectToPort.bind(this))},i.prototype.shutdown=function(){this._collectionManager.removeAllLibraryCollections(),this._isConnected&&this._onDisconnect()},i.prototype._onDisconnect=function(){this._isConnected=!1,this._collectionManager.removeAllLibraryCollections(),this._channel.shutdown(),this._channel=void 0},i.prototype._sendConfiguration=function(){this._channel.send("configure",{CLIENT_DESCRIPTION:d.CLIENT_DESCRIPTION,RENDITION_SIZES:d.RENDITION_SIZES,FULL_RENDITION_CONFIG:d.FULL_RENDITION_CONFIG,SHARED_LOCAL_STORAGE_ANALYTICS:d.SHARED_LOCAL_STORAGE_ANALYTICS})},i.prototype._onEnvironmentInfo=function(e){this._serviceInfo=e,e.whitelistedDomains&&(d.WHITELISTED_DOMAINS=e.whitelistedDomains),e.elementActionProductMap&&E.updateElementActionMap(e.elementActionProductMap),e.deviceId&&(d.DEVICE_ID=e.deviceId),e.deviceDescription&&(d.DEVICE_DESCRIPTION=e.deviceDescription),this._collectionManager._collections.forEach(function(e){e._listenerManager.notify("sync")})},i.prototype._onCollectionAdded=function(e){var t=this;d.ROOT_DIR=e.rootDir;var n,i=new m,r={USER_ID:e.userId,CLOUD_ID:e.cloudId,CLOUD_INFO:e.cloudInfo,STORAGE_HOSTNAME:e.storageHost,COLLABORATION_HOSTNAME:e.collaborationHost,REQUIRES_COMMUNITY_SESSION:e.requiresCommunitySession};n=e.isPublic?new s(r):new a(r),e.libraries.forEach(function(e){i.addOperation(t.loadExistingLibrary,[n,e.id,e.path,e.manifest,e.deletedFromServer,e.renditionCache],t)}),i.run(function(){t._collectionManager.addLibraryCollection(n)})},i.prototype._getLibraryCollection=function(e){return e.isPublic?this._collectionManager.getPublicLibraryCollection(e.cloudId):this._collectionManager.getLibraryCollection(e.userId,e.cloudId)},i.prototype._onCollectionRemoved=function(e){var t=this._getLibraryCollection(e);t&&this._collectionManager.removeLibraryCollection(t)},i.prototype._onClearCollections=function(){this._collectionManager.removeAllLibraryCollections()},i.prototype._onSyncState=function(e){var t=this._getLibraryCollection(e);t&&(t._syncState=e.state,t._syncProgress=e.progress,t._syncProgressMap=e.progressMap,t._externalLinkDownloadProgressMap=e.externalLinkDownloadProgressMap||{},t._newLibraryProgress=e.newLibraryProgress,t._initialSyncInProgress=e.initialSyncInProgress,t._syncErrors=[],e.errors.forEach(function(e){t._syncErrors.push(new u(e.code,e.message,e.libraryId))}),e.libraryStates.forEach(function(e){var n=t.getLibraryById(e.id);n&&(n._syncState=e.state)}),t._listenerManager.notify("sync"))},i.prototype._onLibraryChange=function(e){var t=this._getLibraryCollection(e);if(t){var n=t.getLibraryById(e.id);n?(n._deletedFromServer=e.deletedFromServer,e.renditionCache=e.renditionCache||{},n._setRenditionCache(e.renditionCache),this.updateExistingLibrary(t,n,e.manifest,void 0,function(){n._setRenditionCache(e.renditionCache)})):this.loadExistingLibrary(t,e.id,e.path,e.manifest,e.deletedFromServer,e.renditionCache)}},i.prototype._onRenditionCacheChange=function(e){var t=this._getLibraryCollection(e),n=t&&t.getLibraryById(e.id),i=n&&n.getElementById(e.elementId);i&&e.renditionCache&&(i._renditionCache=e.renditionCache)},i.prototype._onLibraryDeleted=function(e){var t=this._getLibraryCollection(e);t&&this._deleteLibrary(t,e.id)},i.prototype._onBookmarksChanged=function(e){var t=this._getLibraryCollection(e);if(t&&e.bookmarks){var n=[];e.bookmarks.forEach(function(e){n.push(new c(e._id,e._url))}),t._bookmarkManager._bookmarks=n}},i.prototype.isConnected=function(){return this._isConnected},i.prototype.reconnect=function(){this._isConnected||this._connect()},i.prototype.getServiceInfo=function(){return this._serviceInfo?{updateRequired:this._serviceInfo.updateRequired,version:this._serviceInfo.codeVersion,buildNumber:this._serviceInfo.buildNumber,apiVersion:this._serviceInfo.version,environment:this._serviceInfo.environment,syncingEnabled:this._serviceInfo.syncingEnabled,portDiagnosis:this._portDiagnosis,connectionPort:this._connectionPort}:{portDiagnosis:this._portDiagnosis,connectionPort:this._connectionPort}},i.prototype.updateConfiguration=function(){d.SHARED_LOCAL_STORAGE&&this._isConnected&&this._channel&&this._sendConfiguration()},i.prototype.sync=function(e){this._channel.send("sync",b(e))},i.prototype.setSyncEnabled=function(e){this._channel.send("configuresync",{enable:e})},i.prototype.commitManifest=function(e,t){var n=this;if(d.SHARED_LOCAL_STORAGE){var i=e._dcxBranch.localData,r=this._pendingSetRenditionCache[e.id]||{data:[],callbacks:[]};delete this._pendingSetRenditionCache[e.id];var o=T(e);o.current=i,o.base=this._getBase(e.id),o.renditions=r.data,p.log("Start commit"),this._channel.call("commit",o,function(o){p.log("Finish commit: "+(o.success?"success":"fail")),o.success?(p.log("Update base after commit"),n._setBase(e.id,i),o.renditions&&o.renditions.forEach(function(t,n){if(t){var i=t.split("/").pop(),o=r.data[n],a=e.getElementById(o.element);a&&(a._renditionCache=a._renditionCache||{},a._renditionCache[o.size]=i);var s=r.callbacks[n];s&&s(null,t)}})):(n._pendingSetRenditionCache[e.id]=r,e._waitForCommit(function(){n.notifyStartWrite(e,[],function(){e._deletedFromServer=o.deletedFromServer,n.updateExistingLibrary(e.collection,e,o.manifest,void 0,function(){e._commit(!0,!0)})})})),t(null,o.success)})}else e._dcxLock.obtain(function(){e._gcLocalData(function(){e._dcxComposite.commitChanges(function(n){e._dcxLock.release(),t(n,!0)})})})},i.prototype.resolvePullWithBranch=function(e,t,n,i,r){p.log("resolvePullWithBranch"),d.SHARED_LOCAL_STORAGE?(e._dcxComposite._current=t,this._setBase(e.id,n),p.log("Finished resolvePullWithBranch: shared local storage"),r()):i?e._dcxLock.obtain(function(){e._dcxComposite._current=t,e._dcxLock.release(),p.log("Finished resolvePullWithBranch: local merge"),r()}):e._dcxLock.obtain(function(){e._dcxComposite.resolvePullWithBranch(t,function(t,n){e._dcxLock.release(),e._commit(!0,!0),e._waitForCommit(function(){p.log("Finished resolvePullWithBranch: remote merge"),r(t,n)})})})},i.prototype.acceptPush=function(e,t){var n=this;p.log("acceptPush"),e._dcxLock.obtain(function(){e._dcxComposite.acceptPush(function(i){e._dcxLock.release(),p.log("Finished acceptPush"),n._acceptPushedBranchListeners.forEach(function(t){t(e)}),t(i)})})},i.prototype.onAcceptPushedBranch=function(e){this._acceptPushedBranchListeners.push(e)},i.prototype.removeOnAcceptPushedBranchListeners=function(){this._acceptPushedBranchListeners=[]},i.prototype._deleteLibrary=function(e,t,n){p.log("deleteLibrary");var i=e.getLibraryById(t);if(i){var r=e._libraries.indexOf(i);r!==-1&&(e._libraries.splice(r,1),delete e._libraryIdMap[i.id]),i._markDeletedLocally(!0),e._notifyChange(!0)}},i.prototype._loadBranch=function(e,t,n){var i;try{i=new o(void 0,n).parse(t),i._localStorage=e._localStorage}catch(e){}return i},i.prototype._addLibrary=function(e,t,n,i,o){n=n||e._getCompositeDir(t);var a=new r(null,null,n,null,null,{preserveFileExtensions:!0}),s=this._loadBranch(a,i,!1);if(!s)return void o(new u(u.CORRUPTED_LIBRARY,"Library corrupted in local storage",t));if("pendingDelete"===s.compositeState)return void o(null);a._current=s,this._setBase(t,i);var c=new l(e,a);e.isPublic&&(c._publicId=t,c._writable=!1),e._libraries.push(c),e._libraryIdMap[c.id]=c,e._notifyChange(!0),o(null,c)},i.prototype.createNewLibrary=function(e,t,n,i){var r=y.wrapCallback(i);p.log("createNewLibrary"),this._addLibrary(e,t,void 0,n,function(e,t){return e||!t?void r(e):(t._commit(!1,!0),void t._waitForCommit(r))})},i.prototype.loadExistingLibrary=function(e,t,n,i,r,o,a){var s=y.wrapCallback(a);p.log("loadExistingLibrary"),this._addLibrary(e,t,void 0,i,function(e,t){return e||!t?void s(e):(t._deletedFromServer=r,o&&t._setRenditionCache(o),void s(null,t))})},i.prototype.updateExistingLibrary=function(e,t,n,i,r){var o=this,a=y.wrapCallback(r),s="updateExistingLibrary["+this._getLogIndex()+"]: ";if(v.areManifestsEqual(t._dcxBranch.localData,n))return p.log(s+"already up-to-date"),void a();p.log(s+"changes to update");var l=this._loadBranch(t._dcxComposite,n,!1);if(!l)return void a(new u(u.CORRUPTED_LIBRARY,"Invalid manifest",t.id));var c=v.ensureBranchDataValid(l);p.log(s+"fixed branch data: "+c),"pendingDelete"===l.compositeState?(e._doRemoveLibrary(t),a()):t._waitForCommit(function(){if(i){if(!v.areManifestsEqual(t._dcxBranch.localData,i))return p.log(s+"Commit aborting: something changed and it's no longer a fast-forward"),void a(!0)}else i=o._getBase(t.id);var e=o._loadBranch(t._dcxComposite,i,!0)||l;p.log(s+"base "+e.changeCount+" -> updated "+l.changeCount),t._mergeAndSwitchToBranch(l,e,function(){p.log(s+"finished merge"),d.SHARED_LOCAL_STORAGE?a(null):(t._commit(!1,!0),t._waitForCommit(a))})})},i.prototype.setRenditionCache=function(e,t,n,i){var r=this._pendingSetRenditionCache[e.library.id],o=_.addToPendingSetRenditionCache(r,e,t,n,i);this._pendingSetRenditionCache[e.library.id]=o},i.prototype.getRenditionPath=function(e,t,n,i){i=i||0;var r=this,o=y.wrapCallback(n),a=e._lookupRenditionPath(t||"full");if(a)return void o(null,a);var s=S(e);s.size=t,p.log("Get rendition path from CCLibrary process"),this._channel.call("getrenditionpath",s,function(a){return!a&&i<d.LOCAL_RENDITION_MAX_RETRIES?(p.log("getrenditionpath: rendition not found"),void setTimeout(function(){r.getRenditionPath(e,t,n,i+1)},d.LOCAL_RENDITION_RETRY_INTERVAL)):void o(null,a)})},i.prototype.notifyDownloadRendition=function(e){this._downloadRenditionListeners.forEach(function(t){t(e)})},i.prototype.onDownloadRendition=function(e){this._downloadRenditionListeners.push(e)},i.prototype.removeOnDownloadRenditionListeners=function(){this._downloadRenditionCacheListeners=[]},i.prototype.notifyStartWrite=function(e,t,n){var i=y.wrapCallback(n);if(!d.SHARED_LOCAL_STORAGE)return void i(null);var r=T(e);r.dependencies=[],t.forEach(function(e){r.dependencies.push(T(e))}),this._channel.call("startcomponentwrite",r,function(){i(null)})},i.prototype.loadPublicLibrary=function(e,t,n,i){var r=y.wrapCallback(i),o=b(e);o.id=t,o.url=n,this._channel.call("loadpubliclibrary",o,function(){r(null)})},i.prototype.unloadPublicLibrary=function(e,t){var n=y.wrapCallback(t),i=T(e);this._channel.call("unloadpubliclibrary",i,function(){n(null)})},i.prototype.getAssetFromURL=function(e,t,n,i,r){if(d.SHARED_LOCAL_STORAGE){var o=b(e);o.url=t,o.headers=n,o.tempDir=i,this._channel.call("downloadfile",o,function(e){r(e.err,e.tempFilePath,e.etag,{headers:e.responseHeaders})})}else e._syncManager.getAssetFromURL(t,n,i,void 0,r)},i.prototype.doHeadRequestOfURL=function(e,t,n){d.SHARED_LOCAL_STORAGE?n(null):e._syncManager.doHeadRequestOfURL(t,n)},i.prototype.downloadExternalLink=function(e,t){p.log("Download external link from CCLibrary process"),this._channel.call("downloadexternallink",L(e),function(e){t(e.err,e.path)})},i.prototype.testExternalLink=function(e,t){p.log("Test external link via CCLibrary process"),this._channel.call("testexternallink",L(e),function(e){t(e.err,e.success)})},i.prototype.clearCachedExternalLink=function(e){p.log("Clear cached external link via CCLibrary process"),this._channel.send("clearcachedexternallink",L(e))},i.prototype.createBookmark=function(e,t,n,i){var r=y.wrapCallback(i),o=b(e);o.id=t,o.url=n,this._channel.call("createBookmark",o,function(e){var t=e&&e.err,n=e&&e.bookmark;n&&(n=new c(n._id,n._url)),r(t,n)})},i.prototype.removeBookmark=function(e,t,n){var i=y.wrapCallback(n),r=b(e);r.id=t.id,this._channel.call("removeBookmark",r,function(e){i(e)})},i.prototype.sendElementAction=function(e,t){var n=y.wrapCallback(t),i=S(e.element,"elementId","libraryId");i.appCode=e.appCode,i.minVersion=e.minAppVersion,i.action=e.id,this._channel.call("performElementAction",i,function(e){n(e.err,e.data)})},Object.freeze(i),Object.seal(i.prototype),i}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/AdobeLibraryExternalUtils",["require","exports","module","./AdobeLibraryServices","./utils/AdobeLibraryMimeTypeUtils","./utils/AdobeLibraryRenditionUtils","./utils/AdobeLibraryFileUtils"],function(e,t,n){"use strict";var i=e("./AdobeLibraryServices"),r=e("./utils/AdobeLibraryMimeTypeUtils"),o=e("./utils/AdobeLibraryRenditionUtils"),a=e("./utils/AdobeLibraryFileUtils"),s={};return s.mimeTypeToExtensions=function(e){return r.getExtensions(e)},s.extensionToMimeTypes=function(e){return r.getMimeTypes(e)},s.canGenerateRenditionFromMimeType=function(e){return o.canComputeRenditionFromMimeType(e)},s.generateUuid=function(){return i.uuid()},s.copyFile=function(e,t,n){return a.copyFile(e,t,n)},Object.seal(s),s}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/AdobeLibraryExternalAnalyticsUtils",["require","exports","module","./AdobeLibraryAnalytics"],function(e,t,n){"use strict";var i=e("./AdobeLibraryAnalytics"),r={};return r.reportUseElement=function(e,t,n){i.reportUseElement(e,t,n)},r.reportCheckoutElement=function(e,t,n){i.reportCheckoutElement(e,t,n)},r.reportCreateLink=function(e,t){i.reportCreateLink(e,t)},r.reportShareElementLink=function(e){i.reportShareElementLink(e)},r.reportShareLibraryLink=function(e){i.reportShareLibraryLink(e)},Object.seal(r),r}),define("angular-cc-libraries-api-js/components/cc-libraries-api-js/src/main",["require","exports","module","./AdobeLibraryServices","./AdobeLibraryConfig","./AdobeLibraryCollection","./AdobeLibraryPublicCollection","./AdobeLibraryCollectionManager","./AdobeLibraryError","./AdobeLibraryLocalisation","./AdobeLibraryStorageInterface","./AdobeLibraryExternalUtils","./AdobeLibraryExternalAnalyticsUtils","./utils/AdobeLibraryFileUtils","./utils/AdobeLibraryManifestUtils"],function(e,t,n){"use strict";function i(e,t,n){var i=e+"/"+t,r=void 0!==_[i];return _[i]=_[i]||[],_[i].push(n),r}function r(e,t){var n;n=e===a.PUBLIC_USER_ID?v.getPublicLibraryCollection(t):v.getLibraryCollection(e,t);var i=e+"/"+t,r=_[i];r&&(delete _[i],r.forEach(function(e){e(null,n)}))}var o=e("./AdobeLibraryServices"),a=e("./AdobeLibraryConfig"),s=e("./AdobeLibraryCollection"),l=e("./AdobeLibraryPublicCollection"),c=e("./AdobeLibraryCollectionManager"),u=e("./AdobeLibraryError"),d=e("./AdobeLibraryLocalisation"),p=e("./AdobeLibraryStorageInterface"),h=e("./AdobeLibraryExternalUtils"),f=e("./AdobeLibraryExternalAnalyticsUtils"),g=e("./utils/AdobeLibraryFileUtils"),m=e("./utils/AdobeLibraryManifestUtils"),v=new c,_={},y={};return y.configure=function(e,t){if(o.hasFileSystem()||void 0!==t.SHARED_LOCAL_STORAGE||(t.SHARED_LOCAL_STORAGE=!1),o.hasFileSystem()&&!t.ROOT_DIR&&t.SHARED_LOCAL_STORAGE===!1)throw new u(u.INVALID_PARAMETER,"Missing ROOT_DIR option");if(o.hasFileSystem()&&t.ROOT_DIR&&t.SHARED_LOCAL_STORAGE!==!1)throw new u(u.INVALID_PARAMETER,"ROOT_DIR option doesn't apply when using shared local storage");if(!o.hasFileSystem()&&t.ROOT_DIR)throw new u(u.REQUIRES_FILESYSTEM,"ROOT_DIR option only applies when you have a filesystem");if(t.SHARED_LOCAL_STORAGE===!1&&!t.STORAGE_API_KEY)throw new u(u.INVALID_PARAMETER,"Missing STORAGE_API_KEY option");if(t.SHARED_LOCAL_STORAGE===!1&&!t.DEVICE_ID)throw new u(u.INVALID_PARAMETER,"Missing DEVICE_ID option");if(t.SHARED_LOCAL_STORAGE!==!1&&!o.hasCEPVulcan()&&!e.vulcanCall)throw new u(u.INVALID_PARAMETER,"Shared local storage requires either the CEP VulcanInterface/VulcanMessage as globals, or for you to pass in the vulcanCall dependency");if(!t.APP_DESCRIPTION)throw new u(u.INVALID_PARAMETER,'Missing APP_DESCRIPTION option - should be a string of the form <name>-<version>, e.g. "PHXS-16.0".');if(t.ROOT_DIR)for(;["/","\\"].indexOf(t.ROOT_DIR.substr(-1))!==-1;)t.ROOT_DIR=t.ROOT_DIR.slice(0,-1);t.LOCALE&&(d.setLocale(t.LOCALE),delete t.LOCALE),Object.keys(t).forEach(function(e){a.setParameter(e,t[e])}),o.analytics=e.analytics,o.vulcanCall=e.vulcanCall,o._log=e.log,o._getDisplayName=e.getDisplayName,o._getNodeTunnelOptions=e.getNodeTunnelOptions,o.storageInterface&&o.storageInterface.shutdown(),o.storageInterface=new p(v),o.log("Configure: "+(a.SHARED_LOCAL_STORAGE?"<shared local storage>":a.ROOT_DIR))},y.setOption=function(e,t){var n=["ROOT_DIR","SHARED_LOCAL_STORAGE","ELEMENT_TYPE_FILTERS","STORAGE_API_KEY"];if(n.indexOf(e)!==-1)throw new u(u.INVALID_PARAMETER,"Cannot reconfigure "+e);a.setParameter(e,t),o.storageInterface.updateConfiguration()},y.getLoadedCollections=function(){return v.getLoadedCollections().slice(0)},y.getLoadedCollectionById=function(e,t){return v.getLibraryCollection(e,t)},y.getLoadedPublicCollectionById=function(e){return v.getPublicLibraryCollection(e)},y.addLoadedCollectionsListener=function(e){v.addLoadedCollectionsListener(e)},y.removeLoadedCollectionsListener=function(e){v.removeLoadedCollectionsListener(e)},y.getRootDir=function(){if(!o.hasFileSystem())throw new u(u.REQUIRES_FILESYSTEM,"ROOT_DIR option only applies when you have a filesystem");return a.ROOT_DIR},y.getLocale=function(){return d.getLocale()},y.unloadLibraryCollection=function(e){if(a.SHARED_LOCAL_STORAGE)throw new u(u.NOT_SUPPORTED,"unloadLibraryCollection() not supported with shared local storage");e.stopPolling(),e._removeAllListeners(),v.removeLibraryCollection(e)},y.loadLibraryCollection=function(e,t){function n(){v.addLibraryCollection(l),a.AUTO_START_POLLING&&l.startPolling(),r(e.USER_ID,e.CLOUD_ID)}if("function"==typeof e)return t=e,void t(new u(u.INVALID_PARAMETER,"options argument not specified"));if(a.SHARED_LOCAL_STORAGE)return void t(new u(u.NOT_SUPPORTED,"loadLibraryCollection() not supported with shared local storage"));if(o.hasFileSystem()&&!a.SHARED_LOCAL_STORAGE&&!a.ROOT_DIR)return void t(new u(u.INVALID_PARAMETER,"ROOT_DIR not configured. Make sure you call CCLibraries.configure()"));if(e=e||{},o.hasFileSystem()&&!e.USER_ID)return void t(new u(u.INVALID_PARAMETER,"Missing USER_ID option"));if(e.CLOUD_ID=e.CLOUD_ID||a.DEFAULT_CLOUD_ID,!e.STORAGE_HOSTNAME)return void t(new u(u.INVALID_PARAMETER,"Missing STORAGE_HOSTNAME option"));if(!e.COLLABORATION_HOSTNAME)return void t(new u(u.INVALID_PARAMETER,"Missing COLLABORATION_HOSTNAME option"));var l=v.getLibraryCollection(e.USER_ID,e.CLOUD_ID),c=i(e.USER_ID,e.CLOUD_ID,t);if(l&&!c)return void r(e.USER_ID,e.CLOUD_ID);if(!c)if(l=new s(e),o.hasFileSystem())g.doesRootDirExist(l,function(e,t){l._load(function(){t||l._setInitialSyncState(!0),l.sync(function(){l._setInitialSyncState(!1)}),n()})});else if("all"===e.WAIT_FOR)l._setInitialSyncState(!0),l.sync(function(){l._setInitialSyncState(!1),n()});else if(m.validateLibraryId(e.WAIT_FOR,!1)){l._setInitialSyncState(!0,[e.WAIT_FOR]),l.sync(function(){l._setInitialSyncState(!1)});var d=function(){"syncing"===l.syncState&&"pending"===l._libraryIdMap[e.WAIT_FOR]||(l.removeChangeListener(d),l.removeSyncListener(d),n())};l.addChangeListener(d),l.addSyncListener(d)}else l._setInitialSyncState(!0),l.sync(function(){l._setInitialSyncState(!1)}),n()},y.loadPublicLibraryCollection=function(e,t){function n(){v.addLibraryCollection(s),a.AUTO_START_POLLING&&s.startPolling(),r(a.PUBLIC_USER_ID,e.CLOUD_ID)}if("function"==typeof e)return t=e,void t(new u(u.INVALID_PARAMETER,"options argument not specified"));if(a.SHARED_LOCAL_STORAGE)return void t(new u(u.NOT_SUPPORTED,"loadPublicLibraryCollection() not supported with shared local storage"));if(o.hasFileSystem()&&!a.SHARED_LOCAL_STORAGE&&!a.ROOT_DIR)return void t(new u(u.INVALID_PARAMETER,"ROOT_DIR not configured. Make sure you call CCLibraries.configure()"));if(e=e||{},e.CLOUD_ID=e.CLOUD_ID||a.DEFAULT_CLOUD_ID,!e.STORAGE_HOSTNAME)return void t(new u(u.INVALID_PARAMETER,"Missing STORAGE_HOSTNAME option"));var s=v.getPublicLibraryCollection(e.CLOUD_ID),c=i(a.PUBLIC_USER_ID,e.CLOUD_ID,t);return s&&!c?void r(a.PUBLIC_USER_ID,e.CLOUD_ID):void(c||(s=new l(e),o.hasFileSystem()?s._load(function(){s.sync(),n()}):n()))},y.isConnected=function(){if(!a.SHARED_LOCAL_STORAGE)throw new u(u.NOT_SUPPORTED,"isConnected() is only applicable if using shared local storage");return o.storageInterface&&o.storageInterface.isConnected()},y.reconnect=function(){if(!a.SHARED_LOCAL_STORAGE)throw new u(u.NOT_SUPPORTED,"reconnect() is only applicable if using shared local storage");o.storageInterface&&o.storageInterface.reconnect()},y.disconnect=function(){if(!a.SHARED_LOCAL_STORAGE)throw new u(u.NOT_SUPPORTED,"disconnect() is only applicable if using shared local storage");o.storageInterface&&o.storageInterface.isConnected()&&o.storageInterface.shutdown()},y.getServiceInfo=function(){if(!a.SHARED_LOCAL_STORAGE)throw new u(u.NOT_SUPPORTED,"getServiceInfo() is only applicable if using shared local storage");return o.storageInterface&&o.storageInterface.getServiceInfo()},y.isSyncingEnabled=function(){if(a.SHARED_LOCAL_STORAGE){var e=y.getServiceInfo();return!(!e||!e.syncingEnabled)}return a.SYNCING_ENABLED},y.enableSyncing=function(){return a.SHARED_LOCAL_STORAGE?void o.storageInterface.setSyncEnabled(!0):(a.SYNCING_ENABLED=!0,void y.getLoadedCollections().forEach(function(e){e.sync()}))},y.disableSyncing=function(){return a.SHARED_LOCAL_STORAGE?void o.storageInterface.setSyncEnabled(!1):void(a.SYNCING_ENABLED=!1)},y.resolveElementReference=function(e){e=e||"";var t,n=new RegExp("cloud-asset://(.+)/([A-Za-z0-9-]+);node=([A-Za-z0-9-]+)"),i=e.match(n);if(i){var r=i[1],o=i[2],a=i[3];y.getLoadedCollections().every(function(e){if(r===e._syncManager.getElementRefDomainPath()){var n=e.getLibraryById(o);return n&&(t=n.getElementById(a)),!1}return!0})}return t},y.errors=u,y.utils=h,y.analyticsUtils=f,Object.seal(y),y}),define("angular-cc-libraries-api-js/main",["require","exports","module","angular","./components/cc-libraries-api-js/src/main","./components/cc-libraries-api-js/src/AdobeLibraryCollection","./components/cc-libraries-api-js/src/AdobeLibraryPublicCollection","./components/cc-libraries-api-js/src/AdobeLibraryFolder","./components/cc-libraries-api-js/src/AdobeLibraryElement","./components/cc-libraries-api-js/src/AdobeLibraryRepresentation"],function(e,t,n){"use strict";var i=e("angular"),r=e("./components/cc-libraries-api-js/src/main"),o=e("./components/cc-libraries-api-js/src/AdobeLibraryCollection"),a=e("./components/cc-libraries-api-js/src/AdobeLibraryPublicCollection"),s=e("./components/cc-libraries-api-js/src/AdobeLibraryFolder"),l=e("./components/cc-libraries-api-js/src/AdobeLibraryElement"),c=e("./components/cc-libraries-api-js/src/AdobeLibraryRepresentation"),u=10,d=["$q","$rootScope",function(e,t){function n(t,n,i){i=i||[];
var r=e.defer();return i.push(function(e,t){function n(){e?r.reject(e):r.resolve(t)}n(),f()}),n.apply(t,i),r.promise}function d(e,t,r){var o=e[t];e[t]=function(){for(var e=Array.prototype.slice.call(arguments);e.length<r;)e.push(void 0);var t=e[r];return i.isFunction(t)?o.apply(this,e):n(this,o,e)}}var p,h=0,f=function(){if(!p){var e=(new Date).valueOf();if(e-h<u)return void(p=setTimeout(function(){p=void 0,f()},u));h=e,t.$$phase||t.$apply()}};d(o.prototype,"sync",0),d(o.prototype,"removeDeletedLibraries",1),d(o.prototype,"getTempDir",0),d(o.prototype,"createBookmark",2),d(o.prototype,"removeBookmark",1),d(a.prototype,"sync",0),d(a.prototype,"removeDeletedLibraries",1),d(a.prototype,"getTempDir",0),d(a.prototype,"loadLibrary",2),d(a.prototype,"unloadLibrary",1),d(s.prototype,"rebindToServer",0),d(s.prototype,"copyElement",2),d(s.prototype,"moveElement",2),d(s.prototype,"getRenditionPath",1),d(s.prototype,"getAuthenticatedRenditionURL",1),d(s.prototype,"setRendition",4),d(s.prototype,"setRenditionFromPath",3),d(l.prototype,"getThumbnailURL",1),d(l.prototype,"getThumbnailPath",1),d(l.prototype,"setThumbnailCache",2),d(l.prototype,"endOperation",0),d(c.prototype,"setContent",3),d(c.prototype,"setContentFromPath",2),d(c.prototype,"setContentFromURL",3),d(c.prototype,"getContentPath",0),d(c.prototype,"getContent",1),d(c.prototype,"getAuthenticatedContentURL",0),d(c.prototype,"testExternalLink",0),this.getLoadedCollections=function(){return r.getLoadedCollections()},this.addLoadedCollectionsListener=function(e){return r.addLoadedCollectionsListener(e)},this.removeLoadedCollectionsListener=function(e){return r.removeLoadedCollectionsListener(e)},this.loadLibraryCollection=function(e){return n(r,r.loadLibraryCollection,[e])},this.unloadLibraryCollection=function(e){r.unloadLibraryCollection(e)},this.configure=function(e,t){r.configure(e,t)},this.setOption=function(e,t){r.setOption(e,t)},this.getRootDir=function(){return r.getRootDir()},this.getLocale=function(){return r.getLocale()},this.isConnected=function(){return r.isConnected()},this.getServiceInfo=function(){return r.getServiceInfo()},this.reconnect=function(){r.reconnect()},this.resolveElementReference=function(e){return r.resolveElementReference(e)},this.isSyncingEnabled=function(){return r.isSyncingEnabled()},this.enableSyncing=function(){r.enableSyncing()},this.disableSyncing=function(){r.disableSyncing()},this.utils=r.utils,this.analyticsUtils=r.analyticsUtils,this.errors=r.errors,this.setCustomDigestTrigger=function(e){f=e}}];i.module("adobe.ccLibraries",[]).service("ccLibraries",d)}),define("angular-cc-libraries-api-js",["angular-cc-libraries-api-js/main"],function(e){return e}),function(e,t){"function"==typeof define&&define.amd?define("tether",t):"object"==typeof exports?module.exports=t(require,exports,module):e.Tether=t()}(this,function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){var t=e.getBoundingClientRect(),n={};for(var i in t)n[i]=t[i];if(e.ownerDocument!==document){var o=e.ownerDocument.defaultView.frameElement;if(o){var a=r(o);n.top+=a.top,n.bottom+=a.top,n.left+=a.left,n.right+=a.left}}return n}function o(e){var t=getComputedStyle(e)||{},n=t.position,i=[];if("fixed"===n)return[e];for(var r=e;(r=r.parentNode)&&r&&1===r.nodeType;){var o=void 0;try{o=getComputedStyle(r)}catch(e){}if("undefined"==typeof o||null===o)return i.push(r),i;var a=o,s=a.overflow,l=a.overflowX,c=a.overflowY;/(auto|scroll)/.test(s+c+l)&&("absolute"!==n||["relative","absolute","fixed"].indexOf(o.position)>=0)&&i.push(r)}return i.push(e.ownerDocument.body),e.ownerDocument!==document&&i.push(e.ownerDocument.defaultView),i}function a(){A&&document.body.removeChild(A),A=null}function s(e){var t=void 0;e===document?(t=document,e=document.documentElement):t=e.ownerDocument;var n=t.documentElement,i=r(e),o=x();return i.top-=o.top,i.left-=o.left,"undefined"==typeof i.width&&(i.width=document.body.scrollWidth-i.left-i.right),"undefined"==typeof i.height&&(i.height=document.body.scrollHeight-i.top-i.bottom),i.top=i.top-n.clientTop,i.left=i.left-n.clientLeft,i.right=t.body.clientWidth-i.width-i.left,i.bottom=t.body.clientHeight-i.height-i.top,i}function l(e){return e.offsetParent||document.documentElement}function c(){if(O)return O;var e=document.createElement("div");e.style.width="100%",e.style.height="200px";var t=document.createElement("div");u(t.style,{position:"absolute",top:0,left:0,pointerEvents:"none",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),t.appendChild(e),document.body.appendChild(t);var n=e.offsetWidth;t.style.overflow="scroll";var i=e.offsetWidth;n===i&&(i=t.clientWidth),document.body.removeChild(t);var r=n-i;return O={width:r,height:r}}function u(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=[];return Array.prototype.push.apply(t,arguments),t.slice(1).forEach(function(t){if(t)for(var n in t)({}).hasOwnProperty.call(t,n)&&(e[n]=t[n])}),e}function d(e,t){if("undefined"!=typeof e.classList)t.split(" ").forEach(function(t){t.trim()&&e.classList.remove(t)});else{var n=new RegExp("(^| )"+t.split(" ").join("|")+"( |$)","gi"),i=f(e).replace(n," ");g(e,i)}}function p(e,t){if("undefined"!=typeof e.classList)t.split(" ").forEach(function(t){t.trim()&&e.classList.add(t)});else{d(e,t);var n=f(e)+(" "+t);g(e,n)}}function h(e,t){if("undefined"!=typeof e.classList)return e.classList.contains(t);var n=f(e);return new RegExp("(^| )"+t+"( |$)","gi").test(n)}function f(e){return e.className instanceof e.ownerDocument.defaultView.SVGAnimatedString?e.className.baseVal:e.className}function g(e,t){e.setAttribute("class",t)}function m(e,t,n){n.forEach(function(n){t.indexOf(n)===-1&&h(e,n)&&d(e,n)}),t.forEach(function(t){h(e,t)||p(e,t)})}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _(e,t){var n=arguments.length<=2||void 0===arguments[2]?1:arguments[2];return e+n>=t&&t>=e-n}function y(){return"undefined"!=typeof performance&&"undefined"!=typeof performance.now?performance.now():+new Date}function E(){for(var e={top:0,left:0},t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return n.forEach(function(t){var n=t.top,i=t.left;"string"==typeof n&&(n=parseFloat(n,10)),"string"==typeof i&&(i=parseFloat(i,10)),e.top+=n,e.left+=i}),e}function b(e,t){return"string"==typeof e.left&&e.left.indexOf("%")!==-1&&(e.left=parseFloat(e.left,10)/100*t.width),"string"==typeof e.top&&e.top.indexOf("%")!==-1&&(e.top=parseFloat(e.top,10)/100*t.height),e}function T(e,t){return"scrollParent"===t?t=e.scrollParents[0]:"window"===t&&(t=[pageXOffset,pageYOffset,innerWidth+pageXOffset,innerHeight+pageYOffset]),t===document&&(t=t.documentElement),"undefined"!=typeof t.nodeType&&!function(){var e=t,n=s(t),i=n,r=getComputedStyle(t);if(t=[i.left,i.top,n.width+i.left,n.height+i.top],e.ownerDocument!==document){var o=e.ownerDocument.defaultView;t[0]+=o.pageXOffset,t[1]+=o.pageYOffset,t[2]+=o.pageXOffset,t[3]+=o.pageYOffset}z.forEach(function(e,n){e=e[0].toUpperCase()+e.substr(1),"Top"===e||"Left"===e?t[n]+=parseFloat(r["border"+e+"Width"]):t[n]-=parseFloat(r["border"+e+"Width"])})}(),t}var S=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),L=void 0;"undefined"==typeof L&&(L={modules:[]});var A=null,C=function(){var e=0;return function(){return++e}}(),w={},x=function(){var e=A;e&&document.body.contains(e)||(e=document.createElement("div"),e.setAttribute("data-tether-id",C()),u(e.style,{top:0,left:0,position:"absolute"}),document.body.appendChild(e),A=e);var t=e.getAttribute("data-tether-id");return"undefined"==typeof w[t]&&(w[t]=r(e),R(function(){delete w[t]})),w[t]},O=null,D=[],R=function(e){D.push(e)},I=function(){for(var e=void 0;e=D.pop();)e()},P=function(){function e(){i(this,e)}return S(e,[{key:"on",value:function(e,t,n){var i=!(arguments.length<=3||void 0===arguments[3])&&arguments[3];"undefined"==typeof this.bindings&&(this.bindings={}),"undefined"==typeof this.bindings[e]&&(this.bindings[e]=[]),this.bindings[e].push({handler:t,ctx:n,once:i})}},{key:"once",value:function(e,t,n){this.on(e,t,n,!0)}},{key:"off",value:function(e,t){if("undefined"!=typeof this.bindings&&"undefined"!=typeof this.bindings[e])if("undefined"==typeof t)delete this.bindings[e];else for(var n=0;n<this.bindings[e].length;)this.bindings[e][n].handler===t?this.bindings[e].splice(n,1):++n}},{key:"trigger",value:function(e){if("undefined"!=typeof this.bindings&&this.bindings[e]){for(var t=0,n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];for(;t<this.bindings[e].length;){var o=this.bindings[e][t],a=o.handler,s=o.ctx,l=o.once,c=s;"undefined"==typeof c&&(c=this),a.apply(c,i),l?this.bindings[e].splice(t,1):++t}}}}]),e}();L.Utils={getActualBoundingClientRect:r,getScrollParents:o,getBounds:s,getOffsetParent:l,extend:u,addClass:p,removeClass:d,hasClass:h,updateClasses:m,defer:R,flush:I,uniqueId:C,Evented:P,getScrollBarSize:c,removeUtilElements:a};var N=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),S=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),M=function(e,t,n){for(var i=!0;i;){var r=e,o=t,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var c=Object.getPrototypeOf(r);if(null===c)return;e=c,t=o,n=a,i=!0,s=c=void 0}};if("undefined"==typeof L)throw new Error("You must include the utils.js file before tether.js");var k=L.Utils,o=k.getScrollParents,s=k.getBounds,l=k.getOffsetParent,u=k.extend,p=k.addClass,d=k.removeClass,m=k.updateClasses,R=k.defer,I=k.flush,c=k.getScrollBarSize,a=k.removeUtilElements,U=function(){if("undefined"==typeof document)return"";for(var e=document.createElement("div"),t=["transform","WebkitTransform","OTransform","MozTransform","msTransform"],n=0;n<t.length;++n){var i=t[n];if(void 0!==e.style[i])return i}}(),F=[],$=function(){F.forEach(function(e){e.position(!1)}),I()};!function(){var e=null,t=null,n=null,i=function i(){return"undefined"!=typeof t&&t>16?(t=Math.min(t-16,250),void(n=setTimeout(i,250))):void("undefined"!=typeof e&&y()-e<10||(null!=n&&(clearTimeout(n),n=null),e=y(),$(),t=y()-e))};"undefined"!=typeof window&&"undefined"!=typeof window.addEventListener&&["resize","scroll","touchmove"].forEach(function(e){window.addEventListener(e,i)})}();var B={center:"center",left:"right",right:"left"},j={middle:"middle",top:"bottom",bottom:"top"},Y={top:0,left:0,middle:"50%",center:"50%",bottom:"100%",right:"100%"},V=function(e,t){var n=e.left,i=e.top;return"auto"===n&&(n=B[t.left]),"auto"===i&&(i=j[t.top]),{left:n,top:i}},H=function(e){var t=e.left,n=e.top;return"undefined"!=typeof Y[e.left]&&(t=Y[e.left]),"undefined"!=typeof Y[e.top]&&(n=Y[e.top]),{left:t,top:n}},G=function(e){var t=e.split(" "),n=N(t,2),i=n[0],r=n[1];return{top:i,left:r}},W=G,q=function(e){function t(e){var n=this;i(this,t),M(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.position=this.position.bind(this),F.push(this),this.history=[],this.setOptions(e,!1),L.modules.forEach(function(e){"undefined"!=typeof e.initialize&&e.initialize.call(n)}),this.position()}return v(t,e),S(t,[{key:"getClass",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t=this.options.classes;return"undefined"!=typeof t&&t[e]?this.options.classes[e]:this.options.classPrefix?this.options.classPrefix+"-"+e:e}},{key:"setOptions",value:function(e){var t=this,n=arguments.length<=1||void 0===arguments[1]||arguments[1],i={offset:"0 0",targetOffset:"0 0",targetAttachment:"auto auto",classPrefix:"tether"};this.options=u(i,e);var r=this.options,a=r.element,s=r.target,l=r.targetModifier;if(this.element=a,this.target=s,this.targetModifier=l,"viewport"===this.target?(this.target=document.body,this.targetModifier="visible"):"scroll-handle"===this.target&&(this.target=document.body,this.targetModifier="scroll-handle"),["element","target"].forEach(function(e){if("undefined"==typeof t[e])throw new Error("Tether Error: Both element and target must be defined");"undefined"!=typeof t[e].jquery?t[e]=t[e][0]:"string"==typeof t[e]&&(t[e]=document.querySelector(t[e]))}),p(this.element,this.getClass("element")),this.options.addTargetClasses!==!1&&p(this.target,this.getClass("target")),!this.options.attachment)throw new Error("Tether Error: You must provide an attachment");this.targetAttachment=W(this.options.targetAttachment),this.attachment=W(this.options.attachment),this.offset=G(this.options.offset),this.targetOffset=G(this.options.targetOffset),"undefined"!=typeof this.scrollParents&&this.disable(),"scroll-handle"===this.targetModifier?this.scrollParents=[this.target]:this.scrollParents=o(this.target),this.options.enabled!==!1&&this.enable(n)}},{key:"getTargetBounds",value:function(){if("undefined"==typeof this.targetModifier)return s(this.target);if("visible"===this.targetModifier){if(this.target===document.body)return{top:pageYOffset,left:pageXOffset,height:innerHeight,width:innerWidth};var e=s(this.target),t={height:e.height,width:e.width,top:e.top,left:e.left};return t.height=Math.min(t.height,e.height-(pageYOffset-e.top)),t.height=Math.min(t.height,e.height-(e.top+e.height-(pageYOffset+innerHeight))),t.height=Math.min(innerHeight,t.height),t.height-=2,t.width=Math.min(t.width,e.width-(pageXOffset-e.left)),t.width=Math.min(t.width,e.width-(e.left+e.width-(pageXOffset+innerWidth))),t.width=Math.min(innerWidth,t.width),t.width-=2,t.top<pageYOffset&&(t.top=pageYOffset),t.left<pageXOffset&&(t.left=pageXOffset),t}if("scroll-handle"===this.targetModifier){var e=void 0,n=this.target;n===document.body?(n=document.documentElement,e={left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}):e=s(n);var i=getComputedStyle(n),r=n.scrollWidth>n.clientWidth||[i.overflow,i.overflowX].indexOf("scroll")>=0||this.target!==document.body,o=0;r&&(o=15);var a=e.height-parseFloat(i.borderTopWidth)-parseFloat(i.borderBottomWidth)-o,t={width:15,height:.975*a*(a/n.scrollHeight),left:e.left+e.width-parseFloat(i.borderLeftWidth)-15},l=0;a<408&&this.target===document.body&&(l=-11e-5*Math.pow(a,2)-.00727*a+22.58),this.target!==document.body&&(t.height=Math.max(t.height,24));var c=this.target.scrollTop/(n.scrollHeight-a);return t.top=c*(a-t.height-l)+e.top+parseFloat(i.borderTopWidth),this.target===document.body&&(t.height=Math.max(t.height,24)),t}}},{key:"clearCache",value:function(){this._cache={}}},{key:"cache",value:function(e,t){return"undefined"==typeof this._cache&&(this._cache={}),"undefined"==typeof this._cache[e]&&(this._cache[e]=t.call(this)),this._cache[e]}},{key:"enable",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]||arguments[0];this.options.addTargetClasses!==!1&&p(this.target,this.getClass("enabled")),p(this.element,this.getClass("enabled")),this.enabled=!0,this.scrollParents.forEach(function(t){t!==e.target.ownerDocument&&t.addEventListener("scroll",e.position)}),t&&this.position()}},{key:"disable",value:function(){var e=this;d(this.target,this.getClass("enabled")),d(this.element,this.getClass("enabled")),this.enabled=!1,"undefined"!=typeof this.scrollParents&&this.scrollParents.forEach(function(t){t.removeEventListener("scroll",e.position)})}},{key:"destroy",value:function(){var e=this;this.disable(),F.forEach(function(t,n){t===e&&F.splice(n,1)}),0===F.length&&a()}},{key:"updateAttachClasses",value:function(e,t){var n=this;e=e||this.attachment,t=t||this.targetAttachment;var i=["left","top","bottom","right","middle","center"];"undefined"!=typeof this._addAttachClasses&&this._addAttachClasses.length&&this._addAttachClasses.splice(0,this._addAttachClasses.length),"undefined"==typeof this._addAttachClasses&&(this._addAttachClasses=[]);var r=this._addAttachClasses;e.top&&r.push(this.getClass("element-attached")+"-"+e.top),e.left&&r.push(this.getClass("element-attached")+"-"+e.left),t.top&&r.push(this.getClass("target-attached")+"-"+t.top),t.left&&r.push(this.getClass("target-attached")+"-"+t.left);var o=[];i.forEach(function(e){o.push(n.getClass("element-attached")+"-"+e),o.push(n.getClass("target-attached")+"-"+e)}),R(function(){"undefined"!=typeof n._addAttachClasses&&(m(n.element,n._addAttachClasses,o),n.options.addTargetClasses!==!1&&m(n.target,n._addAttachClasses,o),delete n._addAttachClasses)})}},{key:"position",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]||arguments[0];if(this.enabled){this.clearCache();var n=V(this.targetAttachment,this.attachment);this.updateAttachClasses(this.attachment,n);var i=this.cache("element-bounds",function(){return s(e.element)}),r=i.width,o=i.height;if(0===r&&0===o&&"undefined"!=typeof this.lastSize){var a=this.lastSize;r=a.width,o=a.height}else this.lastSize={width:r,height:o};var u=this.cache("target-bounds",function(){return e.getTargetBounds()}),d=u,p=b(H(this.attachment),{width:r,height:o}),h=b(H(n),d),f=b(this.offset,{width:r,height:o}),g=b(this.targetOffset,d);p=E(p,f),h=E(h,g);for(var m=u.left+h.left-p.left,v=u.top+h.top-p.top,_=0;_<L.modules.length;++_){var y=L.modules[_],T=y.position.call(this,{left:m,top:v,targetAttachment:n,targetPos:u,elementPos:i,offset:p,targetOffset:h,manualOffset:f,manualTargetOffset:g,scrollbarSize:w,attachment:this.attachment});if(T===!1)return!1;"undefined"!=typeof T&&"object"==typeof T&&(v=T.top,m=T.left)}var S={page:{top:v,left:m},viewport:{top:v-pageYOffset,bottom:pageYOffset-v-o+innerHeight,left:m-pageXOffset,right:pageXOffset-m-r+innerWidth}},A=this.target.ownerDocument,C=A.defaultView,w=void 0;return C.innerHeight>A.documentElement.clientHeight&&(w=this.cache("scrollbar-size",c),S.viewport.bottom-=w.height),C.innerWidth>A.documentElement.clientWidth&&(w=this.cache("scrollbar-size",c),S.viewport.right-=w.width),["","static"].indexOf(A.body.style.position)!==-1&&["","static"].indexOf(A.body.parentElement.style.position)!==-1||(S.page.bottom=A.body.scrollHeight-v-o,S.page.right=A.body.scrollWidth-m-r),"undefined"!=typeof this.options.optimizations&&this.options.optimizations.moveElement!==!1&&"undefined"==typeof this.targetModifier&&!function(){var t=e.cache("target-offsetparent",function(){return l(e.target)}),n=e.cache("target-offsetparent-bounds",function(){return s(t)}),i=getComputedStyle(t),r=n,o={};if(["Top","Left","Bottom","Right"].forEach(function(e){o[e.toLowerCase()]=parseFloat(i["border"+e+"Width"])}),n.right=A.body.scrollWidth-n.left-r.width+o.right,n.bottom=A.body.scrollHeight-n.top-r.height+o.bottom,S.page.top>=n.top+o.top&&S.page.bottom>=n.bottom&&S.page.left>=n.left+o.left&&S.page.right>=n.right){var a=t.scrollTop,c=t.scrollLeft;S.offset={top:S.page.top-n.top+a-o.top,left:S.page.left-n.left+c-o.left}}}(),this.move(S),this.history.unshift(S),this.history.length>3&&this.history.pop(),t&&I(),!0}}},{key:"move",value:function(e){var t=this;if("undefined"!=typeof this.element.parentNode){var n={};for(var i in e){n[i]={};for(var r in e[i]){for(var o=!1,a=0;a<this.history.length;++a){var s=this.history[a];if("undefined"!=typeof s[i]&&!_(s[i][r],e[i][r])){o=!0;break}}o||(n[i][r]=!0)}}var c={top:"",left:"",right:"",bottom:""},d=function(e,n){var i="undefined"!=typeof t.options.optimizations,r=i?t.options.optimizations.gpu:null;if(r!==!1){var o=void 0,a=void 0;if(e.top?(c.top=0,o=n.top):(c.bottom=0,o=-n.bottom),e.left?(c.left=0,a=n.left):(c.right=0,a=-n.right),window.matchMedia){var s=window.matchMedia("only screen and (min-resolution: 1.3dppx)").matches||window.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 1.3)").matches;s||(a=Math.round(a),o=Math.round(o))}c[U]="translateX("+a+"px) translateY("+o+"px)","msTransform"!==U&&(c[U]+=" translateZ(0)")}else e.top?c.top=n.top+"px":c.bottom=n.bottom+"px",e.left?c.left=n.left+"px":c.right=n.right+"px"},p=!1;if((n.page.top||n.page.bottom)&&(n.page.left||n.page.right)?(c.position="absolute",d(n.page,e.page)):(n.viewport.top||n.viewport.bottom)&&(n.viewport.left||n.viewport.right)?(c.position="fixed",d(n.viewport,e.viewport)):"undefined"!=typeof n.offset&&n.offset.top&&n.offset.left?!function(){c.position="absolute";var i=t.cache("target-offsetparent",function(){return l(t.target)});l(t.element)!==i&&R(function(){t.element.parentNode.removeChild(t.element),i.appendChild(t.element)}),d(n.offset,e.offset),p=!0}():(c.position="absolute",d({top:!0,left:!0},e.page)),!p)if(this.options.bodyElement)this.options.bodyElement.appendChild(this.element);else{for(var h=!0,f=this.element.parentNode;f&&1===f.nodeType&&"BODY"!==f.tagName;){if("static"!==getComputedStyle(f).position){h=!1;break}f=f.parentNode}h||(this.element.parentNode.removeChild(this.element),this.element.ownerDocument.body.appendChild(this.element))}var g={},m=!1;for(var r in c){var v=c[r],y=this.element.style[r];y!==v&&(m=!0,g[r]=v)}m&&R(function(){u(t.element.style,g),t.trigger("repositioned")})}}}]),t}(P);q.modules=[],L.position=$;var X=u(q,L),N=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),k=L.Utils,s=k.getBounds,u=k.extend,m=k.updateClasses,R=k.defer,z=["left","top","right","bottom"];L.modules.push({position:function(e){var t=this,n=e.top,i=e.left,r=e.targetAttachment;if(!this.options.constraints)return!0;var o=this.cache("element-bounds",function(){return s(t.element)}),a=o.height,l=o.width;if(0===l&&0===a&&"undefined"!=typeof this.lastSize){var c=this.lastSize;l=c.width,a=c.height}var d=this.cache("target-bounds",function(){return t.getTargetBounds()}),p=d.height,h=d.width,f=[this.getClass("pinned"),this.getClass("out-of-bounds")];this.options.constraints.forEach(function(e){var t=e.outOfBoundsClass,n=e.pinnedClass;t&&f.push(t),n&&f.push(n)}),f.forEach(function(e){["left","top","right","bottom"].forEach(function(t){f.push(e+"-"+t)})});var g=[],v=u({},r),_=u({},this.attachment);return this.options.constraints.forEach(function(e){var o=e.to,s=e.attachment,c=e.pin;"undefined"==typeof s&&(s="");var u=void 0,d=void 0;if(s.indexOf(" ")>=0){var f=s.split(" "),m=N(f,2);d=m[0],u=m[1]}else u=d=s;var y=T(t,o);"target"!==d&&"both"!==d||(n<y[1]&&"top"===v.top&&(n+=p,v.top="bottom"),n+a>y[3]&&"bottom"===v.top&&(n-=p,v.top="top")),"together"===d&&("top"===v.top&&("bottom"===_.top&&n<y[1]?(n+=p,v.top="bottom",n+=a,_.top="top"):"top"===_.top&&n+a>y[3]&&n-(a-p)>=y[1]&&(n-=a-p,v.top="bottom",_.top="bottom")),"bottom"===v.top&&("top"===_.top&&n+a>y[3]?(n-=p,v.top="top",n-=a,_.top="bottom"):"bottom"===_.top&&n<y[1]&&n+(2*a-p)<=y[3]&&(n+=a-p,v.top="top",_.top="top")),"middle"===v.top&&(n+a>y[3]&&"top"===_.top?(n-=a,_.top="bottom"):n<y[1]&&"bottom"===_.top&&(n+=a,_.top="top"))),"target"!==u&&"both"!==u||(i<y[0]&&"left"===v.left&&(i+=h,v.left="right"),i+l>y[2]&&"right"===v.left&&(i-=h,v.left="left")),"together"===u&&(i<y[0]&&"left"===v.left?"right"===_.left?(i+=h,v.left="right",i+=l,_.left="left"):"left"===_.left&&(i+=h,v.left="right",i-=l,_.left="right"):i+l>y[2]&&"right"===v.left?"left"===_.left?(i-=h,v.left="left",i-=l,_.left="right"):"right"===_.left&&(i-=h,v.left="left",i+=l,_.left="left"):"center"===v.left&&(i+l>y[2]&&"left"===_.left?(i-=l,_.left="right"):i<y[0]&&"right"===_.left&&(i+=l,_.left="left"))),"element"!==d&&"both"!==d||(n<y[1]&&"bottom"===_.top&&(n+=a,_.top="top"),n+a>y[3]&&"top"===_.top&&(n-=a,_.top="bottom")),"element"!==u&&"both"!==u||(i<y[0]&&("right"===_.left?(i+=l,_.left="left"):"center"===_.left&&(i+=l/2,_.left="left")),i+l>y[2]&&("left"===_.left?(i-=l,_.left="right"):"center"===_.left&&(i-=l/2,_.left="right"))),"string"==typeof c?c=c.split(",").map(function(e){return e.trim()}):c===!0&&(c=["top","left","right","bottom"]),c=c||[];var E=[],b=[];n<y[1]&&(c.indexOf("top")>=0?(n=y[1],E.push("top")):b.push("top")),n+a>y[3]&&(c.indexOf("bottom")>=0?(n=y[3]-a,E.push("bottom")):b.push("bottom")),i<y[0]&&(c.indexOf("left")>=0?(i=y[0],E.push("left")):b.push("left")),i+l>y[2]&&(c.indexOf("right")>=0?(i=y[2]-l,E.push("right")):b.push("right")),E.length&&!function(){var e=void 0;e="undefined"!=typeof t.options.pinnedClass?t.options.pinnedClass:t.getClass("pinned"),g.push(e),E.forEach(function(t){g.push(e+"-"+t)})}(),b.length&&!function(){var e=void 0;e="undefined"!=typeof t.options.outOfBoundsClass?t.options.outOfBoundsClass:t.getClass("out-of-bounds"),g.push(e),b.forEach(function(t){g.push(e+"-"+t)})}(),(E.indexOf("left")>=0||E.indexOf("right")>=0)&&(_.left=v.left=!1),(E.indexOf("top")>=0||E.indexOf("bottom")>=0)&&(_.top=v.top=!1),v.top===r.top&&v.left===r.left&&_.top===t.attachment.top&&_.left===t.attachment.left||(t.updateAttachClasses(_,v),t.trigger("update",{attachment:_,targetAttachment:v}))}),R(function(){t.options.addTargetClasses!==!1&&m(t.target,g,f),m(t.element,g,f)}),{top:n,left:i}}});var k=L.Utils,s=k.getBounds,m=k.updateClasses,R=k.defer;L.modules.push({position:function(e){var t=this,n=e.top,i=e.left,r=this.cache("element-bounds",function(){return s(t.element)}),o=r.height,a=r.width,l=this.getTargetBounds(),c=n+o,u=i+a,d=[];n<=l.bottom&&c>=l.top&&["left","right"].forEach(function(e){var t=l[e];t!==i&&t!==u||d.push(e)}),i<=l.right&&u>=l.left&&["top","bottom"].forEach(function(e){var t=l[e];t!==n&&t!==c||d.push(e)});var p=[],h=[],f=["left","top","right","bottom"];return p.push(this.getClass("abutted")),f.forEach(function(e){p.push(t.getClass("abutted")+"-"+e)}),d.length&&h.push(this.getClass("abutted")),d.forEach(function(e){h.push(t.getClass("abutted")+"-"+e)}),R(function(){t.options.addTargetClasses!==!1&&m(t.target,h,p),m(t.element,h,p)}),!0}});var N=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();return L.modules.push({position:function(e){var t=e.top,n=e.left;if(this.options.shift){var i=this.options.shift;"function"==typeof this.options.shift&&(i=this.options.shift.call(this,{top:t,left:n}));var r=void 0,o=void 0;if("string"==typeof i){i=i.split(" "),i[1]=i[1]||i[0];var a=i,s=N(a,2);r=s[0],o=s[1],r=parseFloat(r,10),o=parseFloat(o,10)}else r=i.top,o=i.left;return t+=r,n+=o,{top:t,left:n}}}}),X}),Visitor.getInstance=function(e,t){var n,i,r=window.s_c_il;if(0>e.indexOf("@")&&(e+="@AdobeOrg"),r)for(i=0;i<r.length;i++)if((n=r[i])&&"Visitor"==n._c&&(n.marketingCloudOrgID==e||t&&n.namespace==t))return n;return new Visitor(e,t)},define("visitor-api",function(){}),s=new AppMeasurement,s.visitorNamespace="adobecorp",s.trackInlineStats=!0,s.trackDownloadLinks=!0,s.trackExternalLinks=!0,s.linkLeaveQueryString=!1,s.linkTrackEvents="None",s.linkTrackVars="None",s.trackingServer="stats.adobe.com",s.trackingServerSecure="sstats.adobe.com",AppMeasurement.getInstance=s_gi,window.s_objectID||(window.s_objectID=0),s_pgicq(),define("app-measurement",["visitor-api"],function(){}),define("services/config/configuration",["require","exports","module","angular"],function(e,t){"use strict";var n=e("angular"),i=[function(){this.EXTENSION_ID="com.adobe.DesignLibraries.angular",this.PURCHASE_EXTENSION_ID="com.adobe.inapp.purchase",this.strTempFolder="",this.locale="en-US",this.showTooltips=!0,this.DRAGDROP_ID="com.adobe.cep.dnd.pasteboardtype",this.DRAGDROP_SOURCE="com.adobe.designlibrary",this.isAirPanel=!1,this.nativeProxy=void 0,this.localRoot="/Adobe/Creative Cloud Libraries/",this.SYNC_NOTIFICATIONS_AVAILABLE=!1,this.APP_NAME="",this.SUPPORTED_PRODUCTS=[],this.currentProduct=void 0,this.LEARN_MORE_URL_ROOT="https://www.adobe.com/go/cclibraries_help",this.SERVICE_ERROR_URL_ROOT="https://www.adobe.com/go/process_error",this.INSTALL_CC_APP_URL_ROOT="https://www.adobe.com/go/cc_install",this.UPDATE_CC_APP_URL_ROOT="https://www.adobe.com/go/process_update",this.UPDATE_CC_LIBRARIES_URL_ROOT="https://www.adobe.com/go/panel_update",this.AVAILABLE_HELP_LANGUAGES={ae:!0,cz:!0,dk:!0,de:!0,en:!0,es:!0,fi:!0,fr:!0,hu:!0,il:!0,it:!0,jp:!0,kr:!0,no:!0,nl:!0,pl:!0,br:!0,ru:!0,se:!0,tr:!0,ua:!0,cn:!0,tw:!0},this.DEFAULT_HELP_LANGUAGE="en",this.CCWEB_ELEMENT_URL="https://ZZZZ/assets/libraries/YYYY/XXXX",this.CCWEB_LIBRARIES_URL="https://ZZZZ/assets/libraries/YYYY",this.CCWEB_LIBRARIES_ARCHIVE_URL="https://ZZZZ/assets/libraries/YYYY?filter=archive",this.CREATIVE_CLOUD_ID="creative_cloud",this.IMAGE_ELEMENT_TYPE="application/vnd.adobe.element.image+dcx",this.COLOR_ELEMENT_TYPE="application/vnd.adobe.element.color+dcx",this.COLOR_THEME_ELEMENT_TYPE="application/vnd.adobe.element.colortheme+dcx",this.BRUSH_ELEMENT_TYPE="application/vnd.adobe.element.brush+dcx",this.CHARACTER_STYLE_ELEMENT_TYPE="application/vnd.adobe.element.characterstyle+dcx",this.PARAGRAPH_STYLE_ELEMENT_TYPE="application/vnd.adobe.element.paragraphstyle+dcx",this.LAYER_STYLE_ELEMENT_TYPE="application/vnd.adobe.element.layerstyle+dcx",this.LOOK_ELEMENT_TYPE="application/vnd.adobe.element.look+dcx",this.CAPSULE_ELEMENT_TYPE="application/vnd.adobe.element.graphic+dcx",this.CAPSULE_DEFINITION_REPRESENTATION_TYPE="application/vnd.adobe.graphic+json",this.VIDEO_ELEMENT_TYPE="application/vnd.adobe.element.video+dcx",this.THREE_D_ELEMENT_TYPE="application/vnd.adobe.element.3d+dcx",this.LIGHT_ELEMENT_TYPE="application/vnd.adobe.element.light+dcx",this.MATERIAL_ELEMENT_TYPE="application/vnd.adobe.element.material+dcx",this.PATTERN_ELEMENT_TYPE="application/vnd.adobe.element.pattern+dcx",this.TEMPLATE_ELEMENT_TYPE="application/vnd.adobe.element.template+dcx",this.TEXT_ELEMENT_TYPE="application/vnd.adobe.element.text+dcx",this.ANIMATION_ELEMENT_TYPE="application/vnd.adobe.element.animation+dcx",this.IMAGE_RENDITION_SIZE=202,this.LOOK_RENDITION_SIZE=this.IMAGE_RENDITION_SIZE,this.CAPSULE_RENDITION_SIZE=this.IMAGE_RENDITION_SIZE,this.VIDEO_RENDITION_SIZE=this.IMAGE_RENDITION_SIZE,this.THREE_D_RENDITION_SIZE=this.IMAGE_RENDITION_SIZE,this.LIGHT_RENDITION_SIZE=this.IMAGE_RENDITION_SIZE,this.MATERIAL_RENDITION_SIZE=this.IMAGE_RENDITION_SIZE,this.BRUSH_RENDITION_SIZE=124,this.CHARACTER_STYLE_RENDITION_SIZE=104,this.PARAGRAPH_STYLE_RENDITION_SIZE=this.CHARACTER_STYLE_RENDITION_SIZE,this.LAYER_STYLE_RENDITION_SIZE=108,this.PATTERN_RENDITION_SIZE=this.IMAGE_RENDITION_SIZE,this.TEMPLATE_RENDITION_SIZE=this.IMAGE_RENDITION_SIZE,this.TEXT_RENDITION_SIZE=this.IMAGE_RENDITION_SIZE,this.ANIMATION_RENDITION_SIZE=this.IMAGE_RENDITION_SIZE,this.STOCK_NAMESPACE="adobestock",this.STOCK_DATA_KEY="trackingdata",this.STOCK_CLIENT_ID="AdobeStockClient2",this.STOCK_TARGET_SCOPE="AdobeID,openid,creative_cloud,read_organizations,gnav,additional_info.address.mail_to,sao.stock",
this.STOCK_GET_USER_PROFILE_PATH="/Rest/Libraries/1/Member/Profile?locale=ZZZZ&content_id=YYYY&license=LLLL&format=message_ccx",this.STOCK_LICENSE_PATH="/Rest/Libraries/1/Content/License?content_id=ZZZZ&license=LLLL",this.STOCK_INFO_PATH="/Rest/Libraries/1/Content/Info?content_id=ZZZZ",this.STOCK_SEARCH_PATH="/Search",this.STOCK_SEARCH_API_PATH="/Rest/Media/1/Search/Files",this.STOCK_ABANDON_TRANSACTION_PATH="/Rest/Libraries/1/Member/Abandon?&state=ZZZZ&content_id=YYYY&license=LLLL",this.STOCK_LICENSE_TYPE_STANDARD="Standard",this.STOCK_LICENSE_TYPE_EXTENDED="Extended",this.STOCK_IMAGE_LICENSE_TYPE_SMALL={label:"DL_STOCK_LICENSE_TYPE_SMALL",field:"Standard_M"},this.STOCK_IMAGE_LICENSE_TYPE_FULL={label:"DL_STOCK_LICENSE_TYPE_FULL",field:"Standard"},this.STOCK_IMAGE_LICENSE_TYPES=[this.STOCK_IMAGE_LICENSE_TYPE_FULL,this.STOCK_IMAGE_LICENSE_TYPE_SMALL],this.STOCK_VIDEO_LICENSE_TYPE_HD={label:"HD",field:"Video_HD"},this.STOCK_VIDEO_LICENSE_TYPE_4K={label:"4K",field:"Video_4K"},this.STOCK_VIDEO_LICENSE_TYPES=[this.STOCK_VIDEO_LICENSE_TYPE_4K,this.STOCK_VIDEO_LICENSE_TYPE_HD],this.STOCK_STATE_PURCHASED="purchased",this.STOCK_STATE_NOT_PURCHASED="not_purchased",this.STOCK_STATE_CANCELLED="cancelled",this.STOCK_SEARCH_RESULT_SIZE=50,this.STOCK_SEARCH_TIMEOUT=3e4,this.STOCK_SIMILARITY_RENDITION_SIZE=640,this.STOCK_SEARCH_OPTION_PHOTO={label:"DL_STOCK_SEARCH_OPTION_PHOTO",id:"photo",param:"photo"},this.STOCK_SEARCH_OPTION_ILLUSTRATION={label:"DL_STOCK_SEARCH_OPTION_ILLUSTRATION",id:"illustration",param:"illustration"},this.STOCK_SEARCH_OPTION_VECTOR={label:"DL_STOCK_SEARCH_OPTION_VECTOR",id:"vector",param:"vector"},this.STOCK_SEARCH_OPTION_VIDEO={label:"DL_STOCK_SEARCH_OPTION_VIDEO",id:"video",param:"video"},this.STOCK_SEARCH_OPTION_TEMPLATE={label:"DL_STOCK_SEARCH_OPTION_TEMPLATE",id:"template",param:"template"},this.STOCK_SEARCH_OPTION_3D={label:"DL_STOCK_SEARCH_OPTION_3D",id:"3d",param:"3d"},this.STOCK_SEARCH_SUB_FILTER_MODEL={label:"DL_TYPE_3D",id:"3d_1",param:"3d",filterKey:"3d_type_id",filterValue:1,isArray:!0},this.STOCK_SEARCH_SUB_FILTER_LIGHT={label:"DL_TYPE_LIGHT",id:"3d_2",param:"3d",filterKey:"3d_type_id",filterValue:2,isArray:!0},this.STOCK_SEARCH_SUB_FILTER_MATERIAL={label:"DL_TYPE_MATERIAL",id:"3d_3",param:"3d",filterKey:"3d_type_id",filterValue:3,isArray:!0},this.STOCK_SEARCH_OPTION_PREMIUM={label:"DL_STOCK_SEARCH_OPTION_PREMIUM",id:"premium",filterKey:"premium",filterValue:"true"},this.STOCK_SEARCH_OPTION_EDITORIAL={label:"DL_STOCK_SEARCH_OPTION_EDITORIAL",id:"editorial",filterKey:"editorial",filterValue:1},this.STOCK_SEARCH_OPTIONS=[this.STOCK_SEARCH_OPTION_PHOTO,this.STOCK_SEARCH_OPTION_ILLUSTRATION,this.STOCK_SEARCH_OPTION_VECTOR,this.STOCK_SEARCH_OPTION_VIDEO,this.STOCK_SEARCH_OPTION_TEMPLATE,this.STOCK_SEARCH_OPTION_3D,this.STOCK_SEARCH_OPTION_PREMIUM,this.STOCK_SEARCH_OPTION_EDITORIAL,this.STOCK_SEARCH_SUB_FILTER_MODEL,this.STOCK_SEARCH_SUB_FILTER_LIGHT,this.STOCK_SEARCH_SUB_FILTER_MATERIAL],this.STOCK_SEARCH_UI_OPTIONS=[this.STOCK_SEARCH_OPTION_PHOTO,this.STOCK_SEARCH_OPTION_ILLUSTRATION,this.STOCK_SEARCH_OPTION_VECTOR,this.STOCK_SEARCH_OPTION_VIDEO,this.STOCK_SEARCH_OPTION_TEMPLATE,this.STOCK_SEARCH_OPTION_3D,this.STOCK_SEARCH_OPTION_PREMIUM,this.STOCK_SEARCH_OPTION_EDITORIAL],this.STOCK_CORE_CONTENT_LEVEL_ID=0,this.STOCK_FREE_CONTENT_LEVEL_ID=1,this.STOCK_PREMIUM_CONTENT_LEVEL_IDS=[2,3,4],this.COLOR_NAMESPACE="color",this.COLOR_DATA_KEY="data",this.COLOR_REPRESENTATION_TYPE="application/vnd.adobe.color+json",this.THREE_D_NAMESPACE="3d",this.THREE_D_DATA_KEY="data",this.TEXT_REPRESENTATION_ID_SNIPPET_TYPE="application/vnd.adobe.indesign-idms-text",this.TEXT_REPRESENTATION_JSON_TYPE="application/vnd.adobe.text+json",this.TEXT_NAMESPACE="text",this.TEXT_DATA_KEY="data",this.CAPSULE_NAMESPACE="graphic",this.CAPSULE_DATA_KEY="data",this.MAX_ELEMENTS=1e3,this.MAX_COMPONENT_SIZE=1073741824,this.DEFAULT_ELEMENTS_PER_CATEGORY=50,this.SHOW_MORE_STAGGER_INTERVAL=3,this.THEME_COLOR_CHANGED_EVENT="com.adobe.csxs.events.ThemeColorChanged",this.CONTEXT_MENUS_ENABLED=!0,this.IS_APP_IN_TOUCH_MODE=!1,this.RECENTS_LIST_LIMIT=6,this.RECENTS_LIST_LIBRARY_MIN=12,this.UNDO_TOAST_TIMEOUT=5e3,this.ANALYTICS_PROJECT="cclib-panel",this.ANALYTICS_INGEST_TYPE="dunamis",this.ANALYTICS_MAX_QUEUED_EVENTS=50,this.ANALYTICS_DEBOUNCE=15e3,this.getElementType=function(e){return"application/vnd.adobe.element."+e+"+dcx"}}];t.attach=function(e){n.module(e).service("configuration",i)}}),define("services/config/localSettings",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$window","csInterface","configuration","fileUtils",function(e,t,n,i){function r(e,t){if(this._path=e,this._fileName=t,this._writing=!1,this._pendingWrite=!1,o){var n="readFileSync";try{this._settings=JSON.parse(o[n](e+t))}catch(e){this._settings={}}}else try{this._settings=JSON.parse(localStorage.getItem("panelSettings"))||{}}catch(e){this._settings={}}}var o=nodeRequire("fs");r.prototype._write=function(){if(!o)return void localStorage.setItem("panelSettings",JSON.stringify(this._settings));var e=this;if(this._writing)return void(this._pendingWrite=!0);this._writing=!0;var t=function(){e._writing=!1,e._pendingWrite&&(e._pendingWrite=!1,e._write())};i.ensurePathExists(e._path,function(n){return n?(console.log(n),e._pendingWrite=!1,void t()):void o.writeFile(e._path+e._fileName,JSON.stringify(e._settings,void 0,2),function(n){n&&(console.log(n),e._pendingWrite=!1),t()})})},r.prototype.get=function(e){return this._settings[e]},r.prototype.set=function(e,t){this._settings[e]=t,this._write()};var a,s=new r(t.getLocalRoot(),"settings.json"),l="existsSync";o&&o[l](t.getGlobalRoot()+"debug")&&(a=new r(t.getGlobalRoot(),"debug")),this.setValue=function(e,t){s.set(e,t)},this.getValue=function(e){return s.get(e)},this.setDebugValue=function(e,t){a&&a.set(e,t)},this.getDebugValue=function(e){if(a)return a.get(e)},this.hasDebugSettings=function(){return void 0!==a},this.showDebugMenu=function(){return this.hasDebugSettings()}}];t.attach=function(e){i.module(e).service("localSettings",r)}});var PRODUCT_CODES=["PHXS","ILST","IDSN","AEFT","PPRO","FLPR","DRWV","MUSE","ESHR"],applications=PRODUCT_CODES.map(function(e){"use strict";return"applications/"+e+"/js/index"}),overrides=PRODUCT_CODES.map(function(e){"use strict";return"applications/"+e+"/js/configuration/main"}),reqs=["require","environment","angular"].concat(applications).concat(overrides);define("services/config/products",reqs,function(e,t){"use strict";var n=e("angular"),i=["$injector","configuration",function(e,n){var i=t.hostEnvironment.appName,r=PRODUCT_CODES.map(function(t){var r=e.get(t);return t===i&&(n.currentProduct=r,n.APP_NAME=i),r});n.SUPPORTED_PRODUCTS=r.map(function(e){return e.config})}],r=function(r){var o=t.hostEnvironment.appName;PRODUCT_CODES.forEach(function(t,n){e(applications[n]).attach(r),o===t&&e(overrides[n]).attach(r)}),n.module(r).service("products",i)};return{attach:r}}),define("services/config/main",["require","exports","module","./configuration","./localSettings","./products"],function(e,t,n){"use strict";function i(t){e("./configuration").attach(t),e("./localSettings").attach(t),e("./products").attach(t)}return{attach:i}}),define("services/designlibrary/designLibraryAppRequestManager",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=[function(){var e,t={};this.setEditRequestRef=function(e,n){e&&(t[e]=n)},this.getEditRequestRef=function(e){return t[e]},this.clearEditRequestRef=function(e){delete t[e]},this.setChooseRequestRef=function(t){e=t},this.getChooseRequestRef=function(){return e}}];t.attach=function(e){i.module(e).service("designLibraryAppRequestManager",r)}}),define("services/designlibrary/designLibraryArchiveUtils",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["designLibraryManager",function(e){this.getRemovedElements=function(t){var n;n=t?[t]:e.getLibraries();var i=[];return n.forEach(function(e){var t={};e.removedElements.forEach(function(n){var r=1e3*Math.round(n.removed/1e3),o=t[r];o?o.elements.push(n):(t[r]={time:r,library:e,elements:[n]},i.push(t[r]))})}),i}}];t.attach=function(e){i.module(e).service("designLibraryArchiveUtils",r)}}),define("services/designlibrary/designLibraryCEPEventEmitters",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["csInterface","fileUtils","designLibraryElements","designLibraryAppRequestManager","adobeStockUtils","$q",function(e,t,n,i,r,o){function a(e,i){var r=n.findRepresentation(e,t.getUsableTypes(e.type));return r?r.getContentPath().then(function(e){i(e)}):e.getThumbnailPath().then(function(e){i(e)})}this.sendElementCreated=function(t,i){var r=o.defer();return a(t,function(o){var a=e.createEvent("com.adobe.DesignLibraries.events.ElementCreated","APPLICATION"),s={elementRef:t.getReference(),name:t.name,libraryName:t.library.name,modifiedTime:n.getElementModifiedTime(t),creationTime:t.created,data:[o],appMetadata:i};i&&(i.documentId&&(s.documentId=i.documentId),i.layerIds&&(s.layerIds=i.layerIds)),a.data=JSON.stringify(s),e.dispatchEvent(a),r.resolve()}),r.promise},this.sendElementChosen=function(t){a(t,function(o){var a=e.createEvent("com.adobe.DesignLibraries.events.ElementChosen","APPLICATION"),s={requestRef:i.getChooseRequestRef(),elementRef:t.getReference(),name:t.name,libraryName:t.library.name,modifiedTime:n.getElementModifiedTime(t),creationTime:t.created,data:[o]};r.isStockAsset(t)&&(s.adobeStock={id:r.getStockId(t),license:r.isLicensed(t)}),a.data=JSON.stringify(s),e.dispatchEvent(a)})},this.elementChooseCancelled=function(){var t=e.createEvent("com.adobe.DesignLibraries.events.ElementChooseCancelled","APPLICATION");t.data=JSON.stringify({requestRef:i.getChooseRequestRef()}),e.dispatchEvent(t)},this.sendElementUpdated=function(t){if(t){var o=t.element,a=o.getReference();t.getContentPath().then(function(t){var s=e.createEvent("com.adobe.DesignLibraries.events.ElementUpdated","APPLICATION"),l={requestRef:i.getEditRequestRef(a),elementRef:a,name:o.name,libraryName:o.library.name,modifiedTime:n.getElementModifiedTime(o),creationTime:o.created,data:[t]};r.isStockAsset(o)&&(l.adobeStock={id:r.getStockId(o),license:r.isLicensed(o)}),s.data=JSON.stringify(l),e.dispatchEvent(s)})}},this.sendElementLicensed=function(t){if(t){var i=t.element,o=i.getReference();t.getContentPath().then(function(t){var a=e.createEvent("com.adobe.DesignLibraries.events.ElementLicensed","APPLICATION");a.data=JSON.stringify({elementRef:o,name:i.name,libraryName:i.library.name,modifiedTime:n.getElementModifiedTime(i),creationTime:i.created,data:[t],adobeStock:{id:r.getStockId(i),license:r.isLicensed(i)}}),e.dispatchEvent(a)})}}}];t.attach=function(e){i.module(e).service("designLibraryCEPEventEmitters",r)}}),define("services/designlibrary/designLibraryCEPEventHandlers",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["digestUtils","csInterface","designLibraryManager","designLibraryElements","designLibraryElementUtils","designLibraryUtils","designLibrarySelection","designLibraryAppRequestManager","metrics","configuration","designLibraryViewState","$translate","listenerUtils","$window",function(e,t,n,i,r,o,a,s,l,c,u,d,p,h){var f,g=p.addListenerManager(this,["elementDropped"]),m=!1,v=function(t){if(t&&t.data){var i,r=t.data,o=r.operation,l=r.elementName,p=r.elementRef,h=r.elementType;s.setChooseRequestRef(r.requestRef),p&&(i=n.resolveElementReference(p),i&&!l&&(l=i.name));var f;if(c.currentProduct.customOverlayMessage&&(f=c.currentProduct.customOverlayMessage(o,h)),"place"===o)void 0===f&&(f=d.instant("DL_RELINK_PLACE_OVERLAY_MESSAGE")),u.setRelinkMode({message:d.instant("DL_RELINK_PLACE_MESSAGE"),actionMessage:d.instant("DL_PLACE"),missing:!1,overlayMessage:f},h);else{var g=d.instant("DL_RELINK_"+o.toUpperCase()+"_MESSAGE",{elementName:l});void 0===f&&(f=d.instant("DL_RELINK_RELINK_OVERLAY_MESSAGE")),u.setRelinkMode({message:g,actionMessage:d.instant("DL_RELINK"),missing:p?!i:void 0,overlayMessage:f},h)}var m=a.getSelection();(m.length>1||1===m.length&&m[0].type!==c.IMAGE_ELEMENT_TYPE)&&a.clearSelection(),e.triggerDigest()}},_=function(t){u.resetMode(),e.triggerDigest()},y=function(e){if(e&&e.data){var t=e.data,r=t.elementRef,a=t.requestRef,l=n.resolveElementReference(r);if(l&&o.checkElementWritable(l)){a&&s.setEditRequestRef(r,a);var c,u=i.getEditOperations(l);u.forEach(function(e){e.onDoubleClick&&(c=e)}),c&&c.apply()}}},E=function(e){if(e&&e.data){var t=e.data,i=t.elementRef,o=n.resolveElementReference(i);r.revealElement(o)}},b=function(e){var t=e?e.data:void 0;if(t&&t.elementRef){var i=n.resolveElementReference(t.elementRef);if(i){var r=t.cause||"createElement";l.reportCreateLink(i,r)}}};this.setDraggedElements=function(e){f=e};var T=function(e){var t=e?e.data:void 0;if(g.notify("elementDropped",t),t&&t.elementRef){var r=n.resolveElementReference(t.elementRef);if(r){var o=i.findUsableRepresentation(r);if(o){l.reportUseElement(o,"dragDrop",t.details);var a=!1;a="boolean"==typeof t.linked?t.linked:"string"==typeof t.linked&&"true"===t.linked.toLowerCase(),a===!0&&l.reportCreateLink(r,"dragDrop")}}}else f&&f.forEach(function(e){e.usedRepresentation&&l.reportUseElement(e.usedRepresentation,"dragDrop")})},S=function(e){if(e&&e.data){var i,r=e.data,o=r.name;if(o||(o=d.instant("DL_DEFAULT_LIBRARY_NAME")),r.enforceUniqueName===!0){var a=[];n.getLibraries().forEach(function(e){e.isDeletedFromServer||a.push(e.name)});for(var s,l=2;a.indexOf(o)!==-1;)s||(s=o),o=s+" "+l++}i=n.createLibrary(o),i&&r.makeCurrent===!0&&(u.hideDialogs(),u.resetMode(),n.setCurrentLibrary(i));var c=t.createEvent("com.adobe.DesignLibraries.events.CreateLibraryResponse","APPLICATION");c.data=JSON.stringify({success:!!i,libraryName:i?i.name:"",libraryId:i?i.id:""}),t.dispatchEvent(c)}},L=function(e){var t=e.data;t&&t.libraryId&&n.waitForInitialLoad().then(function(){var e=n.getLibraryById(t.libraryId);e&&(u.resetMode(),n.setCurrentLibrary(e))})};this.elementEditCompleted=function(e){var t=e.getReference();s.clearEditRequestRef(t)};var A=function(e){var t=e.data;u.setFindSimilarSearchMode(void 0,void 0,t.imagePath,t.deleteFileAfterUse)};this.startListening=function(){m||(t.addEventListener("dlElementOpenForEdit",y),t.addEventListener("dlElementReveal",E),t.addEventListener("dlElementChoose",v),t.addEventListener("dlElementChooseCancel",_),t.addEventListener("dlElementLinkCreated",b),t.addEventListener("dlElementDropped",T),t.addEventListener("dlCreateLibrary",S),t.addEventListener("dlSetCurrentLibrary",L),t.addEventListener("com.adobe.DesignLibraries.events.InvokeVisualSearch",A),m=!0)},this.stopListening=function(){m=!1,t.removeEventListener("dlElementOpenForEdit",y),t.removeEventListener("dlElementReveal",E),t.removeEventListener("dlElementChoose",v),t.removeEventListener("dlElementChooseCancel",_),t.removeEventListener("dlElementLinkCreated",b),t.removeEventListener("dlElementDropped",T),t.removeEventListener("dlCreateLibrary",S),t.removeEventListener("dlSetCurrentLibrary",L),t.removeEventListener("com.adobe.DesignLibraries.events.InvokeVisualSearch",A)}}];t.attach=function(e){i.module(e).service("designLibraryCEPEventHandlers",r)}}),define("services/designlibrary/designLibraryContextMenu",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$q","$window","$filter","$timeout","$translate","mediator","menuManager","designLibraryManager","designLibraryElements","designLibrarySelection","designLibraryViewState","adobeStockUtils","adobeStockLicenseUtils","adobeStockUpdateUtils","linkUtils","localSettings","configuration",function(e,t,n,r,o,a,s,l,c,u,d,p,h,f,g,m,v){function _(e){return function(){u.ensureSelection(e),a.emit("dlItemRenameRequest",e)}}function y(e){return function(){u.clearSelectionForItems(e),l.deleteElements(e)}}function E(e){return function(){u.ensureSelection(e),g.openShareElementLinkURL(e)}}function b(e){return function(){u.ensureSelection(e);var t=p.getStockId(e);h.showLicenseDialog(e,t)}}function T(e){d.setFindSimilarSearchMode(p.getStockId(e))}function S(e){e.getThumbnailURL(v.STOCK_SIMILARITY_RENDITION_SIZE,function(t,n){n+="?accept=image/jpeg",e.getThumbnailPath(v.IMAGE_RENDITION_SIZE,function(e,t){d.setFindSimilarSearchMode(void 0,n,t)})})}function L(e){return function(){u.ensureSelection(e),p.isStockAsset(e)?T(e):S(e)}}function A(e){return function(){d.resetMode(),t.setTimeout(function(){l.setCurrentLibrary(e.library),u.setSelection(e,!0)})}}function C(t,r,o,a){return function(){var s=function(e){i.isArray(e)&&!t&&o===a?u.setSelection(e):u.ensureSelection(r[0])},l=n("orderBy")(r,d.getSortFunction("modified"),!0),c=[];l.forEach(function(e){t?c.push(o.moveElement(e,a)):c.push(o.copyElement(e,a))}),e.all(c).then(s,s)}}function w(e,t){var i={copy:[],move:[]},r=l.getLibraries();return r=n("orderBy")(r,d.getState().librarySortFunction),r.forEach(function(n){var r=n.elements.length+e.length<=v.MAX_ELEMENTS;i.copy.push({label:n.name,enableMenu:n.id!==t.id&&r&&n.isWritable,checked:n.id===t.id,onClick:C(!1,e,t,n)}),i.move.push({label:n.name,enableMenu:n.id!==t.id&&r&&n.isWritable&&t.isWritable,checked:n.id===t.id,onClick:C(!0,e,t,n)})}),i}this.showContextMenu=function(e,t,n){if(!d.isContextMenuEnabled())return void s.setContextMenu([]);var i=[t];u.isSelected(t)&&(i=[],u.getSelection().forEach(function(e){i.push(e)}));var r=[],o=e.collection.cloudId===v.CREATIVE_CLOUD_ID;if(1===i.length){d.isLibrariesSearchMode()&&(r.push({label:"DL_REVEAL_ITEM",onClick:A(i[0])}),r.push({divider:!0}));var a=!1;p.isStockAsset(i[0])&&(p.isLicensed(i[0])||(r.push({label:"DL_STOCK_LICENSE_MENU"+p.getLocalizationSuffix(i[0]),onClick:b(i[0])}),a=!0)),(p.isStockAsset(i[0])||i[0].type===v.IMAGE_ELEMENT_TYPE)&&(r.push({label:"DL_STOCK_FIND_SIMILAR_MENU",onClick:L(i[0])}),a=!0),a&&r.push({divider:!0});var l=c.getApplyOperations(i[0],e,n);l.forEach(function(e){e.displayInMenu&&r.push({label:e.name,onClick:function(){u.ensureSelection(t),e.apply()}})});var h=c.getEditOperations(i[0]);h.forEach(function(n){r.push({label:n.name,onClick:function(){u.ensureSelection(t),n.apply()},enableMenu:!n.disabled&&e.isWritable})}),o&&r.push({label:"DL_SHARE_LINK",onClick:E(i[0])}),r.length>0&&r.push({divider:!0})}else{var f=c.getApplyOperations(i,e);f.forEach(function(e){e.displayInMenu&&r.push({label:e.name,onClick:function(){u.ensureSelection(t),e.apply()}})})}r.push({label:i.length>1?"DL_DUPLICATE_SELECTED_ITEMS":"DL_DUPLICATE_ITEM",enableMenu:e.isWritable&&e.elements.length+i.length<=v.MAX_ELEMENTS,onClick:C(!1,i,e,e)});var g=w(i,e);r.push({label:i.length>1?"DL_COPY_SELECTED_ITEMS":"DL_COPY_ITEM",menuItems:g.copy}),r.push({label:i.length>1?"DL_MOVE_SELECTED_ITEMS":"DL_MOVE_ITEM",enableMenu:e.isWritable,menuItems:e.isWritable?g.move:[]}),r.push({divider:!0}),1===i.length&&r.push({label:"DL_RENAME",enableMenu:e.isWritable,onClick:_(i[0])}),r.push({label:"DL_DELETE",enableMenu:e.isWritable,onClick:y(i)}),s.setContextMenu(r)}}];t.attach=function(e){i.module(e).service("designLibraryContextMenu",r)}}),define("services/designlibrary/designLibraryDragUtils",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$q","$translate","fileUtils","configuration","layerSelectionManager","designLibraryManager","designLibraryUtils","designLibraryElements","designLibrarySelection",function(e,t,n,i,r,o,a,s,l){var c=function(e){var t=function(e){var t=o.getCurrentLibrary(),r=e.name,a=e.path;if(n.isUploadableFile(r)){var s=n.getFileNameWithoutExtension(r),l=t.createElement(s,i.IMAGE_ELEMENT_TYPE),c=n.fileNameToContentType(r,i.IMAGE_ELEMENT_TYPE),u=l.createRepresentation(c,"primary"),d=u.setContentFromPath(a,!1);d.then(function(){l.endOperation()},function(){t.removeElement(l,!0)})}},r=0;for(r;r<e.length;r++)t(e[r])},u=function(e,t){return!t||e.type===i.getElementType(t)},d=function(e,t){var n,i,o=r.getLayerInfo(),a=s.getAddOperations(o,t);for(n=0;n<a.length;n++)if(a[n].dropSupport&&u(a[n],e)){i=a[n];break}return i},p=function(e){var t;e.assetList.length>0&&(t=e.assetList[0].data);var n=o.getCurrentLibrary(),i=e.assetList[0].type,r=d(i,n);r&&n&&r.apply(n,"dragToPanel",t).then(function(e){l.setSelection(e,!0)})};this.addElementsFromDropData=function(e){var t=e.data,n=e.files;t&&t.assetList?p(t):n&&c(n)},this.getNamesFromDropData=function(e,i){var r=e.data,o=e.files,s=[];if(r){var l=r.assetList[0].type,c=d(l,i),u=function(e){c.getDropLabel&&(e=c.getDropLabel(e)),s.push(e)};r.assetList[0].hasOwnProperty("name")?u(r.assetList[0].name):a.getLayerName(i).then(function(e){u(e)})}else if(o){var p=0,h=3,f=0;for(p=0;p<o.length;p++)n.isUploadableFile(o[p].name)&&(f++,s.length<h&&s.push(o[p].name));f>h&&(s[h-1]=t.instant("DL_DROP_MORE_FILES",{count:f-h+1}))}return s}}];t.attach=function(e){i.module(e).service("designLibraryDragUtils",r)}}),define("services/designlibrary/designLibraryElements",["require","exports","module","angular"],function(e,t,n){"use strict";function i(e){return function(){e.map(function(e){e()})}}var r=e("angular"),o=["$q","$window","designLibraryUtils","designLibraryViewState","fileUtils","unitUtils","localSettings","configuration","adobeStockUtils","ccLibraries","digestUtils","$translate","csInterface","metrics",function(e,t,n,o,a,s,l,c,u,d,p,h,f,g){var m=this,v={},_={};this.register=function(e){var t=e.type;_[t]&&r.extend(e,_[t]),v[t]?console.log("Warning: Attempting to register element type "+t+" more than once."):v[t]=e},this.registerOverride=function(e){var t=e.type;return _[t]=e,v[t]?void r.extend(v[t],e):void(_[t]=e)};var y=function(e){return v[e]||v["*"]};this.getApplyOperations=function(e,t,n){var o=d.utils.generateUuid();if(e instanceof Array&&1===e.length&&(e=e[0]),e instanceof Array){var a=e.length;if(0===a)return[];var s=e.every(function(t){return t.type===e[0].type});if(!s)return[];var l={};e.forEach(function(e,i){var s=y(e.type),c=r.isFunction(s.getApplyOperations)?s.getApplyOperations(e,t,n,i+1,a,o):[];c.forEach(function(e){e.allowMultiple&&(l[e.name]?l[e.name].apply.push(e.apply):(l[e.name]=e,l[e.name].apply=[e.apply]))})});var c=[];return Object.keys(l).forEach(function(t){var n=l[t];n.apply.length===e.length&&(n.apply=i(n.apply),c.push(n))}),c}var u=y(e.type);return r.isFunction(u.getApplyOperations)?u.getApplyOperations(e,t,n,1,1,o):[]},this.getEditOperations=function(e){var t=y(e.type);if(r.isFunction(t.getEditOperations))return t.getEditOperations(e);var n=this.getDefaultEditOperation(e);return n?[n]:[]},this.getOnClickApplyOperation=function(e,t,n){var i,r=this.getApplyOperations(e,t,n);return r.forEach(function(e){e.onClick&&(i=e)}),i},this.getOnDoubleClickApplyOperation=function(e,t){var n,i=this.getApplyOperations(e,t);return i.forEach(function(e){e.onDoubleClick&&(n=e)}),n},this.getTooltipData=function(e,t){var n={name:this.getTruncatedElementName(e),isStockAsset:u.isStockAsset(e)};o.isLibrariesSearchMode()&&(n.libraryName=e.library.name),n.isStockAsset&&(n.isLicensed=u.isLicensed(e));var i=e.getPrimaryRepresentation();if(i){var r=a.mimeLookup(e.type,i.type);r&&(r.createdIn?n.createdIn=r.createdIn:n.type=r.name),i.contentLength&&(n.filesize=s.bytesToString(i.contentLength))}var l=y(e.type);if(l.getAdditionalTooltipData){var c=l.getAdditionalTooltipData(e,t);Object.keys(c).forEach(function(e){n[e]=c[e]})}return n};var E=function(e,t,n){t||(t="DL_ERROR_INVALID_FILE_FORMAT_"+c.currentProduct.config.translationSuffix);var i=h.instant(t,n);f.showError(i)},b=function(e){return e.getActions("edit").length>0},T=function(e){var t=e.getActions("edit");if(0===t.length)return void E(e);var n=t[0];return 0===n.installedVersions.length?void E(e,"DL_ERROR_INSTALL_NEEDED",{app:n.appName}):n.isCompatibleVersionInstalled?void n.invoke(function(t){t&&("APP_LAUNCH_TIMEOUT"===t.underlyingError||"APP_LAUNCH_FAILED"===t.underlyingError?E(e,"DL_ERROR_APP_LAUNCH_TAKING_TIME"):"APP_SEND_ACTION_FAILED"===t.underlyingError?E(e,"DL_ERROR_EDIT_FAILED"):E(e))}):void E(e,"DL_ERROR_UPDATE_NEEDED",{app:n.appName})};this.isElementUsable=function(e){if(!e||!e.type)return!1;var t=y(e.type);if(!t)return!1;if(!t.allowDragWithoutUsableRepresentation){var n=this.findUsableRepresentation(e);if(!n)return!1}return!0},this.isElementEditable=function(e,t,n){var i=e.getPrimaryRepresentation();if(!i)return!1;var r=a.getEditableTypes(e.type),o=this.isRepresentationCompatible(i,r,n);return t&&!o&&(o=b(e)),o},this.getDefaultEditOperation=function(e){var t=y(e.type);return t.defaultEditOperation?{name:"DL_EDIT_ITEM",disabled:!this.isElementEditable(e,!0),apply:function(){var n=t.defaultEditOperation(e);if(n===!1){var i=u.getStockEditError(e);m.isElementEditable(e,!0,!0)&&i?E(void 0,i):b(e)?T(e):E(e)}},onDoubleClick:!0}:b(e)?{name:"DL_EDIT_ITEM",disabled:!this.isElementEditable(e,!0),apply:function(){T(e)},onDoubleClick:!0}:void 0},this.getAddOperations=function(e,t){var i=[];return this.getElementTypes().forEach(function(o){var a=v[o],s=a.getAddOperations(e);r.isFunction(a.transformAddOperations)&&(s=a.transformAddOperations(s,e)),s.forEach(function(e){t&&!n.canAddElement(t)&&(e.disabled=!0,e.toolTip="DL_DESIGN_LIBRARY_HAS_LIMIT"),e.type=o,i.push(e)})}),i};var S;this.getElementTypes=function(){return S||(S=c.currentProduct.config.elementOrder,Object.keys(v).forEach(function(e){S.indexOf(e)===-1&&(console.log("Warning: No order specified for element type "+e),S.push(e))})),S},this.getElementType=function(e){var t=y(e.type);return t&&t.type},this.getDirective=function(e){var t=y(e);return t&&t.directive},this.getDisplayName=function(e){var t=y(e);return t&&t.displayName},this.getElementFilter=function(e){var t=y(e);return t&&t.elementFilter},this.getOrder=function(e){var t=y(e);if(t)return void 0===t.order&&(t.order=this.getElementTypes().indexOf(t.type),void 0===t.order&&(console.log("Warning: order not defined for element type "+t.type),t.order=Number.POSITIVE_INFINITY)),t.order},this.getRenditionUrl=function(e){var t=y(e.type),n=t&&t.renditionSize;return t.getRenditionUrl?t.getRenditionUrl(e):e.getThumbnailPath(n).then(function(e){return e&&(e=window.noFileSystemAccess?"http://localhost:3001"+e:"file://"+e+"?cachebuster="+Math.random()),e})},this.getRenditionUrlAndPath=function(e){var t=y(e.type),n=t&&t.renditionSize;return e.getThumbnailPath(n).then(function(e){var t;return e&&(t=window.noFileSystemAccess?"http://localhost:3001"+e:"file://"+e+"?cachebuster="+Math.random()),{url:t,path:e}})},this.getBadgeText=function(e){var t=y(e.type);if(t&&t.getBadgeText)return t.getBadgeText(e)};var L=18,A=32,C=82;this.getElementTypeDimensions=function(e,t){var n=y(e),i=t?A:n.width,r=t&&n.listExpandOnHover?C:i,o=t?n.listThumbHeight||n.listHeight:n.height;return{headerHeight:L,width:t?"full":n.width,height:t?n.listHeight:n.height,thumbnailWidth:i,thumbnailHeight:o,thumbnailExpandedWidth:r,thumbnailMaxWidth:t?n.thumbnailMaxWidthList:n.thumbnailMaxWidthGrid,backgroundColor:n.backgroundColor,disableDefaultRender:n.disableDefaultRender,showTransparencyGrid:n.showTransparencyGrid,render:n.render,tooltipTemplateUrl:n.tooltipTemplateUrl,subElementTooltipTemplateUrl:n.subElementTooltipTemplateUrl}},this.isDraggable=function(e){if(!this.isElementUsable(e))return!1;var t=y(e.type);return r.isFunction(t.isDraggable)?t.isDraggable():t.isDraggable},this.getDragType=function(e){var t=y(e.type);return t.dragType||e.type},this.allowBlankName=function(e){var t=y(e.type);return t.allowBlankName||!1},this.findUsableRepresentation=function(e){var t=a.getUsableTypes(e.type);return this.findRepresentation(e,t)},this.getCommonDragData=function(e){var t=this.getDragType(e),n={name:e.name,libraryName:e.library.name,type:t,elementRef:e.getReference(),modifiedTime:this.getElementModifiedTime(e),creationTime:e.created};return u.isStockAsset(e)&&(n.adobeStock={id:u.getStockId(e),license:u.isLicensed(e)}),n},this.getDragData=function(e){var t=y(e.type);if(t.getDragData)return t.getDragData(e)},this.findRepresentation=function(e,t){t=t instanceof Array?t:[t];var n=e.getPrimaryRepresentation();if(n&&this.isRepresentationCompatible(n,t))return n;var i,r;for(i=0;i<e.representations.length;i++)if(r=e.representations[i],this.isRepresentationCompatible(r,t))return r},this.isDownloadInProgress=function(e){var t=e.getPrimaryRepresentation();if(t&&t.isExternalLink){var n=y(e.type)||{};if(t.getCachedExternalLinkError())return!1;if(n.autoDownloadExternalLinks!==!1&&!t.getCachedContentPath())return!0}return!1},this.isRepresentationCompatible=function(e,t,n){if(!n&&e.isExternalLink){var i=y(e.element.type)||{};if(e.getCachedExternalLinkError())return!1;if(i.autoDownloadExternalLinks!==!1&&!e.getCachedContentPath())return!1}var r;for(r=0;r<t.length;r++)if(e.isCompatibleType(t[r]))return!0;return!1},this.getDisplayText=function(e){var t=y(e.type);return t&&t.getDisplayText?t.getDisplayText(e):e.name},this.getRenditionSizes=function(){var e={};return this.getElementTypes().forEach(function(t){var n=v[t];n.renditionSize&&(e[n.type]=[n.renditionSize])}),e},this.getFullRenditionConfig=function(){var e={};return this.getElementTypes().forEach(function(t){var n=v[t];n.fullRenditionConfig&&(e[n.type]=n.fullRenditionConfig())}),e},this.getRenditionSize=function(e){var t=y(e.type);if(t)return t.renditionSize},this.setRendition=function(t,n,i){var r=t.representations.some(function(e){return d.utils.canGenerateRenditionFromMimeType(e.type)}),o=[];if(!r){var s=t.createRepresentation("image/png","rendition");o.push(s.setContentFromPath(i))}var l=function(){a.deleteFile(i)};return t.setThumbnailCache(n,i).then(l,l),e.all(o)},this.getTruncatedElementName=function(e){if(e&&e.name)return n.truncateName(e.name,150).trim().split(" ").join("&nbsp;")};var w,x=[];this.setLoadingTimeout=function(e){x.push(e),w||(w=t.setTimeout(function(){var e=x;x=[],w=void 0;var t=!1;e.forEach(function(e){t=e()||t}),t&&p.triggerDigest()},1e3))},this.isIgnoringPendingDownload=function(e){var t=y(e.type)||{};return t.ignorePendingDownload},this.isRepresentationDownloadPending=function(e){return!!e.isExternalLink&&(!e.getCachedContentPath()&&!e.getCachedExternalLinkError())},this.isElementDownloadPending=function(e){var t=this;return e.representations.some(function(e){return t.isRepresentationDownloadPending(e)})},this.getElementDownloadProgress=function(e){var t;return e.representations.forEach(function(e){void 0===t&&(t=e.getExternalLinkDownloadProgress())}),t},this.getElementModifiedTime=function(e){return this.isElementDownloadPending(e)?e.modified-1:e.modified},this.retryElementDownload=function(e){var t=this;e.representations.forEach(function(e){t.isRepresentationDownloadPending(e)&&e.getContentPath()})}}];t.attach=function(e){r.module(e).service("designLibraryElements",o)}}),define("services/designlibrary/designLibraryElementUtils",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$q","fileUtils","digestUtils","configuration","designLibraryUtils","designLibraryManager","designLibraryElements","designLibraryCEPEventEmitters","designLibrarySelection","designLibraryViewState","metrics",function(e,t,n,i,r,o,a,s,l,c,u){var d=function(n,i,o,a,s,l,c,u){n=n||"";var d,p,h=e.defer(),f=[];f.push(h.promise);var g;if(t.existsFile(o.path)||(g="Could not add new element: no primary representation file specified"),g||t.existsFile(a)||(g="Could not add new element: no rendition path specified"),g||l||(g="Could not add new element: no library"),g||r.checkLibraryWritable(l)||(g="Could not create element: library is read-only"),g)return h.reject(g),h.promise;d=r.createElementExtraMetrics(l,n,i,{opType:c});var m=d.createRepresentation(o.type||t.fileNameToContentType(o.path,i),"primary");for(p in u)void 0!==u[p]&&u.hasOwnProperty(p)&&m.setValue("photoshop",p,u[p]);f.push(m.setContentFromPath(o.path)),f.push(d.createRepresentation(t.fileNameToContentType(a,i),"rendition").setContentFromPath(a)),h.resolve(d);var v=function(){return t.existsFile(a)&&d.setThumbnailCache(s,a).then(function(){t.deleteFile(a)}),t.existsFile(o.path)&&t.deleteFile(o.path),
d.endOperation(),d},_=function(e){throw l.removeElement(d,!0),e};return e.all(f).then(v,_)},p=function(n,o,l,c,u,d,p,h){var f=e.defer();if(l=l||[],!r.checkFileSizes(l,!0))return f.reject("Could not create element: one or more files exceed 1GB limit"),f.promise;if(!r.checkLibraryWritable(u))return f.reject("Could not create element: library is read-only"),f.promise;o=r.getCuratedName(u,o);var g=r.createElementExtraMetrics(u,o,n,{opType:d}),m=[];if(l.forEach(function(e,i){var r=t.fileNameToContentType(e.path,n);if(r){var o=g.createRepresentation(r,e.relationship),a=o.setContentFromPath(e.path,e.moveFile).then(function(){e.dimensions&&(o.width=e.dimensions.width,o.height=e.dimensions.height),e.moveFile||t.deleteFile(e.path)});m.push(a)}else console.log("Could not create representation: path cannot end with '.': "+e.path)}),c){var v=a.setRendition(g,i.IMAGE_RENDITION_SIZE,c);m.push(v)}return h&&h.forEach(function(e,t){g.setValue(e.namespace,e.key,e.value)}),e.all(m).then(function(){g.endOperation(),f.resolve(g),s.sendElementCreated(g,p)},function(){u.removeElement(g,!0),f.reject("Could not create element.")}),f.promise};this.addGraphicElement=function(e,t,n,r,o,a,s){return p(i.IMAGE_ELEMENT_TYPE,e,t,n,r,o,a,s)},this.addAnimationElement=function(e,t,n,r,o,a,s){return p(i.ANIMATION_ELEMENT_TYPE,e,t,n,r,o,a,s)},this.addLayerStyleElement=function(e,t,n,r,o){var a={};return d(e,i.LAYER_STYLE_ELEMENT_TYPE,t,n,i.LAYER_STYLE_RENDITION_SIZE,r,o,a)},this.addBrushElement=function(e,t,n,r,o,a){return d(e,i.BRUSH_ELEMENT_TYPE,t,n,i.BRUSH_RENDITION_SIZE,r,o,a)},this.revealElement=function(e){e&&(c.resetMode(),o.setCurrentLibrary(e.library),setTimeout(function(){l.setSelection(e,!0),n.triggerDigest()}),n.triggerDigest())}}];t.attach=function(e){i.module(e).service("designLibraryElementUtils",r)}}),define("services/designlibrary/designLibraryFlyoutMenu",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$q","$translate","metrics","linkUtils","csInterface","imsInterface","localSettings","menuManager","versionManager","designLibraryManager","designLibraryElements","designLibrarySelection","designLibraryUtils","designLibraryViewState","listenerUtils","adobeStockUtils","configuration","importExport","debugUtils",function(e,t,n,r,o,a,s,l,c,u,d,p,h,f,g,m,v,_,y){function E(e){e.push({divider:!0}),e.push({label:i.BUILT?"v"+c.getPluginVersion():"DEV",enableMenu:!1}),a.getEnvironment().overrides&&a.getEnvironment().overrides.forEach(function(t){e.push({label:t+": "+a.getEnvironment()[t],enableMenu:!1})}),e.push({label:"Panel Information",onClick:function(){o.showError("Panel Information\nPath:\n"+o.getPluginPath()+"\n\nAnalytics State:\n"+(n.getRepositories()||"Disabled"))}}),e.push({label:"Save Debug Info",onClick:function(){y.saveDebugInfo()}}),e.push({label:"View Library Info",enableMenu:void 0!==u.getCurrentLibrary(),onClick:y.viewLibraryInfo}),e.push({label:"View Element Info",enableMenu:void 0!==u.getCurrentLibrary(),onClick:y.viewElementInfo}),e.push({label:"View All Libraries Info",enableMenu:void 0!==u.getCurrentLibrary(),onClick:y.viewLibrariesInfo}),e.push({label:"Show Logs Folder",enableMenu:!0,onClick:y.showLogFolder}),e.push({divider:!0}),e.push({label:"Export Library...",enableMenu:void 0!==u.getCurrentLibrary(),onClick:function(){_.exportLibrary(u.getCurrentLibrary())}}),e.push({label:"Import Library...",enableMenu:void 0!==u.getPrivateLibraryCollection(),onClick:function(){_.importLibrary()}}),e.push({label:"Show Relink Mode",enableMenu:void 0!==u.getCurrentLibrary(),onClick:function(){f.setRelinkMode({message:"This relink mode was shown by the debug menu item",actionMessage:t.instant("DL_RELINK"),missing:!1,overlayMessage:t.instant("DL_RELINK_RELINK_OVERLAY_MESSAGE")})}}),e.push({label:"Show Deleted Items in Panel...",enableMenu:void 0!==u.getCurrentLibrary(),onClick:function(){A.notify("showArchive")}}),e.push({divider:!0});var r=s.getDebugValue("dragDropFiles");e.push({label:"Enable Native File Drag and Drop",checked:r,onClick:function(){s.setDebugValue("dragDropFiles",!r),window.location.reload()}});var l=s.getDebugValue("enableWebGL");e.push({label:"Enable WebGL Rendering",checked:l,onClick:function(){s.setDebugValue("enableWebGL",!l),window.location.reload()}}),e.push({label:"WebGL: Simulate Click on First Graphic",enableMenu:l,onClick:function(){var e=window.TEST_GET_ELEMENTS(),t=e["application/vnd.adobe.element.image+dcx"];t[0]&&window.TEST_HOVER_OVER_ELEMENT(t[0].getReference(),function(){console.log("OK")})}}),e.push({divider:!0}),e.push({label:"Enable Analytics Logging",checked:s.getDebugValue("logMetrics"),onClick:function(){var e=s.getDebugValue("logMetrics");s.setDebugValue("logMetrics",!e),b()}}),e.push({label:"Enable Stock Simulation CM Items",checked:s.getDebugValue("stockSimulationMenuItems"),onClick:function(){var e=s.getDebugValue("stockSimulationMenuItems");s.setDebugValue("stockSimulationMenuItems",!e),b()}});var d=s.getDebugValue("stockSimulationTargetAppCode");d||(d=v.currentProduct.config.code,s.setDebugValue("stockSimulationTargetAppCode",d)),e.push({label:"Set Stock Simulation Target App ["+d+"]...",checked:!1,onClick:function(){var e=prompt("Please enter code for target app, e.g.:\n\nPHXS for Photoshop\nILST for Illustrator\nIDSN for InDesign",s.getDebugValue("stockSimulationTargetAppCode"));s.setDebugValue("stockSimulationTargetAppCode",e),b()}}),e.push({label:"Copy Selected ElementRef",checked:!1,onClick:function(){var e=p.getSelection().map(function(e){return e.getReference()}).join("\n"),t=nodeRequire("child_process").exec;t(o.isWindowsOS()?"echo '"+e+"' | clip":"echo '"+e+"' | pbcopy")}}),e.push({divider:!0});var h=u.getServiceInfo(),g=h&&h.environment,m=h&&h.version+(h.buildNumber?"-"+h.buildNumber:"");e.push({label:"Production",checked:"Production"===g,enableMenu:!1}),e.push({label:"Staging",checked:"Staging"===g,enableMenu:!1}),e.push({divider:!0}),e.push({label:u.isConnected()?"Connected To: v"+m:"Not Connected",enableMenu:!1}),u.isConnected()||e.push({label:"Reconnect",onClick:function(){u.reconnectToService()}})}function b(){var e=!!u.isConnected(),t=u.getPrivateLibraryCollection(),n=u.getCurrentLibrary(),o=t&&t.cloudInfo.switchingEnabled,a=n&&n.collection.cloudId===v.CREATIVE_CLOUD_ID,c=[];if(o&&c.push({label:"DL_MENU_CHANGE_CLOUD",onClick:function(){u.requestCloudChange()}}),c.push({label:"DL_MENU_CREATE_LIB",enableMenu:void 0!==t&&e,onClick:function(){A.notify("createLibrary")}}),c.push({divider:!0}),n){c.push({label:"DL_FLYOUT_COLLABORATE",enableMenu:!n.collection.isPublic,onClick:function(){r.openCollaborateURL(n)}}),a&&c.push({label:"DL_FLYOUT_SHARE_LINK",onClick:function(){r.openShareLibraryLinkURL(n)}});var d={libraryName:h.truncateName(n.name,15)};c.push({label:"DL_FLYOUT_RENAME_LIB",enableMenu:n.isWritable,translationData:d,onClick:function(){A.notify("renameLibrary")}}),c.push({label:n.collection.isPublic?"DL_FLYOUT_UNFOLLOW_LIB":"incoming"===n.collaboration?"DL_FLYOUT_LEAVE_LIB":"DL_FLYOUT_REMOVE_LIB",translationData:d,onClick:function(){A.notify("deleteLibrary")}}),c.push({divider:!0})}c.push({label:"DL_SORT_ITEMS_BY_MOD_DATE_TOOLTIP",enableMenu:void 0!==t&&e,checked:"modified"===f.getState().sort,onClick:function(){f.setSortState("modified",u.getCurrentLibrary()),b()}}),c.push({label:"DL_SORT_ITEMS_BY_NAME_TOOLTIP",enableMenu:void 0!==t&&e,checked:"name"===f.getState().sort,onClick:function(){f.setSortState("name",u.getCurrentLibrary()),b()}}),c.push({divider:!0}),n&&(c.push({label:"DL_FLYOUT_VIEW_ON_WEBSITE",onClick:function(){r.openLibraryURL(n)}}),c.push({label:"DL_FLYOUT_VIEW_ARCHIVE_ON_WEBSITE",onClick:function(){r.openLibraryArchiveURL(n)}})),c.push({label:"DL_FLYOUT_HOW_TO_USE",onClick:r.openHelpURL}),i.isFunction(v.currentProduct.transformFlyoutMenuItems)&&v.currentProduct.transformFlyoutMenuItems(c),s.showDebugMenu()&&E(c),l.setFlyoutMenu(c)}function T(){S&&S.name!==L&&(L=S.name,b())}var S,L,A=g.addListenerManager(this,["createLibrary","renameLibrary","deleteLibrary","showArchive"]);u.addListener("currentLibrary",function(){S&&S.removeChangeListener(T),S=u.getCurrentLibrary(),S&&S.addChangeListener(T),b()}),u.addListener("privateCollection",b),this.invokeCreateLibrary=function(){A.notify("createLibrary")},this.updateMenu=function(){b()}}];t.attach=function(e){i.module(e).service("designLibraryFlyoutMenu",r)}}),define("services/designlibrary/designLibraryManager",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$q","$translate","configuration","localSettings","ccLibraries","csInterface","imsInterface","vulcan","metrics","debugLog","designLibraryElements","listenerUtils","fileUtils","digestUtils","versionManager",function(e,t,n,r,o,a,s,l,c,u,d,p,h,f,g){function m(){return o.getLoadedCollections()}function v(){$=void 0,B=void 0}function _(){return $||($=[],B={},m().forEach(function(e){e.libraries.forEach(function(e){$.push(e),B[e.id]=e})})),$}function y(e){return B||_(),B[e]}function E(){j&&(Y.forEach(function(e){e.resolve()}),Y=[])}function b(){var e=F;if(U){var t=r.getValue(U.userId+"#"+U.cloudId+"#currentLibraryId");if(t=t||r.getValue(U.userId+"#currentLibraryId")||r.getValue("currentDesignLibraryId"),t&&(F=y(t)),!F){var n=_();F=n.length>0?n[0]:void 0}}else F=void 0;e!==F&&V.notify("currentLibrary")}function T(e){F!==e&&(F&&F.isDeletedFromServer&&F.collection.removeDeletedLibraries({exclude:[e]}),F=e,V.notify("currentLibrary"),e&&(r.setValue(U.userId+"#"+U.cloudId+"#currentLibraryId",e.id),r.setValue(U.userId+"#"+U.cloudId+"#currentLibraryId"+e.id,Date.now())))}function S(e){var t=U.userId+"#"+U.cloudId+"#currentLibraryId",n=r.getValue(t+e.id)||0;return Math.max(e.modified,n)}function L(){if(F&&(F.collection.isPublic?m().forEach(function(e){if(!e.isPublic){var t=e.findBookmark(F);t&&e.removeBookmark(t,function(e){u.log("Error while removing bookmark:"+e)})}}):F&&!F.isDeletedLocally&&F.collection.removeLibrary(F)),U.libraries.length>0){var e,t;U.libraries.forEach(function(n){var i=S(n);(!t||i>t)&&(e=n,t=i)}),T(e)}else T(void 0)}function A(){var e=_();e.forEach(function(e){if(!G[e.id]){var t=function(){G[e.id].previousName===e.name&&G[e.id].previousDeletedFromServer===e.isDeletedFromServer&&G[e.id].previousWritable===e.isWritable||(G[e.id].previousName=e.name,G[e.id].previousDeletedFromServer=e.isDeletedFromServer,G[e.id].previousWritable=e.isWritable,V.notify("libraryList")),f.triggerDigest()};G[e.id]={previousName:e.name,previousDeletedFromServer:e.isDeletedFromServer,previousWritable:e.isWritable,callback:t},e.addChangeListener(t)}}),Object.keys(G).forEach(function(e){y(e)||delete G[e]})}function C(){v(),V.notify("libraryList"),A(),F&&F.isDeletedLocally&&L()}function w(){C(),f.triggerDigest()}function x(){if(V.notify("libraryStatus"),U){var e="isInitialSyncInProgress",t=U[e];if(!F&&!t){var n=U.getDefaultLibrary(),i=_();!n&&i.length>0&&(n=i[0]),T(n)}F&&F.collection.removeDeletedLibraries({exclude:[F]}),!t&&o.isConnected()&&(j=!0,E())}}function O(){x(),f.triggerDigest()}function D(e){e.addCommitErrorListener(O);var t="addSyncListener";e[t](O),e.addChangeListener(w)}function R(e){e.removeCommitErrorListener(O);var t="removeSyncListener";e[t](O),e.removeChangeListener(w)}function I(){m().forEach(function(e){H.indexOf(e)===-1&&(D(e),H.push(e))}),H.forEach(function(e){m().indexOf(e)===-1&&H.splice(H.indexOf(e),1)})}function P(){v();var e;m().some(function(t){if(!t.isPublic)return e=t,!0}),I(),U!==e&&(U&&R(U),U=e,c.setUserId(U&&U.userId),s.clearAccessToken(),V.notify("privateCollection"),U&&U.getTempDir(function(e,t){if(!e){var n=a.createEvent("com.adobe.DesignLibraries.events.TEMPDIR","APPLICATION");n.data=JSON.stringify({path:t}),a.dispatchEvent(n)}})),b(),x(),C()}function N(){if(!q){var e=i.BUILT?"v"+g.getPluginVersion():"DEV",t={analytics:c,log:u.log,getDisplayName:d.getDisplayText,vulcanCall:l.handlePortDiscoveryCall.bind(l)},n={CLIENT_DESCRIPTION:"Libraries Panel ("+e+"): "+a.getAppDescription(),SHARED_LOCAL_STORAGE:!0,RENDITION_SIZES:d.getRenditionSizes(),FULL_RENDITION_CONFIG:d.getFullRenditionConfig(),STORAGE_API_KEY:s.getEnvironment().clientId,ELEMENT_TYPE_FILTERS:d.getElementTypes(),LOCALE:a.getLocale(),APP_DESCRIPTION:a.getAppName()+"-"+a.getAppVersion()};o.configure(t,n),o.addLoadedCollectionsListener(function(){P(),f.triggerDigest()}),P(),q=!0}}function M(){m().forEach(function(e){e&&"syncing"!==e.syncState&&e.sync()})}function k(){return m().some(function(e){var t=e&&"error"===e.syncState&&!e.retryTime;return t})}var U,F,$,B,j=!1,Y=[],V=p.addListenerManager(this,["privateCollection","libraryList","currentLibrary","libraryStatus","elementsDeleted","ccAppAlert"]),H=[],G={},W=!1,q=!1;this.init=function(){N()},this.isInitialised=function(){return q},this.getLibraryCollections=function(){return m()},this.getLibraries=function(){return _()},this.getLibraryById=function(e){return y(e)},this.getPrivateLibraryCollection=function(){return U},this.getCurrentLibrary=function(){return F},this.getDefaultLibrary=function(){var e=this.getCurrentLibrary();if(!e){var n=this.getPrivateLibraryCollection();if(!n)throw"Could not find private library collection";var i=t.instant("DL_DEFAULT_LIBRARY_NAME"),r=n.createLibrary(i);if(!r)throw"Could not create new library";this.setCurrentLibrary(r),e=this.getCurrentLibrary()}return e},this.getLastAccess=function(e){return S(e)},this.setCurrentLibrary=function(e){T(e)},this.deleteCurrentLibrary=function(){L()},this.deleteElements=function(e){e&&e.length>0&&(e.forEach(function(e){e.library.removeElement(e)}),V.notify("elementsDeleted",e))},this.getRecoveryLibrary=function(e){var i,r=t.instant("DL_RECOVERED_LIBRARY_NAME",{name:e}),o=this.getPrivateLibraryCollection();return o.libraries.some(function(e){if(e.name===r&&e.isWritable&&"incoming"!==e.collaboration&&e.elements.length<n.MAX_ELEMENTS)return i=e,!0}),i||(i=o.createLibrary(r)),i},this.createLibrary=function(e){var t=this.getPrivateLibraryCollection();if(t)return t.createLibrary(e)},this.sync=function(e,t){(!e||t&&k()||!t&&!k())&&M()},this.waitForInitialLoad=function(){var t=e.defer();return Y.push(t),E(),t.promise},this.reconnectToService=function(){o.reconnect()},this.launchCCLibraryProcess=function(){if(!W){var e,t=this,n="cclibraries.service.Initialized",i=function(){e&&clearInterval(e),W=!1,t.reconnectToService(),l.removeMessageListener(n,i),setTimeout(function(){t.isConnected()||t.launchCCLibraryProcess()},1e4)},r=function(){if(t.isConnected())return void i();var e=t.getServiceInfo()||{};e.updateRequired||!t.isProcessInstalled()||t.isProcessRunning()||(u.log("Launching CCLibrary Process"),l.launchApp("cclibraries",!1))};l.addMessageListener(n,i),this.reconnectToService(),W=!0,e=setInterval(r,5e3),r()}},this.isProcessInstalled=function(){return l.isAppInstalled("cclibraries")},this.isProcessRunning=function(){return l.isAppRunning("cclibraries")},this.isConnected=function(){return o.isConnected()},this.getServiceInfo=function(){return o.getServiceInfo()},this.resolveElementReference=function(e){return o.resolveElementReference(e)},this.syncingEnabled=function(){return o.isSyncingEnabled()},this.enableSyncing=function(){o.enableSyncing(),this.sync()},this.requestCloudChange=function(){var e="accc.app.ChangeActiveCloudRequest",t=o.utils.generateUuid(),n='<?xml version="1.0" encoding="UTF-8" standalone="no"?><request><type>'+e+"</type><requestid>"+t+"</requestid></request>";l.sendMessage(e,n)},o.setCustomDigestTrigger(function(){f.triggerDigest()})}];t.attach=function(e){i.module(e).service("designLibraryManager",r)}}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("pixi",[],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.PIXI=e()}}(function(){var e;return function e(t,n,i){function r(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){var n=t[a][1][e];return r(n?n:e)},u,u.exports,e,t,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(e,t,n){"use strict";"use restrict";function i(e){var t=32;return e&=-e,e&&t--,65535&e&&(t-=16),16711935&e&&(t-=8),252645135&e&&(t-=4),858993459&e&&(t-=2),1431655765&e&&(t-=1),t}var r=32;n.INT_BITS=r,n.INT_MAX=2147483647,n.INT_MIN=-1<<r-1,n.sign=function(e){return(e>0)-(e<0)},n.abs=function(e){var t=e>>r-1;return(e^t)-t},n.min=function(e,t){return t^(e^t)&-(e<t)},n.max=function(e,t){return e^(e^t)&-(e<t)},n.isPow2=function(e){return!(e&e-1||!e)},n.log2=function(e){var t,n;return t=(e>65535)<<4,e>>>=t,n=(e>255)<<3,e>>>=n,t|=n,n=(e>15)<<2,e>>>=n,t|=n,n=(e>3)<<1,e>>>=n,t|=n,t|e>>1},n.log10=function(e){return e>=1e9?9:e>=1e8?8:e>=1e7?7:e>=1e6?6:e>=1e5?5:e>=1e4?4:e>=1e3?3:e>=100?2:e>=10?1:0},n.popCount=function(e){return e-=e>>>1&1431655765,e=(858993459&e)+(e>>>2&858993459),16843009*(e+(e>>>4)&252645135)>>>24},n.countTrailingZeros=i,n.nextPow2=function(e){return e+=0===e,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e+1},n.prevPow2=function(e){return e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e-(e>>>1)},n.parity=function(e){return e^=e>>>16,e^=e>>>8,e^=e>>>4,e&=15,27030>>>e&1};var o=new Array(256);!function(e){for(var t=0;t<256;++t){var n=t,i=t,r=7;for(n>>>=1;n;n>>>=1)i<<=1,i|=1&n,--r;e[t]=i<<r&255}}(o),n.reverse=function(e){return o[255&e]<<24|o[e>>>8&255]<<16|o[e>>>16&255]<<8|o[e>>>24&255]},n.interleave2=function(e,t){return e&=65535,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t&=65535,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e|t<<1},n.deinterleave2=function(e,t){return e=e>>>t&1431655765,e=858993459&(e|e>>>1),e=252645135&(e|e>>>2),e=16711935&(e|e>>>4),e=65535&(e|e>>>16),e<<16>>16},n.interleave3=function(e,t,n){return e&=1023,e=4278190335&(e|e<<16),e=251719695&(e|e<<8),e=3272356035&(e|e<<4),e=1227133513&(e|e<<2),t&=1023,t=4278190335&(t|t<<16),t=251719695&(t|t<<8),t=3272356035&(t|t<<4),t=1227133513&(t|t<<2),e|=t<<1,n&=1023,n=4278190335&(n|n<<16),n=251719695&(n|n<<8),n=3272356035&(n|n<<4),n=1227133513&(n|n<<2),e|n<<2},n.deinterleave3=function(e,t){return e=e>>>t&1227133513,e=3272356035&(e|e>>>2),e=251719695&(e|e>>>4),e=4278190335&(e|e>>>8),e=1023&(e|e>>>16),e<<22>>22},n.nextCombination=function(e){var t=e|e-1;return t+1|(~t&-~t)-1>>>i(e)+1}},{}],2:[function(e,t,n){"use strict";function i(e,t,n){n=n||2;var i=t&&t.length,o=i?t[0]*n:e.length,s=r(e,0,o,n,!0),l=[];if(!s)return l;var c,u,p,h,f,g,m;if(i&&(s=d(e,t,s,n)),e.length>80*n){c=p=e[0],u=h=e[1];for(var v=n;v<o;v+=n)f=e[v],g=e[v+1],f<c&&(c=f),g<u&&(u=g),f>p&&(p=f),g>h&&(h=g);m=Math.max(p-c,h-u)}return a(s,l,n,c,u,m),l}function r(e,t,n,i,r){var o,a;if(r===R(e,t,n,i)>0)for(o=t;o<n;o+=i)a=x(o,e[o],e[o+1],a);else for(o=n-i;o>=t;o-=i)a=x(o,e[o],e[o+1],a);return a&&T(a,a.next)&&(O(a),a=a.next),a}function o(e,t){if(!e)return e;t||(t=e);var n,i=e;do if(n=!1,i.steiner||!T(i,i.next)&&0!==b(i.prev,i,i.next))i=i.next;else{if(O(i),i=t=i.prev,i===i.next)return null;n=!0}while(n||i!==t);return t}function a(e,t,n,i,r,d,p){if(e){!p&&d&&g(e,i,r,d);for(var h,f,m=e;e.prev!==e.next;)if(h=e.prev,f=e.next,d?l(e,i,r,d):s(e))t.push(h.i/n),t.push(e.i/n),t.push(f.i/n),O(e),e=f.next,m=f.next;else if(e=f,e===m){p?1===p?(e=c(e,t,n),a(e,t,n,i,r,d,2)):2===p&&u(e,t,n,i,r,d):a(o(e),t,n,i,r,d,1);break}}}function s(e){var t=e.prev,n=e,i=e.next;if(b(t,n,i)>=0)return!1;for(var r=e.next.next;r!==e.prev;){if(y(t.x,t.y,n.x,n.y,i.x,i.y,r.x,r.y)&&b(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function l(e,t,n,i){var r=e.prev,o=e,a=e.next;if(b(r,o,a)>=0)return!1;for(var s=r.x<o.x?r.x<a.x?r.x:a.x:o.x<a.x?o.x:a.x,l=r.y<o.y?r.y<a.y?r.y:a.y:o.y<a.y?o.y:a.y,c=r.x>o.x?r.x>a.x?r.x:a.x:o.x>a.x?o.x:a.x,u=r.y>o.y?r.y>a.y?r.y:a.y:o.y>a.y?o.y:a.y,d=v(s,l,t,n,i),p=v(c,u,t,n,i),h=e.nextZ;h&&h.z<=p;){if(h!==e.prev&&h!==e.next&&y(r.x,r.y,o.x,o.y,a.x,a.y,h.x,h.y)&&b(h.prev,h,h.next)>=0)return!1;h=h.nextZ}for(h=e.prevZ;h&&h.z>=d;){if(h!==e.prev&&h!==e.next&&y(r.x,r.y,o.x,o.y,a.x,a.y,h.x,h.y)&&b(h.prev,h,h.next)>=0)return!1;h=h.prevZ}return!0}function c(e,t,n){var i=e;do{var r=i.prev,o=i.next.next;!T(r,o)&&S(r,i,i.next,o)&&A(r,o)&&A(o,r)&&(t.push(r.i/n),t.push(i.i/n),t.push(o.i/n),O(i),O(i.next),i=e=o),i=i.next}while(i!==e);return i}function u(e,t,n,i,r,s){var l=e;do{for(var c=l.next.next;c!==l.prev;){if(l.i!==c.i&&E(l,c)){var u=w(l,c);return l=o(l,l.next),u=o(u,u.next),a(l,t,n,i,r,s),void a(u,t,n,i,r,s)}c=c.next}l=l.next}while(l!==e)}function d(e,t,n,i){var a,s,l,c,u,d=[];for(a=0,s=t.length;a<s;a++)l=t[a]*i,c=a<s-1?t[a+1]*i:e.length,u=r(e,l,c,i,!1),u===u.next&&(u.steiner=!0),d.push(_(u));for(d.sort(p),a=0;a<d.length;a++)h(d[a],n),n=o(n,n.next);return n}function p(e,t){return e.x-t.x}function h(e,t){if(t=f(e,t)){var n=w(t,e);o(n,n.next)}}function f(e,t){var n,i=t,r=e.x,o=e.y,a=-(1/0);do{if(o<=i.y&&o>=i.next.y){var s=i.x+(o-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(s<=r&&s>a){if(a=s,s===r){if(o===i.y)return i;if(o===i.next.y)return i.next}n=i.x<i.next.x?i:i.next}}i=i.next}while(i!==t);if(!n)return null;if(r===a)return n.prev;var l,c=n,u=n.x,d=n.y,p=1/0;for(i=n.next;i!==c;)r>=i.x&&i.x>=u&&y(o<d?r:a,o,u,d,o<d?a:r,o,i.x,i.y)&&(l=Math.abs(o-i.y)/(r-i.x),(l<p||l===p&&i.x>n.x)&&A(i,e)&&(n=i,p=l)),i=i.next;return n}function g(e,t,n,i){var r=e;do null===r.z&&(r.z=v(r.x,r.y,t,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==e);r.prevZ.nextZ=null,r.prevZ=null,m(r)}function m(e){var t,n,i,r,o,a,s,l,c=1;do{for(n=e,e=null,o=null,a=0;n;){for(a++,i=n,s=0,t=0;t<c&&(s++,i=i.nextZ);t++);for(l=c;s>0||l>0&&i;)0===s?(r=i,i=i.nextZ,l--):0!==l&&i?n.z<=i.z?(r=n,n=n.nextZ,s--):(r=i,i=i.nextZ,l--):(r=n,n=n.nextZ,s--),o?o.nextZ=r:e=r,r.prevZ=o,o=r;n=i}o.nextZ=null,c*=2}while(a>1);return e}function v(e,t,n,i,r){return e=32767*(e-n)/r,t=32767*(t-i)/r,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e|t<<1}function _(e){var t=e,n=e;do t.x<n.x&&(n=t),t=t.next;while(t!==e);return n}function y(e,t,n,i,r,o,a,s){return(r-a)*(t-s)-(e-a)*(o-s)>=0&&(e-a)*(i-s)-(n-a)*(t-s)>=0&&(n-a)*(o-s)-(r-a)*(i-s)>=0}function E(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!L(e,t)&&A(e,t)&&A(t,e)&&C(e,t)}function b(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function T(e,t){return e.x===t.x&&e.y===t.y}function S(e,t,n,i){return!!(T(e,t)&&T(n,i)||T(e,i)&&T(n,t))||b(e,t,n)>0!=b(e,t,i)>0&&b(n,i,e)>0!=b(n,i,t)>0}function L(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&S(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}function A(e,t){return b(e.prev,e,e.next)<0?b(e,t,e.next)>=0&&b(e,e.prev,t)>=0:b(e,t,e.prev)<0||b(e,e.next,t)<0}function C(e,t){var n=e,i=!1,r=(e.x+t.x)/2,o=(e.y+t.y)/2;do n.y>o!=n.next.y>o&&r<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next;while(n!==e);return i}function w(e,t){var n=new D(e.i,e.x,e.y),i=new D(t.i,t.x,t.y),r=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=r,r.prev=n,i.next=n,n.prev=i,o.next=i,i.prev=o,i}function x(e,t,n,i){var r=new D(e,t,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function O(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function D(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function R(e,t,n,i){for(var r=0,o=t,a=n-i;o<n;o+=i)r+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return r}t.exports=i,i.deviation=function(e,t,n,i){var r=t&&t.length,o=r?t[0]*n:e.length,a=Math.abs(R(e,0,o,n));if(r)for(var s=0,l=t.length;s<l;s++){var c=t[s]*n,u=s<l-1?t[s+1]*n:e.length;a-=Math.abs(R(e,c,u,n))}var d=0;for(s=0;s<i.length;s+=3){var p=i[s]*n,h=i[s+1]*n,f=i[s+2]*n;d+=Math.abs((e[p]-e[f])*(e[h+1]-e[p+1])-(e[p]-e[h])*(e[f+1]-e[p+1]))}return 0===a&&0===d?0:Math.abs((d-a)/a)},i.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},i=0,r=0;r<e.length;r++){for(var o=0;o<e[r].length;o++)for(var a=0;a<t;a++)n.vertices.push(e[r][o][a]);r>0&&(i+=e[r-1].length,n.holes.push(i))}return n}},{}],3:[function(e,t,n){"use strict";function i(){}function r(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(){this._events=new i,this._eventsCount=0}var a=Object.prototype.hasOwnProperty,s="~";Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(s=!1)),o.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)a.call(e,t)&&n.push(s?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},o.prototype.listeners=function(e,t){var n=s?s+e:e,i=this._events[n];if(t)return!!i;if(!i)return[];if(i.fn)return[i.fn];for(var r=0,o=i.length,a=new Array(o);r<o;r++)a[r]=i[r].fn;return a},o.prototype.emit=function(e,t,n,i,r,o){var a=s?s+e:e;if(!this._events[a])return!1;var l,c,u=this._events[a],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,i),!0;case 5:return u.fn.call(u.context,t,n,i,r),!0;case 6:return u.fn.call(u.context,t,n,i,r,o),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var p,h=u.length;for(c=0;c<h;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,n);break;case 4:u[c].fn.call(u[c].context,t,n,i);break;default:if(!l)for(p=1,l=new Array(d-1);p<d;p++)l[p-1]=arguments[p];u[c].fn.apply(u[c].context,l)}}return!0},o.prototype.on=function(e,t,n){var i=new r(t,n||this),o=s?s+e:e;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],i]:this._events[o].push(i):(this._events[o]=i,this._eventsCount++),this},o.prototype.once=function(e,t,n){var i=new r(t,n||this,!0),o=s?s+e:e;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],i]:this._events[o].push(i):(this._events[o]=i,this._eventsCount++),this},o.prototype.removeListener=function(e,t,n,r){var o=s?s+e:e;if(!this._events[o])return this;if(!t)return 0===--this._eventsCount?this._events=new i:delete this._events[o],this;var a=this._events[o];if(a.fn)a.fn!==t||r&&!a.once||n&&a.context!==n||(0===--this._eventsCount?this._events=new i:delete this._events[o]);else{for(var l=0,c=[],u=a.length;l<u;l++)(a[l].fn!==t||r&&!a[l].once||n&&a[l].context!==n)&&c.push(a[l]);c.length?this._events[o]=1===c.length?c[0]:c:0===--this._eventsCount?this._events=new i:delete this._events[o]}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=s?s+e:e,this._events[t]&&(0===--this._eventsCount?this._events=new i:delete this._events[t])):(this._events=new i,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prototype.setMaxListeners=function(){return this},o.prefixed=s,o.EventEmitter=o,"undefined"!=typeof t&&(t.exports=o)},{}],4:[function(t,n,i){!function(t){var i=/iPhone/i,r=/iPod/i,o=/iPad/i,a=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,s=/Android/i,l=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,c=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,u=/IEMobile/i,d=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,p=/BlackBerry/i,h=/BB10/i,f=/Opera Mini/i,g=/(CriOS|Chrome)(?=.*\bMobile\b)/i,m=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,v=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),_=function(e,t){return e.test(t)},y=function(e){var t=e||navigator.userAgent,n=t.split("[FBAN");if("undefined"!=typeof n[1]&&(t=n[0]),n=t.split("Twitter"),"undefined"!=typeof n[1]&&(t=n[0]),this.apple={phone:_(i,t),ipod:_(r,t),tablet:!_(i,t)&&_(o,t),device:_(i,t)||_(r,t)||_(o,t)},this.amazon={phone:_(l,t),tablet:!_(l,t)&&_(c,t),device:_(l,t)||_(c,t)},this.android={phone:_(l,t)||_(a,t),tablet:!_(l,t)&&!_(a,t)&&(_(c,t)||_(s,t)),device:_(l,t)||_(c,t)||_(a,t)||_(s,t)},this.windows={phone:_(u,t),tablet:_(d,t),device:_(u,t)||_(d,t)},this.other={blackberry:_(p,t),blackberry10:_(h,t),opera:_(f,t),firefox:_(m,t),chrome:_(g,t),device:_(p,t)||_(h,t)||_(f,t)||_(m,t)||_(g,t)},this.seven_inch=_(v,t),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window)return this},E=function(){var e=new y;return e.Class=y,e};"undefined"!=typeof n&&n.exports&&"undefined"==typeof window?n.exports=y:"undefined"!=typeof n&&n.exports&&"undefined"!=typeof window?n.exports=E():"function"==typeof e&&e.amd?e("isMobile",[],t.isMobile=E()):t.isMobile=E()}(this)},{}],5:[function(e,t,n){"use strict";function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function r(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var i=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==i.join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}var o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;t.exports=r()?Object.assign:function(e,t){for(var n,r,s=i(e),l=1;l<arguments.length;l++){n=Object(arguments[l]);for(var c in n)o.call(n,c)&&(s[c]=n[c]);if(Object.getOwnPropertySymbols){r=Object.getOwnPropertySymbols(n);for(var u=0;u<r.length;u++)a.call(n,r[u])&&(s[r[u]]=n[r[u]])}}return s}},{}],6:[function(e,t,n){var i=new ArrayBuffer(0),r=function(e,t,n,r){this.gl=e,this.buffer=e.createBuffer(),this.type=t||e.ARRAY_BUFFER,this.drawType=r||e.STATIC_DRAW,this.data=i,n&&this.upload(n)};r.prototype.upload=function(e,t,n){n||this.bind();var i=this.gl;e=e||this.data,t=t||0,this.data.byteLength>=e.byteLength?i.bufferSubData(this.type,t,e):i.bufferData(this.type,e,this.drawType),this.data=e},r.prototype.bind=function(){var e=this.gl;e.bindBuffer(this.type,this.buffer)},r.createVertexBuffer=function(e,t,n){return new r(e,e.ARRAY_BUFFER,t,n)},r.createIndexBuffer=function(e,t,n){return new r(e,e.ELEMENT_ARRAY_BUFFER,t,n)},r.create=function(e,t,n,i){return new r(e,t,n,i)},r.prototype.destroy=function(){this.gl.deleteBuffer(this.buffer)},t.exports=r},{}],7:[function(e,t,n){var i=e("./GLTexture"),r=function(e,t,n){this.gl=e,this.framebuffer=e.createFramebuffer(),this.stencil=null,this.texture=null,this.width=t||100,this.height=n||100};r.prototype.enableTexture=function(e){var t=this.gl;this.texture=e||new i(t),this.texture.bind(),this.bind(),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.texture.texture,0)},r.prototype.enableStencil=function(){if(!this.stencil){var e=this.gl;this.stencil=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,this.stencil),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,this.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,this.width,this.height)}},r.prototype.clear=function(e,t,n,i){this.bind();var r=this.gl;r.clearColor(e,t,n,i),r.clear(r.COLOR_BUFFER_BIT)},r.prototype.bind=function(){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer)},r.prototype.unbind=function(){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,null)},r.prototype.resize=function(e,t){var n=this.gl;this.width=e,this.height=t,this.texture&&this.texture.uploadData(null,e,t),this.stencil&&(n.bindRenderbuffer(n.RENDERBUFFER,this.stencil),
n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e,t))},r.prototype.destroy=function(){var e=this.gl;this.texture&&this.texture.destroy(),e.deleteFramebuffer(this.framebuffer),this.gl=null,this.stencil=null,this.texture=null},r.createRGBA=function(e,t,n,o){var a=i.fromData(e,null,t,n);a.enableNearestScaling(),a.enableWrapClamp();var s=new r(e,t,n);return s.enableTexture(a),s.unbind(),s},r.createFloat32=function(e,t,n,o){var a=new i.fromData(e,o,t,n);a.enableNearestScaling(),a.enableWrapClamp();var s=new r(e,t,n);return s.enableTexture(a),s.unbind(),s},t.exports=r},{"./GLTexture":9}],8:[function(e,t,n){var i=e("./shader/compileProgram"),r=e("./shader/extractAttributes"),o=e("./shader/extractUniforms"),a=e("./shader/generateUniformAccessObject"),s=function(e,t,n){this.gl=e,this.program=i(e,t,n),this.attributes=r(e,this.program);var s=o(e,this.program);this.uniforms=a(e,s)};s.prototype.bind=function(){this.gl.useProgram(this.program)},s.prototype.destroy=function(){},t.exports=s},{"./shader/compileProgram":14,"./shader/extractAttributes":16,"./shader/extractUniforms":17,"./shader/generateUniformAccessObject":18}],9:[function(e,t,n){var i=function(e,t,n,i,r){this.gl=e,this.texture=e.createTexture(),this.mipmap=!1,this.premultiplyAlpha=!1,this.width=t||-1,this.height=n||-1,this.format=i||e.RGBA,this.type=r||e.UNSIGNED_BYTE};i.prototype.upload=function(e){this.bind();var t=this.gl;t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);var n=e.videoWidth||e.width,i=e.videoHeight||e.height;i!==this.height||n!==this.width?t.texImage2D(t.TEXTURE_2D,0,this.format,this.format,this.type,e):t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.format,this.type,e),this.width=n,this.height=i};var r=!1;i.prototype.uploadData=function(e,t,n){this.bind();var i=this.gl;if(e instanceof Float32Array){if(!r){var o=i.getExtension("OES_texture_float");if(!o)throw new Error("floating point textures not available");r=!0}this.type=i.FLOAT}else this.type=i.UNSIGNED_BYTE;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),t!==this.width||n!==this.height?i.texImage2D(i.TEXTURE_2D,0,this.format,t,n,0,this.format,this.type,e||null):i.texSubImage2D(i.TEXTURE_2D,0,0,0,t,n,this.format,this.type,e||null),this.width=t,this.height=n},i.prototype.bind=function(e){var t=this.gl;void 0!==e&&t.activeTexture(t.TEXTURE0+e),t.bindTexture(t.TEXTURE_2D,this.texture)},i.prototype.unbind=function(){var e=this.gl;e.bindTexture(e.TEXTURE_2D,null)},i.prototype.minFilter=function(e){var t=this.gl;this.bind(),this.mipmap?t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e?t.LINEAR_MIPMAP_LINEAR:t.NEAREST_MIPMAP_NEAREST):t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e?t.LINEAR:t.NEAREST)},i.prototype.magFilter=function(e){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,e?t.LINEAR:t.NEAREST)},i.prototype.enableMipmap=function(){var e=this.gl;this.bind(),this.mipmap=!0,e.generateMipmap(e.TEXTURE_2D)},i.prototype.enableLinearScaling=function(){this.minFilter(!0),this.magFilter(!0)},i.prototype.enableNearestScaling=function(){this.minFilter(!1),this.magFilter(!1)},i.prototype.enableWrapClamp=function(){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)},i.prototype.enableWrapRepeat=function(){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT)},i.prototype.enableWrapMirrorRepeat=function(){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.MIRRORED_REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.MIRRORED_REPEAT)},i.prototype.destroy=function(){var e=this.gl;e.deleteTexture(this.texture)},i.fromSource=function(e,t,n){var r=new i(e);return r.premultiplyAlpha=n||!1,r.upload(t),r},i.fromData=function(e,t,n,r){var o=new i(e);return o.uploadData(t,n,r),o},t.exports=i},{}],10:[function(e,t,n){function i(e,t){if(this.nativeVaoExtension=null,i.FORCE_NATIVE||(this.nativeVaoExtension=e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object")),this.nativeState=t,this.nativeVaoExtension){this.nativeVao=this.nativeVaoExtension.createVertexArrayOES();var n=e.getParameter(e.MAX_VERTEX_ATTRIBS);this.nativeState={tempAttribState:new Array(n),attribState:new Array(n)}}this.gl=e,this.attributes=[],this.indexBuffer=null,this.dirty=!1}var r=e("./setVertexAttribArrays");i.prototype.constructor=i,t.exports=i,i.FORCE_NATIVE=!1,i.prototype.bind=function(){return this.nativeVao?(this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.dirty&&(this.dirty=!1,this.activate())):this.activate(),this},i.prototype.unbind=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(null),this},i.prototype.activate=function(){for(var e=this.gl,t=null,n=0;n<this.attributes.length;n++){var i=this.attributes[n];t!==i.buffer&&(i.buffer.bind(),t=i.buffer),e.vertexAttribPointer(i.attribute.location,i.attribute.size,i.type||e.FLOAT,i.normalized||!1,i.stride||0,i.start||0)}return r(e,this.attributes,this.nativeState),this.indexBuffer.bind(),this},i.prototype.addAttribute=function(e,t,n,i,r,o){return this.attributes.push({buffer:e,attribute:t,location:t.location,type:n||this.gl.FLOAT,normalized:i||!1,stride:r||0,start:o||0}),this.dirty=!0,this},i.prototype.addIndex=function(e){return this.indexBuffer=e,this.dirty=!0,this},i.prototype.clear=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.attributes.length=0,this.indexBuffer=null,this},i.prototype.draw=function(e,t,n){var i=this.gl;return i.drawElements(e,t,i.UNSIGNED_SHORT,n||0),this},i.prototype.destroy=function(){this.gl=null,this.indexBuffer=null,this.attributes=null,this.nativeState=null,this.nativeVao&&this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao),this.nativeVaoExtension=null,this.nativeVao=null}},{"./setVertexAttribArrays":13}],11:[function(e,t,n){var i=function(e,t){var n=e.getContext("webgl",t)||e.getContext("experimental-webgl",t);if(!n)throw new Error("This browser does not support webGL. Try using the canvas renderer");return n};t.exports=i},{}],12:[function(e,t,n){var i={createContext:e("./createContext"),setVertexAttribArrays:e("./setVertexAttribArrays"),GLBuffer:e("./GLBuffer"),GLFramebuffer:e("./GLFramebuffer"),GLShader:e("./GLShader"),GLTexture:e("./GLTexture"),VertexArrayObject:e("./VertexArrayObject"),shader:e("./shader")};"undefined"!=typeof t&&t.exports&&(t.exports=i),"undefined"!=typeof window&&(window.PIXI=window.PIXI||{},window.PIXI.glCore=i)},{"./GLBuffer":6,"./GLFramebuffer":7,"./GLShader":8,"./GLTexture":9,"./VertexArrayObject":10,"./createContext":11,"./setVertexAttribArrays":13,"./shader":19}],13:[function(e,t,n){var i=function(e,t,n){var i;if(n){var r=n.tempAttribState,o=n.attribState;for(i=0;i<r.length;i++)r[i]=!1;for(i=0;i<t.length;i++)r[t[i].attribute.location]=!0;for(i=0;i<o.length;i++)o[i]!==r[i]&&(o[i]=r[i],n.attribState[i]?e.enableVertexAttribArray(i):e.disableVertexAttribArray(i))}else for(i=0;i<t.length;i++){var a=t[i];e.enableVertexAttribArray(a.attribute.location)}};t.exports=i},{}],14:[function(e,t,n){var i=function(e,t,n){var i=r(e,e.VERTEX_SHADER,t),o=r(e,e.FRAGMENT_SHADER,n),a=e.createProgram();return e.attachShader(a,i),e.attachShader(a,o),e.linkProgram(a),e.getProgramParameter(a,e.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",e.getProgramParameter(a,e.VALIDATE_STATUS)),console.error("gl.getError()",e.getError()),""!==e.getProgramInfoLog(a)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",e.getProgramInfoLog(a)),e.deleteProgram(a),a=null),e.deleteShader(i),e.deleteShader(o),a},r=function(e,t,n){var i=e.createShader(t);return e.shaderSource(i,n),e.compileShader(i),e.getShaderParameter(i,e.COMPILE_STATUS)?i:(console.log(e.getShaderInfoLog(i)),null)};t.exports=i},{}],15:[function(e,t,n){var i=function(e,t){switch(e){case"float":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"int":case"sampler2D":return 0;case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"bool":return!1;case"bvec2":return r(2*t);case"bvec3":return r(3*t);case"bvec4":return r(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}},r=function(e){for(var t=new Array(e),n=0;n<t.length;n++)t[n]=!1;return t};t.exports=i},{}],16:[function(e,t,n){var i=e("./mapType"),r=e("./mapSize"),o=function(e,t){for(var n={},o=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),s=0;s<o;s++){var l=e.getActiveAttrib(t,s),c=i(e,l.type);n[l.name]={type:c,size:r(c),location:e.getAttribLocation(t,l.name),pointer:a}}return n},a=function(e,t,n,i){gl.vertexAttribPointer(this.location,this.size,e||gl.FLOAT,t||!1,n||0,i||0)};t.exports=o},{"./mapSize":20,"./mapType":21}],17:[function(e,t,n){var i=e("./mapType"),r=e("./defaultValue"),o=function(e,t){for(var n={},o=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),a=0;a<o;a++){var s=e.getActiveUniform(t,a),l=s.name.replace(/\[.*?\]/,""),c=i(e,s.type);n[l]={type:c,size:s.size,location:e.getUniformLocation(t,l),value:r(c,s.size)}}return n};t.exports=o},{"./defaultValue":15,"./mapType":21}],18:[function(e,t,n){var i=function(e,t){var n={data:{}};n.gl=e;for(var i=Object.keys(t),s=0;s<i.length;s++){var l=i[s],c=l.split("."),u=c[c.length-1],d=a(c,n),p=t[l];d.data[u]=p,d.gl=e,Object.defineProperty(d,u,{get:r(u),set:o(u,p)})}return n},r=function(e){var t=s.replace("%%",e);return new Function(t)},o=function(e,t){var n,i=l.replace(/%%/g,e);return n=1===t.size?c[t.type]:u[t.type],n&&(i+="\nthis.gl."+n+";"),new Function("value",i)},a=function(e,t){for(var n=t,i=0;i<e.length-1;i++){var r=n[e[i]]||{data:{}};n[e[i]]=r,n=r}return n},s=["return this.data.%%.value;"].join("\n"),l=["this.data.%%.value = value;","var location = this.data.%%.location;"].join("\n"),c={float:"uniform1f(location, value)",vec2:"uniform2f(location, value[0], value[1])",vec3:"uniform3f(location, value[0], value[1], value[2])",vec4:"uniform4f(location, value[0], value[1], value[2], value[3])",int:"uniform1i(location, value)",ivec2:"uniform2i(location, value[0], value[1])",ivec3:"uniform3i(location, value[0], value[1], value[2])",ivec4:"uniform4i(location, value[0], value[1], value[2], value[3])",bool:"uniform1i(location, value)",bvec2:"uniform2i(location, value[0], value[1])",bvec3:"uniform3i(location, value[0], value[1], value[2])",bvec4:"uniform4i(location, value[0], value[1], value[2], value[3])",mat2:"uniformMatrix2fv(location, false, value)",mat3:"uniformMatrix3fv(location, false, value)",mat4:"uniformMatrix4fv(location, false, value)",sampler2D:"uniform1i(location, value)"},u={float:"uniform1fv(location, value)",vec2:"uniform2fv(location, value)",vec3:"uniform3fv(location, value)",vec4:"uniform4fv(location, value)",int:"uniform1iv(location, value)",ivec2:"uniform2iv(location, value)",ivec3:"uniform3iv(location, value)",ivec4:"uniform4iv(location, value)",bool:"uniform1iv(location, value)",bvec2:"uniform2iv(location, value)",bvec3:"uniform3iv(location, value)",bvec4:"uniform4iv(location, value)",sampler2D:"uniform1iv(location, value)"};t.exports=i},{}],19:[function(e,t,n){t.exports={compileProgram:e("./compileProgram"),defaultValue:e("./defaultValue"),extractAttributes:e("./extractAttributes"),extractUniforms:e("./extractUniforms"),generateUniformAccessObject:e("./generateUniformAccessObject"),mapSize:e("./mapSize"),mapType:e("./mapType")}},{"./compileProgram":14,"./defaultValue":15,"./extractAttributes":16,"./extractUniforms":17,"./generateUniformAccessObject":18,"./mapSize":20,"./mapType":21}],20:[function(e,t,n){var i=function(e){return r[e]},r={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};t.exports=i},{}],21:[function(e,t,n){var i=function(e,t){if(!r){var n=Object.keys(o);r={};for(var i=0;i<n.length;++i){var a=n[i];r[e[a]]=o[a]}}return r[t]},r=null,o={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D"};t.exports=i},{}],22:[function(e,t,n){(function(e){function t(e,t){for(var n=0,i=e.length-1;i>=0;i--){var r=e[i];"."===r?e.splice(i,1):".."===r?(e.splice(i,1),n++):n&&(e.splice(i,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function i(e,t){if(e.filter)return e.filter(t);for(var n=[],i=0;i<e.length;i++)t(e[i],i,e)&&n.push(e[i]);return n}var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(e){return r.exec(e).slice(1)};n.resolve=function(){for(var n="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var a=o>=0?arguments[o]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(n=a+"/"+n,r="/"===a.charAt(0))}return n=t(i(n.split("/"),function(e){return!!e}),!r).join("/"),(r?"/":"")+n||"."},n.normalize=function(e){var r=n.isAbsolute(e),o="/"===a(e,-1);return e=t(i(e.split("/"),function(e){return!!e}),!r).join("/"),e||r||(e="."),e&&o&&(e+="/"),(r?"/":"")+e},n.isAbsolute=function(e){return"/"===e.charAt(0)},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(i(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},n.relative=function(e,t){function i(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=n.resolve(e).substr(1),t=n.resolve(t).substr(1);for(var r=i(e.split("/")),o=i(t.split("/")),a=Math.min(r.length,o.length),s=a,l=0;l<a;l++)if(r[l]!==o[l]){s=l;break}for(var c=[],l=s;l<r.length;l++)c.push("..");return c=c.concat(o.slice(s)),c.join("/")},n.sep="/",n.delimiter=":",n.dirname=function(e){var t=o(e),n=t[0],i=t[1];return n||i?(i&&(i=i.substr(0,i.length-1)),n+i):"."},n.basename=function(e,t){var n=o(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},n.extname=function(e){return o(e)[3]};var a="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,e("_process"))},{_process:23}],23:[function(e,t,n){function i(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(d===setTimeout)return setTimeout(e,0);if((d===i||!d)&&setTimeout)return d=setTimeout,setTimeout(e,0);try{return d(e,0)}catch(t){try{return d.call(null,e,0)}catch(t){return d.call(this,e,0)}}}function a(e){if(p===clearTimeout)return clearTimeout(e);if((p===r||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(e);try{return p(e)}catch(t){try{return p.call(null,e)}catch(t){return p.call(this,e)}}}function s(){m&&f&&(m=!1,f.length?g=f.concat(g):v=-1,g.length&&l())}function l(){if(!m){var e=o(s);m=!0;for(var t=g.length;t;){for(f=g,g=[];++v<t;)f&&f[v].run();v=-1,t=g.length}f=null,m=!1,a(e)}}function c(e,t){this.fun=e,this.array=t}function u(){}var d,p,h=t.exports={};!function(){try{d="function"==typeof setTimeout?setTimeout:i}catch(e){d=i}try{p="function"==typeof clearTimeout?clearTimeout:r}catch(e){p=r}}();var f,g=[],m=!1,v=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];g.push(new c(e,t)),1!==g.length||m||o(l)},c.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=u,h.addListener=u,h.once=u,h.off=u,h.removeListener=u,h.removeAllListeners=u,h.emit=u,h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},{}],24:[function(t,n,i){(function(t){!function(r){function o(e){throw new RangeError(N[e])}function a(e,t){for(var n=e.length,i=[];n--;)i[n]=t(e[n]);return i}function s(e,t){var n=e.split("@"),i="";n.length>1&&(i=n[0]+"@",e=n[1]),e=e.replace(P,".");var r=e.split("."),o=a(r,t).join(".");return i+o}function l(e){for(var t,n,i=[],r=0,o=e.length;r<o;)t=e.charCodeAt(r++),t>=55296&&t<=56319&&r<o?(n=e.charCodeAt(r++),56320==(64512&n)?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),r--)):i.push(t);return i}function c(e){return a(e,function(e){var t="";return e>65535&&(e-=65536,t+=U(e>>>10&1023|55296),e=56320|1023&e),t+=U(e)}).join("")}function u(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:S}function d(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function p(e,t,n){var i=0;for(e=n?k(e/w):e>>1,e+=k(e/t);e>M*A>>1;i+=S)e=k(e/M);return k(i+(M+1)*e/(e+C))}function h(e){var t,n,i,r,a,s,l,d,h,f,g=[],m=e.length,v=0,_=O,y=x;for(n=e.lastIndexOf(D),n<0&&(n=0),i=0;i<n;++i)e.charCodeAt(i)>=128&&o("not-basic"),g.push(e.charCodeAt(i));for(r=n>0?n+1:0;r<m;){for(a=v,s=1,l=S;r>=m&&o("invalid-input"),d=u(e.charCodeAt(r++)),(d>=S||d>k((T-v)/s))&&o("overflow"),v+=d*s,h=l<=y?L:l>=y+A?A:l-y,!(d<h);l+=S)f=S-h,s>k(T/f)&&o("overflow"),s*=f;t=g.length+1,y=p(v-a,t,0==a),k(v/t)>T-_&&o("overflow"),_+=k(v/t),v%=t,g.splice(v++,0,_)}return c(g)}function f(e){var t,n,i,r,a,s,c,u,h,f,g,m,v,_,y,E=[];for(e=l(e),m=e.length,t=O,n=0,a=x,s=0;s<m;++s)g=e[s],g<128&&E.push(U(g));for(i=r=E.length,r&&E.push(D);i<m;){for(c=T,s=0;s<m;++s)g=e[s],g>=t&&g<c&&(c=g);for(v=i+1,c-t>k((T-n)/v)&&o("overflow"),n+=(c-t)*v,t=c,s=0;s<m;++s)if(g=e[s],g<t&&++n>T&&o("overflow"),g==t){for(u=n,h=S;f=h<=a?L:h>=a+A?A:h-a,!(u<f);h+=S)y=u-f,_=S-f,E.push(U(d(f+y%_,0))),u=k(y/_);E.push(U(d(u,0))),a=p(n,v,i==r),n=0,++i}++n,++t}return E.join("")}function g(e){return s(e,function(e){return R.test(e)?h(e.slice(4).toLowerCase()):e})}function m(e){return s(e,function(e){return I.test(e)?"xn--"+f(e):e})}var v="object"==typeof i&&i&&!i.nodeType&&i,_="object"==typeof n&&n&&!n.nodeType&&n,y="object"==typeof t&&t;y.global!==y&&y.window!==y&&y.self!==y||(r=y);var E,b,T=2147483647,S=36,L=1,A=26,C=38,w=700,x=72,O=128,D="-",R=/^xn--/,I=/[^\x20-\x7E]/,P=/[\x2E\u3002\uFF0E\uFF61]/g,N={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},M=S-L,k=Math.floor,U=String.fromCharCode;if(E={version:"1.4.1",ucs2:{decode:l,encode:c},decode:h,encode:f,toASCII:m,toUnicode:g},"function"==typeof e&&"object"==typeof e.amd&&e.amd)e("punycode",function(){return E});else if(v&&_)if(n.exports==v)_.exports=E;else for(b in E)E.hasOwnProperty(b)&&(v[b]=E[b]);else r.punycode=E}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],25:[function(e,t,n){"use strict";function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,n,o){t=t||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var l=1e3;o&&"number"==typeof o.maxKeys&&(l=o.maxKeys);var c=e.length;l>0&&c>l&&(c=l);for(var u=0;u<c;++u){var d,p,h,f,g=e[u].replace(s,"%20"),m=g.indexOf(n);m>=0?(d=g.substr(0,m),p=g.substr(m+1)):(d=g,p=""),h=decodeURIComponent(d),f=decodeURIComponent(p),i(a,h)?r(a[h])?a[h].push(f):a[h]=[a[h],f]:a[h]=f}return a};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],26:[function(e,t,n){"use strict";function i(e,t){if(e.map)return e.map(t);for(var n=[],i=0;i<e.length;i++)n.push(t(e[i],i));return n}var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?i(a(e),function(a){var s=encodeURIComponent(r(a))+n;return o(e[a])?i(e[a],function(e){return s+encodeURIComponent(r(e))}).join(t):s+encodeURIComponent(r(e[a]))}).join(t):s?encodeURIComponent(r(s))+n+encodeURIComponent(r(e)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},a=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},{}],27:[function(e,t,n){"use strict";n.decode=n.parse=e("./decode"),n.encode=n.stringify=e("./encode")},{"./decode":25,"./encode":26}],28:[function(e,t,n){"use strict";function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function r(e,t,n){if(e&&c.isObject(e)&&e instanceof i)return e;var r=new i;return r.parse(e,t,n),r}function o(e){return c.isString(e)&&(e=r(e)),e instanceof i?e.format():i.prototype.format.call(e)}function a(e,t){return r(e,!1,!0).resolve(t)}function s(e,t){return e?r(e,!1,!0).resolveObject(t):t}var l=e("punycode"),c=e("./util");n.parse=r,n.resolve=a,n.resolveObject=s,n.format=o,n.Url=i;var u=/^([a-z0-9.+-]+:)/i,d=/:[0-9]*$/,p=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,h=["<",">",'"',"`"," ","\r","\n","\t"],f=["{","}","|","\\","^","`"].concat(h),g=["'"].concat(f),m=["%","/","?",";","#"].concat(g),v=["/","?","#"],_=255,y=/^[+a-z0-9A-Z_-]{0,63}$/,E=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,b={javascript:!0,"javascript:":!0},T={javascript:!0,"javascript:":!0},S={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},L=e("querystring");i.prototype.parse=function(e,t,n){if(!c.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var i=e.indexOf("?"),r=i!==-1&&i<e.indexOf("#")?"?":"#",o=e.split(r),a=/\\/g;o[0]=o[0].replace(a,"/"),e=o.join(r);var s=e;if(s=s.trim(),!n&&1===e.split("#").length){var d=p.exec(s);if(d)return this.path=s,this.href=s,this.pathname=d[1],d[2]?(this.search=d[2],t?this.query=L.parse(this.search.substr(1)):this.query=this.search.substr(1)):t&&(this.search="",this.query={}),this}var h=u.exec(s);if(h){h=h[0];var f=h.toLowerCase();this.protocol=f,s=s.substr(h.length)}if(n||h||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var A="//"===s.substr(0,2);!A||h&&T[h]||(s=s.substr(2),this.slashes=!0)}if(!T[h]&&(A||h&&!S[h])){for(var C=-1,w=0;w<v.length;w++){var x=s.indexOf(v[w]);x!==-1&&(C===-1||x<C)&&(C=x)}var O,D;D=C===-1?s.lastIndexOf("@"):s.lastIndexOf("@",C),D!==-1&&(O=s.slice(0,D),s=s.slice(D+1),this.auth=decodeURIComponent(O)),C=-1;for(var w=0;w<m.length;w++){var x=s.indexOf(m[w]);x!==-1&&(C===-1||x<C)&&(C=x)}C===-1&&(C=s.length),this.host=s.slice(0,C),s=s.slice(C),this.parseHost(),this.hostname=this.hostname||"";var R="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!R)for(var I=this.hostname.split(/\./),w=0,P=I.length;w<P;w++){var N=I[w];if(N&&!N.match(y)){for(var M="",k=0,U=N.length;k<U;k++)M+=N.charCodeAt(k)>127?"x":N[k];if(!M.match(y)){var F=I.slice(0,w),$=I.slice(w+1),B=N.match(E);B&&(F.push(B[1]),$.unshift(B[2])),$.length&&(s="/"+$.join(".")+s),this.hostname=F.join(".");break}}}this.hostname.length>_?this.hostname="":this.hostname=this.hostname.toLowerCase(),R||(this.hostname=l.toASCII(this.hostname));var j=this.port?":"+this.port:"",Y=this.hostname||"";this.host=Y+j,this.href+=this.host,R&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==s[0]&&(s="/"+s))}if(!b[f])for(var w=0,P=g.length;w<P;w++){var V=g[w];if(s.indexOf(V)!==-1){var H=encodeURIComponent(V);H===V&&(H=escape(V)),s=s.split(V).join(H)}}var G=s.indexOf("#");G!==-1&&(this.hash=s.substr(G),s=s.slice(0,G));var W=s.indexOf("?");if(W!==-1?(this.search=s.substr(W),this.query=s.substr(W+1),t&&(this.query=L.parse(this.query)),s=s.slice(0,W)):t&&(this.search="",this.query={}),s&&(this.pathname=s),S[f]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var j=this.pathname||"",q=this.search||"";this.path=j+q}return this.href=this.format(),this},i.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",i=this.hash||"",r=!1,o="";this.host?r=e+this.host:this.hostname&&(r=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&c.isObject(this.query)&&Object.keys(this.query).length&&(o=L.stringify(this.query));var a=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||S[t])&&r!==!1?(r="//"+(r||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):r||(r=""),i&&"#"!==i.charAt(0)&&(i="#"+i),a&&"?"!==a.charAt(0)&&(a="?"+a),n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),a=a.replace("#","%23"),t+r+n+a+i},i.prototype.resolve=function(e){return this.resolveObject(r(e,!1,!0)).format()},i.prototype.resolveObject=function(e){if(c.isString(e)){var t=new i;t.parse(e,!1,!0),e=t}for(var n=new i,r=Object.keys(this),o=0;o<r.length;o++){var a=r[o];n[a]=this[a]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),l=0;l<s.length;l++){var u=s[l];"protocol"!==u&&(n[u]=e[u])}return S[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!S[e.protocol]){for(var d=Object.keys(e),p=0;p<d.length;p++){var h=d[p];n[h]=e[h]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||T[e.protocol])n.pathname=e.pathname;else{for(var f=(e.pathname||"").split("/");f.length&&!(e.host=f.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),n.pathname=f.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var g=n.pathname||"",m=n.search||"";n.path=g+m}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var v=n.pathname&&"/"===n.pathname.charAt(0),_=e.host||e.pathname&&"/"===e.pathname.charAt(0),y=_||v||n.host&&e.pathname,E=y,b=n.pathname&&n.pathname.split("/")||[],f=e.pathname&&e.pathname.split("/")||[],L=n.protocol&&!S[n.protocol];if(L&&(n.hostname="",n.port=null,n.host&&(""===b[0]?b[0]=n.host:b.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===f[0]?f[0]=e.host:f.unshift(e.host)),e.host=null),y=y&&(""===f[0]||""===b[0])),_)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,b=f;else if(f.length)b||(b=[]),b.pop(),b=b.concat(f),n.search=e.search,n.query=e.query;else if(!c.isNullOrUndefined(e.search)){if(L){n.hostname=n.host=b.shift();var A=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");A&&(n.auth=A.shift(),n.host=n.hostname=A.shift())}return n.search=e.search,n.query=e.query,c.isNull(n.pathname)&&c.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!b.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var C=b.slice(-1)[0],w=(n.host||e.host||b.length>1)&&("."===C||".."===C)||""===C,x=0,O=b.length;O>=0;O--)C=b[O],"."===C?b.splice(O,1):".."===C?(b.splice(O,1),x++):x&&(b.splice(O,1),x--);if(!y&&!E)for(;x--;x)b.unshift("..");!y||""===b[0]||b[0]&&"/"===b[0].charAt(0)||b.unshift(""),w&&"/"!==b.join("/").substr(-1)&&b.push("");var D=""===b[0]||b[0]&&"/"===b[0].charAt(0);if(L){n.hostname=n.host=D?"":b.length?b.shift():"";var A=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");A&&(n.auth=A.shift(),n.host=n.hostname=A.shift())}return y=y||n.host&&b.length,y&&!D&&b.unshift(""),b.length?n.pathname=b.join("/"):(n.pathname=null,n.path=null),c.isNull(n.pathname)&&c.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},i.prototype.parseHost=function(){var e=this.host,t=d.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},{"./util":29,punycode:24,querystring:27}],29:[function(e,t,n){"use strict";t.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},{}],30:[function(e,t,n){"use strict";t.exports=function(e,t){t=t||{};for(var n={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},i=n.parser[t.strictMode?"strict":"loose"].exec(e),r={},o=14;o--;)r[n.key[o]]=i[o]||"";return r[n.q.name]={},r[n.key[12]].replace(n.q.parser,function(e,t,i){t&&(r[n.q.name][t]=i)}),r}},{}],31:[function(e,t,n){"use strict";function i(e,t){s.call(this),t=t||l,this.baseUrl=e||"",this.progress=0,this.loading=!1,this._progressChunk=0,this._beforeMiddleware=[],this._afterMiddleware=[],this._boundLoadResource=this._loadResource.bind(this),this._buffer=[],this._numToLoad=0,this._queue=o.queue(this._boundLoadResource,t),this.resources={}}var r=e("parse-uri"),o=e("./async"),a=e("./Resource"),s=e("eventemitter3"),l=10,c=100;i.prototype=Object.create(s.prototype),i.prototype.constructor=i,t.exports=i,i.prototype.add=i.prototype.enqueue=function(e,t,n,i){if(Array.isArray(e)){for(var r=0;r<e.length;++r)this.add(e[r]);return this}if("object"==typeof e&&(i=t||e.callback||e.onComplete,n=e,t=e.url,e=e.name||e.key||e.url),"string"!=typeof t&&(i=n,n=t,t=e),"string"!=typeof t)throw new Error("No url passed to add resource to loader.");if("function"==typeof n&&(i=n,n=null),this.resources[e])throw new Error('Resource with name "'+e+'" already exists.');return t=this._prepareUrl(t),this.resources[e]=new a(e,t,n),"function"==typeof i&&this.resources[e].once("afterMiddleware",i),this._numToLoad++,this._queue.started?(this._queue.push(this.resources[e]),this._progressChunk=(c-this.progress)/(this._queue.length()+this._queue.running())):(this._buffer.push(this.resources[e]),this._progressChunk=c/this._buffer.length),this},i.prototype.before=i.prototype.pre=function(e){return this._beforeMiddleware.push(e),this},i.prototype.after=i.prototype.use=function(e){return this._afterMiddleware.push(e),this},i.prototype.reset=function(){this.progress=0,this.loading=!1,this._progressChunk=0,this._buffer.length=0,this._numToLoad=0,this._queue.kill(),this._queue.started=!1;for(var e in this.resources){var t=this.resources[e];t.off("complete",this._onLoad,this),t.isLoading&&t.abort()}return this.resources={},this},i.prototype.load=function(e){if("function"==typeof e&&this.once("complete",e),this._queue.started)return this;this.emit("start",this),this.loading=!0;for(var t=0;t<this._buffer.length;++t)this._queue.push(this._buffer[t]);return this._buffer.length=0,this},i.prototype._prepareUrl=function(e){var t=r(e,{strictMode:!0});return t.protocol||!t.path||0===t.path.indexOf("//")?e:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==e.charAt(0)?this.baseUrl+"/"+e:this.baseUrl+e},i.prototype._loadResource=function(e,t){var n=this;e._dequeue=t,o.eachSeries(this._beforeMiddleware,function(t,i){t.call(n,e,function(){i(e.isComplete?{}:null)})},function(){e.isComplete?n._onLoad(e):(e.once("complete",n._onLoad,n),e.load())})},i.prototype._onComplete=function(){this.loading=!1,this.emit("complete",this,this.resources)},i.prototype._onLoad=function(e){var t=this;o.eachSeries(this._afterMiddleware,function(n,i){n.call(t,e,i);
},function(){e.emit("afterMiddleware",e),t._numToLoad--,t.progress+=t._progressChunk,t.emit("progress",t,e),e.error?t.emit("error",e.error,t,e):t.emit("load",t,e),0===t._numToLoad&&(t.progress=100,t._onComplete())}),e._dequeue()},i.LOAD_TYPE=a.LOAD_TYPE,i.XHR_RESPONSE_TYPE=a.XHR_RESPONSE_TYPE},{"./Resource":32,"./async":33,eventemitter3:3,"parse-uri":30}],32:[function(e,t,n){"use strict";function i(e,t,n){if(a.call(this),n=n||{},"string"!=typeof e||"string"!=typeof t)throw new Error("Both name and url are required for constructing a resource.");this.name=e,this.url=t,this.isDataUrl=0===this.url.indexOf("data:"),this.data=null,this.crossOrigin=n.crossOrigin===!0?"anonymous":n.crossOrigin,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.metadata=n.metadata||{},this.error=null,this.xhr=null,this.isJson=!1,this.isXml=!1,this.isImage=!1,this.isAudio=!1,this.isVideo=!1,this.isComplete=!1,this.isLoading=!1,this._dequeue=null,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this._boundXdrOnTimeout=this._xdrOnTimeout.bind(this)}function r(e){return e.toString().replace("object ","")}function o(e,t,n){t&&0===t.indexOf(".")&&(t=t.substring(1)),t&&(e[t]=n)}var a=e("eventemitter3"),s=e("parse-uri"),l=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),c=null,u=0,d=200,p=204;i.prototype=Object.create(a.prototype),i.prototype.constructor=i,t.exports=i,i.prototype.complete=function(){if(this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null)),this.isComplete)throw new Error("Complete called again for an already completed resource.");this.isComplete=!0,this.isLoading=!1,this.emit("complete",this)},i.prototype.abort=function(e){if(!this.error){if(this.error=new Error(e),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if("undefined"!=typeof this.data.src)this.data.src="";else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this.complete()}},i.prototype.load=function(e){if(!this.isLoading)if(this.isComplete){if(e){var t=this;setTimeout(function(){e(t)},1)}}else switch(e&&this.once("complete",e),this.isLoading=!0,this.emit("start",this),this.crossOrigin!==!1&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case i.LOAD_TYPE.IMAGE:this._loadElement("image");break;case i.LOAD_TYPE.AUDIO:this._loadSourceElement("audio");break;case i.LOAD_TYPE.VIDEO:this._loadSourceElement("video");break;case i.LOAD_TYPE.XHR:default:l&&this.crossOrigin?this._loadXdr():this._loadXhr()}},i.prototype._loadElement=function(e){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===e&&"undefined"!=typeof window.Image?this.data=new Image:this.data=document.createElement(e),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url);var t="is"+e[0].toUpperCase()+e.substring(1);this[t]===!1&&(this[t]=!0),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1)},i.prototype._loadSourceElement=function(e){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===e&&"undefined"!=typeof window.Audio?this.data=new Audio:this.data=document.createElement(e),null===this.data)return void this.abort("Unsupported element "+e);if(!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var t=0;t<this.url.length;++t)this.data.appendChild(this._createSource(e,this.url[t]));else this.data.appendChild(this._createSource(e,this.url));this["is"+e[0].toUpperCase()+e.substring(1)]=!0,this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load()},i.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;e.open("GET",this.url,!0),this.xhrType===i.XHR_RESPONSE_TYPE.JSON||this.xhrType===i.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=i.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},i.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XDomainRequest;e.timeout=5e3,e.onerror=this._boundXhrOnError,e.ontimeout=this._boundXdrOnTimeout,e.onprogress=this._boundOnProgress,e.onload=this._boundXhrOnLoad,e.open("GET",this.url,!0),setTimeout(function(){e.send()},0)},i.prototype._createSource=function(e,t,n){n||(n=e+"/"+t.substr(t.lastIndexOf(".")+1));var i=document.createElement("source");return i.src=t,i.type=n,i},i.prototype._onError=function(e){this.abort("Failed to load element using "+e.target.nodeName)},i.prototype._onProgress=function(e){e&&e.lengthComputable&&this.emit("progress",this,e.loaded/e.total)},i.prototype._xhrOnError=function(){var e=this.xhr;this.abort(r(e)+" Request failed. Status: "+e.status+', text: "'+e.statusText+'"')},i.prototype._xhrOnAbort=function(){this.abort(r(this.xhr)+" Request was aborted by the user.")},i.prototype._xdrOnTimeout=function(){this.abort(r(this.xhr)+" Request timed out.")},i.prototype._xhrOnLoad=function(){var e=this.xhr,t="undefined"==typeof e.status?e.status:d;if(!(t===d||t===p||t===u&&e.responseText.length>0))return void this.abort("["+e.status+"]"+e.statusText+":"+e.responseURL);if(this.xhrType===i.XHR_RESPONSE_TYPE.TEXT)this.data=e.responseText;else if(this.xhrType===i.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(e.responseText),this.isJson=!0}catch(e){return void this.abort("Error trying to parse loaded json:",e)}else if(this.xhrType===i.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var n=new DOMParser;this.data=n.parseFromString(e.responseText,"text/xml")}else{var r=document.createElement("div");r.innerHTML=e.responseText,this.data=r}this.isXml=!0}catch(e){return void this.abort("Error trying to parse loaded xml:",e)}else this.data=e.response||e.responseText;this.complete()},i.prototype._determineCrossOrigin=function(e,t){if(0===e.indexOf("data:"))return"";t=t||window.location,c||(c=document.createElement("a")),c.href=e,e=s(c.href,{strictMode:!0});var n=!e.port&&""===t.port||e.port===t.port,i=e.protocol?e.protocol+":":"";return e.host===t.hostname&&n&&i===t.protocol?"":"anonymous"},i.prototype._determineXhrType=function(){return i._xhrTypeMap[this._getExtension()]||i.XHR_RESPONSE_TYPE.TEXT},i.prototype._determineLoadType=function(){return i._loadTypeMap[this._getExtension()]||i.LOAD_TYPE.XHR},i.prototype._getExtension=function(){var e=this.url,t="";if(this.isDataUrl){var n=e.indexOf("/");t=e.substring(n+1,e.indexOf(";",n))}else{var i=e.indexOf("?");i!==-1&&(e=e.substring(0,i)),t=e.substring(e.lastIndexOf(".")+1)}return t.toLowerCase()},i.prototype._getMimeFromXhrType=function(e){switch(e){case i.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case i.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case i.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case i.XHR_RESPONSE_TYPE.JSON:return"application/json";case i.XHR_RESPONSE_TYPE.DEFAULT:case i.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},i.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},i.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},i._loadTypeMap={gif:i.LOAD_TYPE.IMAGE,png:i.LOAD_TYPE.IMAGE,bmp:i.LOAD_TYPE.IMAGE,jpg:i.LOAD_TYPE.IMAGE,jpeg:i.LOAD_TYPE.IMAGE,tif:i.LOAD_TYPE.IMAGE,tiff:i.LOAD_TYPE.IMAGE,webp:i.LOAD_TYPE.IMAGE,tga:i.LOAD_TYPE.IMAGE,"svg+xml":i.LOAD_TYPE.IMAGE},i._xhrTypeMap={xhtml:i.XHR_RESPONSE_TYPE.DOCUMENT,html:i.XHR_RESPONSE_TYPE.DOCUMENT,htm:i.XHR_RESPONSE_TYPE.DOCUMENT,xml:i.XHR_RESPONSE_TYPE.DOCUMENT,tmx:i.XHR_RESPONSE_TYPE.DOCUMENT,tsx:i.XHR_RESPONSE_TYPE.DOCUMENT,svg:i.XHR_RESPONSE_TYPE.DOCUMENT,gif:i.XHR_RESPONSE_TYPE.BLOB,png:i.XHR_RESPONSE_TYPE.BLOB,bmp:i.XHR_RESPONSE_TYPE.BLOB,jpg:i.XHR_RESPONSE_TYPE.BLOB,jpeg:i.XHR_RESPONSE_TYPE.BLOB,tif:i.XHR_RESPONSE_TYPE.BLOB,tiff:i.XHR_RESPONSE_TYPE.BLOB,webp:i.XHR_RESPONSE_TYPE.BLOB,tga:i.XHR_RESPONSE_TYPE.BLOB,json:i.XHR_RESPONSE_TYPE.JSON,text:i.XHR_RESPONSE_TYPE.TEXT,txt:i.XHR_RESPONSE_TYPE.TEXT},i.setExtensionLoadType=function(e,t){o(i._loadTypeMap,e,t)},i.setExtensionXhrType=function(e,t){o(i._xhrTypeMap,e,t)}},{eventemitter3:3,"parse-uri":30}],33:[function(e,t,n){"use strict";function i(){}function r(e,t,n){var i=0,r=e.length;!function o(a){return a||i===r?void(n&&n(a)):void t(e[i++],o)}()}function o(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null,t.apply(this,arguments)}}function a(e,t){function n(e,t,n){if(null!=n&&"function"!=typeof n)throw new Error("task callback must be a function");if(s.started=!0,null==e&&s.idle())return void setTimeout(function(){s.drain()},1);var r={data:e,callback:"function"==typeof n?n:i};t?s._tasks.unshift(r):s._tasks.push(r),setTimeout(function(){s.process()},1)}function r(e){return function(){a-=1,e.callback.apply(e,arguments),null!=arguments[0]&&s.error(arguments[0],e.data),a<=s.concurrency-s.buffer&&s.unsaturated(),s.idle()&&s.drain(),s.process()}}if(null==t)t=1;else if(0===t)throw new Error("Concurrency must not be zero");var a=0,s={_tasks:[],concurrency:t,saturated:i,unsaturated:i,buffer:t/4,empty:i,drain:i,error:i,started:!1,paused:!1,push:function(e,t){n(e,!1,t)},kill:function(){s.drain=i,s._tasks=[]},unshift:function(e,t){n(e,!0,t)},process:function(){for(;!s.paused&&a<s.concurrency&&s._tasks.length;){var t=s._tasks.shift();0===s._tasks.length&&s.empty(),a+=1,a===s.concurrency&&s.saturated(),e(t.data,o(r(t)))}},length:function(){return s._tasks.length},running:function(){return a},idle:function(){return s._tasks.length+a===0},pause:function(){s.paused!==!0&&(s.paused=!0)},resume:function(){if(s.paused!==!1){s.paused=!1;for(var e=1;e<=s.concurrency;e++)s.process()}}};return s}t.exports={eachSeries:r,queue:a}},{}],34:[function(e,t,n){"use strict";t.exports={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encodeBinary:function(e){for(var t,n="",i=new Array(4),r=0,o=0,a=0;r<e.length;){for(t=new Array(3),o=0;o<t.length;o++)r<e.length?t[o]=255&e.charCodeAt(r++):t[o]=0;switch(i[0]=t[0]>>2,i[1]=(3&t[0])<<4|t[1]>>4,i[2]=(15&t[1])<<2|t[2]>>6,i[3]=63&t[2],a=r-(e.length-1)){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64}for(o=0;o<i.length;o++)n+=this._keyStr.charAt(i[o])}return n}}},{}],35:[function(e,t,n){"use strict";t.exports=e("./Loader"),t.exports.Resource=e("./Resource"),t.exports.middleware={caching:{memory:e("./middlewares/caching/memory")},parsing:{blob:e("./middlewares/parsing/blob")}},t.exports.async=e("./async")},{"./Loader":31,"./Resource":32,"./async":33,"./middlewares/caching/memory":36,"./middlewares/parsing/blob":37}],36:[function(e,t,n){"use strict";var i={};t.exports=function(){return function(e,t){i[e.url]?(e.data=i[e.url],e.complete()):e.once("complete",function(){i[this.url]=this.data}),t()}}},{}],37:[function(e,t,n){"use strict";var i=e("../../Resource"),r=e("../../b64"),o=window.URL||window.webkitURL;t.exports=function(){return function(e,t){if(!e.data)return void t();if(e.xhr&&e.xhrType===i.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof e.data){if(0===e.data.type.indexOf("image")){var n=o.createObjectURL(e.data);return e.blob=e.data,e.data=new Image,e.data.src=n,e.isImage=!0,void(e.data.onload=function(){o.revokeObjectURL(n),e.data.onload=null,t()})}}else{var a=e.xhr.getResponseHeader("content-type");if(a&&0===a.indexOf("image"))return e.data=new Image,e.data.src="data:"+a+";base64,"+r.encodeBinary(e.xhr.responseText),e.isImage=!0,void(e.data.onload=function(){e.data.onload=null,t()})}t()}}},{"../../Resource":32,"../../b64":34}],38:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var a=e("../core"),s=r(a),l=e("ismobilejs"),c=i(l),u=e("./accessibleTarget"),d=i(u);Object.assign(s.DisplayObject.prototype,d.default);var p=9,h=100,f=0,g=0,m=2,v=1,_=-1e3,y=-1e3,E=2,b=function(){function e(t){o(this,e),!c.default.tablet&&!c.default.phone||navigator.isCocoonJS||this.createTouchHook();var n=document.createElement("div");n.style.width=h+"px",n.style.height=h+"px",n.style.position="absolute",n.style.top=f+"px",n.style.left=g+"px",n.style.zIndex=m,this.div=n,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=t,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,this.isMobileAccessabillity=!1,window.addEventListener("keydown",this._onKeyDown,!1)}return e.prototype.createTouchHook=function(){var e=this,t=document.createElement("button");t.style.width=v+"px",t.style.height=v+"px",t.style.position="absolute",t.style.top=_+"px",t.style.left=y+"px",t.style.zIndex=E,t.style.backgroundColor="#FF0000",t.title="HOOK DIV",t.addEventListener("focus",function(){e.isMobileAccessabillity=!0,e.activate(),document.body.removeChild(t)}),document.body.appendChild(t)},e.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},e.prototype.deactivate=function(){this.isActive&&!this.isMobileAccessabillity&&(this.isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},e.prototype.updateAccessibleObjects=function(e){if(e.visible){e.accessible&&e.interactive&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);for(var t=e.children,n=t.length-1;n>=0;n--)this.updateAccessibleObjects(t[n])}},e.prototype.update=function(){if(this.renderer.renderingToScreen){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var e=this.renderer.view.getBoundingClientRect(),t=e.width/this.renderer.width,n=e.height/this.renderer.height,i=this.div;i.style.left=e.left+"px",i.style.top=e.top+"px",i.style.width=this.renderer.width+"px",i.style.height=this.renderer.height+"px";for(var r=0;r<this.children.length;r++){var o=this.children[r];if(o.renderId!==this.renderId)o._accessibleActive=!1,s.utils.removeItems(this.children,r,1),this.div.removeChild(o._accessibleDiv),this.pool.push(o._accessibleDiv),o._accessibleDiv=null,r--,0===this.children.length&&this.deactivate();else{i=o._accessibleDiv;var a=o.hitArea,l=o.worldTransform;o.hitArea?(i.style.left=(l.tx+a.x*l.a)*t+"px",i.style.top=(l.ty+a.y*l.d)*n+"px",i.style.width=a.width*l.a*t+"px",i.style.height=a.height*l.d*n+"px"):(a=o.getBounds(),this.capHitArea(a),i.style.left=a.x*t+"px",i.style.top=a.y*n+"px",i.style.width=a.width*t+"px",i.style.height=a.height*n+"px")}}this.renderId++}},e.prototype.capHitArea=function(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0),e.x+e.width>this.renderer.width&&(e.width=this.renderer.width-e.x),e.y+e.height>this.renderer.height&&(e.height=this.renderer.height-e.y)},e.prototype.addChild=function(e){var t=this.pool.pop();t||(t=document.createElement("button"),t.style.width=h+"px",t.style.height=h+"px",t.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":"transparent",t.style.position="absolute",t.style.zIndex=m,t.style.borderStyle="none",t.addEventListener("click",this._onClick.bind(this)),t.addEventListener("focus",this._onFocus.bind(this)),t.addEventListener("focusout",this._onFocusOut.bind(this))),e.accessibleTitle?t.title=e.accessibleTitle:e.accessibleTitle||e.accessibleHint||(t.title="displayObject "+this.tabIndex),e.accessibleHint&&t.setAttribute("aria-label",e.accessibleHint),e._accessibleActive=!0,e._accessibleDiv=t,t.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex},e.prototype._onClick=function(e){var t=this.renderer.plugins.interaction;t.dispatchEvent(e.target.displayObject,"click",t.eventData)},e.prototype._onFocus=function(e){var t=this.renderer.plugins.interaction;t.dispatchEvent(e.target.displayObject,"mouseover",t.eventData)},e.prototype._onFocusOut=function(e){var t=this.renderer.plugins.interaction;t.dispatchEvent(e.target.displayObject,"mouseout",t.eventData)},e.prototype._onKeyDown=function(e){e.keyCode===p&&this.activate()},e.prototype._onMouseMove=function(){this.deactivate()},e.prototype.destroy=function(){this.div=null;for(var e=0;e<this.children.length;e++)this.children[e].div=null;window.document.removeEventListener("mousemove",this._onMouseMove),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},e}();n.default=b,s.WebGLRenderer.registerPlugin("accessibility",b),s.CanvasRenderer.registerPlugin("accessibility",b)},{"../core":61,"./accessibleTarget":39,ismobilejs:4}],39:[function(e,t,n){"use strict";n.__esModule=!0,n.default={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1}},{}],40:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var r=e("./accessibleTarget");Object.defineProperty(n,"accessibleTarget",{enumerable:!0,get:function(){return i(r).default}});var o=e("./AccessibilityManager");Object.defineProperty(n,"AccessibilityManager",{enumerable:!0,get:function(){return i(o).default}})},{"./AccessibilityManager":38,"./accessibleTarget":39}],41:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){if(e instanceof Array){if("precision"!==e[0].substring(0,9)){var t=e.slice(0);return t.unshift("precision "+d+" float;"),t}}else if("precision"!==e.substring(0,9))return"precision "+d+" float;\n"+e;return e}n.__esModule=!0;var l=e("pixi-gl-core"),c=e("./settings"),u=i(c),d=u.default.PRECISION,p=function(e){function t(n,i,a){return r(this,t),o(this,e.call(this,n,s(i),s(a)))}return a(t,e),t}(l.GLShader);n.default=p},{"./settings":97,"pixi-gl-core":12}],42:[function(e,t,n){"use strict";n.__esModule=!0,n.VERSION="4.2.2",n.PI_2=2*Math.PI,n.RAD_TO_DEG=180/Math.PI,n.DEG_TO_RAD=Math.PI/180,n.RENDERER_TYPE={UNKNOWN:0,WEBGL:1,CANVAS:2},n.BLEND_MODES={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16},n.DRAW_MODES={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},n.SCALE_MODES={LINEAR:0,NEAREST:1},n.WRAP_MODES={CLAMP:0,REPEAT:1,MIRRORED_REPEAT:2},n.GC_MODES={AUTO:0,MANUAL:1},n.URL_FILE_EXTENSION=/\.(\w{3,4})(?:$|\?|#)/i,n.DATA_URI=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;(charset=[\w-]+|base64))?,(.*)/i,n.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,n.SHAPES={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},n.PRECISION={LOW:"lowp",MEDIUM:"mediump",HIGH:"highp"},n.TRANSFORM_MODE={STATIC:0,DYNAMIC:1},n.TEXT_GRADIENT={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1}},{}],43:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var r=e("../math"),o=function(){function e(){i(this,e),this.minX=1/0,this.minY=1/0,this.maxX=-(1/0),this.maxY=-(1/0),this.rect=null}return e.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},e.prototype.clear=function(){this.updateID++,this.minX=1/0,this.minY=1/0,this.maxX=-(1/0),this.maxY=-(1/0)},e.prototype.getRectangle=function(e){return this.minX>this.maxX||this.minY>this.maxY?r.Rectangle.EMPTY:(e=e||new r.Rectangle(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)},e.prototype.addPoint=function(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)},e.prototype.addQuad=function(e){var t=this.minX,n=this.minY,i=this.maxX,r=this.maxY,o=e[0],a=e[1];t=o<t?o:t,n=a<n?a:n,i=o>i?o:i,r=a>r?a:r,o=e[2],a=e[3],t=o<t?o:t,n=a<n?a:n,i=o>i?o:i,r=a>r?a:r,o=e[4],a=e[5],t=o<t?o:t,n=a<n?a:n,i=o>i?o:i,r=a>r?a:r,o=e[6],a=e[7],t=o<t?o:t,n=a<n?a:n,i=o>i?o:i,r=a>r?a:r,this.minX=t,this.minY=n,this.maxX=i,this.maxY=r},e.prototype.addFrame=function(e,t,n,i,r){var o=e.worldTransform,a=o.a,s=o.b,l=o.c,c=o.d,u=o.tx,d=o.ty,p=this.minX,h=this.minY,f=this.maxX,g=this.maxY,m=a*t+l*n+u,v=s*t+c*n+d;p=m<p?m:p,h=v<h?v:h,f=m>f?m:f,g=v>g?v:g,m=a*i+l*n+u,v=s*i+c*n+d,p=m<p?m:p,h=v<h?v:h,f=m>f?m:f,g=v>g?v:g,m=a*t+l*r+u,v=s*t+c*r+d,p=m<p?m:p,h=v<h?v:h,f=m>f?m:f,g=v>g?v:g,m=a*i+l*r+u,v=s*i+c*r+d,p=m<p?m:p,h=v<h?v:h,f=m>f?m:f,g=v>g?v:g,this.minX=p,this.minY=h,this.maxX=f,this.maxY=g},e.prototype.addVertices=function(e,t,n,i){for(var r=e.worldTransform,o=r.a,a=r.b,s=r.c,l=r.d,c=r.tx,u=r.ty,d=this.minX,p=this.minY,h=this.maxX,f=this.maxY,g=n;g<i;g+=2){var m=t[g],v=t[g+1],_=o*m+s*v+c,y=l*v+a*m+u;d=_<d?_:d,p=y<p?y:p,h=_>h?_:h,f=y>f?y:f}this.minX=d,this.minY=p,this.maxX=h,this.maxY=f},e.prototype.addBounds=function(e){var t=this.minX,n=this.minY,i=this.maxX,r=this.maxY;this.minX=e.minX<t?e.minX:t,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>r?e.maxY:r},e.prototype.addBoundsMask=function(e,t){var n=e.minX>t.minX?e.minX:t.minX,i=e.minY>t.minY?e.minY:t.minY,r=e.maxX<t.maxX?e.maxX:t.maxX,o=e.maxY<t.maxY?e.maxY:t.maxY;if(n<=r&&i<=o){var a=this.minX,s=this.minY,l=this.maxX,c=this.maxY;this.minX=n<a?n:a,this.minY=i<s?i:s,this.maxX=r>l?r:l,this.maxY=o>c?o:c}},e.prototype.addBoundsArea=function(e,t){var n=e.minX>t.x?e.minX:t.x,i=e.minY>t.y?e.minY:t.y,r=e.maxX<t.x+t.width?e.maxX:t.x+t.width,o=e.maxY<t.y+t.height?e.maxY:t.y+t.height;if(n<=r&&i<=o){var a=this.minX,s=this.minY,l=this.maxX,c=this.maxY;this.minX=n<a?n:a,this.minY=i<s?i:s,this.maxX=r>l?r:l,this.maxY=o>c?o:c}},e}();n.default=o},{"../math":66}],44:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=e("../utils"),c=e("./DisplayObject"),u=i(c),d=function(e){function t(){r(this,t);var n=o(this,e.call(this));return n.children=[],n}return a(t,e),t.prototype.onChildrenChange=function(){},t.prototype.addChild=function(e){var t=arguments.length;if(t>1)for(var n=0;n<t;n++)this.addChild(arguments[n]);else e.parent&&e.parent.removeChild(e),e.parent=this,this.transform._parentID=-1,this._boundsID++,this.children.push(e),this.onChildrenChange(this.children.length-1),e.emit("added",this);return e},t.prototype.addChildAt=function(e,t){if(t<0||t>this.children.length)throw new Error(e+"addChildAt: The index "+t+" supplied is out of bounds "+this.children.length);return e.parent&&e.parent.removeChild(e),e.parent=this,this.children.splice(t,0,e),this.onChildrenChange(t),e.emit("added",this),e},t.prototype.swapChildren=function(e,t){if(e!==t){var n=this.getChildIndex(e),i=this.getChildIndex(t);this.children[n]=t,this.children[i]=e,this.onChildrenChange(n<i?n:i)}},t.prototype.getChildIndex=function(e){var t=this.children.indexOf(e);if(t===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return t},t.prototype.setChildIndex=function(e,t){if(t<0||t>=this.children.length)throw new Error("The supplied index is out of bounds");var n=this.getChildIndex(e);(0,l.removeItems)(this.children,n,1),this.children.splice(t,0,e),this.onChildrenChange(t)},t.prototype.getChildAt=function(e){if(e<0||e>=this.children.length)throw new Error("getChildAt: Index ("+e+") does not exist.");return this.children[e]},t.prototype.removeChild=function(e){var t=arguments.length;if(t>1)for(var n=0;n<t;n++)this.removeChild(arguments[n]);else{var i=this.children.indexOf(e);if(i===-1)return null;e.parent=null,(0,l.removeItems)(this.children,i,1),this.transform._parentID=-1,this._boundsID++,this.onChildrenChange(i),e.emit("removed",this)}return e},t.prototype.removeChildAt=function(e){var t=this.getChildAt(e);return t.parent=null,(0,l.removeItems)(this.children,e,1),this.onChildrenChange(e),t.emit("removed",this),t},t.prototype.removeChildren=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1],n=e,i="number"==typeof t?t:this.children.length,r=i-n,o=void 0;if(r>0&&r<=i){o=this.children.splice(n,r);for(var a=0;a<o.length;++a)o[a].parent=null;this.onChildrenChange(e);for(var s=0;s<o.length;++s)o[s].emit("removed",this);return o}if(0===r&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},t.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var e=0,t=this.children.length;e<t;++e){var n=this.children[e];n.visible&&n.updateTransform()}},t.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var e=0;e<this.children.length;e++){var t=this.children[e];t.visible&&t.renderable&&(t.calculateBounds(),t._mask?(t._mask.calculateBounds(),this._bounds.addBoundsMask(t._bounds,t._mask._bounds)):t.filterArea?this._bounds.addBoundsArea(t._bounds,t.filterArea):this._bounds.addBounds(t._bounds))}this._lastBoundsID=this._boundsID},t.prototype._calculateBounds=function(){},t.prototype.renderWebGL=function(e){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this._filters)this.renderAdvancedWebGL(e);else{this._renderWebGL(e);for(var t=0,n=this.children.length;t<n;++t)this.children[t].renderWebGL(e)}},t.prototype.renderAdvancedWebGL=function(e){e.flush();var t=this._filters,n=this._mask;if(t){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var i=0;i<t.length;i++)t[i].enabled&&this._enabledFilters.push(t[i]);this._enabledFilters.length&&e.filterManager.pushFilter(this,this._enabledFilters)}n&&e.maskManager.pushMask(this,this._mask),this._renderWebGL(e);for(var r=0,o=this.children.length;r<o;r++)this.children[r].renderWebGL(e);e.flush(),n&&e.maskManager.popMask(this,this._mask),t&&this._enabledFilters&&this._enabledFilters.length&&e.filterManager.popFilter()},t.prototype._renderWebGL=function(e){},t.prototype._renderCanvas=function(e){},t.prototype.renderCanvas=function(e){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){this._mask&&e.maskManager.pushMask(this._mask),this._renderCanvas(e);for(var t=0,n=this.children.length;t<n;++t)this.children[t].renderCanvas(e);this._mask&&e.maskManager.popMask(e)}},t.prototype.destroy=function(t){e.prototype.destroy.call(this);var n="boolean"==typeof t?t:t&&t.children,i=this.removeChildren(0,this.children.length);if(n)for(var r=0;r<i.length;++r)i[r].destroy(t)},s(t,[{key:"width",get:function(){return this.scale.x*this.getLocalBounds().width},set:function(e){var t=this.getLocalBounds().width;0!==t?this.scale.x=e/t:this.scale.x=1,this._width=e}},{key:"height",get:function(){return this.scale.y*this.getLocalBounds().height},set:function(e){var t=this.getLocalBounds().height;0!==t?this.scale.y=e/t:this.scale.y=1,this._height=e}}]),t}(u.default);n.default=d,d.prototype.containerUpdateTransform=d.prototype.updateTransform},{"../utils":117,"./DisplayObject":45}],45:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=e("eventemitter3"),c=i(l),u=e("../const"),d=e("../settings"),p=i(d),h=e("./TransformStatic"),f=i(h),g=e("./Transform"),m=i(g),v=e("./Bounds"),_=i(v),y=e("../math"),E=function(e){function t(){r(this,t);var n=o(this,e.call(this)),i=p.default.TRANSFORM_MODE===u.TRANSFORM_MODE.STATIC?f.default:m.default;return n.tempDisplayObjectParent=null,n.transform=new i,n.alpha=1,n.visible=!0,n.renderable=!0,n.parent=null,n.worldAlpha=1,n.filterArea=null,n._filters=null,n._enabledFilters=null,n._bounds=new _.default,n._boundsID=0,n._lastBoundsID=-1,n._boundsRect=null,n._localBoundsRect=null,n._mask=null,n}return a(t,e),t.prototype.updateTransform=function(){this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._bounds.updateID++},t.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform);
},t.prototype.getBounds=function(e,t){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._boundsID!==this._lastBoundsID&&this.calculateBounds(),t||(this._boundsRect||(this._boundsRect=new y.Rectangle),t=this._boundsRect),this._bounds.getRectangle(t)},t.prototype.getLocalBounds=function(e){var t=this.transform,n=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform,e||(this._localBoundsRect||(this._localBoundsRect=new y.Rectangle),e=this._localBoundsRect);var i=this.getBounds(!1,e);return this.parent=n,this.transform=t,i},t.prototype.toGlobal=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,t)},t.prototype.toLocal=function(e,t,n,i){return t&&(e=t.toGlobal(e,n,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,n)},t.prototype.renderWebGL=function(e){},t.prototype.renderCanvas=function(e){},t.prototype.setParent=function(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e},t.prototype.setTransform=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0;return this.position.x=e,this.position.y=t,this.scale.x=n?n:1,this.scale.y=i?i:1,this.rotation=r,this.skew.x=o,this.skew.y=a,this.pivot.x=s,this.pivot.y=l,this},t.prototype.destroy=function(){this.removeAllListeners(),this.parent&&this.parent.removeChild(this),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filterArea=null,this.interactive=!1,this.interactiveChildren=!1},s(t,[{key:"_tempDisplayObjectParent",get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new t),this.tempDisplayObjectParent}},{key:"x",get:function(){return this.position.x},set:function(e){this.transform.position.x=e}},{key:"y",get:function(){return this.position.y},set:function(e){this.transform.position.y=e}},{key:"worldTransform",get:function(){return this.transform.worldTransform}},{key:"localTransform",get:function(){return this.transform.localTransform}},{key:"position",get:function(){return this.transform.position},set:function(e){this.transform.position.copy(e)}},{key:"scale",get:function(){return this.transform.scale},set:function(e){this.transform.scale.copy(e)}},{key:"pivot",get:function(){return this.transform.pivot},set:function(e){this.transform.pivot.copy(e)}},{key:"skew",get:function(){return this.transform.skew},set:function(e){this.transform.skew.copy(e)}},{key:"rotation",get:function(){return this.transform.rotation},set:function(e){this.transform.rotation=e}},{key:"worldVisible",get:function(){var e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}},{key:"mask",get:function(){return this._mask},set:function(e){this._mask&&(this._mask.renderable=!0),this._mask=e,this._mask&&(this._mask.renderable=!1)}},{key:"filters",get:function(){return this._filters&&this._filters.slice()},set:function(e){this._filters=e&&e.slice()}}]),t}(c.default);n.default=E,E.prototype.displayObjectUpdateTransform=E.prototype.updateTransform},{"../const":42,"../math":66,"../settings":97,"./Bounds":43,"./Transform":46,"./TransformStatic":48,eventemitter3:3}],46:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=e("../math"),c=e("./TransformBase"),u=i(c),d=function(e){function t(){r(this,t);var n=o(this,e.call(this));return n.position=new l.Point(0,0),n.scale=new l.Point(1,1),n.skew=new l.ObservablePoint(n.updateSkew,n,0,0),n.pivot=new l.Point(0,0),n._rotation=0,n._sr=Math.sin(0),n._cr=Math.cos(0),n._cy=Math.cos(0),n._sy=Math.sin(0),n._nsx=Math.sin(0),n._cx=Math.cos(0),n}return a(t,e),t.prototype.updateSkew=function(){this._cy=Math.cos(this.skew.y),this._sy=Math.sin(this.skew.y),this._nsx=Math.sin(this.skew.x),this._cx=Math.cos(this.skew.x)},t.prototype.updateLocalTransform=function(){var e=this.localTransform,t=this._cr*this.scale.x,n=this._sr*this.scale.x,i=-this._sr*this.scale.y,r=this._cr*this.scale.y;e.a=this._cy*t+this._sy*i,e.b=this._cy*n+this._sy*r,e.c=this._nsx*t+this._cx*i,e.d=this._nsx*n+this._cx*r},t.prototype.updateTransform=function(e){var t=e.worldTransform,n=this.worldTransform,i=this.localTransform,r=this._cr*this.scale.x,o=this._sr*this.scale.x,a=-this._sr*this.scale.y,s=this._cr*this.scale.y;i.a=this._cy*r+this._sy*a,i.b=this._cy*o+this._sy*s,i.c=this._nsx*r+this._cx*a,i.d=this._nsx*o+this._cx*s,i.tx=this.position.x-(this.pivot.x*i.a+this.pivot.y*i.c),i.ty=this.position.y-(this.pivot.x*i.b+this.pivot.y*i.d),n.a=i.a*t.a+i.b*t.c,n.b=i.a*t.b+i.b*t.d,n.c=i.c*t.a+i.d*t.c,n.d=i.c*t.b+i.d*t.d,n.tx=i.tx*t.a+i.ty*t.c+t.tx,n.ty=i.tx*t.b+i.ty*t.d+t.ty,this._worldID++},t.prototype.setFromMatrix=function(e){e.decompose(this)},s(t,[{key:"rotation",get:function(){return this._rotation},set:function(e){this._rotation=e,this._sr=Math.sin(e),this._cr=Math.cos(e)}}]),t}(u.default);n.default=d},{"../math":66,"./TransformBase":47}],47:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var r=e("../math"),o=function(){function e(){i(this,e),this.worldTransform=new r.Matrix,this.localTransform=new r.Matrix,this._worldID=0,this._parentID=0}return e.prototype.updateLocalTransform=function(){},e.prototype.updateTransform=function(e){var t=e.worldTransform,n=this.worldTransform,i=this.localTransform;n.a=i.a*t.a+i.b*t.c,n.b=i.a*t.b+i.b*t.d,n.c=i.c*t.a+i.d*t.c,n.d=i.c*t.b+i.d*t.d,n.tx=i.tx*t.a+i.ty*t.c+t.tx,n.ty=i.tx*t.b+i.ty*t.d+t.ty,this._worldID++},e}();n.default=o,o.prototype.updateWorldTransform=o.prototype.updateTransform,o.IDENTITY=new o},{"../math":66}],48:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=e("../math"),c=e("./TransformBase"),u=i(c),d=function(e){function t(){r(this,t);var n=o(this,e.call(this));return n.position=new l.ObservablePoint(n.onChange,n,0,0),n.scale=new l.ObservablePoint(n.onChange,n,1,1),n.pivot=new l.ObservablePoint(n.onChange,n,0,0),n.skew=new l.ObservablePoint(n.updateSkew,n,0,0),n._rotation=0,n._sr=Math.sin(0),n._cr=Math.cos(0),n._cy=Math.cos(0),n._sy=Math.sin(0),n._nsx=Math.sin(0),n._cx=Math.cos(0),n._localID=0,n._currentLocalID=0,n}return a(t,e),t.prototype.onChange=function(){this._localID++},t.prototype.updateSkew=function(){this._cy=Math.cos(this.skew._y),this._sy=Math.sin(this.skew._y),this._nsx=Math.sin(this.skew._x),this._cx=Math.cos(this.skew._x),this._localID++},t.prototype.updateLocalTransform=function(){var e=this.localTransform;if(this._localID!==this._currentLocalID){var t=this._cr*this.scale._x,n=this._sr*this.scale._x,i=-this._sr*this.scale._y,r=this._cr*this.scale._y;e.a=this._cy*t+this._sy*i,e.b=this._cy*n+this._sy*r,e.c=this._nsx*t+this._cx*i,e.d=this._nsx*n+this._cx*r,e.tx=this.position._x-(this.pivot._x*e.a+this.pivot._y*e.c),e.ty=this.position._y-(this.pivot._x*e.b+this.pivot._y*e.d),this._currentLocalID=this._localID,this._parentID=-1}},t.prototype.updateTransform=function(e){var t=e.worldTransform,n=this.worldTransform,i=this.localTransform;if(this._localID!==this._currentLocalID){var r=this._cr*this.scale._x,o=this._sr*this.scale._x,a=-this._sr*this.scale._y,s=this._cr*this.scale._y;i.a=this._cy*r+this._sy*a,i.b=this._cy*o+this._sy*s,i.c=this._nsx*r+this._cx*a,i.d=this._nsx*o+this._cx*s,i.tx=this.position._x-(this.pivot._x*i.a+this.pivot._y*i.c),i.ty=this.position._y-(this.pivot._x*i.b+this.pivot._y*i.d),this._currentLocalID=this._localID,this._parentID=-1}this._parentID!==e._worldID&&(n.a=i.a*t.a+i.b*t.c,n.b=i.a*t.b+i.b*t.d,n.c=i.c*t.a+i.d*t.c,n.d=i.c*t.b+i.d*t.d,n.tx=i.tx*t.a+i.ty*t.c+t.tx,n.ty=i.tx*t.b+i.ty*t.d+t.ty,this._parentID=e._worldID,this._worldID++)},t.prototype.setFromMatrix=function(e){e.decompose(this),this._localID++},s(t,[{key:"rotation",get:function(){return this._rotation},set:function(e){this._rotation=e,this._sr=Math.sin(e),this._cr=Math.cos(e),this._localID++}}]),t}(u.default);n.default=d},{"../math":66,"./TransformBase":47}],49:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../display/Container"),l=i(s),c=e("../textures/RenderTexture"),u=i(c),d=e("../textures/Texture"),p=i(d),h=e("./GraphicsData"),f=i(h),g=e("../sprites/Sprite"),m=i(g),v=e("../math"),_=e("../utils"),y=e("../const"),E=e("../display/Bounds"),b=i(E),T=e("./utils/bezierCurveTo"),S=i(T),L=e("../renderers/canvas/CanvasRenderer"),A=i(L),C=void 0,w=new v.Matrix,x=new v.Point,O=new Float32Array(4),D=new Float32Array(4),R=function(e){function t(){r(this,t);var n=o(this,e.call(this));return n.fillAlpha=1,n.lineWidth=0,n.lineColor=0,n.graphicsData=[],n.tint=16777215,n._prevTint=16777215,n.blendMode=y.BLEND_MODES.NORMAL,n.currentPath=null,n._webGL={},n.isMask=!1,n.boundsPadding=0,n._localBounds=new b.default,n.dirty=0,n.fastRectDirty=-1,n.clearDirty=0,n.boundsDirty=-1,n.cachedSpriteDirty=!1,n._spriteRect=null,n._fastRect=!1,n}return a(t,e),t.prototype.clone=function e(){var e=new t;e.renderable=this.renderable,e.fillAlpha=this.fillAlpha,e.lineWidth=this.lineWidth,e.lineColor=this.lineColor,e.tint=this.tint,e.blendMode=this.blendMode,e.isMask=this.isMask,e.boundsPadding=this.boundsPadding,e.dirty=0,e.cachedSpriteDirty=this.cachedSpriteDirty;for(var n=0;n<this.graphicsData.length;++n)e.graphicsData.push(this.graphicsData[n].clone());return e.currentPath=e.graphicsData[e.graphicsData.length-1],e.updateLocalBounds(),e},t.prototype.lineStyle=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(this.lineWidth=e,this.lineColor=t,this.lineAlpha=n,this.currentPath)if(this.currentPath.shape.points.length){var i=new v.Polygon(this.currentPath.shape.points.slice(-2));i.closed=!1,this.drawShape(i)}else this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha;return this},t.prototype.moveTo=function(e,t){var n=new v.Polygon([e,t]);return n.closed=!1,this.drawShape(n),this},t.prototype.lineTo=function(e,t){return this.currentPath.shape.points.push(e,t),this.dirty++,this},t.prototype.quadraticCurveTo=function(e,t,n,i){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var r=20,o=this.currentPath.shape.points,a=0,s=0;0===o.length&&this.moveTo(0,0);for(var l=o[o.length-2],c=o[o.length-1],u=1;u<=r;++u){var d=u/r;a=l+(e-l)*d,s=c+(t-c)*d,o.push(a+(e+(n-e)*d-a)*d,s+(t+(i-t)*d-s)*d)}return this.dirty++,this},t.prototype.bezierCurveTo=function(e,t,n,i,r,o){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var a=this.currentPath.shape.points,s=a[a.length-2],l=a[a.length-1];return a.length-=2,(0,S.default)(s,l,e,t,n,i,r,o,a),this.dirty++,this},t.prototype.arcTo=function(e,t,n,i,r){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(e,t):this.moveTo(e,t);var o=this.currentPath.shape.points,a=o[o.length-2],s=o[o.length-1],l=s-t,c=a-e,u=i-t,d=n-e,p=Math.abs(l*d-c*u);if(p<1e-8||0===r)o[o.length-2]===e&&o[o.length-1]===t||o.push(e,t);else{var h=l*l+c*c,f=u*u+d*d,g=l*u+c*d,m=r*Math.sqrt(h)/p,v=r*Math.sqrt(f)/p,_=m*g/h,y=v*g/f,E=m*d+v*c,b=m*u+v*l,T=c*(v+_),S=l*(v+_),L=d*(m+y),A=u*(m+y),C=Math.atan2(S-b,T-E),w=Math.atan2(A-b,L-E);this.arc(E+e,b+t,r,C,w,c*u>d*l)}return this.dirty++,this},t.prototype.arc=function(e,t,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(i===r)return this;!o&&r<=i?r+=2*Math.PI:o&&i<=r&&(i+=2*Math.PI);var a=r-i,s=40*Math.ceil(Math.abs(a)/(2*Math.PI));if(0===a)return this;var l=e+Math.cos(i)*n,c=t+Math.sin(i)*n,u=this.currentPath.shape.points;this.currentPath?u[u.length-2]===l&&u[u.length-1]===c||u.push(l,c):this.moveTo(l,c);for(var d=a/(2*s),p=2*d,h=Math.cos(d),f=Math.sin(d),g=s-1,m=g%1/g,v=0;v<=g;++v){var _=v+m*v,y=d+i+p*_,E=Math.cos(y),b=-Math.sin(y);u.push((h*E+f*b)*n+e,(h*-b+f*E)*n+t)}return this.dirty++,this},t.prototype.beginFill=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.filling=!0,this.fillColor=e,this.fillAlpha=t,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},t.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},t.prototype.drawRect=function(e,t,n,i){return this.drawShape(new v.Rectangle(e,t,n,i)),this},t.prototype.drawRoundedRect=function(e,t,n,i,r){return this.drawShape(new v.RoundedRectangle(e,t,n,i,r)),this},t.prototype.drawCircle=function(e,t,n){return this.drawShape(new v.Circle(e,t,n)),this},t.prototype.drawEllipse=function(e,t,n,i){return this.drawShape(new v.Ellipse(e,t,n,i)),this},t.prototype.drawPolygon=function(e){var t=e,n=!0;if(t instanceof v.Polygon&&(n=t.closed,t=t.points),!Array.isArray(t)){t=new Array(arguments.length);for(var i=0;i<t.length;++i)t[i]=arguments[i]}var r=new v.Polygon(t);return r.closed=n,this.drawShape(r),this},t.prototype.clear=function(){return(this.lineWidth||this.filling||this.graphicsData.length>0)&&(this.lineWidth=0,this.filling=!1,this.dirty++,this.clearDirty++,this.graphicsData.length=0),this},t.prototype.isFastRect=function(){return 1===this.graphicsData.length&&this.graphicsData[0].shape.type===y.SHAPES.RECT&&!this.graphicsData[0].lineWidth},t.prototype._renderWebGL=function(e){this.dirty!==this.fastRectDirty&&(this.fastRectDirty=this.dirty,this._fastRect=this.isFastRect()),this._fastRect?this._renderSpriteRect(e):(e.setObjectRenderer(e.plugins.graphics),e.plugins.graphics.render(this))},t.prototype._renderSpriteRect=function(e){var n=this.graphicsData[0].shape;if(!this._spriteRect){if(!t._SPRITE_TEXTURE){t._SPRITE_TEXTURE=u.default.create(10,10);var i=document.createElement("canvas");i.width=10,i.height=10;var r=i.getContext("2d");r.fillStyle="white",r.fillRect(0,0,10,10),t._SPRITE_TEXTURE=p.default.fromCanvas(i)}this._spriteRect=new m.default(t._SPRITE_TEXTURE)}if(16777215===this.tint)this._spriteRect.tint=this.graphicsData[0].fillColor;else{var o=O,a=D;(0,_.hex2rgb)(this.graphicsData[0].fillColor,o),(0,_.hex2rgb)(this.tint,a),o[0]*=a[0],o[1]*=a[1],o[2]*=a[2],this._spriteRect.tint=(0,_.rgb2hex)(o)}this._spriteRect.alpha=this.graphicsData[0].fillAlpha,this._spriteRect.worldAlpha=this.worldAlpha*this._spriteRect.alpha,t._SPRITE_TEXTURE._frame.width=n.width,t._SPRITE_TEXTURE._frame.height=n.height,this._spriteRect.transform.worldTransform=this.transform.worldTransform,this._spriteRect.anchor.set(-n.x/n.width,-n.y/n.height),this._spriteRect._onAnchorUpdate(),this._spriteRect._renderWebGL(e)},t.prototype._renderCanvas=function(e){this.isMask!==!0&&e.plugins.graphics.render(this)},t.prototype._calculateBounds=function(){this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.updateLocalBounds(),this.dirty++,this.cachedSpriteDirty=!0);var e=this._localBounds;this._bounds.addFrame(this.transform,e.minX,e.minY,e.maxX,e.maxY)},t.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,x);for(var t=this.graphicsData,n=0;n<t.length;++n){var i=t[n];if(i.fill&&i.shape&&i.shape.contains(x.x,x.y))return!0}return!1},t.prototype.updateLocalBounds=function(){var e=1/0,t=-(1/0),n=1/0,i=-(1/0);if(this.graphicsData.length)for(var r=0,o=0,a=0,s=0,l=0,c=0;c<this.graphicsData.length;c++){var u=this.graphicsData[c],d=u.type,p=u.lineWidth;if(r=u.shape,d===y.SHAPES.RECT||d===y.SHAPES.RREC)o=r.x-p/2,a=r.y-p/2,s=r.width+p,l=r.height+p,e=o<e?o:e,t=o+s>t?o+s:t,n=a<n?a:n,i=a+l>i?a+l:i;else if(d===y.SHAPES.CIRC)o=r.x,a=r.y,s=r.radius+p/2,l=r.radius+p/2,e=o-s<e?o-s:e,t=o+s>t?o+s:t,n=a-l<n?a-l:n,i=a+l>i?a+l:i;else if(d===y.SHAPES.ELIP)o=r.x,a=r.y,s=r.width+p/2,l=r.height+p/2,e=o-s<e?o-s:e,t=o+s>t?o+s:t,n=a-l<n?a-l:n,i=a+l>i?a+l:i;else for(var h=r.points,f=0,g=0,m=0,v=0,_=0,E=0,b=0,T=0,S=0;S+2<h.length;S+=2)o=h[S],a=h[S+1],f=h[S+2],g=h[S+3],m=Math.abs(f-o),v=Math.abs(g-a),l=p,s=Math.sqrt(m*m+v*v),s<1e-9||(_=(l/s*v+m)/2,E=(l/s*m+v)/2,b=(f+o)/2,T=(g+a)/2,e=b-_<e?b-_:e,t=b+_>t?b+_:t,n=T-E<n?T-E:n,i=T+E>i?T+E:i)}else e=0,t=0,n=0,i=0;var L=this.boundsPadding;this._localBounds.minX=e-L,this._localBounds.maxX=t+2*L,this._localBounds.minY=n-L,this._localBounds.maxY=i+2*L},t.prototype.drawShape=function(e){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null;var t=new f.default(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,e);return this.graphicsData.push(t),t.type===y.SHAPES.POLY&&(t.shape.closed=t.shape.closed||this.filling,this.currentPath=t),this.dirty++,t},t.prototype.generateCanvasTexture=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.getLocalBounds(),i=u.default.create(n.width,n.height,e,t);C||(C=new A.default),w.tx=-n.x,w.ty=-n.y,C.render(this,i,!1,w);var r=p.default.fromCanvas(i.baseTexture._canvasRenderTarget.canvas,e);return r.baseTexture.resolution=t,r.baseTexture.update(),r},t.prototype.closePath=function(){var e=this.currentPath;return e&&e.shape&&e.shape.close(),this},t.prototype.addHole=function(){var e=this.graphicsData.pop();return this.currentPath=this.graphicsData[this.graphicsData.length-1],this.currentPath.addHole(e.shape),this.currentPath=null,this},t.prototype.destroy=function(t){e.prototype.destroy.call(this,t);for(var n=0;n<this.graphicsData.length;++n)this.graphicsData[n].destroy();for(var i in this._webgl)for(var r=0;r<this._webgl[i].data.length;++r)this._webgl[i].data[r].destroy();this._spriteRect&&this._spriteRect.destroy(),this.graphicsData=null,this.currentPath=null,this._webgl=null,this._localBounds=null},t}(l.default);n.default=R,R._SPRITE_TEXTURE=null},{"../const":42,"../display/Bounds":43,"../display/Container":44,"../math":66,"../renderers/canvas/CanvasRenderer":73,"../sprites/Sprite":98,"../textures/RenderTexture":108,"../textures/Texture":109,"../utils":117,"./GraphicsData":50,"./utils/bezierCurveTo":52}],50:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var r=function(){function e(t,n,r,o,a,s,l){i(this,e),this.lineWidth=t,this.lineColor=n,this.lineAlpha=r,this._lineTint=n,this.fillColor=o,this.fillAlpha=a,this._fillTint=o,this.fill=s,this.holes=[],this.shape=l,this.type=l.type}return e.prototype.clone=function(){return new e(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.shape)},e.prototype.addHole=function(e){this.holes.push(e)},e.prototype.destroy=function(){this.shape=null,this.holes=null},e}();n.default=r},{}],51:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=e("../../renderers/canvas/CanvasRenderer"),a=i(o),s=e("../../const"),l=function(){function e(t){r(this,e),this.renderer=t}return e.prototype.render=function(e){var t=this.renderer,n=t.context,i=e.worldAlpha,r=e.transform.worldTransform,o=t.resolution;this._prevTint!==this.tint&&(this.dirty=!0),n.setTransform(r.a*o,r.b*o,r.c*o,r.d*o,r.tx*o,r.ty*o),e.dirty&&(this.updateGraphicsTint(e),e.dirty=!1),t.setBlendMode(e.blendMode);for(var a=0;a<e.graphicsData.length;a++){var l=e.graphicsData[a],c=l.shape,u=l._fillTint,d=l._lineTint;if(n.lineWidth=l.lineWidth,l.type===s.SHAPES.POLY){n.beginPath(),this.renderPolygon(c.points,c.closed,n);for(var p=0;p<l.holes.length;p++)this.renderPolygon(l.holes[p].points,!0,n);l.fill&&(n.globalAlpha=l.fillAlpha*i,n.fillStyle="#"+("00000"+(0|u).toString(16)).substr(-6),n.fill()),l.lineWidth&&(n.globalAlpha=l.lineAlpha*i,n.strokeStyle="#"+("00000"+(0|d).toString(16)).substr(-6),n.stroke())}else if(l.type===s.SHAPES.RECT)(l.fillColor||0===l.fillColor)&&(n.globalAlpha=l.fillAlpha*i,n.fillStyle="#"+("00000"+(0|u).toString(16)).substr(-6),n.fillRect(c.x,c.y,c.width,c.height)),l.lineWidth&&(n.globalAlpha=l.lineAlpha*i,n.strokeStyle="#"+("00000"+(0|d).toString(16)).substr(-6),n.strokeRect(c.x,c.y,c.width,c.height));else if(l.type===s.SHAPES.CIRC)n.beginPath(),n.arc(c.x,c.y,c.radius,0,2*Math.PI),n.closePath(),l.fill&&(n.globalAlpha=l.fillAlpha*i,n.fillStyle="#"+("00000"+(0|u).toString(16)).substr(-6),n.fill()),l.lineWidth&&(n.globalAlpha=l.lineAlpha*i,n.strokeStyle="#"+("00000"+(0|d).toString(16)).substr(-6),n.stroke());else if(l.type===s.SHAPES.ELIP){var h=2*c.width,f=2*c.height,g=c.x-h/2,m=c.y-f/2;n.beginPath();var v=.5522848,_=h/2*v,y=f/2*v,E=g+h,b=m+f,T=g+h/2,S=m+f/2;n.moveTo(g,S),n.bezierCurveTo(g,S-y,T-_,m,T,m),n.bezierCurveTo(T+_,m,E,S-y,E,S),n.bezierCurveTo(E,S+y,T+_,b,T,b),n.bezierCurveTo(T-_,b,g,S+y,g,S),n.closePath(),l.fill&&(n.globalAlpha=l.fillAlpha*i,n.fillStyle="#"+("00000"+(0|u).toString(16)).substr(-6),n.fill()),l.lineWidth&&(n.globalAlpha=l.lineAlpha*i,n.strokeStyle="#"+("00000"+(0|d).toString(16)).substr(-6),n.stroke())}else if(l.type===s.SHAPES.RREC){var L=c.x,A=c.y,C=c.width,w=c.height,x=c.radius,O=Math.min(C,w)/2|0;x=x>O?O:x,n.beginPath(),n.moveTo(L,A+x),n.lineTo(L,A+w-x),n.quadraticCurveTo(L,A+w,L+x,A+w),n.lineTo(L+C-x,A+w),n.quadraticCurveTo(L+C,A+w,L+C,A+w-x),n.lineTo(L+C,A+x),n.quadraticCurveTo(L+C,A,L+C-x,A),n.lineTo(L+x,A),n.quadraticCurveTo(L,A,L,A+x),n.closePath(),(l.fillColor||0===l.fillColor)&&(n.globalAlpha=l.fillAlpha*i,n.fillStyle="#"+("00000"+(0|u).toString(16)).substr(-6),n.fill()),l.lineWidth&&(n.globalAlpha=l.lineAlpha*i,n.strokeStyle="#"+("00000"+(0|d).toString(16)).substr(-6),n.stroke())}}},e.prototype.updateGraphicsTint=function(e){e._prevTint=e.tint;for(var t=(e.tint>>16&255)/255,n=(e.tint>>8&255)/255,i=(255&e.tint)/255,r=0;r<e.graphicsData.length;++r){var o=e.graphicsData[r],a=0|o.fillColor,s=0|o.lineColor;o._fillTint=((a>>16&255)/255*t*255<<16)+((a>>8&255)/255*n*255<<8)+(255&a)/255*i*255,o._lineTint=((s>>16&255)/255*t*255<<16)+((s>>8&255)/255*n*255<<8)+(255&s)/255*i*255}},e.prototype.renderPolygon=function(e,t,n){n.moveTo(e[0],e[1]);for(var i=1;i<e.length/2;++i)n.lineTo(e[2*i],e[2*i+1]);t&&n.closePath()},e.prototype.destroy=function(){this.renderer=null},e}();n.default=l,a.default.registerPlugin("graphics",l)},{"../../const":42,"../../renderers/canvas/CanvasRenderer":73}],52:[function(e,t,n){"use strict";function i(e,t,n,i,r,o,a,s){var l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:[],c=20,u=0,d=0,p=0,h=0,f=0;l.push(e,t);for(var g=1,m=0;g<=c;++g)m=g/c,u=1-m,d=u*u,p=d*u,h=m*m,f=h*m,l.push(p*e+3*d*m*n+3*u*h*r+f*a,p*t+3*d*m*i+3*u*h*o+f*s);return l}n.__esModule=!0,n.default=i},{}],53:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../../utils"),l=e("../../const"),c=e("../../renderers/webgl/utils/ObjectRenderer"),u=i(c),d=e("../../renderers/webgl/WebGLRenderer"),p=i(d),h=e("./WebGLGraphicsData"),f=i(h),g=e("./shaders/PrimitiveShader"),m=i(g),v=e("./utils/buildPoly"),_=i(v),y=e("./utils/buildRectangle"),E=i(y),b=e("./utils/buildRoundedRectangle"),T=i(b),S=e("./utils/buildCircle"),L=i(S),A=function(e){function t(n){r(this,t);var i=o(this,e.call(this,n));return i.graphicsDataPool=[],i.primitiveShader=null,i.gl=n.gl,i.CONTEXT_UID=0,i}return a(t,e),t.prototype.onContextChange=function(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.primitiveShader=new m.default(this.gl)},t.prototype.destroy=function(){u.default.prototype.destroy.call(this);for(var e=0;e<this.graphicsDataPool.length;++e)this.graphicsDataPool[e].destroy();this.graphicsDataPool=null},t.prototype.render=function(e){var t=this.renderer,n=t.gl,i=void 0,r=e._webGL[this.CONTEXT_UID];r&&e.dirty===r.dirty||(this.updateGraphics(e),r=e._webGL[this.CONTEXT_UID]);var o=this.primitiveShader;t.bindShader(o),t.state.setBlendMode(e.blendMode);for(var a=0,l=r.data.length;a<l;a++){i=r.data[a];var c=i.shader;t.bindShader(c),c.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),c.uniforms.tint=(0,s.hex2rgb)(e.tint),c.uniforms.alpha=e.worldAlpha,t.bindVao(i.vao),i.vao.draw(n.TRIANGLE_STRIP,i.indices.length)}},t.prototype.updateGraphics=function(e){var t=this.renderer.gl,n=e._webGL[this.CONTEXT_UID];if(n||(n=e._webGL[this.CONTEXT_UID]={lastIndex:0,data:[],gl:t,clearDirty:-1,dirty:-1}),n.dirty=e.dirty,e.clearDirty!==n.clearDirty){n.clearDirty=e.clearDirty;for(var i=0;i<n.data.length;i++)this.graphicsDataPool.push(n.data[i]);n.data.length=0,n.lastIndex=0}for(var r=void 0,o=n.lastIndex;o<e.graphicsData.length;o++){var a=e.graphicsData[o];r=this.getWebGLData(n,0),a.type===l.SHAPES.POLY&&(0,_.default)(a,r),a.type===l.SHAPES.RECT?(0,E.default)(a,r):a.type===l.SHAPES.CIRC||a.type===l.SHAPES.ELIP?(0,L.default)(a,r):a.type===l.SHAPES.RREC&&(0,T.default)(a,r),n.lastIndex++}this.renderer.bindVao(null);for(var s=0;s<n.data.length;s++)r=n.data[s],r.dirty&&r.upload()},t.prototype.getWebGLData=function(e,t){var n=e.data[e.data.length-1];return(!n||n.points.length>32e4)&&(n=this.graphicsDataPool.pop()||new f.default(this.renderer.gl,this.primitiveShader,this.renderer.state.attribsState),n.reset(t),e.data.push(n)),n.dirty=!0,n},t}(u.default);n.default=A,p.default.registerPlugin("graphics",A)},{"../../const":42,"../../renderers/webgl/WebGLRenderer":80,"../../renderers/webgl/utils/ObjectRenderer":90,"../../utils":117,"./WebGLGraphicsData":54,"./shaders/PrimitiveShader":55,"./utils/buildCircle":56,"./utils/buildPoly":58,"./utils/buildRectangle":59,"./utils/buildRoundedRectangle":60}],54:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=e("pixi-gl-core"),a=i(o),s=function(){function e(t,n,i){r(this,e),this.gl=t,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=a.default.GLBuffer.createVertexBuffer(t),this.indexBuffer=a.default.GLBuffer.createIndexBuffer(t),this.dirty=!0,this.glPoints=null,this.glIndices=null,this.shader=n,this.vao=new a.default.VertexArrayObject(t,i).addIndex(this.indexBuffer).addAttribute(this.buffer,n.attributes.aVertexPosition,t.FLOAT,!1,24,0).addAttribute(this.buffer,n.attributes.aColor,t.FLOAT,!1,24,8)}return e.prototype.reset=function(){this.points.length=0,this.indices.length=0},e.prototype.upload=function(){this.glPoints=new Float32Array(this.points),this.buffer.upload(this.glPoints),this.glIndices=new Uint16Array(this.indices),this.indexBuffer.upload(this.glIndices),this.dirty=!1},e.prototype.destroy=function(){this.color=null,this.points=null,this.indices=null,this.vao.destroy(),this.buffer.destroy(),this.indexBuffer.destroy(),this.gl=null,this.buffer=null,this.indexBuffer=null,this.glPoints=null,this.glIndices=null},e}();n.default=s},{"pixi-gl-core":12}],55:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../../../Shader"),l=i(s),c=function(e){function t(n){return r(this,t),o(this,e.call(this,n,["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform float alpha;","uniform vec3 tint;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"].join("\n"),["varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n")))}return a(t,e),t}(l.default);n.default=c},{"../../../Shader":41}],56:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{
default:e}}function r(e,t){var n=e.shape,i=n.x,r=n.y,o=void 0,c=void 0;e.type===s.SHAPES.CIRC?(o=n.radius,c=n.radius):(o=n.width,c=n.height);var u=Math.floor(30*Math.sqrt(n.radius))||Math.floor(15*Math.sqrt(n.width+n.height)),d=2*Math.PI/u;if(e.fill){var p=(0,l.hex2rgb)(e.fillColor),h=e.fillAlpha,f=p[0]*h,g=p[1]*h,m=p[2]*h,v=t.points,_=t.indices,y=v.length/6;_.push(y);for(var E=0;E<u+1;E++)v.push(i,r,f,g,m,h),v.push(i+Math.sin(d*E)*o,r+Math.cos(d*E)*c,f,g,m,h),_.push(y++,y++);_.push(y-1)}if(e.lineWidth){var b=e.points;e.points=[];for(var T=0;T<u+1;T++)e.points.push(i+Math.sin(d*T)*o,r+Math.cos(d*T)*c);(0,a.default)(e,t),e.points=b}}n.__esModule=!0,n.default=r;var o=e("./buildLine"),a=i(o),s=e("../../../const"),l=e("../../../utils")},{"../../../const":42,"../../../utils":117,"./buildLine":57}],57:[function(e,t,n){"use strict";function i(e,t){var n=e.points;if(0!==n.length){var i=new r.Point(n[0],n[1]),a=new r.Point(n[n.length-2],n[n.length-1]);if(i.x===a.x&&i.y===a.y){n=n.slice(),n.pop(),n.pop(),a=new r.Point(n[n.length-2],n[n.length-1]);var s=a.x+.5*(i.x-a.x),l=a.y+.5*(i.y-a.y);n.unshift(s,l),n.push(s,l)}var c=t.points,u=t.indices,d=n.length/2,p=n.length,h=c.length/6,f=e.lineWidth/2,g=(0,o.hex2rgb)(e.lineColor),m=e.lineAlpha,v=g[0]*m,_=g[1]*m,y=g[2]*m,E=n[0],b=n[1],T=n[2],S=n[3],L=0,A=0,C=-(b-S),w=E-T,x=0,O=0,D=0,R=0,I=Math.sqrt(C*C+w*w);C/=I,w/=I,C*=f,w*=f,c.push(E-C,b-w,v,_,y,m),c.push(E+C,b+w,v,_,y,m);for(var P=1;P<d-1;++P){E=n[2*(P-1)],b=n[2*(P-1)+1],T=n[2*P],S=n[2*P+1],L=n[2*(P+1)],A=n[2*(P+1)+1],C=-(b-S),w=E-T,I=Math.sqrt(C*C+w*w),C/=I,w/=I,C*=f,w*=f,x=-(S-A),O=T-L,I=Math.sqrt(x*x+O*O),x/=I,O/=I,x*=f,O*=f;var N=-w+b-(-w+S),M=-C+T-(-C+E),k=(-C+E)*(-w+S)-(-C+T)*(-w+b),U=-O+A-(-O+S),F=-x+T-(-x+L),$=(-x+L)*(-O+S)-(-x+T)*(-O+A),B=N*F-U*M;if(Math.abs(B)<.1)B+=10.1,c.push(T-C,S-w,v,_,y,m),c.push(T+C,S+w,v,_,y,m);else{var j=(M*$-F*k)/B,Y=(U*k-N*$)/B,V=(j-T)*(j-T)+(Y-S)*(Y-S);V>196*f*f?(D=C-x,R=w-O,I=Math.sqrt(D*D+R*R),D/=I,R/=I,D*=f,R*=f,c.push(T-D,S-R),c.push(v,_,y,m),c.push(T+D,S+R),c.push(v,_,y,m),c.push(T-D,S-R),c.push(v,_,y,m),p++):(c.push(j,Y),c.push(v,_,y,m),c.push(T-(j-T),S-(Y-S)),c.push(v,_,y,m))}}E=n[2*(d-2)],b=n[2*(d-2)+1],T=n[2*(d-1)],S=n[2*(d-1)+1],C=-(b-S),w=E-T,I=Math.sqrt(C*C+w*w),C/=I,w/=I,C*=f,w*=f,c.push(T-C,S-w),c.push(v,_,y,m),c.push(T+C,S+w),c.push(v,_,y,m),u.push(h);for(var H=0;H<p;++H)u.push(h++);u.push(h-1)}}n.__esModule=!0,n.default=i;var r=e("../../../math"),o=e("../../../utils")},{"../../../math":66,"../../../utils":117}],58:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){e.points=e.shape.points.slice();var n=e.points;if(e.fill&&n.length>=6){for(var i=[],r=e.holes,o=0;o<r.length;o++){var l=r[o];i.push(n.length/2),n=n.concat(l.points)}var u=t.points,d=t.indices,p=n.length/2,h=(0,s.hex2rgb)(e.fillColor),f=e.fillAlpha,g=h[0]*f,m=h[1]*f,v=h[2]*f,_=(0,c.default)(n,i,2);if(!_)return;for(var y=u.length/6,E=0;E<_.length;E+=3)d.push(_[E]+y),d.push(_[E]+y),d.push(_[E+1]+y),d.push(_[E+2]+y),d.push(_[E+2]+y);for(var b=0;b<p;b++)u.push(n[2*b],n[2*b+1],g,m,v,f)}e.lineWidth>0&&(0,a.default)(e,t)}n.__esModule=!0,n.default=r;var o=e("./buildLine"),a=i(o),s=e("../../../utils"),l=e("earcut"),c=i(l)},{"../../../utils":117,"./buildLine":57,earcut:2}],59:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n=e.shape,i=n.x,r=n.y,o=n.width,l=n.height;if(e.fill){var c=(0,s.hex2rgb)(e.fillColor),u=e.fillAlpha,d=c[0]*u,p=c[1]*u,h=c[2]*u,f=t.points,g=t.indices,m=f.length/6;f.push(i,r),f.push(d,p,h,u),f.push(i+o,r),f.push(d,p,h,u),f.push(i,r+l),f.push(d,p,h,u),f.push(i+o,r+l),f.push(d,p,h,u),g.push(m,m,m+1,m+2,m+3,m+3)}if(e.lineWidth){var v=e.points;e.points=[i,r,i+o,r,i+o,r+l,i,r+l,i,r],(0,a.default)(e,t),e.points=v}}n.__esModule=!0,n.default=r;var o=e("./buildLine"),a=i(o),s=e("../../../utils")},{"../../../utils":117,"./buildLine":57}],60:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n=e.shape,i=n.x,r=n.y,a=n.width,l=n.height,d=n.radius,p=[];if(p.push(i,r+d),o(i,r+l-d,i,r+l,i+d,r+l,p),o(i+a-d,r+l,i+a,r+l,i+a,r+l-d,p),o(i+a,r+d,i+a,r,i+a-d,r,p),o(i+d,r,i,r,i,r+d+1e-10,p),e.fill){for(var h=(0,u.hex2rgb)(e.fillColor),f=e.fillAlpha,g=h[0]*f,m=h[1]*f,v=h[2]*f,_=t.points,y=t.indices,E=_.length/6,b=(0,s.default)(p,null,2),T=0,S=b.length;T<S;T+=3)y.push(b[T]+E),y.push(b[T]+E),y.push(b[T+1]+E),y.push(b[T+2]+E),y.push(b[T+2]+E);for(var L=0,A=p.length;L<A;L++)_.push(p[L],p[++L],g,m,v,f)}if(e.lineWidth){var C=e.points;e.points=p,(0,c.default)(e,t),e.points=C}}function o(e,t,n,i,r,o){function a(e,t,n){var i=t-e;return e+i*n}for(var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],l=20,c=s,u=0,d=0,p=0,h=0,f=0,g=0,m=0,v=0;m<=l;++m)v=m/l,u=a(e,n,v),d=a(t,i,v),p=a(n,r,v),h=a(i,o,v),f=a(u,p,v),g=a(d,h,v),c.push(f,g);return c}n.__esModule=!0,n.default=r;var a=e("earcut"),s=i(a),l=e("./buildLine"),c=i(l),u=e("../../../utils")},{"../../../utils":117,"./buildLine":57,earcut:2}],61:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:800,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:600,n=arguments[2],i=arguments[3];return!i&&$.isWebGLSupported()?new q.default(e,t,n):new G.default(e,t,n)}n.__esModule=!0,n.Filter=n.SpriteMaskFilter=n.Quad=n.RenderTarget=n.ObjectRenderer=n.WebGLManager=n.Shader=n.CanvasRenderTarget=n.TextureUvs=n.VideoBaseTexture=n.BaseRenderTexture=n.RenderTexture=n.BaseTexture=n.Texture=n.CanvasGraphicsRenderer=n.GraphicsRenderer=n.GraphicsData=n.Graphics=n.TextStyle=n.Text=n.SpriteRenderer=n.CanvasTinter=n.CanvasSpriteRenderer=n.Sprite=n.TransformBase=n.TransformStatic=n.Transform=n.Container=n.DisplayObject=n.glCore=n.WebGLRenderer=n.CanvasRenderer=n.ticker=n.utils=n.settings=void 0;var a=e("./const");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(n,e,{enumerable:!0,get:function(){return a[e]}})});var s=e("./math");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(n,e,{enumerable:!0,get:function(){return s[e]}})});var l=e("pixi-gl-core");Object.defineProperty(n,"glCore",{enumerable:!0,get:function(){return r(l).default}});var c=e("./display/DisplayObject");Object.defineProperty(n,"DisplayObject",{enumerable:!0,get:function(){return r(c).default}});var u=e("./display/Container");Object.defineProperty(n,"Container",{enumerable:!0,get:function(){return r(u).default}});var d=e("./display/Transform");Object.defineProperty(n,"Transform",{enumerable:!0,get:function(){return r(d).default}});var p=e("./display/TransformStatic");Object.defineProperty(n,"TransformStatic",{enumerable:!0,get:function(){return r(p).default}});var h=e("./display/TransformBase");Object.defineProperty(n,"TransformBase",{enumerable:!0,get:function(){return r(h).default}});var f=e("./sprites/Sprite");Object.defineProperty(n,"Sprite",{enumerable:!0,get:function(){return r(f).default}});var g=e("./sprites/canvas/CanvasSpriteRenderer");Object.defineProperty(n,"CanvasSpriteRenderer",{enumerable:!0,get:function(){return r(g).default}});var m=e("./sprites/canvas/CanvasTinter");Object.defineProperty(n,"CanvasTinter",{enumerable:!0,get:function(){return r(m).default}});var v=e("./sprites/webgl/SpriteRenderer");Object.defineProperty(n,"SpriteRenderer",{enumerable:!0,get:function(){return r(v).default}});var _=e("./text/Text");Object.defineProperty(n,"Text",{enumerable:!0,get:function(){return r(_).default}});var y=e("./text/TextStyle");Object.defineProperty(n,"TextStyle",{enumerable:!0,get:function(){return r(y).default}});var E=e("./graphics/Graphics");Object.defineProperty(n,"Graphics",{enumerable:!0,get:function(){return r(E).default}});var b=e("./graphics/GraphicsData");Object.defineProperty(n,"GraphicsData",{enumerable:!0,get:function(){return r(b).default}});var T=e("./graphics/webgl/GraphicsRenderer");Object.defineProperty(n,"GraphicsRenderer",{enumerable:!0,get:function(){return r(T).default}});var S=e("./graphics/canvas/CanvasGraphicsRenderer");Object.defineProperty(n,"CanvasGraphicsRenderer",{enumerable:!0,get:function(){return r(S).default}});var L=e("./textures/Texture");Object.defineProperty(n,"Texture",{enumerable:!0,get:function(){return r(L).default}});var A=e("./textures/BaseTexture");Object.defineProperty(n,"BaseTexture",{enumerable:!0,get:function(){return r(A).default}});var C=e("./textures/RenderTexture");Object.defineProperty(n,"RenderTexture",{enumerable:!0,get:function(){return r(C).default}});var w=e("./textures/BaseRenderTexture");Object.defineProperty(n,"BaseRenderTexture",{enumerable:!0,get:function(){return r(w).default}});var x=e("./textures/VideoBaseTexture");Object.defineProperty(n,"VideoBaseTexture",{enumerable:!0,get:function(){return r(x).default}});var O=e("./textures/TextureUvs");Object.defineProperty(n,"TextureUvs",{enumerable:!0,get:function(){return r(O).default}});var D=e("./renderers/canvas/utils/CanvasRenderTarget");Object.defineProperty(n,"CanvasRenderTarget",{enumerable:!0,get:function(){return r(D).default}});var R=e("./Shader");Object.defineProperty(n,"Shader",{enumerable:!0,get:function(){return r(R).default}});var I=e("./renderers/webgl/managers/WebGLManager");Object.defineProperty(n,"WebGLManager",{enumerable:!0,get:function(){return r(I).default}});var P=e("./renderers/webgl/utils/ObjectRenderer");Object.defineProperty(n,"ObjectRenderer",{enumerable:!0,get:function(){return r(P).default}});var N=e("./renderers/webgl/utils/RenderTarget");Object.defineProperty(n,"RenderTarget",{enumerable:!0,get:function(){return r(N).default}});var M=e("./renderers/webgl/utils/Quad");Object.defineProperty(n,"Quad",{enumerable:!0,get:function(){return r(M).default}});var k=e("./renderers/webgl/filters/spriteMask/SpriteMaskFilter");Object.defineProperty(n,"SpriteMaskFilter",{enumerable:!0,get:function(){return r(k).default}});var U=e("./renderers/webgl/filters/Filter");Object.defineProperty(n,"Filter",{enumerable:!0,get:function(){return r(U).default}}),n.autoDetectRenderer=o;var F=e("./utils"),$=i(F),B=e("./ticker"),j=i(B),Y=e("./settings"),V=r(Y),H=e("./renderers/canvas/CanvasRenderer"),G=r(H),W=e("./renderers/webgl/WebGLRenderer"),q=r(W);n.settings=V.default,n.utils=$,n.ticker=j,n.CanvasRenderer=G.default,n.WebGLRenderer=q.default},{"./Shader":41,"./const":42,"./display/Container":44,"./display/DisplayObject":45,"./display/Transform":46,"./display/TransformBase":47,"./display/TransformStatic":48,"./graphics/Graphics":49,"./graphics/GraphicsData":50,"./graphics/canvas/CanvasGraphicsRenderer":51,"./graphics/webgl/GraphicsRenderer":53,"./math":66,"./renderers/canvas/CanvasRenderer":73,"./renderers/canvas/utils/CanvasRenderTarget":75,"./renderers/webgl/WebGLRenderer":80,"./renderers/webgl/filters/Filter":82,"./renderers/webgl/filters/spriteMask/SpriteMaskFilter":85,"./renderers/webgl/managers/WebGLManager":89,"./renderers/webgl/utils/ObjectRenderer":90,"./renderers/webgl/utils/Quad":91,"./renderers/webgl/utils/RenderTarget":92,"./settings":97,"./sprites/Sprite":98,"./sprites/canvas/CanvasSpriteRenderer":99,"./sprites/canvas/CanvasTinter":100,"./sprites/webgl/SpriteRenderer":102,"./text/Text":104,"./text/TextStyle":105,"./textures/BaseRenderTexture":106,"./textures/BaseTexture":107,"./textures/RenderTexture":108,"./textures/Texture":109,"./textures/TextureUvs":110,"./textures/VideoBaseTexture":111,"./ticker":113,"./utils":117,"pixi-gl-core":12}],62:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){return e<0?-1:e>0?1:0}function o(){for(var e=0;e<16;e++){var t=[];h.push(t);for(var n=0;n<16;n++)for(var i=r(l[e]*l[n]+u[e]*c[n]),o=r(c[e]*l[n]+d[e]*c[n]),a=r(l[e]*u[n]+u[e]*d[n]),f=r(c[e]*u[n]+d[e]*d[n]),g=0;g<16;g++)if(l[g]===i&&c[g]===o&&u[g]===a&&d[g]===f){t.push(g);break}}for(var m=0;m<16;m++){var v=new s.default;v.set(l[m],c[m],u[m],d[m],0,0),p.push(v)}}n.__esModule=!0;var a=e("./Matrix"),s=i(a),l=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],c=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],u=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],d=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],p=[],h=[];o();var f={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(e){return l[e]},uY:function(e){return c[e]},vX:function(e){return u[e]},vY:function(e){return d[e]},inv:function(e){return 8&e?15&e:7&-e},add:function(e,t){return h[e][t]},sub:function(e,t){return h[e][f.inv(t)]},rotate180:function(e){return 4^e},isSwapWidthHeight:function(e){return 2===(3&e)},byDirection:function(e,t){return 2*Math.abs(e)<=Math.abs(t)?t>=0?f.S:f.N:2*Math.abs(t)<=Math.abs(e)?e>0?f.E:f.W:t>0?e>0?f.SE:f.SW:e>0?f.NE:f.NW},matrixAppendRotationInv:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=p[f.inv(t)];r.tx=n,r.ty=i,e.append(r)}};n.default=f},{"./Matrix":63}],63:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("./Point"),s=i(a),l=function(){function e(){r(this,e),this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this.array=null}return e.prototype.fromArray=function(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]},e.prototype.set=function(e,t,n,i,r,o){return this.a=e,this.b=t,this.c=n,this.d=i,this.tx=r,this.ty=o,this},e.prototype.toArray=function(e,t){this.array||(this.array=new Float32Array(9));var n=t||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n},e.prototype.apply=function(e,t){t=t||new s.default;var n=e.x,i=e.y;return t.x=this.a*n+this.c*i+this.tx,t.y=this.b*n+this.d*i+this.ty,t},e.prototype.applyInverse=function(e,t){t=t||new s.default;var n=1/(this.a*this.d+this.c*-this.b),i=e.x,r=e.y;return t.x=this.d*n*i+-this.c*n*r+(this.ty*this.c-this.tx*this.d)*n,t.y=this.a*n*r+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,t},e.prototype.translate=function(e,t){return this.tx+=e,this.ty+=t,this},e.prototype.scale=function(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this},e.prototype.rotate=function(e){var t=Math.cos(e),n=Math.sin(e),i=this.a,r=this.c,o=this.tx;return this.a=i*t-this.b*n,this.b=i*n+this.b*t,this.c=r*t-this.d*n,this.d=r*n+this.d*t,this.tx=o*t-this.ty*n,this.ty=o*n+this.ty*t,this},e.prototype.append=function(e){var t=this.a,n=this.b,i=this.c,r=this.d;return this.a=e.a*t+e.b*i,this.b=e.a*n+e.b*r,this.c=e.c*t+e.d*i,this.d=e.c*n+e.d*r,this.tx=e.tx*t+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*r+this.ty,this},e.prototype.setTransform=function(e,t,n,i,r,o,a,s,l){var c=Math.sin(a),u=Math.cos(a),d=Math.cos(l),p=Math.sin(l),h=-Math.sin(s),f=Math.cos(s),g=u*r,m=c*r,v=-c*o,_=u*o;return this.a=d*g+p*v,this.b=d*m+p*_,this.c=h*g+f*v,this.d=h*m+f*_,this.tx=e+(n*g+i*v),this.ty=t+(n*m+i*_),this},e.prototype.prepend=function(e){var t=this.tx;if(1!==e.a||0!==e.b||0!==e.c||1!==e.d){var n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty,this},e.prototype.decompose=function(e){var t=this.a,n=this.b,i=this.c,r=this.d,o=Math.atan2(-i,r),a=Math.atan2(n,t),s=Math.abs(1-o/a);return s<1e-5?(e.rotation=a,t<0&&r>=0&&(e.rotation+=e.rotation<=0?Math.PI:-Math.PI),e.skew.x=e.skew.y=0):(e.skew.x=o,e.skew.y=a),e.scale.x=Math.sqrt(t*t+n*n),e.scale.y=Math.sqrt(i*i+r*r),e.position.x=this.tx,e.position.y=this.ty,e},e.prototype.invert=function(){var e=this.a,t=this.b,n=this.c,i=this.d,r=this.tx,o=e*i-t*n;return this.a=i/o,this.b=-t/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-i*r)/o,this.ty=-(e*this.ty-t*r)/o,this},e.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},e.prototype.clone=function(){var t=new e;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},e.prototype.copy=function(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},o(e,null,[{key:"IDENTITY",get:function(){return new e}},{key:"TEMP_MATRIX",get:function(){return new e}}]),e}();n.default=l},{"./Point":65}],64:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;i(this,e),this._x=r,this._y=o,this.cb=t,this.scope=n}return e.prototype.set=function(e,t){var n=e||0,i=t||(0!==t?n:0);this._x===n&&this._y===i||(this._x=n,this._y=i,this.cb.call(this.scope))},e.prototype.copy=function(e){this._x===e.x&&this._y===e.y||(this._x=e.x,this._y=e.y,this.cb.call(this.scope))},r(e,[{key:"x",get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}},{key:"y",get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}]),e}();n.default=o},{}],65:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var r=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;i(this,e),this.x=t,this.y=n}return e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.copy=function(e){this.set(e.x,e.y)},e.prototype.equals=function(e){return e.x===this.x&&e.y===this.y},e.prototype.set=function(e,t){this.x=e||0,this.y=t||(0!==t?this.x:0)},e}();n.default=r},{}],66:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var r=e("./Point");Object.defineProperty(n,"Point",{enumerable:!0,get:function(){return i(r).default}});var o=e("./ObservablePoint");Object.defineProperty(n,"ObservablePoint",{enumerable:!0,get:function(){return i(o).default}});var a=e("./Matrix");Object.defineProperty(n,"Matrix",{enumerable:!0,get:function(){return i(a).default}});var s=e("./GroupD8");Object.defineProperty(n,"GroupD8",{enumerable:!0,get:function(){return i(s).default}});var l=e("./shapes/Circle");Object.defineProperty(n,"Circle",{enumerable:!0,get:function(){return i(l).default}});var c=e("./shapes/Ellipse");Object.defineProperty(n,"Ellipse",{enumerable:!0,get:function(){return i(c).default}});var u=e("./shapes/Polygon");Object.defineProperty(n,"Polygon",{enumerable:!0,get:function(){return i(u).default}});var d=e("./shapes/Rectangle");Object.defineProperty(n,"Rectangle",{enumerable:!0,get:function(){return i(d).default}});var p=e("./shapes/RoundedRectangle");Object.defineProperty(n,"RoundedRectangle",{enumerable:!0,get:function(){return i(p).default}})},{"./GroupD8":62,"./Matrix":63,"./ObservablePoint":64,"./Point":65,"./shapes/Circle":67,"./shapes/Ellipse":68,"./shapes/Polygon":69,"./shapes/Rectangle":70,"./shapes/RoundedRectangle":71}],67:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=e("./Rectangle"),a=i(o),s=e("../../const"),l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;r(this,e),this.x=t,this.y=n,this.radius=i,this.type=s.SHAPES.CIRC}return e.prototype.clone=function(){return new e(this.x,this.y,this.radius)},e.prototype.contains=function(e,t){if(this.radius<=0)return!1;var n=this.radius*this.radius,i=this.x-e,r=this.y-t;return i*=i,r*=r,i+r<=n},e.prototype.getBounds=function(){return new a.default(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},e}();n.default=l},{"../../const":42,"./Rectangle":70}],68:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=e("./Rectangle"),a=i(o),s=e("../../const"),l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;r(this,e),this.x=t,this.y=n,this.width=i,this.height=o,this.type=s.SHAPES.ELIP}return e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.contains=function(e,t){if(this.width<=0||this.height<=0)return!1;var n=(e-this.x)/this.width,i=(t-this.y)/this.height;return n*=n,i*=i,n+i<=1},e.prototype.getBounds=function(){return new a.default(this.x-this.width,this.y-this.height,this.width,this.height)},e}();n.default=l},{"../../const":42,"./Rectangle":70}],69:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=e("../Point"),a=i(o),s=e("../../const"),l=function(){function e(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];if(r(this,e),Array.isArray(n[0])&&(n=n[0]),n[0]instanceof a.default){for(var o=[],l=0,c=n.length;l<c;l++)o.push(n[l].x,n[l].y);n=o}this.closed=!0,this.points=n,this.type=s.SHAPES.POLY}return e.prototype.clone=function(){return new e(this.points.slice())},e.prototype.close=function(){var e=this.points;e[0]===e[e.length-2]&&e[1]===e[e.length-1]||e.push(e[0],e[1])},e.prototype.contains=function(e,t){for(var n=!1,i=this.points.length/2,r=0,o=i-1;r<i;o=r++){var a=this.points[2*r],s=this.points[2*r+1],l=this.points[2*o],c=this.points[2*o+1],u=s>t!=c>t&&e<(l-a)*((t-s)/(c-s))+a;u&&(n=!n)}return n},e}();n.default=l},{"../../const":42,"../Point":65}],70:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=e("../../const"),a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;i(this,e),this.x=t,this.y=n,this.width=r,this.height=a,this.type=o.SHAPES.RECT}return e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.copy=function(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this},e.prototype.contains=function(e,t){return!(this.width<=0||this.height<=0)&&e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height},e.prototype.pad=function(e,t){e=e||0,t=t||(0!==t?e:0),this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t},e.prototype.fit=function(e){this.x<e.x&&(this.width+=this.x,this.width<0&&(this.width=0),this.x=e.x),this.y<e.y&&(this.height+=this.y,this.height<0&&(this.height=0),this.y=e.y),this.x+this.width>e.x+e.width&&(this.width=e.width-this.x,this.width<0&&(this.width=0)),this.y+this.height>e.y+e.height&&(this.height=e.height-this.y,this.height<0&&(this.height=0))},e.prototype.enlarge=function(t){if(t!==e.EMPTY){var n=Math.min(this.x,t.x),i=Math.max(this.x+this.width,t.x+t.width),r=Math.min(this.y,t.y),o=Math.max(this.y+this.height,t.y+t.height);this.x=n,this.width=i-n,this.y=r,this.height=o-r}},r(e,[{key:"left",get:function(){return this.x}},{key:"right",get:function(){return this.x+this.width}},{key:"top",get:function(){return this.y}},{key:"bottom",get:function(){return this.y+this.height}}],[{key:"EMPTY",get:function(){return new e(0,0,0,0)}}]),e}();n.default=a},{"../../const":42}],71:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var r=e("../../const"),o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:20;i(this,e),this.x=t,this.y=n,this.width=o,this.height=a,this.radius=s,this.type=r.SHAPES.RREC}return e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height,this.radius)},e.prototype.contains=function(e,t){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height){if(t>=this.y+this.radius&&t<=this.y+this.height-this.radius||e>=this.x+this.radius&&e<=this.x+this.width-this.radius)return!0;var n=e-(this.x+this.radius),i=t-(this.y+this.radius),r=this.radius*this.radius;if(n*n+i*i<=r)return!0;if(n=e-(this.x+this.width-this.radius),n*n+i*i<=r)return!0;if(i=t-(this.y+this.height-this.radius),n*n+i*i<=r)return!0;if(n=e-(this.x+this.radius),n*n+i*i<=r)return!0}return!1},e}();n.default=o},{"../../const":42}],72:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=e("../utils"),c=e("../math"),u=e("../const"),d=e("../settings"),p=i(d),h=e("../display/Container"),f=i(h),g=e("../textures/RenderTexture"),m=i(g),v=e("eventemitter3"),_=i(v),y=new c.Matrix,E=p.default.RESOLUTION,b=p.default.RENDER_OPTIONS,T=function(e){function t(n,i,a,s){r(this,t);var c=o(this,e.call(this));if((0,l.sayHello)(n),s)for(var d in b)"undefined"==typeof s[d]&&(s[d]=b[d]);else s=b;return c.type=u.RENDERER_TYPE.UNKNOWN,c.width=i||800,c.height=a||600,c.view=s.view||document.createElement("canvas"),c.resolution=s.resolution||E,c.transparent=s.transparent,c.autoResize=s.autoResize||!1,c.blendModes=null,c.preserveDrawingBuffer=s.preserveDrawingBuffer,c.clearBeforeRender=s.clearBeforeRender,c.roundPixels=s.roundPixels,c._backgroundColor=0,c._backgroundColorRgba=[0,0,0,0],c._backgroundColorString="#000000",c.backgroundColor=s.backgroundColor||c._backgroundColor,c._tempDisplayObjectParent=new f.default,c._lastObjectRendered=c._tempDisplayObjectParent,c}return a(t,e),t.prototype.resize=function(e,t){this.width=e*this.resolution,this.height=t*this.resolution,this.view.width=this.width,this.view.height=this.height,this.autoResize&&(this.view.style.width=this.width/this.resolution+"px",this.view.style.height=this.height/this.resolution+"px")},t.prototype.generateTexture=function(e,t,n){var i=e.getLocalBounds(),r=m.default.create(0|i.width,0|i.height,t,n);return y.tx=-i.x,y.ty=-i.y,this.render(e,r,!1,y,!0),r},t.prototype.destroy=function(e){e&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.type=u.RENDERER_TYPE.UNKNOWN,this.width=0,this.height=0,this.view=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this.roundPixels=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this.backgroundColor=0,this._tempDisplayObjectParent=null,this._lastObjectRendered=null},s(t,[{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e,this._backgroundColorString=(0,l.hex2string)(e),(0,l.hex2rgb)(e,this._backgroundColorRgba)}}]),t}(_.default);n.default=T},{"../const":42,"../display/Container":44,"../math":66,"../settings":97,"../textures/RenderTexture":108,"../utils":117,eventemitter3:3}],73:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../SystemRenderer"),l=i(s),c=e("./utils/CanvasMaskManager"),u=i(c),d=e("./utils/CanvasRenderTarget"),p=i(d),h=e("./utils/mapCanvasBlendModesToPixi"),f=i(h),g=e("../../utils"),m=e("../../const"),v=e("../../settings"),_=i(v),y=function(e){function t(n,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r(this,t);var s=o(this,e.call(this,"Canvas",n,i,a));return s.type=m.RENDERER_TYPE.CANVAS,s.rootContext=s.view.getContext("2d",{alpha:s.transparent}),s.refresh=!0,s.maskManager=new u.default(s),s.smoothProperty="imageSmoothingEnabled",s.rootContext.imageSmoothingEnabled||(s.rootContext.webkitImageSmoothingEnabled?s.smoothProperty="webkitImageSmoothingEnabled":s.rootContext.mozImageSmoothingEnabled?s.smoothProperty="mozImageSmoothingEnabled":s.rootContext.oImageSmoothingEnabled?s.smoothProperty="oImageSmoothingEnabled":s.rootContext.msImageSmoothingEnabled&&(s.smoothProperty="msImageSmoothingEnabled")),s.initPlugins(),s.blendModes=(0,f.default)(),s._activeBlendMode=null,s.context=null,s.renderingToScreen=!1,s.resize(n,i),s}return a(t,e),t.prototype.render=function(e,t,n,i,r){if(this.view){this.renderingToScreen=!t,this.emit("prerender"),t?(t=t.baseTexture||t,t._canvasRenderTarget||(t._canvasRenderTarget=new p.default(t.width,t.height,t.resolution),t.source=t._canvasRenderTarget.canvas,t.valid=!0),this.context=t._canvasRenderTarget.context,this.resolution=t._canvasRenderTarget.resolution):this.context=this.rootContext;var o=this.context;if(t||(this._lastObjectRendered=e),!r){var a=e.parent,s=this._tempDisplayObjectParent.transform.worldTransform;i?i.copy(s):s.identity(),e.parent=this._tempDisplayObjectParent,e.updateTransform(),e.parent=a}o.setTransform(1,0,0,1,0,0),o.globalAlpha=1,o.globalCompositeOperation=this.blendModes[m.BLEND_MODES.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(o.fillStyle="black",o.clear()),(void 0!==n?n:this.clearBeforeRender)&&this.renderingToScreen&&(this.transparent?o.clearRect(0,0,this.width,this.height):(o.fillStyle=this._backgroundColorString,
o.fillRect(0,0,this.width,this.height)));var l=this.context;this.context=o,e.renderCanvas(this),this.context=l,this.emit("postrender")}},t.prototype.setBlendMode=function(e){this._activeBlendMode!==e&&(this._activeBlendMode=e,this.context.globalCompositeOperation=this.blendModes[e])},t.prototype.destroy=function(t){this.destroyPlugins(),e.prototype.destroy.call(this,t),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},t.prototype.resize=function(t,n){e.prototype.resize.call(this,t,n),this.smoothProperty&&(this.rootContext[this.smoothProperty]=_.default.SCALE_MODE===m.SCALE_MODES.LINEAR)},t}(l.default);n.default=y,g.pluginTarget.mixin(y)},{"../../const":42,"../../settings":97,"../../utils":117,"../SystemRenderer":72,"./utils/CanvasMaskManager":74,"./utils/CanvasRenderTarget":75,"./utils/mapCanvasBlendModesToPixi":77}],74:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var r=e("../../../const"),o=function(){function e(t){i(this,e),this.renderer=t}return e.prototype.pushMask=function(e){var t=this.renderer;t.context.save();var n=e.alpha,i=e.transform.worldTransform,r=t.resolution;t.context.setTransform(i.a*r,i.b*r,i.c*r,i.d*r,i.tx*r,i.ty*r),e._texture||(this.renderGraphicsShape(e),t.context.clip()),e.worldAlpha=n},e.prototype.renderGraphicsShape=function(e){var t=this.renderer.context,n=e.graphicsData.length;if(0!==n){t.beginPath();for(var i=0;i<n;i++){var o=e.graphicsData[i],a=o.shape;if(o.type===r.SHAPES.POLY){var s=a.points;t.moveTo(s[0],s[1]);for(var l=1;l<s.length/2;l++)t.lineTo(s[2*l],s[2*l+1]);s[0]===s[s.length-2]&&s[1]===s[s.length-1]&&t.closePath()}else if(o.type===r.SHAPES.RECT)t.rect(a.x,a.y,a.width,a.height),t.closePath();else if(o.type===r.SHAPES.CIRC)t.arc(a.x,a.y,a.radius,0,2*Math.PI),t.closePath();else if(o.type===r.SHAPES.ELIP){var c=2*a.width,u=2*a.height,d=a.x-c/2,p=a.y-u/2,h=.5522848,f=c/2*h,g=u/2*h,m=d+c,v=p+u,_=d+c/2,y=p+u/2;t.moveTo(d,y),t.bezierCurveTo(d,y-g,_-f,p,_,p),t.bezierCurveTo(_+f,p,m,y-g,m,y),t.bezierCurveTo(m,y+g,_+f,v,_,v),t.bezierCurveTo(_-f,v,d,y+g,d,y),t.closePath()}else if(o.type===r.SHAPES.RREC){var E=a.x,b=a.y,T=a.width,S=a.height,L=a.radius,A=Math.min(T,S)/2|0;L=L>A?A:L,t.moveTo(E,b+L),t.lineTo(E,b+S-L),t.quadraticCurveTo(E,b+S,E+L,b+S),t.lineTo(E+T-L,b+S),t.quadraticCurveTo(E+T,b+S,E+T,b+S-L),t.lineTo(E+T,b+L),t.quadraticCurveTo(E+T,b,E+T-L,b),t.lineTo(E+L,b),t.quadraticCurveTo(E,b,E,b+L),t.closePath()}}}},e.prototype.popMask=function(e){e.context.restore()},e.prototype.destroy=function(){},e}();n.default=o},{"../../../const":42}],75:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("../../../settings"),s=i(a),l=s.default.RESOLUTION,c=function(){function e(t,n,i){r(this,e),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=i||l,this.resize(t,n)}return e.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},e.prototype.resize=function(e,t){this.canvas.width=e*this.resolution,this.canvas.height=t*this.resolution},e.prototype.destroy=function(){this.context=null,this.canvas=null},o(e,[{key:"width",get:function(){return this.canvas.width},set:function(e){this.canvas.width=e}},{key:"height",get:function(){return this.canvas.height},set:function(e){this.canvas.height=e}}]),e}();n.default=c},{"../../../settings":97}],76:[function(e,t,n){"use strict";function i(e){var t=document.createElement("canvas");t.width=6,t.height=1;var n=t.getContext("2d");return n.fillStyle=e,n.fillRect(0,0,6,1),t}function r(){if("undefined"==typeof document)return!1;var e=i("#ff00ff"),t=i("#ffff00"),n=document.createElement("canvas");n.width=6,n.height=1;var r=n.getContext("2d");r.globalCompositeOperation="multiply",r.drawImage(e,0,0),r.drawImage(t,2,0);var o=r.getImageData(2,0,1,1);if(!o)return!1;var a=o.data;return 255===a[0]&&0===a[1]&&0===a[2]}n.__esModule=!0,n.default=r},{}],77:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,s.default)()?(e[o.BLEND_MODES.NORMAL]="source-over",e[o.BLEND_MODES.ADD]="lighter",e[o.BLEND_MODES.MULTIPLY]="multiply",e[o.BLEND_MODES.SCREEN]="screen",e[o.BLEND_MODES.OVERLAY]="overlay",e[o.BLEND_MODES.DARKEN]="darken",e[o.BLEND_MODES.LIGHTEN]="lighten",e[o.BLEND_MODES.COLOR_DODGE]="color-dodge",e[o.BLEND_MODES.COLOR_BURN]="color-burn",e[o.BLEND_MODES.HARD_LIGHT]="hard-light",e[o.BLEND_MODES.SOFT_LIGHT]="soft-light",e[o.BLEND_MODES.DIFFERENCE]="difference",e[o.BLEND_MODES.EXCLUSION]="exclusion",e[o.BLEND_MODES.HUE]="hue",e[o.BLEND_MODES.SATURATION]="saturate",e[o.BLEND_MODES.COLOR]="color",e[o.BLEND_MODES.LUMINOSITY]="luminosity"):(e[o.BLEND_MODES.NORMAL]="source-over",e[o.BLEND_MODES.ADD]="lighter",e[o.BLEND_MODES.MULTIPLY]="source-over",e[o.BLEND_MODES.SCREEN]="source-over",e[o.BLEND_MODES.OVERLAY]="source-over",e[o.BLEND_MODES.DARKEN]="source-over",e[o.BLEND_MODES.LIGHTEN]="source-over",e[o.BLEND_MODES.COLOR_DODGE]="source-over",e[o.BLEND_MODES.COLOR_BURN]="source-over",e[o.BLEND_MODES.HARD_LIGHT]="source-over",e[o.BLEND_MODES.SOFT_LIGHT]="source-over",e[o.BLEND_MODES.DIFFERENCE]="source-over",e[o.BLEND_MODES.EXCLUSION]="source-over",e[o.BLEND_MODES.HUE]="source-over",e[o.BLEND_MODES.SATURATION]="source-over",e[o.BLEND_MODES.COLOR]="source-over",e[o.BLEND_MODES.LUMINOSITY]="source-over"),e}n.__esModule=!0,n.default=r;var o=e("../../../const"),a=e("./canUseNewCanvasBlendModes"),s=i(a)},{"../../../const":42,"./canUseNewCanvasBlendModes":76}],78:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=e("../../const"),a=e("../../settings"),s=i(a),l=s.default.GC_MODE,c=s.default.GC_MAX_IDLE,u=s.default.GC_MAX_CHECK_COUNT,d=function(){function e(t){r(this,e),this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=c,this.checkCountMax=u,this.mode=l}return e.prototype.update=function(){this.count++,this.mode!==o.GC_MODES.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run()))},e.prototype.run=function(){for(var e=this.renderer.textureManager,t=e._managedTextures,n=!1,i=0;i<t.length;i++){var r=t[i];!r._glRenderTargets&&this.count-r.touched>this.maxIdle&&(e.destroyTexture(r,!0),t[i]=null,n=!0)}if(n){for(var o=0,a=0;a<t.length;a++)null!==t[a]&&(t[o++]=t[a]);t.length=o}},e.prototype.unload=function(e){var t=this.renderer.textureManager;e._texture&&t.destroyTexture(e._texture,!0);for(var n=e.children.length-1;n>=0;n--)this.unload(e.children[n])},e}();n.default=d},{"../../const":42,"../../settings":97}],79:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=e("pixi-gl-core"),a=e("../../const"),s=e("./utils/RenderTarget"),l=i(s),c=e("../../utils"),u=function(){function e(t){r(this,e),this.renderer=t,this.gl=t.gl,this._managedTextures=[]}return e.prototype.bindTexture=function(){},e.prototype.getTexture=function(){},e.prototype.updateTexture=function(e,t){t=t||0;var n=this.gl,i=!!e._glRenderTargets;if(!e.hasLoaded)return null;n.activeTexture(n.TEXTURE0+t);var r=e._glTextures[this.renderer.CONTEXT_UID];if(r)i?e._glRenderTargets[this.renderer.CONTEXT_UID].resize(e.width,e.height):r.upload(e.source);else{if(i){var s=new l.default(this.gl,e.width,e.height,e.scaleMode,e.resolution);s.resize(e.width,e.height),e._glRenderTargets[this.renderer.CONTEXT_UID]=s,r=s.texture}else r=new o.GLTexture(this.gl,null,null,null,null),r.bind(t),r.premultiplyAlpha=!0,r.upload(e.source);e._glTextures[this.renderer.CONTEXT_UID]=r,e.on("update",this.updateTexture,this),e.on("dispose",this.destroyTexture,this),this._managedTextures.push(e),e.isPowerOfTwo?(e.mipmap&&r.enableMipmap(),e.wrapMode===a.WRAP_MODES.CLAMP?r.enableWrapClamp():e.wrapMode===a.WRAP_MODES.REPEAT?r.enableWrapRepeat():r.enableWrapMirrorRepeat()):r.enableWrapClamp(),e.scaleMode===a.SCALE_MODES.NEAREST?r.enableNearestScaling():r.enableLinearScaling()}return this.renderer.boundTextures[t]=e,r},e.prototype.destroyTexture=function(e,t){if(e=e.baseTexture||e,e.hasLoaded&&e._glTextures[this.renderer.CONTEXT_UID]&&(this.renderer.unbindTexture(e),e._glTextures[this.renderer.CONTEXT_UID].destroy(),e.off("update",this.updateTexture,this),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.renderer.CONTEXT_UID],!t)){var n=this._managedTextures.indexOf(e);n!==-1&&(0,c.removeItems)(this._managedTextures,n,1)}},e.prototype.removeAll=function(){for(var e=0;e<this._managedTextures.length;++e){var t=this._managedTextures[e];t._glTextures[this.renderer.CONTEXT_UID]&&delete t._glTextures[this.renderer.CONTEXT_UID]}},e.prototype.destroy=function(){for(var e=0;e<this._managedTextures.length;++e){var t=this._managedTextures[e];this.destroyTexture(t,!0),t.off("update",this.updateTexture,this),t.off("dispose",this.destroyTexture,this)}this._managedTextures=null},e}();n.default=u},{"../../const":42,"../../utils":117,"./utils/RenderTarget":92,"pixi-gl-core":12}],80:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../SystemRenderer"),l=i(s),c=e("./managers/MaskManager"),u=i(c),d=e("./managers/StencilManager"),p=i(d),h=e("./managers/FilterManager"),f=i(h),g=e("./utils/RenderTarget"),m=i(g),v=e("./utils/ObjectRenderer"),_=i(v),y=e("./TextureManager"),E=i(y),b=e("../../textures/BaseTexture"),T=i(b),S=e("./TextureGarbageCollector"),L=i(S),A=e("./WebGLState"),C=i(A),w=e("./utils/mapWebGLDrawModesToPixi"),x=i(w),O=e("./utils/validateContext"),D=i(O),R=e("../../utils"),I=e("pixi-gl-core"),P=i(I),N=e("../../const"),M=0,k=function(e){function t(n,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r(this,t);var s=o(this,e.call(this,"WebGL",n,i,a));return s.type=N.RENDERER_TYPE.WEBGL,s.handleContextLost=s.handleContextLost.bind(s),s.handleContextRestored=s.handleContextRestored.bind(s),s.view.addEventListener("webglcontextlost",s.handleContextLost,!1),s.view.addEventListener("webglcontextrestored",s.handleContextRestored,!1),s._contextOptions={alpha:s.transparent,antialias:a.antialias,premultipliedAlpha:s.transparent&&"notMultiplied"!==s.transparent,stencil:!0,preserveDrawingBuffer:a.preserveDrawingBuffer},s._backgroundColorRgba[3]=s.transparent?0:1,s.maskManager=new u.default(s),s.stencilManager=new p.default(s),s.emptyRenderer=new _.default(s),s.currentRenderer=s.emptyRenderer,s.initPlugins(),a.context&&(0,D.default)(a.context),s.gl=a.context||P.default.createContext(s.view,s._contextOptions),s.CONTEXT_UID=M++,s.state=new C.default(s.gl),s.renderingToScreen=!0,s.boundTextures=null,s._initContext(),s.filterManager=new f.default(s),s.drawModes=(0,x.default)(s.gl),s._activeShader=null,s._activeVao=null,s._activeRenderTarget=null,s._nextTextureLocation=0,s.setBlendMode(0),s}return a(t,e),t.prototype._initContext=function(){var e=this.gl;e.isContextLost()&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").restoreContext();var t=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures=new Array(t),this.emptyTextures=new Array(t),this.textureManager=new E.default(this),this.textureGC=new L.default(this),this.state.resetToDefault(),this.rootRenderTarget=new m.default(e,this.width,this.height,null,this.resolution,!0),this.rootRenderTarget.clearColor=this._backgroundColorRgba,this.bindRenderTarget(this.rootRenderTarget);var n=new P.default.GLTexture.fromData(e,null,1,1),i={_glTextures:{}};i._glTextures[this.CONTEXT_UID]={};for(var r=0;r<t;r++){var o=new T.default;o._glTextures[this.CONTEXT_UID]=n,this.boundTextures[r]=i,this.emptyTextures[r]=o,this.bindTexture(null,r)}this.emit("context",e),this.resize(this.width,this.height)},t.prototype.render=function(e,t,n,i,r){if(this.renderingToScreen=!t,this.emit("prerender"),this.gl&&!this.gl.isContextLost()){if(this._nextTextureLocation=0,t||(this._lastObjectRendered=e),!r){var o=e.parent;e.parent=this._tempDisplayObjectParent,e.updateTransform(),e.parent=o}this.bindRenderTexture(t,i),this.currentRenderer.start(),(void 0!==n?n:this.clearBeforeRender)&&this._activeRenderTarget.clear(),e.renderWebGL(this),this.currentRenderer.flush(),this.textureGC.update(),this.emit("postrender")}},t.prototype.setObjectRenderer=function(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())},t.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.resize=function(e,t){l.default.prototype.resize.call(this,e,t),this.rootRenderTarget.resize(e,t),this._activeRenderTarget===this.rootRenderTarget&&(this.rootRenderTarget.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=this.rootRenderTarget.projectionMatrix.toArray(!0)))},t.prototype.setBlendMode=function(e){this.state.setBlendMode(e)},t.prototype.clear=function(e){this._activeRenderTarget.clear(e)},t.prototype.setTransform=function(e){this._activeRenderTarget.transform=e},t.prototype.bindRenderTexture=function(e,t){var n=void 0;if(e){var i=e.baseTexture;i._glRenderTargets[this.CONTEXT_UID]||this.textureManager.updateTexture(i,0),this.unbindTexture(i),n=i._glRenderTargets[this.CONTEXT_UID],n.setFrame(e.frame)}else n=this.rootRenderTarget;return n.transform=t,this.bindRenderTarget(n),this},t.prototype.bindRenderTarget=function(e){return e!==this._activeRenderTarget&&(this._activeRenderTarget=e,e.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=e.projectionMatrix.toArray(!0)),this.stencilManager.setMaskStack(e.stencilMaskStack)),this},t.prototype.bindShader=function(e){return this._activeShader!==e&&(this._activeShader=e,e.bind(),e.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(!0)),this},t.prototype.bindTexture=function(e,t,n){if(e=e||this.emptyTextures[t],e=e.baseTexture||e,e.touched=this.textureGC.count,n)t=t||0;else{for(var i=0;i<this.boundTextures.length;i++)if(this.boundTextures[i]===e)return i;void 0===t&&(this._nextTextureLocation++,this._nextTextureLocation%=this.boundTextures.length,t=this.boundTextures.length-this._nextTextureLocation-1)}var r=this.gl,o=e._glTextures[this.CONTEXT_UID];return o?(this.boundTextures[t]=e,r.activeTexture(r.TEXTURE0+t),r.bindTexture(r.TEXTURE_2D,o.texture)):this.textureManager.updateTexture(e,t),t},t.prototype.unbindTexture=function(e){var t=this.gl;e=e.baseTexture||e;for(var n=0;n<this.boundTextures.length;n++)this.boundTextures[n]===e&&(this.boundTextures[n]=this.emptyTextures[n],t.activeTexture(t.TEXTURE0+n),t.bindTexture(t.TEXTURE_2D,this.emptyTextures[n]._glTextures[this.CONTEXT_UID].texture));return this},t.prototype.createVao=function(){return new P.default.VertexArrayObject(this.gl,this.state.attribState)},t.prototype.bindVao=function(e){return this._activeVao===e?this:(e?e.bind():this._activeVao&&this._activeVao.unbind(),this._activeVao=e,this)},t.prototype.reset=function(){return this.setObjectRenderer(this.emptyRenderer),this._activeShader=null,this._activeRenderTarget=this.rootRenderTarget,this.rootRenderTarget.activate(),this.state.resetToDefault(),this},t.prototype.handleContextLost=function(e){e.preventDefault()},t.prototype.handleContextRestored=function(){this._initContext(),this.textureManager.removeAll()},t.prototype.destroy=function(t){this.destroyPlugins(),this.view.removeEventListener("webglcontextlost",this.handleContextLost),this.view.removeEventListener("webglcontextrestored",this.handleContextRestored),this.textureManager.destroy(),e.prototype.destroy.call(this,t),this.uid=0,this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.maskManager=null,this.filterManager=null,this.textureManager=null,this.currentRenderer=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this.gl.useProgram(null),this.gl.getExtension("WEBGL_lose_context")&&this.gl.getExtension("WEBGL_lose_context").loseContext(),this.gl=null},t}(l.default);n.default=k,R.pluginTarget.mixin(k)},{"../../const":42,"../../textures/BaseTexture":107,"../../utils":117,"../SystemRenderer":72,"./TextureGarbageCollector":78,"./TextureManager":79,"./WebGLState":81,"./managers/FilterManager":86,"./managers/MaskManager":87,"./managers/StencilManager":88,"./utils/ObjectRenderer":90,"./utils/RenderTarget":92,"./utils/mapWebGLDrawModesToPixi":95,"./utils/validateContext":96,"pixi-gl-core":12}],81:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=e("./utils/mapWebGLBlendModesToPixi"),a=i(o),s=0,l=1,c=2,u=3,d=4,p=function(){function e(t){r(this,e),this.activeState=new Uint8Array(16),this.defaultState=new Uint8Array(16),this.defaultState[0]=1,this.stackIndex=0,this.stack=[],this.gl=t,this.maxAttribs=t.getParameter(t.MAX_VERTEX_ATTRIBS),this.attribState={tempAttribState:new Array(this.maxAttribs),attribState:new Array(this.maxAttribs)},this.blendModes=(0,a.default)(t),this.nativeVaoExtension=t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object")}return e.prototype.push=function(){var e=this.stack[++this.stackIndex];e||(e=this.stack[this.stackIndex]=new Uint8Array(16));for(var t=0;t<this.activeState.length;t++)this.activeState[t]=e[t]},e.prototype.pop=function(){var e=this.stack[--this.stackIndex];this.setState(e)},e.prototype.setState=function(e){this.setBlend(e[s]),this.setDepthTest(e[l]),this.setFrontFace(e[c]),this.setCullFace(e[u]),this.setBlendMode(e[d])},e.prototype.setBlend=function(e){e=e?1:0,this.activeState[s]!==e&&(this.activeState[s]=e,this.gl[e?"enable":"disable"](this.gl.BLEND))},e.prototype.setBlendMode=function(e){e!==this.activeState[d]&&(this.activeState[d]=e,this.gl.blendFunc(this.blendModes[e][0],this.blendModes[e][1]))},e.prototype.setDepthTest=function(e){e=e?1:0,this.activeState[l]!==e&&(this.activeState[l]=e,this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST))},e.prototype.setCullFace=function(e){e=e?1:0,this.activeState[u]!==e&&(this.activeState[u]=e,this.gl[e?"enable":"disable"](this.gl.CULL_FACE))},e.prototype.setFrontFace=function(e){e=e?1:0,this.activeState[c]!==e&&(this.activeState[c]=e,this.gl.frontFace(this.gl[e?"CW":"CCW"]))},e.prototype.resetAttributes=function(){for(var e=0;e<this.attribState.tempAttribState.length;e++)this.attribState.tempAttribState[e]=0;for(var t=0;t<this.attribState.attribState.length;t++)this.attribState.attribState[t]=0;for(var n=1;n<this.maxAttribs;n++)this.gl.disableVertexAttribArray(n)},e.prototype.resetToDefault=function(){this.nativeVaoExtension&&this.nativeVaoExtension.bindVertexArrayOES(null),this.resetAttributes();for(var e=0;e<this.activeState.length;++e)this.activeState[e]=32;this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.setState(this.defaultState)},e}();n.default=p},{"./utils/mapWebGLBlendModesToPixi":94}],82:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("./extractUniformsFromSrc"),s=i(a),l=e("../../../utils"),c=e("../../../const"),u={},d=function(){function e(t,n,i){r(this,e),this.vertexSrc=t||e.defaultVertexSrc,this.fragmentSrc=n||e.defaultFragmentSrc,this.blendMode=c.BLEND_MODES.NORMAL,this.uniformData=i||(0,s.default)(this.vertexSrc,this.fragmentSrc,"projectionMatrix|uSampler"),this.uniforms={};for(var o in this.uniformData)this.uniforms[o]=this.uniformData[o].value;this.glShaders={},u[this.vertexSrc+this.fragmentSrc]||(u[this.vertexSrc+this.fragmentSrc]=(0,l.uid)()),this.glShaderKey=u[this.vertexSrc+this.fragmentSrc],this.padding=4,this.resolution=1,this.enabled=!0}return e.prototype.apply=function(e,t,n,i){e.applyFilter(this,t,n,i)},o(e,null,[{key:"defaultVertexSrc",get:function(){return["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 projectionMatrix;","uniform mat3 filterMatrix;","varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;","   vTextureCoord = aTextureCoord ;","}"].join("\n")}},{key:"defaultFragmentSrc",get:function(){return["varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","uniform sampler2D uSampler;","uniform sampler2D filterSampler;","void main(void){","   vec4 masky = texture2D(filterSampler, vFilterCoord);","   vec4 sample = texture2D(uSampler, vTextureCoord);","   vec4 color;","   if(mod(vFilterCoord.x, 1.0) > 0.5)","   {","     color = vec4(1.0, 0.0, 0.0, 1.0);","   }","   else","   {","     color = vec4(0.0, 1.0, 0.0, 1.0);","   }","   gl_FragColor = mix(sample, masky, 0.5);","   gl_FragColor *= sample.a;","}"].join("\n")}}]),e}();n.default=d},{"../../../const":42,"../../../utils":117,"./extractUniformsFromSrc":83}],83:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){var i=o(e,n),r=o(t,n);return Object.assign(i,r)}function o(e){for(var t=new RegExp("^(projectionMatrix|uSampler|filterArea)$"),n={},i=void 0,r=e.replace(/\s+/g," ").split(/\s*;\s*/),o=0;o<r.length;o++){var a=r[o].trim();if(a.indexOf("uniform")>-1){var s=a.split(" "),c=s[1],u=s[2],d=1;u.indexOf("[")>-1&&(i=u.split(/\[|]/),u=i[0],d*=Number(i[1])),u.match(t)||(n[u]={value:l(c,d),name:u,type:c})}}return n}n.__esModule=!0,n.default=r;var a=e("pixi-gl-core"),s=i(a),l=s.default.shader.defaultValue},{"pixi-gl-core":12}],84:[function(e,t,n){"use strict";function i(e,t,n){var i=e.identity();return i.translate(t.x/n.width,t.y/n.height),i.scale(n.width,n.height),i}function r(e,t,n){var i=e.identity();i.translate(t.x/n.width,t.y/n.height);var r=n.width/t.width,o=n.height/t.height;return i.scale(r,o),i}function o(e,t,n,i){var r=i.worldTransform.copy(a.Matrix.TEMP_MATRIX),o=i._texture.baseTexture,s=e.identity(),l=n.height/n.width;s.translate(t.x/n.width,t.y/n.height),s.scale(1,l);var c=n.width/o.width,u=n.height/o.height;return r.tx/=o.width*c,r.ty/=o.width*c,r.invert(),s.prepend(r),s.scale(1,1/l),s.scale(c,u),s.translate(i.anchor.x,i.anchor.y),s}n.__esModule=!0,n.calculateScreenSpaceMatrix=i,n.calculateNormalizedScreenSpaceMatrix=r,n.calculateSpriteMatrix=o;var a=e("../../../math")},{"../../../math":66}],85:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../Filter"),l=i(s),c=e("../../../../math"),u=(e("path"),function(e){function t(n){r(this,t);var i=new c.Matrix,a=o(this,e.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float alpha;\nuniform sampler2D mask;\n\nvoid main(void)\n{\n    // check clip! this will stop the mask bleeding out from the edges\n    vec2 text = abs( vMaskCoord - 0.5 );\n    text = step(0.5, text);\n\n    float clip = 1.0 - max(text.y, text.x);\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n\n    original *= (masky.r * masky.a * alpha * clip);\n\n    gl_FragColor = original;\n}\n"));return n.renderable=!1,a.maskSprite=n,a.maskMatrix=i,a}return a(t,e),t.prototype.apply=function(e,t,n){var i=this.maskSprite;this.uniforms.mask=i._texture,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,i),this.uniforms.alpha=i.worldAlpha,e.applyFilter(this,t,n)},t}(l.default));n.default=u},{"../../../../math":66,"../Filter":82,path:22}],86:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var l=e("./WebGLManager"),c=r(l),u=e("../utils/RenderTarget"),d=r(u),p=e("../utils/Quad"),h=r(p),f=e("../../../math"),g=e("../../../Shader"),m=r(g),v=e("../filters/filterTransforms"),_=i(v),y=e("bit-twiddle"),E=r(y),b=function e(){s(this,e),this.renderTarget=null,this.sourceFrame=new f.Rectangle,this.destinationFrame=new f.Rectangle,this.filters=[],this.target=null,this.resolution=1},T=function(e){function t(n){s(this,t);var i=o(this,e.call(this,n));return i.gl=i.renderer.gl,i.quad=new h.default(i.gl,n.state.attribState),i.shaderCache={},i.pool={},i.filterData=null,i}return a(t,e),t.prototype.pushFilter=function(e,t){var n=this.renderer,i=this.filterData;if(!i){i=this.renderer._activeRenderTarget.filterStack;var r=new b;r.sourceFrame=r.destinationFrame=this.renderer._activeRenderTarget.size,r.renderTarget=n._activeRenderTarget,this.renderer._activeRenderTarget.filterData=i={index:0,stack:[r]},this.filterData=i}var o=i.stack[++i.index];o||(o=i.stack[i.index]=new b);var a=t[0].resolution,s=0|t[0].padding,l=e.filterArea||e.getBounds(!0),c=o.sourceFrame,u=o.destinationFrame;c.x=(l.x*a|0)/a,c.y=(l.y*a|0)/a,c.width=(l.width*a|0)/a,c.height=(l.height*a|0)/a,i.stack[0].renderTarget.transform||c.fit(i.stack[0].destinationFrame),c.pad(s),u.width=c.width,u.height=c.height;var d=this.getPotRenderTarget(n.gl,c.width,c.height,a);o.target=e,o.filters=t,o.resolution=a,o.renderTarget=d,d.setFrame(u,c),n.bindRenderTarget(d),n.clear()},t.prototype.popFilter=function(){var e=this.filterData,t=e.stack[e.index-1],n=e.stack[e.index];this.quad.map(n.renderTarget.size,n.sourceFrame).upload();var i=n.filters;if(1===i.length)i[0].apply(this,n.renderTarget,t.renderTarget,!1),this.freePotRenderTarget(n.renderTarget);else{var r=n.renderTarget,o=this.getPotRenderTarget(this.renderer.gl,n.sourceFrame.width,n.sourceFrame.height,n.resolution);o.setFrame(n.destinationFrame,n.sourceFrame);var a=0;for(a=0;a<i.length-1;++a){i[a].apply(this,r,o,!0);var s=r;r=o,o=s}i[a].apply(this,r,t.renderTarget,!1),this.freePotRenderTarget(r),this.freePotRenderTarget(o)}e.index--,0===e.index&&(this.filterData=null)},t.prototype.applyFilter=function(e,t,n,i){var r=this.renderer,o=r.gl,a=e.glShaders[r.CONTEXT_UID];a||(e.glShaderKey?(a=this.shaderCache[e.glShaderKey],a||(a=new m.default(this.gl,e.vertexSrc,e.fragmentSrc),e.glShaders[r.CONTEXT_UID]=this.shaderCache[e.glShaderKey]=a)):a=e.glShaders[r.CONTEXT_UID]=new m.default(this.gl,e.vertexSrc,e.fragmentSrc),r.bindVao(null),this.quad.initVao(a)),r.bindVao(this.quad.vao),r.bindRenderTarget(n),i&&(o.disable(o.SCISSOR_TEST),r.clear(),o.enable(o.SCISSOR_TEST)),n===r.maskManager.scissorRenderTarget&&r.maskManager.pushScissorMask(null,r.maskManager.scissorData),r.bindShader(a),this.syncUniforms(a,e),r.state.setBlendMode(e.blendMode);var s=this.renderer.boundTextures[0];o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,t.texture.texture),this.quad.vao.draw(this.renderer.gl.TRIANGLES,6,0),o.bindTexture(o.TEXTURE_2D,s._glTextures[this.renderer.CONTEXT_UID].texture)},t.prototype.syncUniforms=function(e,t){var n=t.uniformData,i=t.uniforms,r=1,o=void 0;if(e.uniforms.data.filterArea){o=this.filterData.stack[this.filterData.index];var a=e.uniforms.filterArea;a[0]=o.renderTarget.size.width,a[1]=o.renderTarget.size.height,a[2]=o.sourceFrame.x,a[3]=o.sourceFrame.y,e.uniforms.filterArea=a}if(e.uniforms.data.filterClamp){o=this.filterData.stack[this.filterData.index];var s=e.uniforms.filterClamp;s[0]=0,s[1]=0,s[2]=(o.sourceFrame.width-1)/o.renderTarget.size.width,s[3]=(o.sourceFrame.height-1)/o.renderTarget.size.height,e.uniforms.filterClamp=s}for(var l in n)if("sampler2D"===n[l].type&&0!==i[l]){if(i[l].baseTexture)e.uniforms[l]=this.renderer.bindTexture(i[l].baseTexture,r);else{e.uniforms[l]=r;var c=this.renderer.gl;c.activeTexture(c.TEXTURE0+r),i[l].texture.bind()}r++}else if("mat3"===n[l].type)void 0!==i[l].a?e.uniforms[l]=i[l].toArray(!0):e.uniforms[l]=i[l];else if("vec2"===n[l].type)if(void 0!==i[l].x){var u=e.uniforms[l]||new Float32Array(2);u[0]=i[l].x,u[1]=i[l].y,e.uniforms[l]=u}else e.uniforms[l]=i[l];else"float"===n[l].type?e.uniforms.data[l].value!==n[l]&&(e.uniforms[l]=i[l]):e.uniforms[l]=i[l]},t.prototype.getRenderTarget=function(e,t){var n=this.filterData.stack[this.filterData.index],i=this.getPotRenderTarget(this.renderer.gl,n.sourceFrame.width,n.sourceFrame.height,t||n.resolution);return i.setFrame(n.destinationFrame,n.sourceFrame),i},t.prototype.returnRenderTarget=function(e){this.freePotRenderTarget(e)},t.prototype.calculateScreenSpaceMatrix=function(e){var t=this.filterData.stack[this.filterData.index];return _.calculateScreenSpaceMatrix(e,t.sourceFrame,t.renderTarget.size)},t.prototype.calculateNormalizedScreenSpaceMatrix=function(e){var t=this.filterData.stack[this.filterData.index];return _.calculateNormalizedScreenSpaceMatrix(e,t.sourceFrame,t.renderTarget.size,t.destinationFrame)},t.prototype.calculateSpriteMatrix=function(e,t){var n=this.filterData.stack[this.filterData.index];return _.calculateSpriteMatrix(e,n.sourceFrame,n.renderTarget.size,t)},t.prototype.destroy=function(){this.shaderCache=[],this.emptyPool()},t.prototype.getPotRenderTarget=function(e,t,n,i){
t=E.default.nextPow2(t*i),n=E.default.nextPow2(n*i);var r=(65535&t)<<16|65535&n;this.pool[r]||(this.pool[r]=[]);var o=this.pool[r].pop();if(!o){var a=this.renderer.boundTextures[0];e.activeTexture(e.TEXTURE0),o=new d.default(e,t,n,null,1),e.bindTexture(e.TEXTURE_2D,a._glTextures[this.renderer.CONTEXT_UID].texture)}return o.resolution=i,o.defaultFrame.width=o.size.width=t/i,o.defaultFrame.height=o.size.height=n/i,o},t.prototype.emptyPool=function(){for(var e in this.pool){var t=this.pool[e];if(t)for(var n=0;n<t.length;n++)t[n].destroy(!0)}this.pool={}},t.prototype.freePotRenderTarget=function(e){var t=e.size.width*e.resolution,n=e.size.height*e.resolution,i=(65535&t)<<16|65535&n;this.pool[i].push(e)},t}(c.default);n.default=T},{"../../../Shader":41,"../../../math":66,"../filters/filterTransforms":84,"../utils/Quad":91,"../utils/RenderTarget":92,"./WebGLManager":89,"bit-twiddle":1}],87:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("./WebGLManager"),l=i(s),c=e("../filters/spriteMask/SpriteMaskFilter"),u=i(c),d=function(e){function t(n){r(this,t);var i=o(this,e.call(this,n));return i.scissor=!1,i.scissorData=null,i.scissorRenderTarget=null,i.enableScissor=!0,i.alphaMaskPool=[],i.alphaMaskIndex=0,i}return a(t,e),t.prototype.pushMask=function(e,t){if(t.texture)this.pushSpriteMask(e,t);else if(this.enableScissor&&!this.scissor&&!this.renderer.stencilManager.stencilMaskStack.length&&t.isFastRect()){var n=t.worldTransform,i=Math.atan2(n.b,n.a);i=Math.round(i*(180/Math.PI)),i%90?this.pushStencilMask(t):this.pushScissorMask(e,t)}else this.pushStencilMask(t)},t.prototype.popMask=function(e,t){t.texture?this.popSpriteMask(e,t):this.enableScissor&&!this.renderer.stencilManager.stencilMaskStack.length?this.popScissorMask(e,t):this.popStencilMask(e,t)},t.prototype.pushSpriteMask=function(e,t){var n=this.alphaMaskPool[this.alphaMaskIndex];n||(n=this.alphaMaskPool[this.alphaMaskIndex]=[new u.default(t)]),n[0].resolution=this.renderer.resolution,n[0].maskSprite=t,e.filterArea=t.getBounds(!0),this.renderer.filterManager.pushFilter(e,n),this.alphaMaskIndex++},t.prototype.popSpriteMask=function(){this.renderer.filterManager.popFilter(),this.alphaMaskIndex--},t.prototype.pushStencilMask=function(e){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.pushStencil(e)},t.prototype.popStencilMask=function(){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.popStencil()},t.prototype.pushScissorMask=function(e,t){t.renderable=!0;var n=this.renderer._activeRenderTarget,i=t.getBounds();i.fit(n.size),t.renderable=!1,this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var r=this.renderer.resolution;this.renderer.gl.scissor(i.x*r,(n.root?n.size.height-i.y-i.height:i.y)*r,i.width*r,i.height*r),this.scissorRenderTarget=n,this.scissorData=t,this.scissor=!0},t.prototype.popScissorMask=function(){this.scissorRenderTarget=null,this.scissorData=null,this.scissor=!1;var e=this.renderer.gl;e.disable(e.SCISSOR_TEST)},t}(l.default);n.default=d},{"../filters/spriteMask/SpriteMaskFilter":85,"./WebGLManager":89}],88:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("./WebGLManager"),l=i(s),c=function(e){function t(n){r(this,t);var i=o(this,e.call(this,n));return i.stencilMaskStack=null,i}return a(t,e),t.prototype.setMaskStack=function(e){this.stencilMaskStack=e;var t=this.renderer.gl;0===e.length?t.disable(t.STENCIL_TEST):t.enable(t.STENCIL_TEST)},t.prototype.pushStencil=function(e){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),this.renderer._activeRenderTarget.attachStencilBuffer();var t=this.renderer.gl,n=this.stencilMaskStack;0===n.length&&(t.enable(t.STENCIL_TEST),t.clear(t.STENCIL_BUFFER_BIT),t.stencilFunc(t.ALWAYS,1,1)),n.push(e),t.colorMask(!1,!1,!1,!1),t.stencilOp(t.KEEP,t.KEEP,t.INCR),this.renderer.plugins.graphics.render(e),t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.NOTEQUAL,0,n.length),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},t.prototype.popStencil=function(){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);var e=this.renderer.gl,t=this.stencilMaskStack,n=t.pop();0===t.length?e.disable(e.STENCIL_TEST):(e.colorMask(!1,!1,!1,!1),e.stencilOp(e.KEEP,e.KEEP,e.DECR),this.renderer.plugins.graphics.render(n),e.colorMask(!0,!0,!0,!0),e.stencilFunc(e.NOTEQUAL,0,t.length),e.stencilOp(e.KEEP,e.KEEP,e.KEEP))},t.prototype.destroy=function(){l.default.prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null},t}(l.default);n.default=c},{"./WebGLManager":89}],89:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var r=function(){function e(t){i(this,e),this.renderer=t,this.renderer.on("context",this.onContextChange,this)}return e.prototype.onContextChange=function(){},e.prototype.destroy=function(){this.renderer.off("context",this.onContextChange,this),this.renderer=null},e}();n.default=r},{}],90:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../managers/WebGLManager"),l=i(s),c=function(e){function t(){return r(this,t),o(this,e.apply(this,arguments))}return a(t,e),t.prototype.start=function(){},t.prototype.stop=function(){this.flush()},t.prototype.flush=function(){},t.prototype.render=function(e){},t}(l.default);n.default=c},{"../managers/WebGLManager":89}],91:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=e("pixi-gl-core"),a=i(o),s=e("../../../utils/createIndicesForQuads"),l=i(s),c=function(){function e(t,n){r(this,e),this.gl=t,this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.interleaved=new Float32Array(16);for(var i=0;i<4;i++)this.interleaved[4*i]=this.vertices[2*i],this.interleaved[4*i+1]=this.vertices[2*i+1],this.interleaved[4*i+2]=this.uvs[2*i],this.interleaved[4*i+3]=this.uvs[2*i+1];this.indices=(0,l.default)(1),this.vertexBuffer=a.default.GLBuffer.createVertexBuffer(t,this.interleaved,t.STATIC_DRAW),this.indexBuffer=a.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.vao=new a.default.VertexArrayObject(t,n)}return e.prototype.initVao=function(e){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,e.attributes.aVertexPosition,this.gl.FLOAT,!1,16,0).addAttribute(this.vertexBuffer,e.attributes.aTextureCoord,this.gl.FLOAT,!1,16,8)},e.prototype.map=function(e,t){var n=0,i=0;return this.uvs[0]=n,this.uvs[1]=i,this.uvs[2]=n+t.width/e.width,this.uvs[3]=i,this.uvs[4]=n+t.width/e.width,this.uvs[5]=i+t.height/e.height,this.uvs[6]=n,this.uvs[7]=i+t.height/e.height,n=t.x,i=t.y,this.vertices[0]=n,this.vertices[1]=i,this.vertices[2]=n+t.width,this.vertices[3]=i,this.vertices[4]=n+t.width,this.vertices[5]=i+t.height,this.vertices[6]=n,this.vertices[7]=i+t.height,this},e.prototype.upload=function(){for(var e=0;e<4;e++)this.interleaved[4*e]=this.vertices[2*e],this.interleaved[4*e+1]=this.vertices[2*e+1],this.interleaved[4*e+2]=this.uvs[2*e],this.interleaved[4*e+3]=this.uvs[2*e+1];return this.vertexBuffer.upload(this.interleaved),this},e.prototype.destroy=function(){var e=this.gl;e.deleteBuffer(this.vertexBuffer),e.deleteBuffer(this.indexBuffer)},e}();n.default=c},{"../../../utils/createIndicesForQuads":115,"pixi-gl-core":12}],92:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=e("../../../math"),a=e("../../../const"),s=e("../../../settings"),l=i(s),c=e("pixi-gl-core"),u=l.default.RESOLUTION,d=l.default.SCALE_MODE,p=function(){function e(t,n,i,s,l,p){r(this,e),this.gl=t,this.frameBuffer=null,this.texture=null,this.clearColor=[0,0,0,0],this.size=new o.Rectangle(0,0,1,1),this.resolution=l||u,this.projectionMatrix=new o.Matrix,this.transform=null,this.frame=null,this.defaultFrame=new o.Rectangle,this.destinationFrame=null,this.sourceFrame=null,this.stencilBuffer=null,this.stencilMaskStack=[],this.filterData=null,this.scaleMode=s||d,this.root=p,this.root?(this.frameBuffer=new c.GLFramebuffer(t,100,100),this.frameBuffer.framebuffer=null):(this.frameBuffer=c.GLFramebuffer.createRGBA(t,100,100),this.scaleMode===a.SCALE_MODES.NEAREST?this.frameBuffer.texture.enableNearestScaling():this.frameBuffer.texture.enableLinearScaling(),this.texture=this.frameBuffer.texture),this.setFrame(),this.resize(n,i)}return e.prototype.clear=function(e){var t=e||this.clearColor;this.frameBuffer.clear(t[0],t[1],t[2],t[3])},e.prototype.attachStencilBuffer=function(){this.root||this.frameBuffer.enableStencil()},e.prototype.setFrame=function(e,t){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=t||this.sourceFrame||e},e.prototype.activate=function(){var e=this.gl;this.frameBuffer.bind(),this.calculateProjection(this.destinationFrame,this.sourceFrame),this.transform&&this.projectionMatrix.append(this.transform),this.destinationFrame!==this.sourceFrame?(e.enable(e.SCISSOR_TEST),e.scissor(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)):e.disable(e.SCISSOR_TEST),e.viewport(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)},e.prototype.calculateProjection=function(e,t){var n=this.projectionMatrix;t=t||e,n.identity(),this.root?(n.a=1/e.width*2,n.d=-1/e.height*2,n.tx=-1-t.x*n.a,n.ty=1-t.y*n.d):(n.a=1/e.width*2,n.d=1/e.height*2,n.tx=-1-t.x*n.a,n.ty=-1-t.y*n.d)},e.prototype.resize=function(e,t){if(e=0|e,t=0|t,this.size.width!==e||this.size.height!==t){this.size.width=e,this.size.height=t,this.defaultFrame.width=e,this.defaultFrame.height=t,this.frameBuffer.resize(e*this.resolution,t*this.resolution);var n=this.frame||this.size;this.calculateProjection(n)}},e.prototype.destroy=function(){this.frameBuffer.destroy(),this.frameBuffer=null,this.texture=null},e}();n.default=p},{"../../../const":42,"../../../math":66,"../../../settings":97,"pixi-gl-core":12}],93:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n=!t;if(n){var i=document.createElement("canvas");i.width=1,i.height=1,t=s.default.createContext(i)}for(var r=t.createShader(t.FRAGMENT_SHADER);;){var a=l.replace(/%forloop%/gi,o(e));if(t.shaderSource(r,a),t.compileShader(r),t.getShaderParameter(r,t.COMPILE_STATUS))break;e=e/2|0}return n&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").loseContext(),e}function o(e){for(var t="",n=0;n<e;++n)n>0&&(t+="\nelse "),n<e-1&&(t+="if(test == "+n+".0){}");return t}n.__esModule=!0,n.default=r;var a=e("pixi-gl-core"),s=i(a),l=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n")},{"pixi-gl-core":12}],94:[function(e,t,n){"use strict";function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t[r.BLEND_MODES.NORMAL]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.ADD]=[e.ONE,e.DST_ALPHA],t[r.BLEND_MODES.MULTIPLY]=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.SCREEN]=[e.ONE,e.ONE_MINUS_SRC_COLOR],t[r.BLEND_MODES.OVERLAY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.DARKEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.LIGHTEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.COLOR_DODGE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.COLOR_BURN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.HARD_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.SOFT_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.DIFFERENCE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.EXCLUSION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.HUE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.SATURATION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.COLOR]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.BLEND_MODES.LUMINOSITY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t}n.__esModule=!0,n.default=i;var r=e("../../../const")},{"../../../const":42}],95:[function(e,t,n){"use strict";function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t[r.DRAW_MODES.POINTS]=e.POINTS,t[r.DRAW_MODES.LINES]=e.LINES,t[r.DRAW_MODES.LINE_LOOP]=e.LINE_LOOP,t[r.DRAW_MODES.LINE_STRIP]=e.LINE_STRIP,t[r.DRAW_MODES.TRIANGLES]=e.TRIANGLES,t[r.DRAW_MODES.TRIANGLE_STRIP]=e.TRIANGLE_STRIP,t[r.DRAW_MODES.TRIANGLE_FAN]=e.TRIANGLE_FAN,t}n.__esModule=!0,n.default=i;var r=e("../../../const")},{"../../../const":42}],96:[function(e,t,n){"use strict";function i(e){var t=e.getContextAttributes();t.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")}n.__esModule=!0,n.default=i},{}],97:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var r=e("./utils/maxRecommendedTextures"),o=i(r),a=e("./utils/canUploadSameBuffer"),s=i(a);n.default={TARGET_FPMS:.06,MIPMAP_TEXTURES:!0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:(0,o.default)(32),SPRITE_BATCH_SIZE:4096,RETINA_PREFIX:/@(.+)x/,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1},TRANSFORM_MODE:0,GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:0,SCALE_MODE:0,PRECISION:"mediump",CAN_UPLOAD_SAME_BUFFER:(0,s.default)()}},{"./utils/canUploadSameBuffer":114,"./utils/maxRecommendedTextures":118}],98:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=e("../math"),c=e("../utils"),u=e("../const"),d=e("../textures/Texture"),p=i(d),h=e("../display/Container"),f=i(h),g=new l.Point,m=function(e){function t(n){r(this,t);var i=o(this,e.call(this));return i._anchor=new l.ObservablePoint(i._onAnchorUpdate,i),i._texture=null,i._width=0,i._height=0,i._tint=null,i._tintRGB=null,i.tint=16777215,i.blendMode=u.BLEND_MODES.NORMAL,i.shader=null,i.cachedTint=16777215,i.texture=n||p.default.EMPTY,i.vertexData=new Float32Array(8),i.vertexTrimmedData=null,i._transformID=-1,i._textureID=-1,i}return a(t,e),t.prototype._onTextureUpdate=function(){this._textureID=-1,this._width&&(this.scale.x=(0,c.sign)(this.scale.x)*this._width/this.texture.orig.width),this._height&&(this.scale.y=(0,c.sign)(this.scale.y)*this._height/this.texture.orig.height)},t.prototype._onAnchorUpdate=function(){this._transformID=-1},t.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID||this._textureID!==this._texture._updateID){this._transformID=this.transform._worldID,this._textureID=this._texture._updateID;var e=this._texture,t=this.transform.worldTransform,n=t.a,i=t.b,r=t.c,o=t.d,a=t.tx,s=t.ty,l=this.vertexData,c=e.trim,u=e.orig,d=this._anchor,p=0,h=0,f=0,g=0;c?(h=c.x-d._x*u.width,p=h+c.width,g=c.y-d._y*u.height,f=g+c.height):(p=u.width*(1-d._x),h=u.width*-d._x,f=u.height*(1-d._y),g=u.height*-d._y),l[0]=n*h+r*g+a,l[1]=o*g+i*h+s,l[2]=n*p+r*g+a,l[3]=o*g+i*p+s,l[4]=n*p+r*f+a,l[5]=o*f+i*p+s,l[6]=n*h+r*f+a,l[7]=o*f+i*h+s}},t.prototype.calculateTrimmedVertices=function(){this.vertexTrimmedData||(this.vertexTrimmedData=new Float32Array(8));var e=this._texture,t=this.vertexTrimmedData,n=e.orig,i=this._anchor,r=this.transform.worldTransform,o=r.a,a=r.b,s=r.c,l=r.d,c=r.tx,u=r.ty,d=n.width*(1-i._x),p=n.width*-i._x,h=n.height*(1-i._y),f=n.height*-i._y;t[0]=o*p+s*f+c,t[1]=l*f+a*p+u,t[2]=o*d+s*f+c,t[3]=l*f+a*d+u,t[4]=o*d+s*h+c,t[5]=l*h+a*d+u,t[6]=o*p+s*h+c,t[7]=l*h+a*p+u},t.prototype._renderWebGL=function(e){this.calculateVertices(),e.setObjectRenderer(e.plugins.sprite),e.plugins.sprite.render(this)},t.prototype._renderCanvas=function(e){e.plugins.sprite.render(this)},t.prototype._calculateBounds=function(){var e=this._texture.trim,t=this._texture.orig;!e||e.width===t.width&&e.height===t.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},t.prototype.getLocalBounds=function(t){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._x),t||(this._localBoundsRect||(this._localBoundsRect=new l.Rectangle),t=this._localBoundsRect),this._bounds.getRectangle(t)):e.prototype.getLocalBounds.call(this,t)},t.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,g);var t=this._texture.orig.width,n=this._texture.orig.height,i=-t*this.anchor.x,r=0;return g.x>i&&g.x<i+t&&(r=-n*this.anchor.y,g.y>r&&g.y<r+n)},t.prototype.destroy=function(t){e.prototype.destroy.call(this,t),this._anchor=null;var n="boolean"==typeof t?t:t&&t.texture;if(n){var i="boolean"==typeof t?t:t&&t.baseTexture;this._texture.destroy(!!i)}this._texture=null,this.shader=null},t.from=function(e){return new t(p.default.from(e))},t.fromFrame=function(e){var n=c.TextureCache[e];if(!n)throw new Error('The frameId "'+e+'" does not exist in the texture cache');return new t(n)},t.fromImage=function(e,n,i){return new t(p.default.fromImage(e,n,i))},s(t,[{key:"width",get:function(){return Math.abs(this.scale.x)*this.texture.orig.width},set:function(e){var t=(0,c.sign)(this.scale.x)||1;this.scale.x=t*e/this.texture.orig.width,this._width=e}},{key:"height",get:function(){return Math.abs(this.scale.y)*this.texture.orig.height},set:function(e){var t=(0,c.sign)(this.scale.y)||1;this.scale.y=t*e/this.texture.orig.height,this._height=e}},{key:"anchor",get:function(){return this._anchor},set:function(e){this._anchor.copy(e)}},{key:"tint",get:function(){return this._tint},set:function(e){this._tint=e,this._tintRGB=(e>>16)+(65280&e)+((255&e)<<16)}},{key:"texture",get:function(){return this._texture},set:function(e){this._texture!==e&&(this._texture=e,this.cachedTint=16777215,this._textureID=-1,e&&(e.baseTexture.hasLoaded?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}]),t}(f.default);n.default=m},{"../const":42,"../display/Container":44,"../math":66,"../textures/Texture":109,"../utils":117}],99:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=e("../../renderers/canvas/CanvasRenderer"),a=i(o),s=e("../../const"),l=e("../../math"),c=e("./CanvasTinter"),u=i(c),d=new l.Matrix,p=function(){function e(t){r(this,e),this.renderer=t}return e.prototype.render=function(e){var t=e._texture,n=this.renderer,i=t._frame.width,r=t._frame.height,o=e.transform.worldTransform,a=0,c=0;if(!(t.orig.width<=0||t.orig.height<=0)&&t.baseTexture.source&&(n.setBlendMode(e.blendMode),t.valid)){n.context.globalAlpha=e.worldAlpha;var p=t.baseTexture.scaleMode===s.SCALE_MODES.LINEAR;n.smoothProperty&&n.context[n.smoothProperty]!==p&&(n.context[n.smoothProperty]=p),t.trim?(a=t.trim.width/2+t.trim.x-e.anchor.x*t.orig.width,c=t.trim.height/2+t.trim.y-e.anchor.y*t.orig.height):(a=(.5-e.anchor.x)*t.orig.width,c=(.5-e.anchor.y)*t.orig.height),t.rotate&&(o.copy(d),o=d,l.GroupD8.matrixAppendRotationInv(o,t.rotate,a,c),a=0,c=0),a-=i/2,c-=r/2,n.roundPixels?(n.context.setTransform(o.a,o.b,o.c,o.d,o.tx*n.resolution|0,o.ty*n.resolution|0),a=0|a,c=0|c):n.context.setTransform(o.a,o.b,o.c,o.d,o.tx*n.resolution,o.ty*n.resolution);var h=t.baseTexture.resolution;16777215!==e.tint?(e.cachedTint!==e.tint&&(e.cachedTint=e.tint,e.tintedTexture=u.default.getTintedTexture(e,e.tint)),n.context.drawImage(e.tintedTexture,0,0,i*h,r*h,a*n.resolution,c*n.resolution,i*n.resolution,r*n.resolution)):n.context.drawImage(t.baseTexture.source,t._frame.x*h,t._frame.y*h,i*h,r*h,a*n.resolution,c*n.resolution,i*n.resolution,r*n.resolution)}},e.prototype.destroy=function(){this.renderer=null},e}();n.default=p,a.default.registerPlugin("sprite",p)},{"../../const":42,"../../math":66,"../../renderers/canvas/CanvasRenderer":73,"./CanvasTinter":100}],100:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var r=e("../../utils"),o=e("../../renderers/canvas/utils/canUseNewCanvasBlendModes"),a=i(o),s={getTintedTexture:function(e,t){var n=e.texture;t=s.roundColor(t);var i="#"+("00000"+(0|t).toString(16)).substr(-6);if(n.tintCache=n.tintCache||{},n.tintCache[i])return n.tintCache[i];var r=s.canvas||document.createElement("canvas");if(s.tintMethod(n,t,r),s.convertTintToImage){var o=new Image;o.src=r.toDataURL(),n.tintCache[i]=o}else n.tintCache[i]=r,s.canvas=null;return r},tintWithMultiply:function(e,t,n){var i=n.getContext("2d"),r=e._frame.clone(),o=e.baseTexture.resolution;r.x*=o,r.y*=o,r.width*=o,r.height*=o,n.width=r.width,n.height=r.height,i.fillStyle="#"+("00000"+(0|t).toString(16)).substr(-6),i.fillRect(0,0,r.width,r.height),i.globalCompositeOperation="multiply",i.drawImage(e.baseTexture.source,r.x,r.y,r.width,r.height,0,0,r.width,r.height),i.globalCompositeOperation="destination-atop",i.drawImage(e.baseTexture.source,r.x,r.y,r.width,r.height,0,0,r.width,r.height)},tintWithOverlay:function(e,t,n){var i=n.getContext("2d"),r=e._frame.clone(),o=e.baseTexture.resolution;r.x*=o,r.y*=o,r.width*=o,r.height*=o,n.width=r.width,n.height=r.height,i.globalCompositeOperation="copy",i.fillStyle="#"+("00000"+(0|t).toString(16)).substr(-6),i.fillRect(0,0,r.width,r.height),i.globalCompositeOperation="destination-atop",i.drawImage(e.baseTexture.source,r.x,r.y,r.width,r.height,0,0,r.width,r.height)},tintWithPerPixel:function(e,t,n){var i=n.getContext("2d"),o=e._frame.clone(),a=e.baseTexture.resolution;o.x*=a,o.y*=a,o.width*=a,o.height*=a,n.width=o.width,n.height=o.height,i.globalCompositeOperation="copy",i.drawImage(e.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height);for(var s=(0,r.hex2rgb)(t),l=s[0],c=s[1],u=s[2],d=i.getImageData(0,0,o.width,o.height),p=d.data,h=0;h<p.length;h+=4)p[h+0]*=l,p[h+1]*=c,p[h+2]*=u;i.putImageData(d,0,0)},roundColor:function(e){var t=s.cacheStepsPerColorChannel,n=(0,r.hex2rgb)(e);return n[0]=Math.min(255,n[0]/t*t),n[1]=Math.min(255,n[1]/t*t),n[2]=Math.min(255,n[2]/t*t),(0,r.rgb2hex)(n)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:(0,a.default)(),tintMethod:0};s.tintMethod=s.canUseMultiply?s.tintWithMultiply:s.tintWithPerPixel,n.default=s},{"../../renderers/canvas/utils/canUseNewCanvasBlendModes":76,"../../utils":117}],101:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var r=function(){function e(t){i(this,e),this.vertices=new ArrayBuffer(t),this.float32View=new Float32Array(this.vertices),this.uint32View=new Uint32Array(this.vertices)}return e.prototype.destroy=function(){this.vertices=null,this.positions=null,this.uvs=null,this.colors=null},e}();n.default=r},{}],102:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../../renderers/webgl/utils/ObjectRenderer"),l=i(s),c=e("../../renderers/webgl/WebGLRenderer"),u=i(c),d=e("../../utils/createIndicesForQuads"),p=i(d),h=e("./generateMultiTextureShader"),f=i(h),g=e("../../renderers/webgl/utils/checkMaxIfStatmentsInShader"),m=i(g),v=e("./BatchBuffer"),_=i(v),y=e("../../settings"),E=i(y),b=e("pixi-gl-core"),T=i(b),S=e("bit-twiddle"),L=i(S),A=E.default.SPRITE_BATCH_SIZE,C=E.default.SPRITE_MAX_TEXTURES,w=E.default.CAN_UPLOAD_SAME_BUFFER,x=0,O=0,D=function(e){function t(n){r(this,t);var i=o(this,e.call(this,n));i.vertSize=5,i.vertByteSize=4*i.vertSize,i.size=A,i.buffers=[];for(var a=1;a<=L.default.nextPow2(i.size);a*=2)i.buffers.push(new _.default(4*a*i.vertByteSize));i.indices=(0,p.default)(i.size),i.shader=null,i.currentIndex=0,x=0,i.groups=[];for(var s=0;s<i.size;s++)i.groups[s]={textures:[],textureCount:0,ids:[],size:0,start:0,blend:0};return i.sprites=[],i.vertexBuffers=[],i.vaos=[],i.vaoMax=2,i.vertexCount=0,i.renderer.on("prerender",i.onPrerender,i),i}return a(t,e),t.prototype.onContextChange=function(){var e=this.renderer.gl;this.MAX_TEXTURES=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),C),this.MAX_TEXTURES=(0,m.default)(this.MAX_TEXTURES,e);var t=this.shader=(0,f.default)(e,this.MAX_TEXTURES);this.indexBuffer=T.default.GLBuffer.createIndexBuffer(e,this.indices,e.STATIC_DRAW),this.renderer.bindVao(null);for(var n=0;n<this.vaoMax;n++)this.vertexBuffers[n]=T.default.GLBuffer.createVertexBuffer(e,null,e.STREAM_DRAW),this.vaos[n]=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(this.vertexBuffers[n],t.attributes.aVertexPosition,e.FLOAT,!1,this.vertByteSize,0).addAttribute(this.vertexBuffers[n],t.attributes.aTextureCoord,e.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(this.vertexBuffers[n],t.attributes.aColor,e.UNSIGNED_BYTE,!0,this.vertByteSize,12).addAttribute(this.vertexBuffers[n],t.attributes.aTextureId,e.FLOAT,!1,this.vertByteSize,16);this.vao=this.vaos[0],this.currentBlendMode=99999,this.boundTextures=new Array(this.MAX_TEXTURES)},t.prototype.onPrerender=function(){this.vertexCount=0},t.prototype.render=function(e){this.currentIndex>=this.size&&this.flush(),e.texture._uvs&&(this.sprites[this.currentIndex++]=e)},t.prototype.flush=function(){if(0!==this.currentIndex){var e=this.renderer.gl,t=this.MAX_TEXTURES,n=L.default.nextPow2(this.currentIndex),i=L.default.log2(n),r=this.buffers[i],o=this.sprites,a=this.groups,s=r.float32View,l=r.uint32View,c=this.boundTextures,u=this.renderer.boundTextures,d=this.renderer.textureGC.count,p=0,h=void 0,f=void 0,g=1,m=0,v=a[0],_=void 0,y=void 0,E=o[0].blendMode;v.textureCount=0,v.start=0,v.blend=E,x++;var b=void 0;for(b=0;b<t;++b)c[b]=u[b],c[b]._virtalBoundId=b;for(b=0;b<this.currentIndex;++b){var S=o[b];if(h=S._texture.baseTexture,E!==S.blendMode&&(E=S.blendMode,f=null,m=t,x++),f!==h&&(f=h,h._enabled!==x)){if(m===t&&(x++,v.size=b-v.start,m=0,v=a[g++],v.blend=E,v.textureCount=0,v.start=b),h.touched=d,h._virtalBoundId===-1)for(var A=0;A<t;++A){var C=(A+O)%t,D=c[C];if(D._enabled!==x){O++,D._virtalBoundId=-1,h._virtalBoundId=C,c[C]=h;break}}h._enabled=x,v.textureCount++,v.ids[m]=h._virtalBoundId,v.textures[m++]=h}if(_=S.vertexData,y=S._texture._uvs.uvsUint32,this.renderer.roundPixels){var R=this.renderer.resolution;s[p]=(_[0]*R|0)/R,s[p+1]=(_[1]*R|0)/R,s[p+5]=(_[2]*R|0)/R,s[p+6]=(_[3]*R|0)/R,s[p+10]=(_[4]*R|0)/R,s[p+11]=(_[5]*R|0)/R,s[p+15]=(_[6]*R|0)/R,s[p+16]=(_[7]*R|0)/R}else s[p]=_[0],s[p+1]=_[1],s[p+5]=_[2],s[p+6]=_[3],s[p+10]=_[4],s[p+11]=_[5],s[p+15]=_[6],s[p+16]=_[7];l[p+2]=y[0],l[p+7]=y[1],l[p+12]=y[2],l[p+17]=y[3],l[p+3]=l[p+8]=l[p+13]=l[p+18]=S._tintRGB+(255*S.worldAlpha<<24),s[p+4]=s[p+9]=s[p+14]=s[p+19]=h._virtalBoundId,p+=20}for(v.size=b-v.start,w?this.vertexBuffers[this.vertexCount].upload(r.vertices,0,!0):(this.vaoMax<=this.vertexCount&&(this.vaoMax++,this.vertexBuffers[this.vertexCount]=T.default.GLBuffer.createVertexBuffer(e,null,e.STREAM_DRAW),this.vaos[this.vertexCount]=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(this.vertexBuffers[this.vertexCount],this.shader.attributes.aVertexPosition,e.FLOAT,!1,this.vertByteSize,0).addAttribute(this.vertexBuffers[this.vertexCount],this.shader.attributes.aTextureCoord,e.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(this.vertexBuffers[this.vertexCount],this.shader.attributes.aColor,e.UNSIGNED_BYTE,!0,this.vertByteSize,12).addAttribute(this.vertexBuffers[this.vertexCount],this.shader.attributes.aTextureId,e.FLOAT,!1,this.vertByteSize,16)),this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].upload(r.vertices,0,!1),this.vertexCount++),b=0;b<t;++b)u[b]._virtalBoundId=-1;for(b=0;b<g;++b){for(var I=a[b],P=I.textureCount,N=0;N<P;N++)f=I.textures[N],u[I.ids[N]]!==f&&this.renderer.bindTexture(f,I.ids[N],!0),f._virtalBoundId=-1;this.renderer.state.setBlendMode(I.blend),e.drawElements(e.TRIANGLES,6*I.size,e.UNSIGNED_SHORT,6*I.start*2)}this.currentIndex=0}},t.prototype.start=function(){this.renderer.bindShader(this.shader),w&&(this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].bind())},t.prototype.stop=function(){this.flush()},t.prototype.destroy=function(){for(var t=0;t<this.vaoMax;t++)this.vertexBuffers[t]&&this.vertexBuffers[t].destroy(),this.vaos[t]&&this.vaos[t].destroy();this.indexBuffer&&this.indexBuffer.destroy(),this.renderer.off("prerender",this.onPrerender,this),e.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.vertexBuffers=null,this.vaos=null,this.indexBuffer=null,this.indices=null,this.sprites=null;for(var n=0;n<this.buffers.length;++n)this.buffers[n].destroy()},t}(l.default);n.default=D,u.default.registerPlugin("sprite",D)},{"../../renderers/webgl/WebGLRenderer":80,
"../../renderers/webgl/utils/ObjectRenderer":90,"../../renderers/webgl/utils/checkMaxIfStatmentsInShader":93,"../../settings":97,"../../utils/createIndicesForQuads":115,"./BatchBuffer":101,"./generateMultiTextureShader":103,"bit-twiddle":1,"pixi-gl-core":12}],103:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n",i=l;i=i.replace(/%count%/gi,t),i=i.replace(/%forloop%/gi,o(t));for(var r=new s.default(e,n,i),a=[],c=0;c<t;c++)a[c]=c;return r.bind(),r.uniforms.uSamplers=a,r}function o(e){var t="";t+="\n",t+="\n";for(var n=0;n<e;n++)n>0&&(t+="\nelse "),n<e-1&&(t+="if(textureId == "+n+".0)"),t+="\n{",t+="\n\tcolor = texture2D(uSamplers["+n+"], vTextureCoord);",t+="\n}";return t+="\n",t+="\n"}n.__esModule=!0,n.default=r;var a=e("../../Shader"),s=i(a),l=(e("path"),["varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureId;","uniform sampler2D uSamplers[%count%];","void main(void){","vec4 color;","float textureId = floor(vTextureId+0.5);","%forloop%","gl_FragColor = color * vColor;","}"].join("\n"))},{"../../Shader":41,path:22}],104:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=e("../sprites/Sprite"),c=i(l),u=e("../textures/Texture"),d=i(u),p=e("../math"),h=e("../utils"),f=e("../const"),g=e("../settings"),m=i(g),v=e("./TextStyle"),_=i(v),y=m.default.RESOLUTION,E={texture:!0,children:!1,baseTexture:!0},b=function(e){function t(n,i){r(this,t);var a=document.createElement("canvas");a.width=3,a.height=3;var s=d.default.fromCanvas(a);s.orig=new p.Rectangle,s.trim=new p.Rectangle;var l=o(this,e.call(this,s));return l.canvas=a,l.context=l.canvas.getContext("2d"),l.resolution=y,l._text=null,l._style=null,l._styleListener=null,l._font="",l.text=n,l.style=i,l.localStyleID=-1,l}return a(t,e),t.prototype.updateText=function(e){var n=this._style;if(this.localStyleID!==n.styleID&&(this.dirty=!0,this.localStyleID=n.styleID),this.dirty||!e){this._font=t.getFontStyle(n),this.context.font=this._font;for(var i=n.wordWrap?this.wordWrap(this._text):this._text,r=i.split(/(?:\r\n|\r|\n)/),o=new Array(r.length),a=0,s=t.calculateFontProperties(this._font),l=0;l<r.length;l++){var c=this.context.measureText(r[l]).width+(r[l].length-1)*n.letterSpacing;o[l]=c,a=Math.max(a,c)}var u=a+n.strokeThickness;n.dropShadow&&(u+=n.dropShadowDistance),u+=2*n.padding,this.canvas.width=Math.ceil((u+this.context.lineWidth)*this.resolution);var d=this.style.lineHeight||s.fontSize+n.strokeThickness,p=Math.max(d,s.fontSize+n.strokeThickness)+(r.length-1)*d;n.dropShadow&&(p+=n.dropShadowDistance),this.canvas.height=Math.ceil((p+2*this._style.padding)*this.resolution),this.context.scale(this.resolution,this.resolution),this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.font=this._font,this.context.strokeStyle=n.stroke,this.context.lineWidth=n.strokeThickness,this.context.textBaseline=n.textBaseline,this.context.lineJoin=n.lineJoin,this.context.miterLimit=n.miterLimit;var h=void 0,f=void 0;if(n.dropShadow){n.dropShadowBlur>0?(this.context.shadowColor=n.dropShadowColor,this.context.shadowBlur=n.dropShadowBlur):this.context.fillStyle=n.dropShadowColor;for(var g=Math.cos(n.dropShadowAngle)*n.dropShadowDistance,m=Math.sin(n.dropShadowAngle)*n.dropShadowDistance,v=0;v<r.length;v++)h=n.strokeThickness/2,f=n.strokeThickness/2+v*d+s.ascent,"right"===n.align?h+=a-o[v]:"center"===n.align&&(h+=(a-o[v])/2),n.fill&&(this.drawLetterSpacing(r[v],h+g+n.padding,f+m+n.padding),n.stroke&&n.strokeThickness&&(this.context.strokeStyle=n.dropShadowColor,this.drawLetterSpacing(r[v],h+g+n.padding,f+m+n.padding,!0),this.context.strokeStyle=n.stroke))}this.context.fillStyle=this._generateFillStyle(n,r);for(var _=0;_<r.length;_++)h=n.strokeThickness/2,f=n.strokeThickness/2+_*d+s.ascent,"right"===n.align?h+=a-o[_]:"center"===n.align&&(h+=(a-o[_])/2),n.stroke&&n.strokeThickness&&this.drawLetterSpacing(r[_],h+n.padding,f+n.padding,!0),n.fill&&this.drawLetterSpacing(r[_],h+n.padding,f+n.padding);this.updateTexture()}},t.prototype.drawLetterSpacing=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=this._style,o=r.letterSpacing;if(0===o)return void(i?this.context.strokeText(e,t,n):this.context.fillText(e,t,n));for(var a=String.prototype.split.call(e,""),s=t,l=0,c="";l<e.length;)c=a[l++],i?this.context.strokeText(c,s,n):this.context.fillText(c,s,n),s+=this.context.measureText(c).width+o},t.prototype.updateTexture=function(){var e=this._texture,t=this._style;e.baseTexture.hasLoaded=!0,e.baseTexture.resolution=this.resolution,e.baseTexture.realWidth=this.canvas.width,e.baseTexture.realHeight=this.canvas.height,e.baseTexture.width=this.canvas.width/this.resolution,e.baseTexture.height=this.canvas.height/this.resolution,e.trim.width=e._frame.width=this.canvas.width/this.resolution,e.trim.height=e._frame.height=this.canvas.height/this.resolution,e.trim.x=-t.padding,e.trim.y=-t.padding,e.orig.width=e._frame.width-2*t.padding,e.orig.height=e._frame.height-2*t.padding,this._onTextureUpdate(),e.baseTexture.emit("update",e.baseTexture),this.dirty=!1},t.prototype.renderWebGL=function(t){this.resolution!==t.resolution&&(this.resolution=t.resolution,this.dirty=!0),this.updateText(!0),e.prototype.renderWebGL.call(this,t)},t.prototype._renderCanvas=function(t){this.resolution!==t.resolution&&(this.resolution=t.resolution,this.dirty=!0),this.updateText(!0),e.prototype._renderCanvas.call(this,t)},t.prototype.wordWrap=function(e){for(var t="",n=e.split("\n"),i=this._style.wordWrapWidth,r=0;r<n.length;r++){for(var o=i,a=n[r].split(" "),s=0;s<a.length;s++){var l=this.context.measureText(a[s]).width;if(this._style.breakWords&&l>i)for(var c=a[s].split(""),u=0;u<c.length;u++){var d=this.context.measureText(c[u]).width;d>o?(t+="\n"+c[u],o=i-d):(0===u&&(t+=" "),t+=c[u],o-=d)}else{var p=l+this.context.measureText(" ").width;0===s||p>o?(s>0&&(t+="\n"),t+=a[s],o=i-l):(o-=p,t+=" "+a[s])}}r<n.length-1&&(t+="\n")}return t},t.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},t.prototype._onStyleChange=function(){this.dirty=!0},t.prototype._generateFillStyle=function(e,t){if(!Array.isArray(e.fill))return e.fill;if(navigator.isCocoonJS)return e.fill[0];var n=void 0,i=void 0,r=void 0,o=void 0,a=this.canvas.width/this.resolution,s=this.canvas.height/this.resolution;if(e.fillGradientType===f.TEXT_GRADIENT.LINEAR_VERTICAL){n=this.context.createLinearGradient(a/2,0,a/2,s),i=(e.fill.length+1)*t.length,r=0;for(var l=0;l<t.length;l++){r+=1;for(var c=0;c<e.fill.length;c++)o=r/i,n.addColorStop(o,e.fill[c]),r++}}else{n=this.context.createLinearGradient(0,s/2,a,s/2),i=e.fill.length+1,r=1;for(var u=0;u<e.fill.length;u++)o=r/i,n.addColorStop(o,e.fill[u]),r++}return n},t.prototype.destroy=function(t){"boolean"==typeof t&&(t={children:t}),t=Object.assign({},E,t),e.prototype.destroy.call(this,t),this.context=null,this.canvas=null,this._style=null},t.getFontStyle=function(e){e=e||{},e instanceof _.default||(e=new _.default(e));var t="number"==typeof e.fontSize?e.fontSize+"px":e.fontSize;return e.fontStyle+" "+e.fontVariant+" "+e.fontWeight+" "+t+" "+e.fontFamily},t.calculateFontProperties=function(e){if(t.fontPropertiesCache[e])return t.fontPropertiesCache[e];var n={},i=t.fontPropertiesCanvas,r=t.fontPropertiesContext;r.font=e;var o=Math.ceil(r.measureText("|MÉq").width),a=Math.ceil(r.measureText("M").width),s=2*a;a=1.4*a|0,i.width=o,i.height=s,r.fillStyle="#f00",r.fillRect(0,0,o,s),r.font=e,r.textBaseline="alphabetic",r.fillStyle="#000",r.fillText("|MÉq",0,a);var l=r.getImageData(0,0,o,s).data,c=l.length,u=4*o,d=0,p=0,h=!1;for(d=0;d<a;++d){for(var f=0;f<u;f+=4)if(255!==l[p+f]){h=!0;break}if(h)break;p+=u}for(n.ascent=a-d,p=c-u,h=!1,d=s;d>a;--d){for(var g=0;g<u;g+=4)if(255!==l[p+g]){h=!0;break}if(h)break;p-=u}return n.descent=d-a,n.fontSize=n.ascent+n.descent,t.fontPropertiesCache[e]=n,n},s(t,[{key:"width",get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this.texture.orig.width},set:function(e){this.updateText(!0);var t=(0,h.sign)(this.scale.x)||1;this.scale.x=t*e/this.texture.orig.width,this._width=e}},{key:"height",get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){this.updateText(!0);var t=(0,h.sign)(this.scale.y)||1;this.scale.y=t*e/this.texture.orig.height,this._height=e}},{key:"style",get:function(){return this._style},set:function(e){e=e||{},e instanceof _.default?this._style=e:this._style=new _.default(e),this.localStyleID=-1,this.dirty=!0}},{key:"text",get:function(){return this._text},set:function(e){e=e||" ",e=e.toString(),this._text!==e&&(this._text=e,this.dirty=!0)}}]),t}(c.default);n.default=b,b.fontPropertiesCache={},b.fontPropertiesCanvas=document.createElement("canvas"),b.fontPropertiesContext=b.fontPropertiesCanvas.getContext("2d")},{"../const":42,"../math":66,"../settings":97,"../sprites/Sprite":98,"../textures/Texture":109,"../utils":117,"./TextStyle":105}],105:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){if("number"==typeof e)return(0,s.hex2string)(e);if(Array.isArray(e))for(var t=0;t<e.length;++t)"number"==typeof e[t]&&(e[t]=(0,s.hex2string)(e[t]));return e}n.__esModule=!0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("../const"),s=e("../utils"),l={align:"left",breakWords:!1,dropShadow:!1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"#000000",dropShadowDistance:5,fill:"black",fillGradientType:a.TEXT_GRADIENT.LINEAR_VERTICAL,fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",wordWrap:!1,wordWrapWidth:100},c=function(){function e(t){i(this,e),this.styleID=0,Object.assign(this,l,t)}return e.prototype.clone=function(){var t={};for(var n in this._defaults)t[n]=this[n];return new e(t)},e.prototype.reset=function(){Object.assign(this,this._defaults)},o(e,[{key:"align",get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.styleID++)}},{key:"breakWords",get:function(){return this._breakWords},set:function(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}},{key:"dropShadow",get:function(){return this._dropShadow},set:function(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}},{key:"dropShadowAngle",get:function(){return this._dropShadowAngle},set:function(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}},{key:"dropShadowBlur",get:function(){return this._dropShadowBlur},set:function(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}},{key:"dropShadowColor",get:function(){return this._dropShadowColor},set:function(e){var t=r(e);this._dropShadowColor!==t&&(this._dropShadowColor=t,this.styleID++)}},{key:"dropShadowDistance",get:function(){return this._dropShadowDistance},set:function(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}},{key:"fill",get:function(){return this._fill},set:function(e){var t=r(e);this._fill!==t&&(this._fill=t,this.styleID++)}},{key:"fillGradientType",get:function(){return this._fillGradientType},set:function(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}},{key:"fontFamily",get:function(){return this._fontFamily},set:function(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}},{key:"fontSize",get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}},{key:"fontStyle",get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}},{key:"fontVariant",get:function(){return this._fontVariant},set:function(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}},{key:"lineHeight",get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}},{key:"lineJoin",get:function(){return this._lineJoin},set:function(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}},{key:"miterLimit",get:function(){return this._miterLimit},set:function(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}},{key:"padding",get:function(){return this._padding},set:function(e){this._padding!==e&&(this._padding=e,this.styleID++)}},{key:"stroke",get:function(){return this._stroke},set:function(e){var t=r(e);this._stroke!==t&&(this._stroke=t,this.styleID++)}},{key:"strokeThickness",get:function(){return this._strokeThickness},set:function(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}},{key:"textBaseline",get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}},{key:"wordWrap",get:function(){return this._wordWrap},set:function(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}},{key:"wordWrapWidth",get:function(){return this._wordWrapWidth},set:function(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}}]),e}();n.default=c},{"../const":42,"../utils":117}],106:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("./BaseTexture"),l=i(s),c=e("../settings"),u=i(c),d=u.default.RESOLUTION,p=u.default.SCALE_MODE,h=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,a=arguments[2],s=arguments[3];r(this,t);var l=o(this,e.call(this,null,a));return l.resolution=s||d,l.width=n,l.height=i,l.realWidth=l.width*l.resolution,l.realHeight=l.height*l.resolution,l.scaleMode=a||p,l.hasLoaded=!0,l._glRenderTargets={},l._canvasRenderTarget=null,l.valid=!1,l}return a(t,e),t.prototype.resize=function(e,t){e===this.width&&t===this.height||(this.valid=e>0&&t>0,this.width=e,this.height=t,this.realWidth=this.width*this.resolution,this.realHeight=this.height*this.resolution,this.valid&&this.emit("update",this))},t.prototype.destroy=function(){e.prototype.destroy.call(this,!0),this.renderer=null},t}(l.default);n.default=h},{"../settings":97,"./BaseTexture":107}],107:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=e("../utils"),c=e("../settings"),u=i(c),d=e("eventemitter3"),p=i(d),h=e("../utils/determineCrossOrigin"),f=i(h),g=e("bit-twiddle"),m=i(g),v=u.default.RESOLUTION,_=u.default.MIPMAP_TEXTURES,y=u.default.SCALE_MODE,E=u.default.WRAP_MODE,b=function(e){function t(n,i,a){r(this,t);var s=o(this,e.call(this));return s.uid=(0,l.uid)(),s.touched=0,s.resolution=a||v,s.width=100,s.height=100,s.realWidth=100,s.realHeight=100,s.scaleMode=i||y,s.hasLoaded=!1,s.isLoading=!1,s.source=null,s.origSource=null,s.imageType=null,s.sourceScale=1,s.premultipliedAlpha=!0,s.imageUrl=null,s.isPowerOfTwo=!1,s.mipmap=_,s.wrapMode=E,s._glTextures={},s._enabled=0,s._virtalBoundId=-1,n&&s.loadSource(n),s}return a(t,e),t.prototype.update=function(){"svg"!==this.imageType&&(this.realWidth=this.source.naturalWidth||this.source.videoWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.videoHeight||this.source.height,this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=m.default.isPow2(this.realWidth)&&m.default.isPow2(this.realHeight)),this.emit("update",this)},t.prototype.loadSource=function(e){var t=this,n=this.isLoading;this.hasLoaded=!1,this.isLoading=!1,n&&this.source&&(this.source.onload=null,this.source.onerror=null);var i=!this.source;if(this.source=e,(e.src&&e.complete||e.getContext)&&e.width&&e.height)this._updateImageType(),"svg"===this.imageType?this._loadSvgSource():this._sourceLoaded(),i&&this.emit("loaded",this);else if(!e.getContext){var r=function(){t.isLoading=!0;var i=t;if(e.onload=function(){if(i._updateImageType(),e.onload=null,e.onerror=null,i.isLoading)return i.isLoading=!1,i._sourceLoaded(),"svg"===i.imageType?void i._loadSvgSource():void i.emit("loaded",i)},e.onerror=function(){e.onload=null,e.onerror=null,i.isLoading&&(i.isLoading=!1,i.emit("error",i))},e.complete&&e.src){if(e.onload=null,e.onerror=null,"svg"===i.imageType)return i._loadSvgSource(),{v:void 0};t.isLoading=!1,e.width&&e.height?(t._sourceLoaded(),n&&t.emit("loaded",t)):n&&t.emit("error",t)}}();if("object"===("undefined"==typeof r?"undefined":s(r)))return r.v}},t.prototype._updateImageType=function(){if(this.imageUrl){var e=(0,l.decomposeDataUri)(this.imageUrl),t=void 0;if(e&&"image"===e.mediaType){var n=e.subType.split("+")[0];if(t=(0,l.getUrlFileExtension)("."+n),!t)throw new Error("Invalid image type in data URI.")}else t=(0,l.getUrlFileExtension)(this.imageUrl),t||(t="png");this.imageType=t}},t.prototype._loadSvgSource=function(){if("svg"===this.imageType){var e=(0,l.decomposeDataUri)(this.imageUrl);e?this._loadSvgSourceUsingDataUri(e):this._loadSvgSourceUsingXhr()}},t.prototype._loadSvgSourceUsingDataUri=function(e){var t=void 0;if("base64"===e.encoding){if(!atob)throw new Error("Your browser doesn't support base64 conversions.");t=atob(e.data)}else t=e.data;this._loadSvgSourceUsingString(t)},t.prototype._loadSvgSourceUsingXhr=function(){var e=this,t=new XMLHttpRequest;t.onload=function(){if(t.readyState!==t.DONE||200!==t.status)throw new Error("Failed to load SVG using XHR.");e._loadSvgSourceUsingString(t.response)},t.onerror=function(){return e.emit("error",e)},t.open("GET",this.imageUrl,!0),t.send()},t.prototype._loadSvgSourceUsingString=function(e){var t=(0,l.getSvgSize)(e),n=t.width,i=t.height;if(!n||!i)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");this.realWidth=Math.round(n*this.sourceScale),this.realHeight=Math.round(i*this.sourceScale),this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=m.default.isPow2(this.realWidth)&&m.default.isPow2(this.realHeight);var r=document.createElement("canvas");r.width=this.realWidth,r.height=this.realHeight,r._pixiId="canvas_"+(0,l.uid)(),r.getContext("2d").drawImage(this.source,0,0,n,i,0,0,this.realWidth,this.realHeight),this.origSource=this.source,this.source=r,l.BaseTextureCache[r._pixiId]=this,this.isLoading=!1,this._sourceLoaded(),this.emit("loaded",this)},t.prototype._sourceLoaded=function(){this.hasLoaded=!0,this.update()},t.prototype.destroy=function(){this.imageUrl&&(delete l.BaseTextureCache[this.imageUrl],delete l.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src="")),this.source&&this.source._pixiId&&delete l.BaseTextureCache[this.source._pixiId],this.source=null,this.dispose()},t.prototype.dispose=function(){this.emit("dispose",this)},t.prototype.updateSourceImage=function(e){this.source.src=e,this.loadSource(this.source)},t.fromImage=function(e,n,i,r){var o=l.BaseTextureCache[e];if(!o){var a=new Image;void 0===n&&0!==e.indexOf("data:")&&(a.crossOrigin=(0,f.default)(e)),o=new t(a,i),o.imageUrl=e,r&&(o.sourceScale=r),o.resolution=(0,l.getResolutionOfUrl)(e),a.src=e,l.BaseTextureCache[e]=o}return o},t.fromCanvas=function(e,n){e._pixiId||(e._pixiId="canvas_"+(0,l.uid)());var i=l.BaseTextureCache[e._pixiId];return i||(i=new t(e,n),l.BaseTextureCache[e._pixiId]=i),i},t}(p.default);n.default=b},{"../settings":97,"../utils":117,"../utils/determineCrossOrigin":116,"bit-twiddle":1,eventemitter3:3}],108:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("./BaseRenderTexture"),l=i(s),c=e("./Texture"),u=i(c),d=function(e){function t(n,i){r(this,t);var a=null;if(!(n instanceof l.default)){var s=arguments[1],c=arguments[2],u=arguments[3]||0,d=arguments[4]||1;console.warn("Please use RenderTexture.create("+s+", "+c+") instead of the ctor directly."),a=arguments[0],i=null,n=new l.default(s,c,u,d)}var p=o(this,e.call(this,n,i));return p.legacyRenderer=a,p.valid=!0,p._updateUvs(),p}return a(t,e),t.prototype.resize=function(e,t,n){this.valid=e>0&&t>0,this._frame.width=this.orig.width=e,this._frame.height=this.orig.height=t,n||this.baseTexture.resize(e,t),this._updateUvs()},t.create=function(e,n,i,r){return new t(new l.default(e,n,i,r))},t}(u.default);n.default=d},{"./BaseRenderTexture":106,"./Texture":109}],109:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=e("./BaseTexture"),c=i(l),u=e("./VideoBaseTexture"),d=i(u),p=e("./TextureUvs"),h=i(p),f=e("eventemitter3"),g=i(f),m=e("../math"),v=e("../utils"),_=function(e){function t(n,i,a,s,l){r(this,t);var c=o(this,e.call(this));if(c.noFrame=!1,i||(c.noFrame=!0,i=new m.Rectangle(0,0,1,1)),n instanceof t&&(n=n.baseTexture),c.baseTexture=n,c._frame=i,c.trim=s,c.valid=!1,c.requiresUpdate=!1,c._uvs=null,c.orig=a||i,c._rotate=Number(l||0),l===!0)c._rotate=2;else if(c._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return n.hasLoaded?(c.noFrame&&(i=new m.Rectangle(0,0,n.width,n.height),n.on("update",c.onBaseTextureUpdated,c)),c.frame=i):n.once("loaded",c.onBaseTextureLoaded,c),c._updateID=0,c.transform=null,c}return a(t,e),t.prototype.update=function(){this.baseTexture.update()},t.prototype.onBaseTextureLoaded=function(e){this._updateID++,this.noFrame?this.frame=new m.Rectangle(0,0,e.width,e.height):this.frame=this._frame,this.baseTexture.on("update",this.onBaseTextureUpdated,this),this.emit("update",this)},t.prototype.onBaseTextureUpdated=function(e){this._updateID++,this._frame.width=e.width,this._frame.height=e.height,this.emit("update",this)},t.prototype.destroy=function(e){this.baseTexture&&(e&&(v.TextureCache[this.baseTexture.imageUrl]&&delete v.TextureCache[this.baseTexture.imageUrl],this.baseTexture.destroy()),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture.off("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,this.off("dispose",this.dispose,this),this.off("update",this.update,this)},t.prototype.clone=function(){return new t(this.baseTexture,this.frame,this.orig,this.trim,this.rotate)},t.prototype._updateUvs=function(){this._uvs||(this._uvs=new h.default),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},t.fromImage=function(e,n,i,r){var o=v.TextureCache[e];return o||(o=new t(c.default.fromImage(e,n,i,r)),v.TextureCache[e]=o),o},t.fromFrame=function(e){var t=v.TextureCache[e];if(!t)throw new Error('The frameId "'+e+'" does not exist in the texture cache');return t},t.fromCanvas=function(e,n){return new t(c.default.fromCanvas(e,n))},t.fromVideo=function(e,n){return"string"==typeof e?t.fromVideoUrl(e,n):new t(d.default.fromVideo(e,n))},t.fromVideoUrl=function(e,n){return new t(d.default.fromUrl(e,n))},t.from=function(e){if("string"==typeof e){var n=v.TextureCache[e];if(!n){var i=null!==e.match(/\.(mp4|webm|ogg|h264|avi|mov)$/);return i?t.fromVideoUrl(e):t.fromImage(e)}return n}return e instanceof HTMLImageElement?new t(new c.default(e)):e instanceof HTMLCanvasElement?t.fromCanvas(e):e instanceof HTMLVideoElement?t.fromVideo(e):e instanceof c.default?new t(e):e},t.addTextureToCache=function(e,t){v.TextureCache[t]=e},t.removeTextureFromCache=function(e){var t=v.TextureCache[e];return delete v.TextureCache[e],delete v.BaseTextureCache[e],t},s(t,[{key:"frame",get:function(){return this._frame},set:function(e){if(this._frame=e,this.noFrame=!1,e.x+e.width>this.baseTexture.width||e.y+e.height>this.baseTexture.height)throw new Error("Texture Error: frame does not fit inside the base Texture dimensions "+this);this.valid=e&&e.width&&e.height&&this.baseTexture.hasLoaded,this.trim||this.rotate||(this.orig=e),this.valid&&this._updateUvs()}},{key:"rotate",get:function(){return this._rotate},set:function(e){this._rotate=e,this.valid&&this._updateUvs()}},{key:"width",get:function(){return this.orig?this.orig.width:0}},{key:"height",get:function(){return this.orig?this.orig.height:0}}]),t}(g.default);n.default=_,_.EMPTY=new _(new c.default),_.EMPTY.destroy=function(){},_.EMPTY.on=function(){},_.EMPTY.once=function(){},_.EMPTY.emit=function(){}},{"../math":66,"../utils":117,"./BaseTexture":107,"./TextureUvs":110,"./VideoBaseTexture":111,eventemitter3:3}],110:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=e("../math/GroupD8"),a=i(o),s=function(){function e(){r(this,e),this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsUint32=new Uint32Array(4)}return e.prototype.set=function(e,t,n){var i=t.width,r=t.height;if(n){var o=e.width/2/i,s=e.height/2/r,l=e.x/i+o,c=e.y/r+s;n=a.default.add(n,a.default.NW),this.x0=l+o*a.default.uX(n),this.y0=c+s*a.default.uY(n),n=a.default.add(n,2),this.x1=l+o*a.default.uX(n),this.y1=c+s*a.default.uY(n),n=a.default.add(n,2),this.x2=l+o*a.default.uX(n),this.y2=c+s*a.default.uY(n),n=a.default.add(n,2),this.x3=l+o*a.default.uX(n),this.y3=c+s*a.default.uY(n)}else this.x0=e.x/i,this.y0=e.y/r,this.x1=(e.x+e.width)/i,this.y1=e.y/r,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/r,this.x3=e.x/i,this.y3=(e.y+e.height)/r;this.uvsUint32[0]=(65535*this.y0&65535)<<16|65535*this.x0&65535,this.uvsUint32[1]=(65535*this.y1&65535)<<16|65535*this.x1&65535,this.uvsUint32[2]=(65535*this.y2&65535)<<16|65535*this.x2&65535,this.uvsUint32[3]=(65535*this.y3&65535)<<16|65535*this.x3&65535},e}();n.default=s},{"../math/GroupD8":62}],111:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){t||(t="video/"+e.substr(e.lastIndexOf(".")+1));var n=document.createElement("source");return n.src=e,n.type=t,n}n.__esModule=!0;var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=e("./BaseTexture"),d=r(u),p=e("../utils"),h=e("../ticker"),f=i(h),g=function(e){function t(n,i){if(o(this,t),!n)throw new Error("No video source element specified.");(n.readyState===n.HAVE_ENOUGH_DATA||n.readyState===n.HAVE_FUTURE_DATA)&&n.width&&n.height&&(n.complete=!0);var r=a(this,e.call(this,n,i));return r.width=n.videoWidth,r.height=n.videoHeight,r._autoUpdate=!0,r._isAutoUpdating=!1,r.autoPlay=!0,r.update=r.update.bind(r),r._onCanPlay=r._onCanPlay.bind(r),n.addEventListener("play",r._onPlayStart.bind(r)),n.addEventListener("pause",r._onPlayStop.bind(r)),r.hasLoaded=!1,r.__loaded=!1,r._isSourceReady()?r._onCanPlay():(n.addEventListener("canplay",r._onCanPlay),
n.addEventListener("canplaythrough",r._onCanPlay)),r}return s(t,e),t.prototype._isSourcePlaying=function(){var e=this.source;return e.currentTime>0&&e.paused===!1&&e.ended===!1&&e.readyState>2},t.prototype._isSourceReady=function(){return 3===this.source.readyState||4===this.source.readyState},t.prototype._onPlayStart=function(){this.hasLoaded||this._onCanPlay(),!this._isAutoUpdating&&this.autoUpdate&&(f.shared.add(this.update,this),this._isAutoUpdating=!0)},t.prototype._onPlayStop=function(){this._isAutoUpdating&&(f.shared.remove(this.update,this),this._isAutoUpdating=!1)},t.prototype._onCanPlay=function(){this.hasLoaded=!0,this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.__loaded||(this.__loaded=!0,this.emit("loaded",this)),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.source.play())},t.prototype.destroy=function(){this._isAutoUpdating&&f.shared.remove(this.update,this),this.source&&this.source._pixiId&&(delete p.BaseTextureCache[this.source._pixiId],delete this.source._pixiId),e.prototype.destroy.call(this)},t.fromVideo=function(e,n){e._pixiId||(e._pixiId="video_"+(0,p.uid)());var i=p.BaseTextureCache[e._pixiId];return i||(i=new t(e,n),p.BaseTextureCache[e._pixiId]=i),i},t.fromUrl=function(e,n){var i=document.createElement("video");if(i.setAttribute("webkit-playsinline",""),i.setAttribute("playsinline",""),Array.isArray(e))for(var r=0;r<e.length;++r)i.appendChild(l(e[r].src||e[r],e[r].mime));else i.appendChild(l(e.src||e,e.mime));return i.load(),t.fromVideo(i,n)},c(t,[{key:"autoUpdate",get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isAutoUpdating?(f.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(f.shared.add(this.update,this),this._isAutoUpdating=!0))}}]),t}(d.default);n.default=g,g.fromUrls=g.fromUrl},{"../ticker":113,"../utils":117,"./BaseTexture":107}],112:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("../settings"),s=i(a),l=e("eventemitter3"),c=i(l),u="tick",d=s.default.TARGET_FPMS,p=function(){function e(){var t=this;r(this,e),this._emitter=new c.default,this._requestId=null,this._maxElapsedMS=100,this.autoStart=!1,this.deltaTime=1,this.elapsedMS=1/d,this.lastTime=0,this.speed=1,this.started=!1,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._emitter.listeners(u,!0)&&(t._requestId=requestAnimationFrame(t._tick)))}}return e.prototype._requestIfNeeded=function(){null===this._requestId&&this._emitter.listeners(u,!0)&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))},e.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},e.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},e.prototype.add=function(e,t){return this._emitter.on(u,e,t),this._startIfPossible(),this},e.prototype.addOnce=function(e,t){return this._emitter.once(u,e,t),this._startIfPossible(),this},e.prototype.remove=function(e,t){return this._emitter.off(u,e,t),this._emitter.listeners(u,!0)||this._cancelIfNeeded(),this},e.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},e.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},e.prototype.update=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:performance.now(),t=void 0;e>this.lastTime?(t=this.elapsedMS=e-this.lastTime,t>this._maxElapsedMS&&(t=this._maxElapsedMS),this.deltaTime=t*d*this.speed,this._emitter.emit(u,this.deltaTime)):this.deltaTime=this.elapsedMS=0,this.lastTime=e},o(e,[{key:"FPS",get:function(){return 1e3/this.elapsedMS}},{key:"minFPS",get:function(){return 1e3/this._maxElapsedMS},set:function(e){var t=Math.min(Math.max(0,e)/1e3,d);this._maxElapsedMS=1/t}}]),e}();n.default=p},{"../settings":97,eventemitter3:3}],113:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0,n.Ticker=n.shared=void 0;var r=e("./Ticker"),o=i(r),a=new o.default;a.autoStart=!0,n.shared=a,n.Ticker=o.default},{"./Ticker":112}],114:[function(e,t,n){"use strict";function i(){var e=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform);return!e}n.__esModule=!0,n.default=i},{}],115:[function(e,t,n){"use strict";function i(e){for(var t=6*e,n=new Uint16Array(t),i=0,r=0;i<t;i+=6,r+=4)n[i+0]=r+0,n[i+1]=r+1,n[i+2]=r+2,n[i+3]=r+0,n[i+4]=r+2,n[i+5]=r+3;return n}n.__esModule=!0,n.default=i},{}],116:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location;if(0===e.indexOf("data:"))return"";t=t||window.location,s||(s=document.createElement("a")),s.href=e,e=a.default.parse(s.href);var n=!e.port&&""===t.port||e.port===t.port;return e.hostname===t.hostname&&n&&e.protocol===t.protocol?"":"anonymous"}n.__esModule=!0,n.default=r;var o=e("url"),a=i(o),s=void 0},{url:28}],117:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function o(){return++w}function a(e,t){return t=t||[],t[0]=(e>>16&255)/255,t[1]=(e>>8&255)/255,t[2]=(255&e)/255,t}function s(e){return e=e.toString(16),e="000000".substr(0,6-e.length)+e,"#"+e}function l(e){return(255*e[0]<<16)+(255*e[1]<<8)+255*e[2]}function c(e){var t=E.default.RETINA_PREFIX.exec(e);return t?parseFloat(t[1]):1}function u(e){var t=_.DATA_URI.exec(e);if(t)return{mediaType:t[1]?t[1].toLowerCase():void 0,subType:t[2]?t[2].toLowerCase():void 0,encoding:t[3]?t[3].toLowerCase():void 0,data:t[4]}}function d(e){var t=_.URL_FILE_EXTENSION.exec(e);if(t)return t[1].toLowerCase()}function p(e){var t=_.SVG_SIZE.exec(e),n={};return t&&(n[t[1]]=Math.round(parseFloat(t[3])),n[t[5]]=Math.round(parseFloat(t[7]))),n}function h(){x=!0}function f(e){if(!x){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var t=["\n %c %c %c Pixi.js "+_.VERSION+" - ✰ "+e+" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,t)}else window.console&&window.console.log("Pixi.js "+_.VERSION+" - "+e+" - http://www.pixijs.com/");x=!0}}function g(){var e={stencil:!0,failIfMajorPerformanceCaveat:!0};try{if(!window.WebGLRenderingContext)return!1;var t=document.createElement("canvas"),n=t.getContext("webgl",e)||t.getContext("experimental-webgl",e),i=!(!n||!n.getContextAttributes().stencil);if(n){var r=n.getExtension("WEBGL_lose_context");r&&r.loseContext()}return n=null,i}catch(e){return!1}}function m(e){return 0===e?0:e<0?-1:1}function v(e,t,n){var i=e.length;if(!(t>=i||0===n)){n=t+n>i?i-t:n;for(var r=i-n,o=t;o<r;++o)e[o]=e[o+n];e.length=r}}n.__esModule=!0,n.BaseTextureCache=n.TextureCache=n.pluginTarget=n.EventEmitter=n.isMobile=void 0,n.uid=o,n.hex2rgb=a,n.hex2string=s,n.rgb2hex=l,n.getResolutionOfUrl=c,n.decomposeDataUri=u,n.getUrlFileExtension=d,n.getSvgSize=p,n.skipHello=h,n.sayHello=f,n.isWebGLSupported=g,n.sign=m,n.removeItems=v;var _=e("../const"),y=e("../settings"),E=r(y),b=e("eventemitter3"),T=r(b),S=e("./pluginTarget"),L=r(S),A=e("ismobilejs"),C=i(A),w=0,x=!1;n.isMobile=C,n.EventEmitter=T.default,n.pluginTarget=L.default,n.TextureCache={},n.BaseTextureCache={}},{"../const":42,"../settings":97,"./pluginTarget":119,eventemitter3:3,ismobilejs:4}],118:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){return a.default.tablet||a.default.phone?4:e}n.__esModule=!0,n.default=r;var o=e("ismobilejs"),a=i(o)},{ismobilejs:4}],119:[function(e,t,n){"use strict";function i(e){e.__plugins={},e.registerPlugin=function(t,n){e.__plugins[t]=n},e.prototype.initPlugins=function(){this.plugins=this.plugins||{};for(var t in e.__plugins)this.plugins[t]=new e.__plugins[t](this)},e.prototype.destroyPlugins=function(){for(var e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null;this.plugins=null}}n.__esModule=!0,n.default={mixin:function(e){i(e)}}},{}],120:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){}var o=e("./core"),a=i(o),s=e("./mesh"),l=i(s),c=e("./particles"),u=i(c),d=e("./extras"),p=i(d),h=e("./filters"),f=i(h),g=e("./prepare"),m=i(g);a.SpriteBatch=function(){throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.")},a.AssetLoader=function(){throw new ReferenceError("The loader system was overhauled in pixi v3, please see the new PIXI.loaders.Loader class.")},Object.defineProperties(a,{Stage:{enumerable:!0,get:function(){return r("You do not need to use a PIXI Stage any more, you can simply render any container."),a.Container}},DisplayObjectContainer:{enumerable:!0,get:function(){return r("DisplayObjectContainer has been shortened to Container, please use Container from now on."),a.Container}},Strip:{enumerable:!0,get:function(){return r("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on."),l.Mesh}},Rope:{enumerable:!0,get:function(){return r("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on."),l.Rope}},ParticleContainer:{enumerable:!0,get:function(){return r("The ParticleContainer class has been moved to particles.ParticleContainer, please use particles.ParticleContainer from now on."),u.ParticleContainer}},MovieClip:{enumerable:!0,get:function(){return r("The MovieClip class has been moved to extras.AnimatedSprite, please use extras.AnimatedSprite."),p.AnimatedSprite}},TilingSprite:{enumerable:!0,get:function(){return r("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on."),p.TilingSprite}},BitmapText:{enumerable:!0,get:function(){return r("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on."),p.BitmapText}},blendModes:{enumerable:!0,get:function(){return r("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on."),a.BLEND_MODES}},scaleModes:{enumerable:!0,get:function(){return r("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on."),a.SCALE_MODES}},BaseTextureCache:{enumerable:!0,get:function(){return r("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on."),a.utils.BaseTextureCache}},TextureCache:{enumerable:!0,get:function(){return r("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on."),a.utils.TextureCache}},math:{enumerable:!0,get:function(){return r("The math namespace is deprecated, please access members already accessible on PIXI."),a}},AbstractFilter:{enumerable:!0,get:function(){return r("AstractFilter has been renamed to Filter, please use PIXI.Filter"),a.Filter}},TransformManual:{enumerable:!0,get:function(){return r("TransformManual has been renamed to TransformBase, please update your pixi-spine"),a.TransformBase}},TARGET_FPMS:{enumerable:!0,get:function(){return r("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),a.settings.TARGET_FPMS},set:function(e){r("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),a.settings.TARGET_FPMS=e}},FILTER_RESOLUTION:{enumerable:!0,get:function(){return r("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),a.settings.FILTER_RESOLUTION},set:function(e){r("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),a.settings.FILTER_RESOLUTION=e}},RESOLUTION:{enumerable:!0,get:function(){return r("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),a.settings.RESOLUTION},set:function(e){r("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),a.settings.RESOLUTION=e}},MIPMAP_TEXTURES:{enumerable:!0,get:function(){return r("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),a.settings.MIPMAP_TEXTURES},set:function(e){r("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),a.settings.MIPMAP_TEXTURES=e}},SPRITE_BATCH_SIZE:{enumerable:!0,get:function(){return r("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),a.settings.SPRITE_BATCH_SIZE},set:function(e){r("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),a.settings.SPRITE_BATCH_SIZE=e}},SPRITE_MAX_TEXTURES:{enumerable:!0,get:function(){return r("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),a.settings.SPRITE_MAX_TEXTURES},set:function(e){r("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),a.settings.SPRITE_MAX_TEXTURES=e}},RETINA_PREFIX:{enumerable:!0,get:function(){return r("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),a.settings.RETINA_PREFIX},set:function(e){r("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),a.settings.RETINA_PREFIX=e}},DEFAULT_RENDER_OPTIONS:{enumerable:!0,get:function(){return r("PIXI.DEFAULT_RENDER_OPTIONS has been deprecated, please use PIXI.settings.DEFAULT_RENDER_OPTIONS"),a.settings.RENDER_OPTIONS}}});for(var v=[{parent:"TRANSFORM_MODE",target:"TRANSFORM_MODE"},{parent:"GC_MODES",target:"GC_MODE"},{parent:"WRAP_MODES",target:"WRAP_MODE"},{parent:"SCALE_MODES",target:"SCALE_MODE"},{parent:"PRECISION",target:"PRECISION"}],_=function(e){var t=v[e];Object.defineProperty(a[t.parent],"DEFAULT",{enumerable:!0,get:function(){return r("PIXI."+t.parent+".DEFAULT has been deprecated, please use PIXI.settings."+t.target),a.settings[t.target]},set:function(e){r("PIXI."+t.parent+".DEFAULT has been deprecated, please use PIXI.settings."+t.target),a.settings[t.target]=e}})},y=0;y<v.length;y++)_(y);Object.defineProperties(p,{MovieClip:{enumerable:!0,get:function(){return r("The MovieClip class has been renamed to AnimatedSprite, please use AnimatedSprite from now on."),p.AnimatedSprite}}}),a.DisplayObject.prototype.generateTexture=function(e,t,n){return r("generateTexture has moved to the renderer, please use renderer.generateTexture(displayObject)"),e.generateTexture(this,t,n)},a.Graphics.prototype.generateTexture=function(e,t){return r("graphics generate texture has moved to the renderer. Or to render a graphics to a texture using canvas please use generateCanvasTexture"),this.generateCanvasTexture(e,t)},a.RenderTexture.prototype.render=function(e,t,n,i){this.legacyRenderer.render(e,this,n,t,!i),r("RenderTexture.render is now deprecated, please use renderer.render(displayObject, renderTexture)")},a.RenderTexture.prototype.getImage=function(e){return r("RenderTexture.getImage is now deprecated, please use renderer.extract.image(target)"),this.legacyRenderer.extract.image(e)},a.RenderTexture.prototype.getBase64=function(e){return r("RenderTexture.getBase64 is now deprecated, please use renderer.extract.base64(target)"),this.legacyRenderer.extract.base64(e)},a.RenderTexture.prototype.getCanvas=function(e){return r("RenderTexture.getCanvas is now deprecated, please use renderer.extract.canvas(target)"),this.legacyRenderer.extract.canvas(e)},a.RenderTexture.prototype.getPixels=function(e){return r("RenderTexture.getPixels is now deprecated, please use renderer.extract.pixels(target)"),this.legacyRenderer.pixels(e)},a.Sprite.prototype.setTexture=function(e){this.texture=e,r("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;")},p.BitmapText.prototype.setText=function(e){this.text=e,r("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';")},a.Text.prototype.setText=function(e){this.text=e,r("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';")},a.Text.prototype.setStyle=function(e){this.style=e,r("setStyle is now deprecated, please use the style property, e.g : myText.style = style;")},a.Text.prototype.determineFontProperties=function(e){return r("determineFontProperties is now deprecated, please use the static calculateFontProperties method, e.g : Text.calculateFontProperties(fontStyle);"),Text.calculateFontProperties(e)},Object.defineProperties(a.TextStyle.prototype,{font:{get:function(){r("text style property 'font' is now deprecated, please use the 'fontFamily', 'fontSize', 'fontStyle', 'fontVariant' and 'fontWeight' properties from now on");var e="number"==typeof this._fontSize?this._fontSize+"px":this._fontSize;return this._fontStyle+" "+this._fontVariant+" "+this._fontWeight+" "+e+" "+this._fontFamily},set:function(e){r("text style property 'font' is now deprecated, please use the 'fontFamily','fontSize',fontStyle','fontVariant' and 'fontWeight' properties from now on"),e.indexOf("italic")>1?this._fontStyle="italic":e.indexOf("oblique")>-1?this._fontStyle="oblique":this._fontStyle="normal",e.indexOf("small-caps")>-1?this._fontVariant="small-caps":this._fontVariant="normal";var t=e.split(" "),n=-1;this._fontSize=26;for(var i=0;i<t.length;++i)if(t[i].match(/(px|pt|em|%)/)){n=i,this._fontSize=t[i];break}this._fontWeight="normal";for(var o=0;o<n;++o)if(t[o].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)){this._fontWeight=t[o];break}if(n>-1&&n<t.length-1){this._fontFamily="";for(var a=n+1;a<t.length;++a)this._fontFamily+=t[a]+" ";this._fontFamily=this._fontFamily.slice(0,-1)}else this._fontFamily="Arial";this.styleID++}}}),a.Texture.prototype.setFrame=function(e){this.frame=e,r("setFrame is now deprecated, please use the frame property, e.g: myTexture.frame = frame;")},Object.defineProperties(f,{AbstractFilter:{get:function(){return r("AstractFilter has been renamed to Filter, please use PIXI.Filter"),a.AbstractFilter}},SpriteMaskFilter:{get:function(){return r("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on."),a.SpriteMaskFilter}}}),a.utils.uuid=function(){return r("utils.uuid() is deprecated, please use utils.uid() from now on."),a.utils.uid()},a.utils.canUseNewCanvasBlendModes=function(){return r("utils.canUseNewCanvasBlendModes() is deprecated, please use CanvasTinter.canUseMultiply from now on"),a.CanvasTinter.canUseMultiply};var E=!0;Object.defineProperty(a.utils,"_saidHello",{set:function(e){e&&(r("PIXI.utils._saidHello is deprecated, please use PIXI.utils.skipHello()"),this.skipHello()),E=e},get:function(){return E}}),Object.defineProperty(m.canvas,"UPLOADS_PER_FRAME",{set:function(){r("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){return r("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}}),Object.defineProperty(m.webgl,"UPLOADS_PER_FRAME",{set:function(){r("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){return r("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}})},{"./core":61,"./extras":131,"./filters":142,"./mesh":160,"./particles":163,"./prepare":173}],121:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=e("../../core"),a=i(o),s=new a.Rectangle,l=function(){function e(t){r(this,e),this.renderer=t,t.extract=this}return e.prototype.image=function e(t){var e=new Image;return e.src=this.base64(t),e},e.prototype.base64=function(e){return this.canvas(e).toDataURL()},e.prototype.canvas=function(e){var t=this.renderer,n=void 0,i=void 0,r=void 0,o=void 0;e&&(o=e instanceof a.RenderTexture?e:t.generateTexture(e)),o?(n=o.baseTexture._canvasRenderTarget.context,i=o.baseTexture._canvasRenderTarget.resolution,r=o.frame):(n=t.rootContext,r=s,r.width=this.renderer.width,r.height=this.renderer.height);var l=r.width*i,c=r.height*i,u=new a.CanvasRenderTarget(l,c),d=n.getImageData(r.x*i,r.y*i,l,c);return u.context.putImageData(d,0,0),u.canvas},e.prototype.pixels=function(e){var t=this.renderer,n=void 0,i=void 0,r=void 0,o=void 0;return e&&(o=e instanceof a.RenderTexture?e:t.generateTexture(e)),o?(n=o.baseTexture._canvasRenderTarget.context,i=o.baseTexture._canvasRenderTarget.resolution,r=o.frame):(n=t.rootContext,r=s,r.width=t.width,r.height=t.height),n.getImageData(0,0,r.width*i,r.height*i).data},e.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},e}();n.default=l,a.CanvasRenderer.registerPlugin("extract",l)},{"../../core":61}],122:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var r=e("./webgl/WebGLExtract");Object.defineProperty(n,"webgl",{enumerable:!0,get:function(){return i(r).default}});var o=e("./canvas/CanvasExtract");Object.defineProperty(n,"canvas",{enumerable:!0,get:function(){return i(o).default}})},{"./canvas/CanvasExtract":121,"./webgl/WebGLExtract":123}],123:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=e("../../core"),a=i(o),s=new a.Rectangle,l=4,c=function(){function e(t){r(this,e),this.renderer=t,t.extract=this}return e.prototype.image=function e(t){var e=new Image;return e.src=this.base64(t),e},e.prototype.base64=function(e){return this.canvas(e).toDataURL()},e.prototype.canvas=function(e){var t=this.renderer,n=void 0,i=void 0,r=void 0,o=!1,c=void 0;e&&(c=e instanceof a.RenderTexture?e:this.renderer.generateTexture(e)),c?(n=c.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID],i=n.resolution,r=c.frame,o=!1):(n=this.renderer.rootRenderTarget,i=n.resolution,o=!0,r=s,r.width=n.size.width,r.height=n.size.height);var u=r.width*i,d=r.height*i,p=new a.CanvasRenderTarget(u,d);if(n){t.bindRenderTarget(n);var h=new Uint8Array(l*u*d),f=t.gl;f.readPixels(r.x*i,r.y*i,u,d,f.RGBA,f.UNSIGNED_BYTE,h);var g=p.context.getImageData(0,0,u,d);g.data.set(h),p.context.putImageData(g,0,0),o&&(p.context.scale(1,-1),p.context.drawImage(p.canvas,0,-d))}return p.canvas},e.prototype.pixels=function(e){var t=this.renderer,n=void 0,i=void 0,r=void 0,o=void 0;e&&(o=e instanceof a.RenderTexture?e:this.renderer.generateTexture(e)),o?(n=o.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID],i=n.resolution,r=o.frame):(n=this.renderer.rootRenderTarget,i=n.resolution,r=s,r.width=n.size.width,r.height=n.size.height);var c=r.width*i,u=r.height*i,d=new Uint8Array(l*c*u);if(n){t.bindRenderTarget(n);var p=t.gl;p.readPixels(r.x*i,r.y*i,c,u,p.RGBA,p.UNSIGNED_BYTE,d)}return d},e.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},e}();n.default=c,a.WebGLRenderer.registerPlugin("extract",c)},{"../../core":61}],124:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=e("../core"),c=i(l),u=function(e){function t(n){r(this,t);var i=o(this,e.call(this,n[0]instanceof c.Texture?n[0]:n[0].texture));return i._textures=null,i._durations=null,i.textures=n,i.animationSpeed=1,i.loop=!0,i.onComplete=null,i.onFrameChange=null,i._currentTime=0,i.playing=!1,i}return a(t,e),t.prototype.stop=function(){this.playing&&(this.playing=!1,c.ticker.shared.remove(this.update,this))},t.prototype.play=function(){this.playing||(this.playing=!0,c.ticker.shared.add(this.update,this))},t.prototype.gotoAndStop=function(e){this.stop();var t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture()},t.prototype.gotoAndPlay=function(e){var t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture(),this.play()},t.prototype.update=function(e){var t=this.animationSpeed*e,n=this.currentFrame;if(null!==this._durations){var i=this._currentTime%1*this._durations[this.currentFrame];for(i+=t/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];var r=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*r,this._currentTime+=r;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=t;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&this.updateTexture()},t.prototype.updateTexture=function(){this._texture=this._textures[this.currentFrame],this._textureID=-1,this.onFrameChange&&this.onFrameChange(this.currentFrame)},t.prototype.destroy=function(){this.stop(),e.prototype.destroy.call(this)},t.fromFrames=function(e){for(var n=[],i=0;i<e.length;++i)n.push(c.Texture.fromFrame(e[i]));return new t(n)},t.fromImages=function(e){for(var n=[],i=0;i<e.length;++i)n.push(c.Texture.fromImage(e[i]));return new t(n)},s(t,[{key:"totalFrames",get:function(){return this._textures.length}},{key:"textures",get:function(){return this._textures},set:function(e){if(e[0]instanceof c.Texture)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(var t=0;t<e.length;t++)this._textures.push(e[t].texture),this._durations.push(e[t].time)}}},{key:"currentFrame",get:function(){var e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}}]),t}(c.Sprite);n.default=u},{"../core":61}],125:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=e("../core"),u=r(c),d=e("../core/math/ObservablePoint"),p=i(d),h=function(e){function t(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,t);var r=a(this,e.call(this));return r.textWidth=0,r.textHeight=0,r._glyphs=[],r._font={tint:void 0!==i.tint?i.tint:16777215,align:i.align||"left",name:null,size:0},r.font=i.font,r._text=n,r.maxWidth=0,r.maxLineHeight=0,r._anchor=new p.default(function(){r.dirty=!0},r,0,0),r.dirty=!1,r.updateText(),r}return s(t,e),t.prototype.updateText=function(){for(var e=t.fonts[this._font.name],n=this._font.size/e.size,i=new u.Point,r=[],o=[],a=null,s=0,l=0,c=0,d=-1,p=0,h=0,f=0;f<this.text.length;f++){var g=this.text.charCodeAt(f);if(/(\s)/.test(this.text.charAt(f))&&(d=f,p=s),/(?:\r\n|\r|\n)/.test(this.text.charAt(f)))o.push(s),l=Math.max(l,s),c++,i.x=0,i.y+=e.lineHeight,a=null;else if(d!==-1&&this.maxWidth>0&&i.x*n>this.maxWidth)u.utils.removeItems(r,d,f-d),f=d,d=-1,o.push(p),l=Math.max(l,p),c++,i.x=0,i.y+=e.lineHeight,a=null;else{var m=e.chars[g];m&&(a&&m.kerning[a]&&(i.x+=m.kerning[a]),r.push({texture:m.texture,line:c,charCode:g,position:new u.Point(i.x+m.xOffset,i.y+m.yOffset)}),s=i.x+(m.texture.width+m.xOffset),i.x+=m.xAdvance,h=Math.max(h,m.yOffset+m.texture.height),a=g)}}o.push(s),l=Math.max(l,s);for(var v=[],_=0;_<=c;_++){var y=0;"right"===this._font.align?y=l-o[_]:"center"===this._font.align&&(y=(l-o[_])/2),v.push(y)}for(var E=r.length,b=this.tint,T=0;T<E;T++){var S=this._glyphs[T];S?S.texture=r[T].texture:(S=new u.Sprite(r[T].texture),this._glyphs.push(S)),S.position.x=(r[T].position.x+v[r[T].line])*n,S.position.y=r[T].position.y*n,S.scale.x=S.scale.y=n,S.tint=b,S.parent||this.addChild(S)}for(var L=E;L<this._glyphs.length;++L)this.removeChild(this._glyphs[L]);if(this.textWidth=l*n,this.textHeight=(i.y+e.lineHeight)*n,0!==this.anchor.x||0!==this.anchor.y)for(var A=0;A<E;A++)this._glyphs[A].x-=this.textWidth*this.anchor.x,this._glyphs[A].y-=this.textHeight*this.anchor.y;this.maxLineHeight=h*n},t.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},t.prototype.getLocalBounds=function(){return this.validate(),e.prototype.getLocalBounds.call(this)},t.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},l(t,[{key:"tint",get:function(){return this._font.tint},set:function(e){this._font.tint="number"==typeof e&&e>=0?e:16777215,this.dirty=!0}},{key:"align",get:function(){return this._font.align},set:function(e){this._font.align=e||"left",this.dirty=!0}},{key:"anchor",get:function(){return this._anchor},set:function(e){"number"==typeof e?this._anchor.set(e):this._anchor.copy(e)}},{key:"font",get:function(){return this._font},set:function(e){e&&("string"==typeof e?(e=e.split(" "),this._font.name=1===e.length?e[0]:e.slice(1).join(" "),this._font.size=e.length>=2?parseInt(e[0],10):t.fonts[this._font.name].size):(this._font.name=e.name,this._font.size="number"==typeof e.size?e.size:parseInt(e.size,10)),this.dirty=!0)}},{key:"text",get:function(){return this._text},set:function(e){e=e.toString()||" ",
this._text!==e&&(this._text=e,this.dirty=!0)}}]),t}(u.Container);n.default=h,h.fonts={}},{"../core":61,"../core/math/ObservablePoint":64}],126:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("../core/math/Matrix"),s=i(a),l=new s.default,c=function(){function e(t,n){r(this,e),this._texture=t,this.mapCoord=new s.default,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._lastTextureID=-1,this.clampOffset=0,this.clampMargin="undefined"==typeof n?.5:n}return e.prototype.update=function(e){var t=this.texture;if(t&&t.valid&&(e||this._lastTextureID!==this.texture._updateID)){this._lastTextureID=this.texture._updateID;var n=this.texture._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);var i=t.orig,r=t.trim;r&&(l.set(i.width/r.width,0,0,i.height/r.height,-r.x/r.width,-r.y/r.height),this.mapCoord.append(l));var o=t.baseTexture,a=this.uClampFrame,s=this.clampMargin/o.resolution,c=this.clampOffset;a[0]=(t._frame.x+s+c)/o.width,a[1]=(t._frame.y+s+c)/o.height,a[2]=(t._frame.x+t._frame.width-s+c)/o.width,a[3]=(t._frame.y+t._frame.height-s+c)/o.height,this.uClampOffset[0]=c/o.realWidth,this.uClampOffset[1]=c/o.realHeight}},o(e,[{key:"texture",get:function(){return this._texture},set:function(e){this._texture=e,this._lastTextureID=-1}}]),e}();n.default=c},{"../core/math/Matrix":63}],127:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=e("../core"),u=r(c),d=e("../core/sprites/canvas/CanvasTinter"),p=i(d),h=e("./TextureTransform"),f=i(h),g=new u.Point,m=function(e){function t(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;o(this,t);var s=a(this,e.call(this,n));return s.tileTransform=new u.TransformStatic,s._width=i,s._height=r,s._canvasPattern=null,s.uvTransform=n.transform||new f.default(n),s}return s(t,e),t.prototype._onTextureUpdate=function(){this.uvTransform&&(this.uvTransform.texture=this._texture)},t.prototype._renderWebGL=function(e){var t=this._texture;t&&t.valid&&(this.tileTransform.updateLocalTransform(),this.uvTransform.update(),e.setObjectRenderer(e.plugins.tilingSprite),e.plugins.tilingSprite.render(this))},t.prototype._renderCanvas=function(e){var t=this._texture;if(t.baseTexture.hasLoaded){var n=e.context,i=this.worldTransform,r=e.resolution,o=t.baseTexture,a=t.baseTexture.resolution,s=this.tilePosition.x/this.tileScale.x%t._frame.width,l=this.tilePosition.y/this.tileScale.y%t._frame.height;if(!this._canvasPattern){var c=new u.CanvasRenderTarget(t._frame.width,t._frame.height,a);16777215!==this.tint?(this.cachedTint!==this.tint&&(this.cachedTint=this.tint,this.tintedTexture=p.default.getTintedTexture(this,this.tint)),c.context.drawImage(this.tintedTexture,0,0)):c.context.drawImage(o.source,-t._frame.x,-t._frame.y),this._canvasPattern=c.context.createPattern(c.canvas,"repeat")}n.globalAlpha=this.worldAlpha,n.setTransform(i.a*r,i.b*r,i.c*r,i.d*r,i.tx*r,i.ty*r),n.scale(this.tileScale.x/a,this.tileScale.y/a),n.translate(s+this.anchor.x*-this._width,l+this.anchor.y*-this._height),e.setBlendMode(this.blendMode),n.fillStyle=this._canvasPattern,n.fillRect(-s,-l,this._width/this.tileScale.x*a,this._height/this.tileScale.y*a)}},t.prototype._calculateBounds=function(){var e=this._width*-this._anchor._x,t=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,t,n,i)},t.prototype.getLocalBounds=function(t){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._x),t||(this._localBoundsRect||(this._localBoundsRect=new u.Rectangle),t=this._localBoundsRect),this._bounds.getRectangle(t)):e.prototype.getLocalBounds.call(this,t)},t.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,g);var t=this._width,n=this._height,i=-t*this.anchor._x;if(g.x>i&&g.x<i+t){var r=-n*this.anchor._y;if(g.y>r&&g.y<r+n)return!0}return!1},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.tileTransform=null,this.uvTransform=null},t.from=function(e,n,i){return new t(u.Texture.from(e),n,i)},t.fromFrame=function(e,n,i){var r=u.utils.TextureCache[e];if(!r)throw new Error('The frameId "'+e+'" does not exist in the texture cache '+this);return new t(r,n,i)},t.fromImage=function(e,n,i,r,o){return new t(u.Texture.fromImage(e,r,o),n,i)},l(t,[{key:"clampMargin",get:function(){return this.uvTransform.clampMargin},set:function(e){this.uvTransform.clampMargin=e,this.uvTransform.update(!0)}},{key:"tileScale",get:function(){return this.tileTransform.scale},set:function(e){this.tileTransform.scale.copy(e)}},{key:"tilePosition",get:function(){return this.tileTransform.position},set:function(e){this.tileTransform.position.copy(e)}},{key:"width",get:function(){return this._width},set:function(e){this._width=e}},{key:"height",get:function(){return this._height},set:function(e){this._height=e}}]),t}(u.Sprite);n.default=m},{"../core":61,"../core/sprites/canvas/CanvasTinter":100,"./TextureTransform":126}],128:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=e("../core"),a=i(o),s=a.DisplayObject,l=new a.Matrix;s.prototype._cacheAsBitmap=!1,s.prototype._cacheData=!1;var c=function e(){r(this,e),this.originalRenderWebGL=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalHitTest=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.sprite=null};Object.defineProperties(s.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(e){if(this._cacheAsBitmap!==e){this._cacheAsBitmap=e;var t=void 0;e?(this._cacheData||(this._cacheData=new c),t=this._cacheData,t.originalRenderWebGL=this.renderWebGL,t.originalRenderCanvas=this.renderCanvas,t.originalUpdateTransform=this.updateTransform,t.originalCalculateBounds=this._calculateBounds,t.originalGetLocalBounds=this.getLocalBounds,t.originalDestroy=this.destroy,t.originalContainsPoint=this.containsPoint,t.originalMask=this._mask,t.originalFilterArea=this.filterArea,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(t=this._cacheData,t.sprite&&this._destroyCachedDisplayObject(),this.renderWebGL=t.originalRenderWebGL,this.renderCanvas=t.originalRenderCanvas,this._calculateBounds=t.originalCalculateBounds,this.getLocalBounds=t.originalGetLocalBounds,this.destroy=t.originalDestroy,this.updateTransform=t.originalUpdateTransform,this.containsPoint=t.originalContainsPoint,this._mask=t.originalMask,this.filterArea=t.originalFilterArea)}}}}),s.prototype._renderCachedWebGL=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite._transformID=-1,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderWebGL(e))},s.prototype._initCachedDisplayObject=function(e){if(!this._cacheData||!this._cacheData.sprite){var t=this.alpha;this.alpha=1,e.currentRenderer.flush();var n=this.getLocalBounds().clone();if(this._filters){var i=this._filters[0].padding;n.pad(i)}var r=e._activeRenderTarget,o=e.filterManager.filterStack,s=a.RenderTexture.create(0|n.width,0|n.height),c=l;c.tx=-n.x,c.ty=-n.y,this.transform.worldTransform.identity(),this.renderWebGL=this._cacheData.originalRenderWebGL,e.render(this,s,!0,c,!0),e.bindRenderTarget(r),e.filterManager.filterStack=o,this.renderWebGL=this._renderCachedWebGL,this.updateTransform=this.displayObjectUpdateTransform,this._mask=null,this.filterArea=null;var u=new a.Sprite(s);u.transform.worldTransform=this.transform.worldTransform,u.anchor.x=-(n.x/n.width),u.anchor.y=-(n.y/n.height),u.alpha=t,u._bounds=this._bounds,this._calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._cacheData.sprite=u,this.transform._parentID=-1,this.updateTransform(),this.containsPoint=u.containsPoint.bind(u)}},s.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite.renderCanvas(e))},s.prototype._initCachedDisplayObjectCanvas=function(e){if(!this._cacheData||!this._cacheData.sprite){var t=this.getLocalBounds(),n=this.alpha;this.alpha=1;var i=e.context,r=a.RenderTexture.create(0|t.width,0|t.height),o=l;this.transform.worldTransform.copy(o),o.invert(),o.tx-=t.x,o.ty-=t.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,r,!0,o,!1),e.context=i,this.renderCanvas=this._renderCachedCanvas,this._calculateBounds=this._calculateCachedBounds,this._mask=null,this.filterArea=null;var s=new a.Sprite(r);s.transform.worldTransform=this.transform.worldTransform,s.anchor.x=-(t.x/t.width),s.anchor.y=-(t.y/t.height),s._bounds=this._bounds,s.alpha=n,this.updateTransform(),this.updateTransform=this.displayObjectUpdateTransform,this._cacheData.sprite=s,this.containsPoint=s.containsPoint.bind(s)}},s.prototype._calculateCachedBounds=function(){this._cacheData.sprite._calculateBounds()},s.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds()},s.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null},s.prototype._cacheAsBitmapDestroy=function(){this.cacheAsBitmap=!1,this.destroy()}},{"../core":61}],129:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var r=e("../core"),o=i(r);o.DisplayObject.prototype.name=null,o.Container.prototype.getChildByName=function(e){for(var t=0;t<this.children.length;t++)if(this.children[t].name===e)return this.children[t];return null}},{"../core":61}],130:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var r=e("../core"),o=i(r);o.DisplayObject.prototype.getGlobalPosition=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new o.Point,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.parent?this.parent.toGlobal(this.position,e,t):(e.x=this.position.x,e.y=this.position.y),e}},{"../core":61}],131:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0,n.BitmapText=n.TilingSpriteRenderer=n.TilingSprite=n.AnimatedSprite=n.TextureTransform=void 0;var r=e("./TextureTransform");Object.defineProperty(n,"TextureTransform",{enumerable:!0,get:function(){return i(r).default}});var o=e("./AnimatedSprite");Object.defineProperty(n,"AnimatedSprite",{enumerable:!0,get:function(){return i(o).default}});var a=e("./TilingSprite");Object.defineProperty(n,"TilingSprite",{enumerable:!0,get:function(){return i(a).default}});var s=e("./webgl/TilingSpriteRenderer");Object.defineProperty(n,"TilingSpriteRenderer",{enumerable:!0,get:function(){return i(s).default}});var l=e("./BitmapText");Object.defineProperty(n,"BitmapText",{enumerable:!0,get:function(){return i(l).default}}),e("./cacheAsBitmap"),e("./getChildByName"),e("./getGlobalPosition")},{"./AnimatedSprite":124,"./BitmapText":125,"./TextureTransform":126,"./TilingSprite":127,"./cacheAsBitmap":128,"./getChildByName":129,"./getGlobalPosition":130,"./webgl/TilingSpriteRenderer":132}],132:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../../core"),l=i(s),c=e("../../core/const"),u=(e("path"),new l.Matrix),d=new Float32Array(4),p=function(e){function t(n){r(this,t);var i=o(this,e.call(this,n));return i.shader=null,i.simpleShader=null,i.quad=null,i}return a(t,e),t.prototype.onContextChange=function(){var e=this.renderer.gl;this.shader=new l.Shader(e,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 sample = texture2D(uSampler, coord);\n    vec4 color = vec4(uColor.rgb * uColor.a, uColor.a);\n\n    gl_FragColor = sample * color ;\n}\n"),this.simpleShader=new l.Shader(e,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    vec4 color = vec4(uColor.rgb * uColor.a, uColor.a);\n    gl_FragColor = sample * color;\n}\n"),this.renderer.bindVao(null),this.quad=new l.Quad(e,this.renderer.state.attribState),this.quad.initVao(this.shader)},t.prototype.render=function(e){var t=this.renderer,n=this.quad;t.bindVao(n.vao);var i=n.vertices;i[0]=i[6]=e._width*-e.anchor.x,i[1]=i[3]=e._height*-e.anchor.y,i[2]=i[4]=e._width*(1-e.anchor.x),i[5]=i[7]=e._height*(1-e.anchor.y),i=n.uvs,i[0]=i[6]=-e.anchor.x,i[1]=i[3]=-e.anchor.y,i[2]=i[4]=1-e.anchor.x,i[5]=i[7]=1-e.anchor.y,n.upload();var r=e._texture,o=r.baseTexture,a=e.tileTransform.localTransform,s=e.uvTransform,p=o.isPowerOfTwo&&r.frame.width===o.width&&r.frame.height===o.height;p&&(o._glTextures[t.CONTEXT_UID]?p=o.wrapMode!==c.WRAP_MODES.CLAMP:o.wrapMode===c.WRAP_MODES.CLAMP&&(o.wrapMode=c.WRAP_MODES.REPEAT));var h=p?this.simpleShader:this.shader;t.bindShader(h);var f=r.width,g=r.height,m=e._width,v=e._height;u.set(a.a*f/m,a.b*f/v,a.c*g/m,a.d*g/v,a.tx/m,a.ty/v),u.invert(),p?u.append(s.mapCoord):(h.uniforms.uMapCoord=s.mapCoord.toArray(!0),h.uniforms.uClampFrame=s.uClampFrame,h.uniforms.uClampOffset=s.uClampOffset),h.uniforms.uTransform=u.toArray(!0);var _=d;l.utils.hex2rgb(e.tint,_),_[3]=e.worldAlpha,h.uniforms.uColor=_,h.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),h.uniforms.uSampler=t.bindTexture(r),t.setBlendMode(e.blendMode),n.vao.draw(this.renderer.gl.TRIANGLES,6,0)},t}(l.ObjectRenderer);n.default=p,l.WebGLRenderer.registerPlugin("tilingSprite",p)},{"../../core":61,"../../core/const":42,path:22}],133:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=e("../../core"),u=r(c),d=e("./BlurXFilter"),p=i(d),h=e("./BlurYFilter"),f=i(h),g=function(e){function t(n,i,r){o(this,t);var s=a(this,e.call(this));return s.blurXFilter=new p.default,s.blurYFilter=new f.default,s.resolution=1,s.padding=0,s.resolution=r||1,s.quality=i||4,s.blur=n||8,s}return s(t,e),t.prototype.apply=function(e,t,n){var i=e.getRenderTarget(!0);this.blurXFilter.apply(e,t,i,!0),this.blurYFilter.apply(e,i,n,!1),e.returnRenderTarget(i)},l(t,[{key:"blur",get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"quality",get:function(){return this.blurXFilter.quality},set:function(e){this.blurXFilter.quality=this.blurYFilter.quality=e}},{key:"blurX",get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=e,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blurY",get:function(){return this.blurYFilter.blur},set:function(e){this.blurYFilter.blur=e,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}}]),t}(u.Filter);n.default=g},{"../../core":61,"./BlurXFilter":134,"./BlurYFilter":135}],134:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=e("../../core"),u=r(c),d=e("./generateBlurVertSource"),p=i(d),h=e("./generateBlurFragSource"),f=i(h),g=e("./getMaxBlurKernelSize"),m=i(g),v=function(e){function t(n,i,r){o(this,t);var s=(0,p.default)(5,!0),l=(0,f.default)(5),c=a(this,e.call(this,s,l));return c.resolution=r||1,c._quality=0,c.quality=i||4,c.strength=n||8,c.firstRun=!0,c}return s(t,e),t.prototype.apply=function(e,t,n,i){if(this.firstRun){var r=e.renderer.gl,o=(0,m.default)(r);this.vertexSrc=(0,p.default)(o,!0),this.fragmentSrc=(0,f.default)(o),this.firstRun=!1}if(this.uniforms.strength=1/n.size.width*(n.size.width/t.size.width),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)e.applyFilter(this,t,n,i);else{for(var a=e.getRenderTarget(!0),s=t,l=a,c=0;c<this.passes-1;c++){e.applyFilter(this,s,l,!0);var u=l;l=s,s=u}e.applyFilter(this,s,n,i),e.returnRenderTarget(a)}},l(t,[{key:"blur",get:function(){return this.strength},set:function(e){this.padding=2*Math.abs(e),this.strength=e}},{key:"quality",get:function(){return this._quality},set:function(e){this._quality=e,this.passes=e}}]),t}(u.Filter);n.default=v},{"../../core":61,"./generateBlurFragSource":136,"./generateBlurVertSource":137,"./getMaxBlurKernelSize":138}],135:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=e("../../core"),u=r(c),d=e("./generateBlurVertSource"),p=i(d),h=e("./generateBlurFragSource"),f=i(h),g=e("./getMaxBlurKernelSize"),m=i(g),v=function(e){function t(n,i,r){o(this,t);var s=(0,p.default)(5,!1),l=(0,f.default)(5),c=a(this,e.call(this,s,l));return c.resolution=r||1,c._quality=0,c.quality=i||4,c.strength=n||8,c.firstRun=!0,c}return s(t,e),t.prototype.apply=function(e,t,n,i){if(this.firstRun){var r=e.renderer.gl,o=(0,m.default)(r);this.vertexSrc=(0,p.default)(o,!1),this.fragmentSrc=(0,f.default)(o),this.firstRun=!1}if(this.uniforms.strength=1/n.size.height*(n.size.height/t.size.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)e.applyFilter(this,t,n,i);else{for(var a=e.getRenderTarget(!0),s=t,l=a,c=0;c<this.passes-1;c++){e.applyFilter(this,s,l,!0);var u=l;l=s,s=u}e.applyFilter(this,s,n,i),e.returnRenderTarget(a)}},l(t,[{key:"blur",get:function(){return this.strength},set:function(e){this.padding=2*Math.abs(e),this.strength=e}},{key:"quality",get:function(){return this._quality},set:function(e){this._quality=e,this.passes=e}}]),t}(u.Filter);n.default=v},{"../../core":61,"./generateBlurFragSource":136,"./generateBlurVertSource":137,"./getMaxBlurKernelSize":138}],136:[function(e,t,n){"use strict";function i(e){for(var t=r[e],n=t.length,i=o,a="",s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;",l=void 0,c=0;c<e;c++){var u=s.replace("%index%",c);l=c,c>=n&&(l=e-c-1),u=u.replace("%value%",t[l]),a+=u,a+="\n"}return i=i.replace("%blur%",a),i=i.replace("%size%",e)}n.__esModule=!0,n.default=i;var r={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},o=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n")},{}],137:[function(e,t,n){"use strict";function i(e,t){var n=Math.ceil(e/2),i=r,o="",a=void 0;a=t?"vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);";for(var s=0;s<e;s++){var l=a.replace("%index%",s);l=l.replace("%sampleIndex%",s-(n-1)+".0"),o+=l,o+="\n"}return i=i.replace("%blur%",o),i=i.replace("%size%",e)}n.__esModule=!0,n.default=i;var r=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform float strength;","uniform mat3 projectionMatrix;","varying vec2 vBlurTexCoords[%size%];","void main(void)","{","gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);","%blur%","}"].join("\n")},{}],138:[function(e,t,n){"use strict";function i(e){for(var t=e.getParameter(e.MAX_VARYING_VECTORS),n=15;n>t;)n-=2;return n}n.__esModule=!0,n.default=i},{}],139:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=e("../../core"),c=i(l),u=(e("path"),function(e){function t(){r(this,t);var n=o(this,e.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\n\nvoid main(void)\n{\n\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    gl_FragColor.r = (m[0] * c.r);\n        gl_FragColor.r += (m[1] * c.g);\n        gl_FragColor.r += (m[2] * c.b);\n        gl_FragColor.r += (m[3] * c.a);\n        gl_FragColor.r += m[4] * c.a;\n\n    gl_FragColor.g = (m[5] * c.r);\n        gl_FragColor.g += (m[6] * c.g);\n        gl_FragColor.g += (m[7] * c.b);\n        gl_FragColor.g += (m[8] * c.a);\n        gl_FragColor.g += m[9] * c.a;\n\n     gl_FragColor.b = (m[10] * c.r);\n        gl_FragColor.b += (m[11] * c.g);\n        gl_FragColor.b += (m[12] * c.b);\n        gl_FragColor.b += (m[13] * c.a);\n        gl_FragColor.b += m[14] * c.a;\n\n     gl_FragColor.a = (m[15] * c.r);\n        gl_FragColor.a += (m[16] * c.g);\n        gl_FragColor.a += (m[17] * c.b);\n        gl_FragColor.a += (m[18] * c.a);\n        gl_FragColor.a += m[19] * c.a;\n\n//    gl_FragColor = vec4(m[0]);\n}\n"));return n.uniforms.m=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],n}return a(t,e),t.prototype._loadMatrix=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e;t&&(this._multiply(n,this.uniforms.m,e),n=this._colorMatrix(n)),this.uniforms.m=n},t.prototype._multiply=function(e,t,n){return e[0]=t[0]*n[0]+t[1]*n[5]+t[2]*n[10]+t[3]*n[15],e[1]=t[0]*n[1]+t[1]*n[6]+t[2]*n[11]+t[3]*n[16],e[2]=t[0]*n[2]+t[1]*n[7]+t[2]*n[12]+t[3]*n[17],e[3]=t[0]*n[3]+t[1]*n[8]+t[2]*n[13]+t[3]*n[18],e[4]=t[0]*n[4]+t[1]*n[9]+t[2]*n[14]+t[3]*n[19],e[5]=t[5]*n[0]+t[6]*n[5]+t[7]*n[10]+t[8]*n[15],e[6]=t[5]*n[1]+t[6]*n[6]+t[7]*n[11]+t[8]*n[16],e[7]=t[5]*n[2]+t[6]*n[7]+t[7]*n[12]+t[8]*n[17],e[8]=t[5]*n[3]+t[6]*n[8]+t[7]*n[13]+t[8]*n[18],e[9]=t[5]*n[4]+t[6]*n[9]+t[7]*n[14]+t[8]*n[19],e[10]=t[10]*n[0]+t[11]*n[5]+t[12]*n[10]+t[13]*n[15],e[11]=t[10]*n[1]+t[11]*n[6]+t[12]*n[11]+t[13]*n[16],e[12]=t[10]*n[2]+t[11]*n[7]+t[12]*n[12]+t[13]*n[17],e[13]=t[10]*n[3]+t[11]*n[8]+t[12]*n[13]+t[13]*n[18],e[14]=t[10]*n[4]+t[11]*n[9]+t[12]*n[14]+t[13]*n[19],e[15]=t[15]*n[0]+t[16]*n[5]+t[17]*n[10]+t[18]*n[15],e[16]=t[15]*n[1]+t[16]*n[6]+t[17]*n[11]+t[18]*n[16],e[17]=t[15]*n[2]+t[16]*n[7]+t[17]*n[12]+t[18]*n[17],e[18]=t[15]*n[3]+t[16]*n[8]+t[17]*n[13]+t[18]*n[18],e[19]=t[15]*n[4]+t[16]*n[9]+t[17]*n[14]+t[18]*n[19],e},t.prototype._colorMatrix=function(e){var t=new Float32Array(e);return t[4]/=255,t[9]/=255,t[14]/=255,t[19]/=255,t},t.prototype.brightness=function(e,t){var n=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(n,t)},t.prototype.greyscale=function(e,t){var n=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(n,t)},t.prototype.blackAndWhite=function(e){var t=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(t,e)},t.prototype.hue=function(e,t){e=(e||0)/180*Math.PI;var n=Math.cos(e),i=Math.sin(e),r=Math.sqrt,o=1/3,a=r(o),s=n+(1-n)*o,l=o*(1-n)-a*i,c=o*(1-n)+a*i,u=o*(1-n)+a*i,d=n+o*(1-n),p=o*(1-n)-a*i,h=o*(1-n)-a*i,f=o*(1-n)+a*i,g=n+o*(1-n),m=[s,l,c,0,0,u,d,p,0,0,h,f,g,0,0,0,0,0,1,0];this._loadMatrix(m,t)},t.prototype.contrast=function(e,t){var n=(e||0)+1,i=-128*(n-1),r=[n,0,0,0,i,0,n,0,0,i,0,0,n,0,i,0,0,0,1,0];this._loadMatrix(r,t)},t.prototype.saturate=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1],n=2*e/3+1,i=(n-1)*-.5,r=[n,i,i,0,0,i,n,i,0,0,i,i,n,0,0,0,0,0,1,0];this._loadMatrix(r,t)},t.prototype.desaturate=function(){this.saturate(-1)},t.prototype.negative=function(e){var t=[0,1,1,0,0,1,0,1,0,0,1,1,0,0,0,0,0,0,1,0];this._loadMatrix(t,e)},t.prototype.sepia=function(e){var t=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(t,e)},t.prototype.technicolor=function(e){var t=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(t,e)},t.prototype.polaroid=function(e){var t=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(t,e)},t.prototype.toBGR=function(e){var t=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(t,e)},t.prototype.kodachrome=function(e){var t=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];
this._loadMatrix(t,e)},t.prototype.browni=function(e){var t=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(t,e)},t.prototype.vintage=function(e){var t=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(t,e)},t.prototype.colorTone=function(e,t,n,i,r){e=e||.2,t=t||.15,n=n||16770432,i=i||3375104;var o=(n>>16&255)/255,a=(n>>8&255)/255,s=(255&n)/255,l=(i>>16&255)/255,c=(i>>8&255)/255,u=(255&i)/255,d=[.3,.59,.11,0,0,o,a,s,e,0,l,c,u,t,0,o-l,a-c,s-u,0,0];this._loadMatrix(d,r)},t.prototype.night=function(e,t){e=e||.1;var n=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,2*e,0,0,0,0,0,1,0];this._loadMatrix(n,t)},t.prototype.predator=function(e,t){var n=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(n,t)},t.prototype.lsd=function(e){var t=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(t,e)},t.prototype.reset=function(){var e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)},s(t,[{key:"matrix",get:function(){return this.uniforms.m},set:function(e){this.uniforms.m=e}}]),t}(c.Filter));n.default=u,u.prototype.grayscale=u.prototype.greyscale},{"../../core":61,path:22}],140:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=e("../../core"),c=i(l),u=(e("path"),function(e){function t(n,i){r(this,t);var a=new c.Matrix;n.renderable=!1;var s=o(this,e.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord;\n}","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n   vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n   map -= 0.5;\n   map.xy *= scale;\n\n   gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));\n}\n"));return s.maskSprite=n,s.maskMatrix=a,s.uniforms.mapSampler=n.texture,s.uniforms.filterMatrix=a.toArray(!0),s.uniforms.scale={x:1,y:1},null!==i&&void 0!==i||(i=20),s.scale=new c.Point(i,i),s}return a(t,e),t.prototype.apply=function(e,t,n){var i=1/n.destinationFrame.width*(n.size.width/t.size.width);this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x*i,this.uniforms.scale.y=this.scale.y*i,e.applyFilter(this,t,n)},s(t,[{key:"map",get:function(){return this.uniforms.mapSampler},set:function(e){this.uniforms.mapSampler=e}}]),t}(c.Filter));n.default=u},{"../../core":61,path:22}],141:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../../core"),l=i(s),c=(e("path"),function(e){function t(){return r(this,t),o(this,e.call(this,"\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform vec4 filterArea;\n\nvarying vec2 vTextureCoord;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n   vTextureCoord = aTextureCoord;\n\n   vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n \n --\n \n From:\n https://github.com/mitsuhiko/webgl-meincraft\n \n Copyright (c) 2011 by Armin Ronacher.\n \n Some rights reserved.\n \n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n \n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n \n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n \n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n \n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n    \n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n      vec4 color;\n\n    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n'))}return a(t,e),t}(l.Filter));n.default=c},{"../../core":61,path:22}],142:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var r=e("./fxaa/FXAAFilter");Object.defineProperty(n,"FXAAFilter",{enumerable:!0,get:function(){return i(r).default}});var o=e("./noise/NoiseFilter");Object.defineProperty(n,"NoiseFilter",{enumerable:!0,get:function(){return i(o).default}});var a=e("./displacement/DisplacementFilter");Object.defineProperty(n,"DisplacementFilter",{enumerable:!0,get:function(){return i(a).default}});var s=e("./blur/BlurFilter");Object.defineProperty(n,"BlurFilter",{enumerable:!0,get:function(){return i(s).default}});var l=e("./blur/BlurXFilter");Object.defineProperty(n,"BlurXFilter",{enumerable:!0,get:function(){return i(l).default}});var c=e("./blur/BlurYFilter");Object.defineProperty(n,"BlurYFilter",{enumerable:!0,get:function(){return i(c).default}});var u=e("./colormatrix/ColorMatrixFilter");Object.defineProperty(n,"ColorMatrixFilter",{enumerable:!0,get:function(){return i(u).default}});var d=e("./void/VoidFilter");Object.defineProperty(n,"VoidFilter",{enumerable:!0,get:function(){return i(d).default}})},{"./blur/BlurFilter":133,"./blur/BlurXFilter":134,"./blur/BlurYFilter":135,"./colormatrix/ColorMatrixFilter":139,"./displacement/DisplacementFilter":140,"./fxaa/FXAAFilter":141,"./noise/NoiseFilter":143,"./void/VoidFilter":144}],143:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=e("../../core"),c=i(l),u=(e("path"),function(e){function t(){r(this,t);var n=o(this,e.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float noise;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n\n    float diff = (rand(gl_FragCoord.xy) - 0.5) * noise;\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    gl_FragColor = color;\n}\n"));return n.noise=.5,n}return a(t,e),s(t,[{key:"noise",get:function(){return this.uniforms.noise},set:function(e){this.uniforms.noise=e}}]),t}(c.Filter));n.default=u},{"../../core":61,path:22}],144:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../../core"),l=i(s),c=(e("path"),function(e){function t(){r(this,t);var n=o(this,e.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"));return n.glShaderKey="void",n}return a(t,e),t}(l.Filter));n.default=c},{"../../core":61,path:22}],145:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=e("../core"),a=i(o),s=function(){function e(){r(this,e),this.global=new a.Point,this.target=null,this.originalEvent=null}return e.prototype.getLocalPosition=function(e,t,n){return e.worldTransform.applyInverse(n||this.global,t)},e}();n.default=s},{"../core":61}],146:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var r=function(){function e(){i(this,e),this.stopped=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return e.prototype.stopPropagation=function(){this.stopped=!0},e.prototype._reset=function(){this.stopped=!1,this.currentTarget=null,this.target=null},e}();n.default=r},{}],147:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var l=e("../core"),c=r(l),u=e("./InteractionData"),d=i(u),p=e("./InteractionEvent"),h=i(p),f=e("eventemitter3"),g=i(f),m=e("./interactiveTarget"),v=i(m),_=e("ismobilejs"),y=i(_);Object.assign(c.DisplayObject.prototype,v.default);var E=function(e){function t(n,i){o(this,t);var r=a(this,e.call(this));return i=i||{},r.renderer=n,r.autoPreventDefault=void 0===i.autoPreventDefault||i.autoPreventDefault,r.interactionFrequency=i.interactionFrequency||10,r.mouse=new d.default,r.mouse.global.set(-999999),r.pointer=new d.default,r.pointer.global.set(-999999),r.eventData=new h.default,r.interactiveDataPool=[],r.interactionDOMElement=null,r.moveWhenInside=!1,r.eventsAdded=!1,r.mouseOverRenderer=!1,r.supportsTouchEvents="ontouchstart"in window,r.supportsPointerEvents=!!window.PointerEvent,r.normalizeTouchEvents=!r.supportsPointerEvents&&r.supportsTouchEvents,r.normalizeMouseEvents=!r.supportsPointerEvents&&!y.default.any,r.onMouseUp=r.onMouseUp.bind(r),r.processMouseUp=r.processMouseUp.bind(r),r.onMouseDown=r.onMouseDown.bind(r),r.processMouseDown=r.processMouseDown.bind(r),r.onMouseMove=r.onMouseMove.bind(r),r.processMouseMove=r.processMouseMove.bind(r),r.onMouseOut=r.onMouseOut.bind(r),r.processMouseOverOut=r.processMouseOverOut.bind(r),r.onMouseOver=r.onMouseOver.bind(r),r.onPointerUp=r.onPointerUp.bind(r),r.processPointerUp=r.processPointerUp.bind(r),r.onPointerDown=r.onPointerDown.bind(r),r.processPointerDown=r.processPointerDown.bind(r),r.onPointerMove=r.onPointerMove.bind(r),r.processPointerMove=r.processPointerMove.bind(r),r.onPointerOut=r.onPointerOut.bind(r),r.processPointerOverOut=r.processPointerOverOut.bind(r),r.onPointerOver=r.onPointerOver.bind(r),r.onTouchStart=r.onTouchStart.bind(r),r.processTouchStart=r.processTouchStart.bind(r),r.onTouchEnd=r.onTouchEnd.bind(r),r.processTouchEnd=r.processTouchEnd.bind(r),r.onTouchMove=r.onTouchMove.bind(r),r.processTouchMove=r.processTouchMove.bind(r),r.defaultCursorStyle="inherit",r.currentCursorStyle="inherit",r._tempPoint=new c.Point,r.resolution=1,r.setTargetElement(r.renderer.view,r.renderer.resolution),r}return s(t,e),t.prototype.setTargetElement=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.removeEvents(),this.interactionDOMElement=e,this.resolution=t,this.addEvents()},t.prototype.addEvents=function(){this.interactionDOMElement&&(c.ticker.shared.add(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(this.normalizeTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.normalizeMouseEvents&&(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0))),window.document.addEventListener("mousemove",this.onMouseMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onMouseDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onMouseOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onMouseOver,!0),window.addEventListener("mouseup",this.onMouseUp,!0),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onTouchStart,!0),this.interactionDOMElement.addEventListener("touchend",this.onTouchEnd,!0),this.interactionDOMElement.addEventListener("touchmove",this.onTouchMove,!0)),this.eventsAdded=!0)},t.prototype.removeEvents=function(){this.interactionDOMElement&&(c.ticker.shared.remove(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(this.normalizeTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.normalizeMouseEvents&&(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0))),window.document.removeEventListener("mousemove",this.onMouseMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onMouseDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onMouseOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onMouseOver,!0),window.removeEventListener("mouseup",this.onMouseUp,!0),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onTouchStart,!0),this.interactionDOMElement.removeEventListener("touchend",this.onTouchEnd,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onTouchMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)},t.prototype.update=function(e){if(this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement)){if(this.didMove)return void(this.didMove=!1);this.cursor=this.defaultCursorStyle,this.eventData._reset(),this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseOverOut,!0),this.currentCursorStyle!==this.cursor&&(this.currentCursorStyle=this.cursor,this.interactionDOMElement.style.cursor=this.cursor)}},t.prototype.dispatchEvent=function(e,t,n){n.stopped||(n.currentTarget=e,n.type=t,e.emit(t,n),e[t]&&e[t](n))},t.prototype.mapPositionToPoint=function(e,t,n){var i=void 0;i=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0},e.x=(t-i.left)*(this.interactionDOMElement.width/i.width)/this.resolution,e.y=(n-i.top)*(this.interactionDOMElement.height/i.height)/this.resolution},t.prototype.processInteractive=function(e,t,n,i,r){if(!t||!t.visible)return!1;r=t.interactive||r;var o=!1,a=r;if(t.hitArea&&(a=!1),i&&t._mask&&(t._mask.containsPoint(e)||(i=!1)),i&&t.filterArea&&(t.filterArea.contains(e.x,e.y)||(i=!1)),t.interactiveChildren&&t.children)for(var s=t.children,l=s.length-1;l>=0;l--){var c=s[l];if(this.processInteractive(e,c,n,i,a)){if(!c.parent)continue;o=!0,a=!1,i=!1}}return r&&(i&&!o&&(t.hitArea?(t.worldTransform.applyInverse(e,this._tempPoint),o=t.hitArea.contains(this._tempPoint.x,this._tempPoint.y)):t.containsPoint&&(o=t.containsPoint(e))),t.interactive&&(o&&!this.eventData.target&&(this.eventData.target=t,this.mouse.target=t,this.pointer.target=t),n(t,o))),o},t.prototype.onMouseDown=function(e){this.mouse.originalEvent=e,this.eventData.data=this.mouse,this.eventData._reset(),this.mapPositionToPoint(this.mouse.global,e.clientX,e.clientY),this.autoPreventDefault&&this.mouse.originalEvent.preventDefault(),this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseDown,!0);var t=2===e.button||3===e.which;this.emit(t?"rightdown":"mousedown",this.eventData)},t.prototype.processMouseDown=function(e,t){var n=this.mouse.originalEvent,i=2===n.button||3===n.which;t&&(e[i?"_isRightDown":"_isLeftDown"]=!0,this.dispatchEvent(e,i?"rightdown":"mousedown",this.eventData))},t.prototype.onMouseUp=function(e){this.mouse.originalEvent=e,this.eventData.data=this.mouse,this.eventData._reset(),this.mapPositionToPoint(this.mouse.global,e.clientX,e.clientY),this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseUp,!0);var t=2===e.button||3===e.which;this.emit(t?"rightup":"mouseup",this.eventData)},t.prototype.processMouseUp=function(e,t){var n=this.mouse.originalEvent,i=2===n.button||3===n.which,r=i?"_isRightDown":"_isLeftDown";t?(this.dispatchEvent(e,i?"rightup":"mouseup",this.eventData),e[r]&&(e[r]=!1,this.dispatchEvent(e,i?"rightclick":"click",this.eventData))):e[r]&&(e[r]=!1,this.dispatchEvent(e,i?"rightupoutside":"mouseupoutside",this.eventData))},t.prototype.onMouseMove=function(e){this.mouse.originalEvent=e,this.eventData.data=this.mouse,this.eventData._reset(),this.mapPositionToPoint(this.mouse.global,e.clientX,e.clientY),this.didMove=!0,this.cursor=this.defaultCursorStyle,this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseMove,!0),this.emit("mousemove",this.eventData),this.currentCursorStyle!==this.cursor&&(this.currentCursorStyle=this.cursor,this.interactionDOMElement.style.cursor=this.cursor)},t.prototype.processMouseMove=function(e,t){this.processMouseOverOut(e,t),this.moveWhenInside&&!t||this.dispatchEvent(e,"mousemove",this.eventData)},t.prototype.onMouseOut=function(e){this.mouseOverRenderer=!1,this.mouse.originalEvent=e,this.eventData.data=this.mouse,this.eventData._reset(),this.mapPositionToPoint(this.mouse.global,e.clientX,e.clientY),this.interactionDOMElement.style.cursor=this.defaultCursorStyle,this.mapPositionToPoint(this.mouse.global,e.clientX,e.clientY),this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseOverOut,!1),this.emit("mouseout",this.eventData)},t.prototype.processMouseOverOut=function(e,t){t&&this.mouseOverRenderer?(e._mouseOver||(e._mouseOver=!0,this.dispatchEvent(e,"mouseover",this.eventData)),e.buttonMode&&(this.cursor=e.defaultCursor)):e._mouseOver&&(e._mouseOver=!1,this.dispatchEvent(e,"mouseout",this.eventData))},t.prototype.onMouseOver=function(e){this.mouseOverRenderer=!0,this.mouse.originalEvent=e,this.eventData.data=this.mouse,this.eventData._reset(),this.emit("mouseover",this.eventData)},t.prototype.onPointerDown=function(e){this.normalizeToPointerData(e),this.pointer.originalEvent=e,this.eventData.data=this.pointer,this.eventData._reset(),this.mapPositionToPoint(this.pointer.global,e.clientX,e.clientY),this.autoPreventDefault&&(this.normalizeMouseEvents||this.normalizeTouchEvents)&&this.pointer.originalEvent.preventDefault(),this.processInteractive(this.pointer.global,this.renderer._lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",this.eventData)},t.prototype.processPointerDown=function(e,t){t&&(e._pointerDown=!0,this.dispatchEvent(e,"pointerdown",this.eventData))},t.prototype.onPointerUp=function(e){this.normalizeToPointerData(e),this.pointer.originalEvent=e,this.eventData.data=this.pointer,this.eventData._reset(),this.mapPositionToPoint(this.pointer.global,e.clientX,e.clientY),this.processInteractive(this.pointer.global,this.renderer._lastObjectRendered,this.processPointerUp,!0),this.emit("pointerup",this.eventData)},t.prototype.processPointerUp=function(e,t){t?(this.dispatchEvent(e,"pointerup",this.eventData),e._pointerDown&&(e._pointerDown=!1,this.dispatchEvent(e,"pointertap",this.eventData))):e._pointerDown&&(e._pointerDown=!1,this.dispatchEvent(e,"pointerupoutside",this.eventData))},t.prototype.onPointerMove=function(e){this.normalizeToPointerData(e),this.pointer.originalEvent=e,this.eventData.data=this.pointer,this.eventData._reset(),this.mapPositionToPoint(this.pointer.global,e.clientX,e.clientY),this.processInteractive(this.pointer.global,this.renderer._lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",this.eventData)},t.prototype.processPointerMove=function(e,t){this.pointer.originalEvent.changedTouches||this.processPointerOverOut(e,t),this.moveWhenInside&&!t||this.dispatchEvent(e,"pointermove",this.eventData)},t.prototype.onPointerOut=function(e){this.normalizeToPointerData(e),this.pointer.originalEvent=e,this.eventData.data=this.pointer,this.eventData._reset(),this.mapPositionToPoint(this.pointer.global,e.clientX,e.clientY),this.processInteractive(this.pointer.global,this.renderer._lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",this.eventData)},t.prototype.processPointerOverOut=function(e,t){t&&this.mouseOverRenderer?e._pointerOver||(e._pointerOver=!0,this.dispatchEvent(e,"pointerover",this.eventData)):e._pointerOver&&(e._pointerOver=!1,this.dispatchEvent(e,"pointerout",this.eventData))},t.prototype.onPointerOver=function(e){this.pointer.originalEvent=e,this.eventData.data=this.pointer,this.eventData._reset(),this.emit("pointerover",this.eventData)},t.prototype.onTouchStart=function(e){this.autoPreventDefault&&e.preventDefault();for(var t=e.changedTouches,n=t.length,i=0;i<n;i++){var r=t[i],o=this.getTouchData(r);o.originalEvent=e,this.eventData.data=o,this.eventData._reset(),this.processInteractive(o.global,this.renderer._lastObjectRendered,this.processTouchStart,!0),this.emit("touchstart",this.eventData),this.returnTouchData(o)}},t.prototype.processTouchStart=function(e,t){t&&(e._touchDown=!0,this.dispatchEvent(e,"touchstart",this.eventData))},t.prototype.onTouchEnd=function(e){this.autoPreventDefault&&e.preventDefault();
for(var t=e.changedTouches,n=t.length,i=0;i<n;i++){var r=t[i],o=this.getTouchData(r);o.originalEvent=e,this.eventData.data=o,this.eventData._reset(),this.processInteractive(o.global,this.renderer._lastObjectRendered,this.processTouchEnd,!0),this.emit("touchend",this.eventData),this.returnTouchData(o)}},t.prototype.processTouchEnd=function(e,t){t?(this.dispatchEvent(e,"touchend",this.eventData),e._touchDown&&(e._touchDown=!1,this.dispatchEvent(e,"tap",this.eventData))):e._touchDown&&(e._touchDown=!1,this.dispatchEvent(e,"touchendoutside",this.eventData))},t.prototype.onTouchMove=function(e){this.autoPreventDefault&&e.preventDefault();for(var t=e.changedTouches,n=t.length,i=0;i<n;i++){var r=t[i],o=this.getTouchData(r);o.originalEvent=e,this.eventData.data=o,this.eventData._reset(),this.processInteractive(o.global,this.renderer._lastObjectRendered,this.processTouchMove,this.moveWhenInside),this.emit("touchmove",this.eventData),this.returnTouchData(o)}},t.prototype.processTouchMove=function(e,t){this.moveWhenInside&&!t||this.dispatchEvent(e,"touchmove",this.eventData)},t.prototype.getTouchData=function(e){var t=this.interactiveDataPool.pop()||new d.default;return t.identifier=e.identifier,this.mapPositionToPoint(t.global,e.clientX,e.clientY),navigator.isCocoonJS&&(t.global.x=t.global.x/this.resolution,t.global.y=t.global.y/this.resolution),e.globalX=t.global.x,e.globalY=t.global.y,t},t.prototype.returnTouchData=function(e){this.interactiveDataPool.push(e)},t.prototype.normalizeToPointerData=function(e){this.normalizeTouchEvents&&e.changedTouches?("undefined"==typeof e.button&&(e.button=e.touches.length?1:0),"undefined"==typeof e.buttons&&(e.buttons=e.touches.length?1:0),"undefined"==typeof e.isPrimary&&(e.isPrimary=1===e.touches.length),"undefined"==typeof e.width&&(e.width=e.changedTouches[0].radiusX||1),"undefined"==typeof e.height&&(e.height=e.changedTouches[0].radiusY||1),"undefined"==typeof e.tiltX&&(e.tiltX=0),"undefined"==typeof e.tiltY&&(e.tiltY=0),"undefined"==typeof e.pointerType&&(e.pointerType="touch"),"undefined"==typeof e.pointerId&&(e.pointerId=e.changedTouches[0].identifier||0),"undefined"==typeof e.pressure&&(e.pressure=e.changedTouches[0].force||.5),"undefined"==typeof e.rotation&&(e.rotation=e.changedTouches[0].rotationAngle||0),"undefined"==typeof e.clientX&&(e.clientX=e.changedTouches[0].clientX),"undefined"==typeof e.clientY&&(e.clientY=e.changedTouches[0].clientY),"undefined"==typeof e.pageX&&(e.pageX=e.changedTouches[0].pageX),"undefined"==typeof e.pageY&&(e.pageY=e.changedTouches[0].pageY),"undefined"==typeof e.screenX&&(e.screenX=e.changedTouches[0].screenX),"undefined"==typeof e.screenY&&(e.screenY=e.changedTouches[0].screenY),"undefined"==typeof e.layerX&&(e.layerX=e.offsetX=e.clientX),"undefined"==typeof e.layerY&&(e.layerY=e.offsetY=e.clientY)):this.normalizeMouseEvents&&("undefined"==typeof e.isPrimary&&(e.isPrimary=!0),"undefined"==typeof e.width&&(e.width=1),"undefined"==typeof e.height&&(e.height=1),"undefined"==typeof e.tiltX&&(e.tiltX=0),"undefined"==typeof e.tiltY&&(e.tiltY=0),"undefined"==typeof e.pointerType&&(e.pointerType="mouse"),"undefined"==typeof e.pointerId&&(e.pointerId=1),"undefined"==typeof e.pressure&&(e.pressure=.5),"undefined"==typeof e.rotation&&(e.rotation=0))},t.prototype.destroy=function(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactiveDataPool=null,this.interactionDOMElement=null,this.onMouseDown=null,this.processMouseDown=null,this.onMouseUp=null,this.processMouseUp=null,this.onMouseMove=null,this.processMouseMove=null,this.onMouseOut=null,this.processMouseOverOut=null,this.onMouseOver=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.onTouchStart=null,this.processTouchStart=null,this.onTouchEnd=null,this.processTouchEnd=null,this.onTouchMove=null,this.processTouchMove=null,this._tempPoint=null},t}(g.default);n.default=E,c.WebGLRenderer.registerPlugin("interaction",E),c.CanvasRenderer.registerPlugin("interaction",E)},{"../core":61,"./InteractionData":145,"./InteractionEvent":146,"./interactiveTarget":149,eventemitter3:3,ismobilejs:4}],148:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var r=e("./InteractionData");Object.defineProperty(n,"InteractionData",{enumerable:!0,get:function(){return i(r).default}});var o=e("./InteractionManager");Object.defineProperty(n,"InteractionManager",{enumerable:!0,get:function(){return i(o).default}});var a=e("./interactiveTarget");Object.defineProperty(n,"interactiveTarget",{enumerable:!0,get:function(){return i(a).default}})},{"./InteractionData":145,"./InteractionManager":147,"./interactiveTarget":149}],149:[function(e,t,n){"use strict";n.__esModule=!0,n.default={interactive:!1,interactiveChildren:!0,hitArea:null,buttonMode:!1,defaultCursor:"pointer",_over:!1,_isLeftDown:!1,_isRightDown:!1,_pointerOver:!1,_pointerDown:!1,_touchDown:!1}},{}],150:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e,t){var n={},i=e.data.getElementsByTagName("info")[0],r=e.data.getElementsByTagName("common")[0];n.font=i.getAttribute("face"),n.size=parseInt(i.getAttribute("size"),10),n.lineHeight=parseInt(r.getAttribute("lineHeight"),10),n.chars={};for(var o=e.data.getElementsByTagName("char"),a=0;a<o.length;a++){var l=parseInt(o[a].getAttribute("id"),10),u=new s.Rectangle(parseInt(o[a].getAttribute("x"),10)+t.frame.x,parseInt(o[a].getAttribute("y"),10)+t.frame.y,parseInt(o[a].getAttribute("width"),10),parseInt(o[a].getAttribute("height"),10));n.chars[l]={xOffset:parseInt(o[a].getAttribute("xoffset"),10),yOffset:parseInt(o[a].getAttribute("yoffset"),10),xAdvance:parseInt(o[a].getAttribute("xadvance"),10),kerning:{},texture:new s.Texture(t.baseTexture,u)}}for(var d=e.data.getElementsByTagName("kerning"),p=0;p<d.length;p++){var h=parseInt(d[p].getAttribute("first"),10),f=parseInt(d[p].getAttribute("second"),10),g=parseInt(d[p].getAttribute("amount"),10);n.chars[f]&&(n.chars[f].kerning[h]=g)}e.bitmapFont=n,c.BitmapText.fonts[n.font]=n}n.__esModule=!0,n.parse=r,n.default=function(){return function(e,t){if(!e.data||!e.isXml)return void t();if(0===e.data.getElementsByTagName("page").length||0===e.data.getElementsByTagName("info").length||null===e.data.getElementsByTagName("info")[0].getAttribute("face"))return void t();var n=e.isDataUrl?"":a.dirname(e.url);e.isDataUrl&&("."===n&&(n=""),this.baseUrl&&n&&("/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(n+="/"),n=n.replace(this.baseUrl,""))),n&&"/"!==n.charAt(n.length-1)&&(n+="/");var i=n+e.data.getElementsByTagName("page")[0].getAttribute("file");if(s.utils.TextureCache[i])r(e,s.utils.TextureCache[i]),t();else{var o={crossOrigin:e.crossOrigin,loadType:l.Resource.LOAD_TYPE.IMAGE,metadata:e.metadata.imageMetadata};this.add(e.name+"_image",i,o,function(n){r(e,n.texture),t()})}}};var o=e("path"),a=i(o),s=e("../core"),l=e("resource-loader"),c=e("../extras")},{"../core":61,"../extras":131,path:22,"resource-loader":35}],151:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var r=e("./loader");Object.defineProperty(n,"Loader",{enumerable:!0,get:function(){return i(r).default}});var o=e("./bitmapFontParser");Object.defineProperty(n,"bitmapFontParser",{enumerable:!0,get:function(){return i(o).default}}),Object.defineProperty(n,"parseBitmapFontData",{enumerable:!0,get:function(){return o.parse}});var a=e("./spritesheetParser");Object.defineProperty(n,"spritesheetParser",{enumerable:!0,get:function(){return i(a).default}});var s=e("./textureParser");Object.defineProperty(n,"textureParser",{enumerable:!0,get:function(){return i(s).default}});var l=e("resource-loader");Object.defineProperty(n,"Resource",{enumerable:!0,get:function(){return l.Resource}})},{"./bitmapFontParser":150,"./loader":152,"./spritesheetParser":153,"./textureParser":154,"resource-loader":35}],152:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("resource-loader"),l=i(s),c=e("./textureParser"),u=i(c),d=e("./spritesheetParser"),p=i(d),h=e("./bitmapFontParser"),f=i(h),g=function(e){function t(n,i){r(this,t);for(var a=o(this,e.call(this,n,i)),s=0;s<t._pixiMiddleware.length;++s)a.use(t._pixiMiddleware[s]());return a}return a(t,e),t.addPixiMiddleware=function(e){t._pixiMiddleware.push(e)},t}(l.default);n.default=g,g._pixiMiddleware=[l.default.middleware.parsing.blob,u.default,p.default,f.default];var m=l.default.Resource;m.setExtensionXhrType("fnt",m.XHR_RESPONSE_TYPE.DOCUMENT)},{"./bitmapFontParser":150,"./spritesheetParser":153,"./textureParser":154,"resource-loader":35}],153:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0,n.default=function(){return function(e,t){var n=void 0,i=e.name+"_image";if(!e.data||!e.isJson||!e.data.frames||this.resources[i])return void t();var r={crossOrigin:e.crossOrigin,loadType:o.Resource.LOAD_TYPE.IMAGE,metadata:e.metadata.imageMetadata};n=e.isDataUrl?e.data.meta.image:s.default.dirname(e.url.replace(this.baseUrl,""))+"/"+e.data.meta.image,this.add(i,n,r,function(n){function i(t,n){for(var i=t;i-t<n&&i<l.length;){var r=l[i],o=s[r].frame;if(o){var a=null,u=null,h=new c.Rectangle(0,0,s[r].sourceSize.w/p,s[r].sourceSize.h/p);a=s[r].rotated?new c.Rectangle(o.x/p,o.y/p,o.h/p,o.w/p):new c.Rectangle(o.x/p,o.y/p,o.w/p,o.h/p),s[r].trimmed&&(u=new c.Rectangle(s[r].spriteSourceSize.x/p,s[r].spriteSourceSize.y/p,o.w/p,o.h/p)),e.textures[r]=new c.Texture(d,a,h,u,s[r].rotated?2:0),c.utils.TextureCache[r]=e.textures[r]}i++}}function r(){return f*u<l.length}function o(e){i(f*u,u),f++,setTimeout(e,0)}function a(){o(function(){r()?a():t()})}e.textures={};var s=e.data.frames,l=Object.keys(s),d=n.texture.baseTexture,p=c.utils.getResolutionOfUrl(e.url),h=e.data.meta.scale;1===p&&void 0!==h&&1!==h&&(d.resolution=p=h,d.update());var f=0;l.length<=u?(i(0,u),t()):a()})}};var o=e("resource-loader"),a=e("path"),s=r(a),l=e("../core"),c=i(l),u=1e3},{"../core":61,path:22,"resource-loader":35}],154:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}n.__esModule=!0,n.default=function(){return function(e,t){if(e.data&&e.isImage){var n=new o.BaseTexture(e.data,null,o.utils.getResolutionOfUrl(e.url));n.imageUrl=e.url,e.texture=new o.Texture(n),o.utils.BaseTextureCache[e.name]=n,o.utils.TextureCache[e.name]=e.texture,e.name!==e.url&&(o.utils.BaseTextureCache[e.url]=n,o.utils.TextureCache[e.url]=e.texture)}t()}};var r=e("../core"),o=i(r)},{"../core":61}],155:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=e("../core"),c=i(l),u=new c.Point,d=new c.Polygon,p=function(e){function t(n,i,a,s,l){r(this,t);var u=o(this,e.call(this));return u._texture=null,u.uvs=a||new Float32Array([0,0,1,0,1,1,0,1]),u.vertices=i||new Float32Array([0,0,100,0,100,100,0,100]),u.indices=s||new Uint16Array([0,1,3,2]),u.dirty=0,u.indexDirty=0,u.blendMode=c.BLEND_MODES.NORMAL,u.canvasPadding=0,u.drawMode=l||t.DRAW_MODES.TRIANGLE_MESH,u.texture=n,u.shader=null,u.tintRgb=new Float32Array([1,1,1]),u._glDatas={},u}return a(t,e),t.prototype._renderWebGL=function(e){e.setObjectRenderer(e.plugins.mesh),e.plugins.mesh.render(this)},t.prototype._renderCanvas=function(e){e.plugins.mesh.render(this)},t.prototype._onTextureUpdate=function(){},t.prototype._calculateBounds=function(){this._bounds.addVertices(this.transform,this.vertices,0,this.vertices.length)},t.prototype.containsPoint=function(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,u);for(var n=this.vertices,i=d.points,r=this.indices,o=this.indices.length,a=this.drawMode===t.DRAW_MODES.TRIANGLES?3:1,s=0;s+2<o;s+=a){var l=2*r[s],c=2*r[s+1],p=2*r[s+2];if(i[0]=n[l],i[1]=n[l+1],i[2]=n[c],i[3]=n[c+1],i[4]=n[p],i[5]=n[p+1],d.contains(u.x,u.y))return!0}return!1},s(t,[{key:"texture",get:function(){return this._texture},set:function(e){this._texture!==e&&(this._texture=e,e&&(e.baseTexture.hasLoaded?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}},{key:"tint",get:function(){return c.utils.rgb2hex(this.tintRgb)},set:function(e){this.tintRgb=c.utils.hex2rgb(e,this.tintRgb)}}]),t}(c.Container);n.default=p,p.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}},{"../core":61}],156:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=e("./Plane"),c=i(l),u=10,d=function(e){function t(n,i,a,s,l){r(this,t);var c=o(this,e.call(this,n,4,4)),d=c.uvs;return d[6]=d[14]=d[22]=d[30]=1,d[25]=d[27]=d[29]=d[31]=1,c._origWidth=n.width,c._origHeight=n.height,c._uvw=1/c._origWidth,c._uvh=1/c._origHeight,c.width=n.width,c.height=n.height,d[2]=d[10]=d[18]=d[26]=c._uvw*i,d[4]=d[12]=d[20]=d[28]=1-c._uvw*s,d[9]=d[11]=d[13]=d[15]=c._uvh*a,d[17]=d[19]=d[21]=d[23]=1-c._uvh*l,c.leftWidth="undefined"!=typeof i?i:u,c.rightWidth="undefined"!=typeof s?s:u,c.topHeight="undefined"!=typeof a?a:u,c.bottomHeight="undefined"!=typeof l?l:u,c}return a(t,e),t.prototype.updateHorizontalVertices=function(){var e=this.vertices;e[9]=e[11]=e[13]=e[15]=this._topHeight,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight,e[25]=e[27]=e[29]=e[31]=this._height},t.prototype.updateVerticalVertices=function(){var e=this.vertices;e[2]=e[10]=e[18]=e[26]=this._leftWidth,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth,e[6]=e[14]=e[22]=e[30]=this._width},t.prototype._renderCanvas=function(e){var t=e.context;t.globalAlpha=this.worldAlpha;var n=this.worldTransform,i=e.resolution;e.roundPixels?t.setTransform(n.a*i,n.b*i,n.c*i,n.d*i,n.tx*i|0,n.ty*i|0):t.setTransform(n.a*i,n.b*i,n.c*i,n.d*i,n.tx*i,n.ty*i);var r=this._texture.baseTexture,o=r.source,a=r.width,s=r.height;this.drawSegment(t,o,a,s,0,1,10,11),this.drawSegment(t,o,a,s,2,3,12,13),this.drawSegment(t,o,a,s,4,5,14,15),this.drawSegment(t,o,a,s,8,9,18,19),this.drawSegment(t,o,a,s,10,11,20,21),this.drawSegment(t,o,a,s,12,13,22,23),this.drawSegment(t,o,a,s,16,17,26,27),this.drawSegment(t,o,a,s,18,19,28,29),this.drawSegment(t,o,a,s,20,21,30,31)},t.prototype.drawSegment=function(e,t,n,i,r,o,a,s){var l=this.uvs,c=this.vertices,u=(l[a]-l[r])*n,d=(l[s]-l[o])*i,p=c[a]-c[r],h=c[s]-c[o];u<1&&(u=1),d<1&&(d=1),p<1&&(p=1),h<1&&(h=1),e.drawImage(t,l[r]*n,l[o]*i,u,d,c[r],c[o],p,h)},s(t,[{key:"width",get:function(){return this._width},set:function(e){this._width=e,this.updateVerticalVertices()}},{key:"height",get:function(){return this._height},set:function(e){this._height=e,this.updateHorizontalVertices()}},{key:"leftWidth",get:function(){return this._leftWidth},set:function(e){this._leftWidth=e;var t=this.uvs,n=this.vertices;t[2]=t[10]=t[18]=t[26]=this._uvw*e,n[2]=n[10]=n[18]=n[26]=e,this.dirty=!0}},{key:"rightWidth",get:function(){return this._rightWidth},set:function(e){this._rightWidth=e;var t=this.uvs,n=this.vertices;t[4]=t[12]=t[20]=t[28]=1-this._uvw*e,n[4]=n[12]=n[20]=n[28]=this._width-e,this.dirty=!0}},{key:"topHeight",get:function(){return this._topHeight},set:function(e){this._topHeight=e;var t=this.uvs,n=this.vertices;t[9]=t[11]=t[13]=t[15]=this._uvh*e,n[9]=n[11]=n[13]=n[15]=e,this.dirty=!0}},{key:"bottomHeight",get:function(){return this._bottomHeight},set:function(e){this._bottomHeight=e;var t=this.uvs,n=this.vertices;t[17]=t[19]=t[21]=t[23]=1-this._uvh*e,n[17]=n[19]=n[21]=n[23]=this._height-e,this.dirty=!0}}]),t}(c.default);n.default=d},{"./Plane":157}],157:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("./Mesh"),l=i(s),c=function(e){function t(n,i,a){r(this,t);var s=o(this,e.call(this,n));return s._ready=!0,s.verticesX=i||10,s.verticesY=a||10,s.drawMode=l.default.DRAW_MODES.TRIANGLES,s.refresh(),s}return a(t,e),t.prototype.refresh=function(){for(var e=this.verticesX*this.verticesY,t=[],n=[],i=[],r=[],o=this.texture,a=this.verticesX-1,s=this.verticesY-1,l=o.width/a,c=o.height/s,u=0;u<e;u++)if(o._uvs){var d=u%this.verticesX,p=u/this.verticesX|0;t.push(d*l,p*c),i.push(o._uvs.x0+(o._uvs.x1-o._uvs.x0)*(d/(this.verticesX-1)),o._uvs.y0+(o._uvs.y3-o._uvs.y0)*(p/(this.verticesY-1)))}else i.push(0);for(var h=a*s,f=0;f<h;f++){var g=f%a,m=f/a|0,v=m*this.verticesX+g,_=m*this.verticesX+g+1,y=(m+1)*this.verticesX+g,E=(m+1)*this.verticesX+g+1;r.push(v,_,y),r.push(_,E,y)}this.vertices=new Float32Array(t),this.uvs=new Float32Array(i),this.colors=new Float32Array(n),this.indices=new Uint16Array(r),this.indexDirty=!0},t.prototype._onTextureUpdate=function(){l.default.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()},t}(l.default);n.default=c},{"./Mesh":155}],158:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var l=e("./Mesh"),c=r(l),u=e("../core"),d=i(u),p=function(e){function t(n,i){o(this,t);var r=a(this,e.call(this,n));return r.points=i,r.vertices=new Float32Array(4*i.length),r.uvs=new Float32Array(4*i.length),r.colors=new Float32Array(2*i.length),r.indices=new Uint16Array(2*i.length),r._ready=!0,r.refresh(),r}return s(t,e),t.prototype.refresh=function(){var e=this.points;if(!(e.length<1)&&this._texture._uvs){this.vertices.length/4!==e.length&&(this.vertices=new Float32Array(4*e.length),this.uvs=new Float32Array(4*e.length),this.colors=new Float32Array(2*e.length),this.indices=new Uint16Array(2*e.length));var t=this.uvs,n=this.indices,i=this.colors,r=this._texture._uvs,o=new d.Point(r.x0,r.y0),a=new d.Point(r.x2-r.x0,r.y2-r.y0);t[0]=0+o.x,t[1]=0+o.y,t[2]=0+o.x,t[3]=Number(a.y)+o.y,i[0]=1,i[1]=1,n[0]=0,n[1]=1;for(var s=e.length,l=1;l<s;l++){var c=4*l,u=l/(s-1);t[c]=u*a.x+o.x,t[c+1]=0+o.y,t[c+2]=u*a.x+o.x,t[c+3]=Number(a.y)+o.y,c=2*l,i[c]=1,i[c+1]=1,c=2*l,n[c]=c,n[c+1]=c+1}this.dirty++,this.indexDirty++}},t.prototype._onTextureUpdate=function(){e.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()},t.prototype.updateTransform=function(){var e=this.points;if(!(e.length<1)){for(var t=e[0],n=void 0,i=0,r=0,o=this.vertices,a=e.length,s=0;s<a;s++){var l=e[s],c=4*s;n=s<e.length-1?e[s+1]:l,r=-(n.x-t.x),i=n.y-t.y;var u=10*(1-s/(a-1));u>1&&(u=1);var d=Math.sqrt(i*i+r*r),p=this._texture.height/2;i/=d,r/=d,i*=p,r*=p,o[c]=l.x+i,o[c+1]=l.y+r,o[c+2]=l.x-i,o[c+3]=l.y-r,t=l}this.containerUpdateTransform()}},t}(c.default);n.default=p},{"../core":61,"./Mesh":155}],159:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var a=e("../../core"),s=r(a),l=e("../Mesh"),c=i(l),u=function(){function e(t){o(this,e),this.renderer=t}return e.prototype.render=function(e){var t=this.renderer,n=t.context,i=e.worldTransform,r=t.resolution;t.roundPixels?n.setTransform(i.a*r,i.b*r,i.c*r,i.d*r,i.tx*r|0,i.ty*r|0):n.setTransform(i.a*r,i.b*r,i.c*r,i.d*r,i.tx*r,i.ty*r),t.setBlendMode(e.blendMode),e.drawMode===c.default.DRAW_MODES.TRIANGLE_MESH?this._renderTriangleMesh(e):this._renderTriangles(e)},e.prototype._renderTriangleMesh=function(e){for(var t=e.vertices.length/2,n=0;n<t-2;n++){var i=2*n;this._renderDrawTriangle(e,i,i+2,i+4)}},e.prototype._renderTriangles=function(e){for(var t=e.indices,n=t.length,i=0;i<n;i+=3){var r=2*t[i],o=2*t[i+1],a=2*t[i+2];this._renderDrawTriangle(e,r,o,a)}},e.prototype._renderDrawTriangle=function(e,t,n,i){var r=this.renderer.context,o=e.uvs,a=e.vertices,s=e._texture;if(s.valid){var l=s.baseTexture,c=l.source,u=l.width,d=l.height,p=o[t]*l.width,h=o[n]*l.width,f=o[i]*l.width,g=o[t+1]*l.height,m=o[n+1]*l.height,v=o[i+1]*l.height,_=a[t],y=a[n],E=a[i],b=a[t+1],T=a[n+1],S=a[i+1];if(e.canvasPadding>0){var L=e.canvasPadding/e.worldTransform.a,A=e.canvasPadding/e.worldTransform.d,C=(_+y+E)/3,w=(b+T+S)/3,x=_-C,O=b-w,D=Math.sqrt(x*x+O*O);_=C+x/D*(D+L),b=w+O/D*(D+A),x=y-C,O=T-w,D=Math.sqrt(x*x+O*O),y=C+x/D*(D+L),T=w+O/D*(D+A),x=E-C,O=S-w,D=Math.sqrt(x*x+O*O),E=C+x/D*(D+L),S=w+O/D*(D+A)}r.save(),r.beginPath(),r.moveTo(_,b),r.lineTo(y,T),r.lineTo(E,S),r.closePath(),r.clip();var R=p*m+g*f+h*v-m*f-g*h-p*v,I=_*m+g*E+y*v-m*E-g*y-_*v,P=p*y+_*f+h*E-y*f-_*h-p*E,N=p*m*E+g*y*f+_*h*v-_*m*f-g*h*E-p*y*v,M=b*m+g*S+T*v-m*S-g*T-b*v,k=p*T+b*f+h*S-T*f-b*h-p*S,U=p*m*S+g*T*f+b*h*v-b*m*f-g*h*S-p*T*v;r.transform(I/R,M/R,P/R,k/R,N/R,U/R),r.drawImage(c,0,0,u*l.resolution,d*l.resolution,0,0,u,d),r.restore()}},e.prototype.renderMeshFlat=function(e){var t=this.renderer.context,n=e.vertices,i=n.length/2;t.beginPath();for(var r=1;r<i-2;++r){var o=2*r,a=n[o],s=n[o+1],l=n[o+2],c=n[o+3],u=n[o+4],d=n[o+5];t.moveTo(a,s),t.lineTo(l,c),t.lineTo(u,d)}t.fillStyle="#FF0000",t.fill(),t.closePath()},e.prototype.destroy=function(){this.renderer=null},e}();n.default=u,s.CanvasRenderer.registerPlugin("mesh",u)},{"../../core":61,"../Mesh":155}],160:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var r=e("./Mesh");Object.defineProperty(n,"Mesh",{enumerable:!0,get:function(){return i(r).default}});var o=e("./webgl/MeshRenderer");Object.defineProperty(n,"MeshRenderer",{enumerable:!0,get:function(){return i(o).default}});var a=e("./canvas/CanvasMeshRenderer");Object.defineProperty(n,"CanvasMeshRenderer",{enumerable:!0,get:function(){return i(a).default}});var s=e("./Plane");Object.defineProperty(n,"Plane",{enumerable:!0,get:function(){return i(s).default}});var l=e("./NineSlicePlane");Object.defineProperty(n,"NineSlicePlane",{enumerable:!0,get:function(){return i(l).default}});var c=e("./Rope");Object.defineProperty(n,"Rope",{enumerable:!0,get:function(){return i(c).default}})},{"./Mesh":155,"./NineSlicePlane":156,"./Plane":157,"./Rope":158,"./canvas/CanvasMeshRenderer":159,"./webgl/MeshRenderer":161}],161:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var l=e("../../core"),c=r(l),u=e("pixi-gl-core"),d=i(u),p=e("../Mesh"),h=i(p),f=(e("path"),function(e){function t(n){o(this,t);var i=a(this,e.call(this,n));return i.shader=null,i}return s(t,e),t.prototype.onContextChange=function(){var e=this.renderer.gl;this.shader=new c.Shader(e,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 translationMatrix;\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n}\n","varying vec2 vTextureCoord;\nuniform float alpha;\nuniform vec3 tint;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * vec4(tint * alpha, alpha);\n}\n")},t.prototype.render=function(e){var t=this.renderer,n=t.gl,i=e._texture;if(i.valid){var r=e._glDatas[t.CONTEXT_UID];r||(t.bindVao(null),r={shader:this.shader,vertexBuffer:d.default.GLBuffer.createVertexBuffer(n,e.vertices,n.STREAM_DRAW),uvBuffer:d.default.GLBuffer.createVertexBuffer(n,e.uvs,n.STREAM_DRAW),indexBuffer:d.default.GLBuffer.createIndexBuffer(n,e.indices,n.STATIC_DRAW),vao:null,dirty:e.dirty,indexDirty:e.indexDirty},r.vao=new d.default.VertexArrayObject(n).addIndex(r.indexBuffer).addAttribute(r.vertexBuffer,r.shader.attributes.aVertexPosition,n.FLOAT,!1,8,0).addAttribute(r.uvBuffer,r.shader.attributes.aTextureCoord,n.FLOAT,!1,8,0),e._glDatas[t.CONTEXT_UID]=r),e.dirty!==r.dirty&&(r.dirty=e.dirty,r.uvBuffer.upload(e.uvs)),e.indexDirty!==r.indexDirty&&(r.indexDirty=e.indexDirty,r.indexBuffer.upload(e.indices)),r.vertexBuffer.upload(e.vertices),t.bindShader(r.shader),r.shader.uniforms.uSampler=t.bindTexture(i),t.state.setBlendMode(e.blendMode),r.shader.uniforms.translationMatrix=e.worldTransform.toArray(!0),r.shader.uniforms.alpha=e.worldAlpha,r.shader.uniforms.tint=e.tintRgb;var o=e.drawMode===h.default.DRAW_MODES.TRIANGLE_MESH?n.TRIANGLE_STRIP:n.TRIANGLES;t.bindVao(r.vao),r.vao.draw(o,e.indices.length,0)}},t}(c.ObjectRenderer));n.default=f,c.WebGLRenderer.registerPlugin("mesh",f)},{"../../core":61,"../Mesh":155,path:22,"pixi-gl-core":12}],162:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../core"),l=i(s),c=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1500,i=arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16384;r(this,t);var s=o(this,e.call(this)),c=16384;return a>c&&(a=c),a>n&&(a=n),s._properties=[!1,!0,!1,!1,!1],s._maxSize=n,s._batchSize=a,s._glBuffers={},s._bufferToUpdate=0,s.interactiveChildren=!1,s.blendMode=l.BLEND_MODES.NORMAL,s.roundPixels=!0,s.baseTexture=null,s.setProperties(i),s}return a(t,e),t.prototype.setProperties=function(e){e&&(this._properties[0]="scale"in e?!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="alpha"in e?!!e.alpha:this._properties[4])},t.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},t.prototype.renderWebGL=function(e){var t=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.hasLoaded||this.baseTexture.once("update",function(){return t.onChildrenChange(0)})),e.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))},t.prototype.onChildrenChange=function(e){var t=Math.floor(e/this._batchSize);t<this._bufferToUpdate&&(this._bufferToUpdate=t)},t.prototype.renderCanvas=function(e){if(this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable){var t=e.context,n=this.worldTransform,i=!0,r=0,o=0,a=0,s=0,l=e.blendModes[this.blendMode];l!==t.globalCompositeOperation&&(t.globalCompositeOperation=l),t.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var c=0;c<this.children.length;++c){var u=this.children[c];if(u.visible){var d=u.texture.frame;if(t.globalAlpha=this.worldAlpha*u.alpha,u.rotation%(2*Math.PI)===0)i&&(t.setTransform(n.a,n.b,n.c,n.d,n.tx*e.resolution,n.ty*e.resolution),i=!1),r=u.anchor.x*(-d.width*u.scale.x)+u.position.x+.5,o=u.anchor.y*(-d.height*u.scale.y)+u.position.y+.5,a=d.width*u.scale.x,s=d.height*u.scale.y;else{i||(i=!0),u.displayObjectUpdateTransform();var p=u.worldTransform;e.roundPixels?t.setTransform(p.a,p.b,p.c,p.d,p.tx*e.resolution|0,p.ty*e.resolution|0):t.setTransform(p.a,p.b,p.c,p.d,p.tx*e.resolution,p.ty*e.resolution),
r=u.anchor.x*-d.width+.5,o=u.anchor.y*-d.height+.5,a=d.width,s=d.height}var h=u.texture.baseTexture.resolution;t.drawImage(u.texture.baseTexture.source,d.x*h,d.y*h,d.width*h,d.height*h,r*h,o*h,a*h,s*h)}}}},t.prototype.destroy=function(t){if(e.prototype.destroy.call(this,t),this._buffers)for(var n=0;n<this._buffers.length;++n)this._buffers[n].destroy();this._properties=null,this._buffers=null},t}(l.Container);n.default=c},{"../core":61}],163:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var r=e("./ParticleContainer");Object.defineProperty(n,"ParticleContainer",{enumerable:!0,get:function(){return i(r).default}});var o=e("./webgl/ParticleRenderer");Object.defineProperty(n,"ParticleRenderer",{enumerable:!0,get:function(){return i(o).default}})},{"./ParticleContainer":162,"./webgl/ParticleRenderer":165}],164:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=e("pixi-gl-core"),a=i(o),s=e("../../core/utils/createIndicesForQuads"),l=i(s),c=function(){function e(t,n,i,o){r(this,e),this.gl=t,this.vertSize=2,this.vertByteSize=4*this.vertSize,this.size=o,this.dynamicProperties=[],this.staticProperties=[];for(var a=0;a<n.length;++a){var s=n[a];s={attribute:s.attribute,size:s.size,uploadFunction:s.uploadFunction,offset:s.offset},i[a]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.initBuffers()}return e.prototype.initBuffers=function(){var e=this.gl,t=0;this.indices=(0,l.default)(this.size),this.indexBuffer=a.default.GLBuffer.createIndexBuffer(e,this.indices,e.STATIC_DRAW),this.dynamicStride=0;for(var n=0;n<this.dynamicProperties.length;++n){var i=this.dynamicProperties[n];i.offset=t,t+=i.size,this.dynamicStride+=i.size}this.dynamicData=new Float32Array(this.size*this.dynamicStride*4),this.dynamicBuffer=a.default.GLBuffer.createVertexBuffer(e,this.dynamicData,e.STREAM_DRAW);var r=0;this.staticStride=0;for(var o=0;o<this.staticProperties.length;++o){var s=this.staticProperties[o];s.offset=r,r+=s.size,this.staticStride+=s.size}this.staticData=new Float32Array(this.size*this.staticStride*4),this.staticBuffer=a.default.GLBuffer.createVertexBuffer(e,this.staticData,e.STATIC_DRAW),this.vao=new a.default.VertexArrayObject(e).addIndex(this.indexBuffer);for(var c=0;c<this.dynamicProperties.length;++c){var u=this.dynamicProperties[c];this.vao.addAttribute(this.dynamicBuffer,u.attribute,e.FLOAT,!1,4*this.dynamicStride,4*u.offset)}for(var d=0;d<this.staticProperties.length;++d){var p=this.staticProperties[d];this.vao.addAttribute(this.staticBuffer,p.attribute,e.FLOAT,!1,4*this.staticStride,4*p.offset)}},e.prototype.uploadDynamic=function(e,t,n){for(var i=0;i<this.dynamicProperties.length;i++){var r=this.dynamicProperties[i];r.uploadFunction(e,t,n,this.dynamicData,this.dynamicStride,r.offset)}this.dynamicBuffer.upload()},e.prototype.uploadStatic=function(e,t,n){for(var i=0;i<this.staticProperties.length;i++){var r=this.staticProperties[i];r.uploadFunction(e,t,n,this.staticData,this.staticStride,r.offset)}this.staticBuffer.upload()},e.prototype.destroy=function(){this.dynamicProperties=null,this.dynamicData=null,this.dynamicBuffer.destroy(),this.staticProperties=null,this.staticData=null,this.staticBuffer.destroy()},e}();n.default=c},{"../../core/utils/createIndicesForQuads":115,"pixi-gl-core":12}],165:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var l=e("../../core"),c=r(l),u=e("./ParticleShader"),d=i(u),p=e("./ParticleBuffer"),h=i(p),f=function(e){function t(n){o(this,t);var i=a(this,e.call(this,n));return i.shader=null,i.indexBuffer=null,i.properties=null,i.tempMatrix=new c.Matrix,i.CONTEXT_UID=0,i}return s(t,e),t.prototype.onContextChange=function(){var e=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.shader=new d.default(e),this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,uploadFunction:this.uploadAlpha,offset:0}]},t.prototype.start=function(){this.renderer.bindShader(this.shader)},t.prototype.render=function(e){var t=e.children,n=e._maxSize,i=e._batchSize,r=this.renderer,o=t.length;if(0!==o){o>n&&(o=n);var a=e._glBuffers[r.CONTEXT_UID];a||(a=e._glBuffers[r.CONTEXT_UID]=this.generateBuffers(e)),this.renderer.setBlendMode(e.blendMode);var s=r.gl,l=e.worldTransform.copy(this.tempMatrix);l.prepend(r._activeRenderTarget.projectionMatrix),this.shader.uniforms.projectionMatrix=l.toArray(!0),this.shader.uniforms.uAlpha=e.worldAlpha;var c=t[0]._texture.baseTexture;this.shader.uniforms.uSampler=r.bindTexture(c);for(var u=0,d=0;u<o;u+=i,d+=1){var p=o-u;p>i&&(p=i);var h=a[d];h.uploadDynamic(t,u,p),e._bufferToUpdate===d&&(h.uploadStatic(t,u,p),e._bufferToUpdate=d+1),r.bindVao(h.vao),h.vao.draw(s.TRIANGLES,6*p)}}},t.prototype.generateBuffers=function(e){for(var t=this.renderer.gl,n=[],i=e._maxSize,r=e._batchSize,o=e._properties,a=0;a<i;a+=r)n.push(new h.default(t,this.properties,o,r));return n},t.prototype.uploadVertices=function(e,t,n,i,r,o){for(var a=0,s=0,l=0,c=0,u=0;u<n;++u){var d=e[t+u],p=d._texture,h=d.scale.x,f=d.scale.y,g=p.trim,m=p.orig;g?(s=g.x-d.anchor.x*m.width,a=s+g.width,c=g.y-d.anchor.y*m.height,l=c+g.height):(a=m.width*(1-d.anchor.x),s=m.width*-d.anchor.x,l=m.height*(1-d.anchor.y),c=m.height*-d.anchor.y),i[o]=s*h,i[o+1]=c*f,i[o+r]=a*h,i[o+r+1]=c*f,i[o+2*r]=a*h,i[o+2*r+1]=l*f,i[o+3*r]=s*h,i[o+3*r+1]=l*f,o+=4*r}},t.prototype.uploadPosition=function(e,t,n,i,r,o){for(var a=0;a<n;a++){var s=e[t+a].position;i[o]=s.x,i[o+1]=s.y,i[o+r]=s.x,i[o+r+1]=s.y,i[o+2*r]=s.x,i[o+2*r+1]=s.y,i[o+3*r]=s.x,i[o+3*r+1]=s.y,o+=4*r}},t.prototype.uploadRotation=function(e,t,n,i,r,o){for(var a=0;a<n;a++){var s=e[t+a].rotation;i[o]=s,i[o+r]=s,i[o+2*r]=s,i[o+3*r]=s,o+=4*r}},t.prototype.uploadUvs=function(e,t,n,i,r,o){for(var a=0;a<n;++a){var s=e[t+a]._texture._uvs;s?(i[o]=s.x0,i[o+1]=s.y0,i[o+r]=s.x1,i[o+r+1]=s.y1,i[o+2*r]=s.x2,i[o+2*r+1]=s.y2,i[o+3*r]=s.x3,i[o+3*r+1]=s.y3,o+=4*r):(i[o]=0,i[o+1]=0,i[o+r]=0,i[o+r+1]=0,i[o+2*r]=0,i[o+2*r+1]=0,i[o+3*r]=0,i[o+3*r+1]=0,o+=4*r)}},t.prototype.uploadAlpha=function(e,t,n,i,r,o){for(var a=0;a<n;a++){var s=e[t+a].alpha;i[o]=s,i[o+r]=s,i[o+2*r]=s,i[o+3*r]=s,o+=4*r}},t.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer),e.prototype.destroy.call(this),this.shader.destroy(),this.indices=null,this.tempMatrix=null},t}(c.ObjectRenderer);n.default=f,c.WebGLRenderer.registerPlugin("particle",f)},{"../../core":61,"./ParticleBuffer":164,"./ParticleShader":166}],166:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../../core/Shader"),l=i(s),c=function(e){function t(n){return r(this,t),o(this,e.call(this,n,["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute float aColor;","attribute vec2 aPositionCoord;","attribute vec2 aScale;","attribute float aRotation;","uniform mat3 projectionMatrix;","varying vec2 vTextureCoord;","varying float vColor;","void main(void){","   vec2 v = aVertexPosition;","   v.x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);","   v.y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);","   v = v + aPositionCoord;","   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor;","}"].join("\n"),["varying vec2 vTextureCoord;","varying float vColor;","uniform sampler2D uSampler;","uniform float uAlpha;","void main(void){","  vec4 color = texture2D(uSampler, vTextureCoord) * vColor * uAlpha;","  if (color.a == 0.0) discard;","  gl_FragColor = color;","}"].join("\n")))}return a(t,e),t}(l.default);n.default=c},{"../../core/Shader":41}],167:[function(e,t,n){"use strict";Math.sign||(Math.sign=function(e){return e=Number(e),0===e||isNaN(e)?e:e>0?1:-1})},{}],168:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var r=e("object-assign"),o=i(r);Object.assign||(Object.assign=o.default)},{"object-assign":5}],169:[function(e,t,n){"use strict";e("./Object.assign"),e("./requestAnimationFrame"),e("./Math.sign"),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array)},{"./Math.sign":167,"./Object.assign":168,"./requestAnimationFrame":170}],170:[function(e,t,n){(function(e){"use strict";var t=16;Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),e.performance&&e.performance.now||!function(){var t=Date.now();e.performance||(e.performance={}),e.performance.now=function(){return Date.now()-t}}();for(var n=Date.now(),i=["ms","moz","webkit","o"],r=0;r<i.length&&!e.requestAnimationFrame;++r){var o=i[r];e.requestAnimationFrame=e[o+"RequestAnimationFrame"],e.cancelAnimationFrame=e[o+"CancelAnimationFrame"]||e[o+"CancelRequestAnimationFrame"]}e.requestAnimationFrame||(e.requestAnimationFrame=function(e){if("function"!=typeof e)throw new TypeError(e+"is not a function");var i=Date.now(),r=t+n-i;return r<0&&(r=0),n=i,setTimeout(function(){n=Date.now(),e(performance.now())},r)}),e.cancelAnimationFrame||(e.cancelAnimationFrame=function(e){return clearTimeout(e)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],171:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){return t instanceof d.Text&&(t.updateText(!0),!0)}function s(e,t){if(t instanceof d.TextStyle){var n=d.Text.getFontStyle(t);return d.Text.fontPropertiesCache[n]||d.Text.calculateFontProperties(n),!0}return!1}function l(e,t){if(e instanceof d.Text){t.indexOf(e.style)===-1&&t.push(e.style),t.indexOf(e)===-1&&t.push(e);var n=e._texture.baseTexture;return t.indexOf(n)===-1&&t.push(n),!0}return!1}function c(e,t){return e instanceof d.TextStyle&&(t.indexOf(e)===-1&&t.push(e),!0)}n.__esModule=!0;var u=e("../core"),d=r(u),p=e("./limiters/CountLimiter"),h=i(p),f=d.ticker.shared;d.settings.UPLOADS_PER_FRAME=4;var g=function(){function e(t){var n=this;o(this,e),this.limiter=new h.default(d.settings.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){n.queue&&n.prepareItems()},this.register(l,a),this.register(c,s)}return e.prototype.upload=function(e,t){"function"==typeof e&&(t=e,e=null),e&&this.add(e),this.queue.length?(t&&this.completes.push(t),this.ticking||(this.ticking=!0,f.addOnce(this.tick,this))):t&&t()},e.prototype.tick=function(){setTimeout(this.delayedTick,0)},e.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){for(var e=this.queue[0],t=!1,n=0,i=this.uploadHooks.length;n<i;n++)if(this.uploadHooks[n](this.uploadHookHelper,e)){this.queue.shift(),t=!0;break}t||this.queue.shift()}if(this.queue.length)f.addOnce(this.tick,this);else{this.ticking=!1;var r=this.completes.slice(0);this.completes.length=0;for(var o=0,a=r.length;o<a;o++)r[o]()}},e.prototype.register=function(e,t){return e&&this.addHooks.push(e),t&&this.uploadHooks.push(t),this},e.prototype.add=function(e){for(var t=0,n=this.addHooks.length;t<n&&!this.addHooks[t](e,this.queue);t++);if(e instanceof d.Container)for(var i=e.children.length-1;i>=0;i--)this.add(e.children[i]);return this},e.prototype.destroy=function(){this.ticking&&f.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},e}();n.default=g},{"../core":61,"./limiters/CountLimiter":174}],172:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){if(t instanceof d.BaseTexture){var n=t.source,i=0===n.width?e.canvas.width:Math.min(e.canvas.width,n.width),r=0===n.height?e.canvas.height:Math.min(e.canvas.height,n.height);return e.ctx.drawImage(n,0,0,i,r,0,0,e.canvas.width,e.canvas.height),!0}return!1}function c(e,t){if(e instanceof d.BaseTexture)return t.indexOf(e)===-1&&t.push(e),!0;if(e._texture&&e._texture instanceof d.Texture){var n=e._texture.baseTexture;return t.indexOf(n)===-1&&t.push(n),!0}return!1}n.__esModule=!0;var u=e("../../core"),d=r(u),p=e("../BasePrepare"),h=i(p),f=16,g=function(e){function t(n){o(this,t);var i=a(this,e.call(this,n));return i.uploadHookHelper=i,i.canvas=document.createElement("canvas"),i.canvas.width=f,i.canvas.height=f,i.ctx=i.canvas.getContext("2d"),i.register(c,l),i}return s(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this),this.ctx=null,this.canvas=null},t}(h.default);n.default=g,d.CanvasRenderer.registerPlugin("prepare",g)},{"../../core":61,"../BasePrepare":171}],173:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var r=e("./webgl/WebGLPrepare");Object.defineProperty(n,"webgl",{enumerable:!0,get:function(){return i(r).default}});var o=e("./canvas/CanvasPrepare");Object.defineProperty(n,"canvas",{enumerable:!0,get:function(){return i(o).default}});var a=e("./BasePrepare");Object.defineProperty(n,"BasePrepare",{enumerable:!0,get:function(){return i(a).default}});var s=e("./limiters/CountLimiter");Object.defineProperty(n,"CountLimiter",{enumerable:!0,get:function(){return i(s).default}});var l=e("./limiters/TimeLimiter");Object.defineProperty(n,"TimeLimiter",{enumerable:!0,get:function(){return i(l).default}})},{"./BasePrepare":171,"./canvas/CanvasPrepare":172,"./limiters/CountLimiter":174,"./limiters/TimeLimiter":175,"./webgl/WebGLPrepare":176}],174:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var r=function(){function e(t){i(this,e),this.maxItemsPerFrame=t,this.itemsLeft=0}return e.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},e.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},e}();n.default=r},{}],175:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var r=function(){function e(t){i(this,e),this.maxMilliseconds=t,this.frameStart=0}return e.prototype.beginFrame=function(){this.frameStart=Date.now()},e.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},e}();n.default=r},{}],176:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return t instanceof h.BaseTexture&&(t._glTextures[e.CONTEXT_UID]||e.textureManager.updateTexture(t),!0)}function c(e,t){return t instanceof h.Graphics&&((t.dirty||t.clearDirty||!t._webGL[e.plugins.graphics.CONTEXT_UID])&&e.plugins.graphics.updateGraphics(t),!0)}function u(e,t){if(e instanceof h.BaseTexture)return t.indexOf(e)===-1&&t.push(e),!0;if(e._texture&&e._texture instanceof h.Texture){var n=e._texture.baseTexture;return t.indexOf(n)===-1&&t.push(n),!0}return!1}function d(e,t){return e instanceof h.Graphics&&(t.push(e),!0)}n.__esModule=!0;var p=e("../../core"),h=r(p),f=e("../BasePrepare"),g=i(f),m=function(e){function t(n){o(this,t);var i=a(this,e.call(this,n));return i.uploadHookHelper=i.renderer,i.register(u,l).register(d,c),i}return s(t,e),t}(g.default);n.default=m,h.WebGLRenderer.registerPlugin("prepare",m)},{"../../core":61,"../BasePrepare":171}],177:[function(e,t,n){(function(t){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}n.__esModule=!0,n.loader=n.prepare=n.particles=n.mesh=n.loaders=n.interaction=n.filters=n.extras=n.extract=n.accessibility=void 0;var r=e("./deprecation");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(n,e,{enumerable:!0,get:function(){return r[e]}})});var o=e("./core");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(n,e,{enumerable:!0,get:function(){return o[e]}})}),e("./polyfill");var a=e("./accessibility"),s=i(a),l=e("./extract"),c=i(l),u=e("./extras"),d=i(u),p=e("./filters"),h=i(p),f=e("./interaction"),g=i(f),m=e("./loaders"),v=i(m),_=e("./mesh"),y=i(_),E=e("./particles"),b=i(E),T=e("./prepare"),S=i(T);n.accessibility=s,n.extract=c,n.extras=d,n.filters=h,n.interaction=g,n.loaders=v,n.mesh=y,n.particles=b,n.prepare=S;var L=v&&v.Loader?new v.Loader:null;n.loader=L,t.PIXI=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./accessibility":40,"./core":61,"./deprecation":120,"./extract":122,"./extras":131,"./filters":142,"./interaction":148,"./loaders":151,"./mesh":160,"./particles":163,"./polyfill":169,"./prepare":173}]},{},[177])(177)}),define("services/designlibrary/designLibraryRendering",["require","exports","module","angular","pixi"],function(e,t,n){"use strict";var i=e("angular"),r=e("pixi"),o=["$translate","themeManager","designLibraryElements","designLibraryUtils","adobeStockUtils","imageUtils","configuration","csInterface",function(e,t,n,i,o,a,s,l){function c(e,t,n,i){var r=Q[e];this._interval=r.interval,this._intervalCallback=function(e,o){r.render(e,t,n,o,i),t.requestRender()},r.delay?this._delayedStart=setTimeout(this.start.bind(this),r.delay):this.start()}function u(e,i){this._element=e,this._options=i,this._isDestroyed=!1,this._elementData=n.getElementTypeDimensions(e.type,this.isListView),this._renderCallbacks=[],this._animations={},this._lastRedrawParams={},this._showDownloadProgressTooltip=!1,this._overlayOpacity=this.showOverlay?1:0,this._backgroundGraphics=new r.Graphics,this._overlayGraphics=new r.Graphics,this._text=new r.Text("",{fontFamily:t.getFontFamily(),fontSize:m}),this._text.canvas.style.webkitFontSmoothing="antialiased",this.sprite.addChild(this._backgroundGraphics),this.sprite.addChild(this._overlayGraphics),this.sprite.addChild(this._text),this.redraw(),this._onElementChange=function(){delete this._tooltipData,delete this._showDownloadProgressTooltip,delete this._downloadingOverlayPosition,this.redraw(!0),this.requestRender()}.bind(this),this.element.addChangeListener(this._onElementChange)}function d(e,i){this._type=e,this._options=i,this._isDestroyed=!1,this._elementData=n.getElementTypeDimensions(e),this._graphics=new r.Graphics,this._graphics.hitArea=new r.Rectangle(0,0,S,m),this._text=new r.Text(this.name,{fontFamily:t.getFontFamily(),fontSize:m,fill:f.FONT_HEADER(),fontWeight:200}),this._text.x=S,this.redraw(),this.sprite.addChild(this._graphics),this.sprite.addChild(this._text)}var p=2,h={BACKGROUND:"theme-content-background",LIST_HOVER_BACKGROUND:"design-library-hover-bg",LIST_SELECT_BACKGROUND:"design-library-selected-bg",FONT:"theme-font-color",FONT_HEADER:"theme-content-header",FONT_LIST:"theme-content-list-item-name",FONT_GRID:0,GRID_BACKGROUND:16777215,GRID_BACKGROUND_DISABLED:8618883,DEFAULT_ELEMENT_BACKGROUND:"theme-image-background-1",TRANSPARENCY_1:"theme-image-background-1",TRANSPARENCY_2:"theme-image-background-2",THUMBNAIL_BORDER:"design-library-color-item-border",THUMBNAIL_BORDER_SELECTED:"design-library-color-item-border-selected",STOCK_LICENSE_BADGE_BACKGROUND:"design-library-stock-item-licensed-background-color",STOCK_LICENSE_BADGE_FOREGROUND:"design-library-stock-item-icon-color",ERROR:"theme-error",BADGE_BACKGROUND:"badge-background",BADGE_FOREGROUND:"badge-foreground"},f={};Object.keys(h).forEach(function(e){f[e]=function(){var n=h[e];return"string"==typeof n?t.getThemeColor(n):n}});var g,m=11,v=10,_=3,y=24,E=16,b=4,T=5,S=13,L=[new r.Point(0,0),new r.Point(8,0),new r.Point(4,6),new r.Point(0,0)],A=[new r.Point(0,0),new r.Point(0,8),new r.Point(6,4),new r.Point(0,0)],C=function(e,t,n,r){function o(e){a.text=i.truncateName(n,e)}if(e[t+"Text"]!==n||e[t+"Width"]!==r){e[t+"Text"]=n,e[t+"Width"]=r;var a=e[t];if(a.text=n,a.width>r){var s=Math.floor(n.length*(r-8)/a.width);if(o(s),a.width>r)for(;a.width>r;)s--,o(s);else{for(;a.width<=r;)s++,o(s);o(s-1)}}}},w=0,x=function(){g.backgroundColor=f.BACKGROUND()},O=function(e,t){return g=new r.WebGLRenderer(void 0,void 0,{view:e,resolution:p,antialias:!0}),x(),g.on("context",function(){console.log("Lost context: Recreating renderer"),delete r.Graphics._SPRITE_TEXTURE,setTimeout(t)}),g},D=function(e,t){w=e},R=[],I={},P={},N=function(e){e||(Object.keys(I).forEach(function(e){var t=I[e];t.texture&&(t.isDestroyed=!0,t.texture.destroy(!0))}),Object.keys(P).forEach(function(e){P[e].destroy(!0)})),R=[],I={},P={}},M=function(e){var t=I[e];delete I[e];var n=R.indexOf(t.texture);n!==-1&&R.splice(n,1),t.isDestroyed=!0,t.texture.destroy(!0)},k=function(e,t){var i=e.getReference();n.getRenditionUrlAndPath(e).then(function(e){var n=I[i];if(n){if(n.path===e.path)return void t(null,I[i].texture);M(i)}if(!e.path)return void t(null,void 0);var o={path:e.path,texture:r.Texture.fromImage(e.url)};I[i]=o,R.push(o.texture),o.texture.baseTexture.on("loaded",function(){return o.isDestroyed?void o.texture.destroy(!0):void t(null,o.texture)})})},U=function(e,t){if(!P[e]){var n=t();P[e]=r.RenderTexture.create(n.width,n.height),P[e].baseTexture.resolution=p,g.render(n,P[e])}return P[e]},F=function(){return U("TRANSPARENCY_GRID",function(){var e=new r.Graphics;return e.position.x=0,e.position.y=0,e.beginFill(f.TRANSPARENCY_2()),e.drawRect(0,0,2*_,2*_),e.endFill(),e.beginFill(f.TRANSPARENCY_1()),e.drawRect(0,0,_,_),e.drawRect(_,_,_,_),e.endFill(),e})},$=function(e){return U("BADGE_"+e,function(){var n=new r.Container,i=new r.Text(e,{fontFamily:t.getFontFamily(),fontSize:9,fontWeight:200,fill:f.BADGE_FOREGROUND()});i.position.x=5,i.position.y=2;var o=new r.Graphics;return o.beginFill(f.BADGE_BACKGROUND()),o.drawRoundedRect(0,0,i.width+10,14,2),o.endFill(),n.addChild(o),n.addChild(i),n})},B=[[0,1,2,3],[1,2,3],[2,3],[3],[0],[1,0],[2,1,0],[3,2,1,0]],j=2852309,Y=8553090,V=7,H=2,G=function(e){return e%=8,U("LOADING_THUMBNAIL_"+e,function(){var t=new r.Graphics,n=2*V+H;return t.beginFill(0,0),t.drawRect(0,0,n,n),t.endFill(),B[e].forEach(function(e,n){t.beginFill(0===n?j:Y);var i=0===e||3===e?0:V+H,r=0===e||1===e?0:V+H;t.drawRect(i,r,V,V),t.endFill()}),t})},W=function(){return U("ICON_newcreativecloud",function(){var e=new r.Text("",{fontFamily:"EdgeCCIcons",fontSize:20,fill:f.FONT()});return e.alpha=.4,e})},q=function(){return U("ICON_newsyncing",function(){var e=new r.Text("",{fontFamily:"EdgeCCIcons",fontSize:16,fill:f.FONT()});return e})},X=function(){return U("ICON_alert",function(){var e=new r.Text("",{fontFamily:"EdgeCCIcons",fontSize:16,fill:f.FONT()});return e})},z=function(e){return U("ICON_missingFont_"+e,function(){var t=new r.Text("",{fontFamily:"EdgeCCIcons",fontSize:e,fill:f.ERROR()});return t})},K={},J=function(e,t){var n=K[e];n||(n={frame:0,callbacks:[],interval:setInterval(function(){var e=n.frame++,t=n.callbacks;t.forEach(function(t){t(e)})},e)},K[e]=n),n.callbacks.push(t),t(n.frame,!0)},Z=function(e,t){var n=K[e];if(n){var i=n.callbacks.indexOf(t);i!==-1&&n.callbacks.splice(i,1),0===n.callbacks.length&&(clearInterval(n.interval),delete K[e])}},Q={};Q.thumbnailLoading={interval:200,delay:500,render:function(e,t,n,i){n.texture=G(e),i&&a.scaleAndPositionImage(n,t)}},Q.syncing={interval:1/60,render:function(e,t,n,i,o){n.texture=q(),n.rotation=e*Math.PI/240,i&&(a.scaleAndPositionImage(n,o||t),n.pivot=new r.Point(n.width/2-1,n.height/2-1),o&&(n.position.x+=o.x,n.position.y+=o.y),n.position.x+=n.pivot.x,n.position.y+=n.pivot.y)}},c.prototype.start=function(){this._running||(this._running=!0,J(this._interval,this._intervalCallback))},c.prototype.stop=function(){this._delayedStart&&clearTimeout(this._delayedStart),this._running&&(this._running=!1,Z(this._interval,this._intervalCallback))};var ee=function(e,t,i){e._imageSprite||(e._imageSprite=new r.Sprite,e.sprite.addChildAt(e._imageSprite,t),e.onDestroy(function(){e._imageSprite.destroy()})),e.startSpriteAnimation("thumbnailLoading",e._imageSprite),k(e.element,function(t,n){e.stopSpriteAnimation("thumbnailLoading"),e.isDestroyed||(e._imageSprite.texture=n||W(),a.scaleAndPositionImage(e._imageSprite,e),i&&i(n),e.requestRender())});var o=n.getBadgeText(e.element);if(e.isListView&&o){e._badgeSprite||(e._badgeSprite=new r.Sprite,e.sprite.addChildAt(e._badgeSprite,t+1),e.onDestroy(function(){e._badgeSprite.destroy()})),e._badgeSprite.texture=$(o);var s=Math.floor((e.height-e._badgeSprite.height)/2),l=5+e._badgeSprite.width;e._badgeSprite.x=e.width-l,e._badgeSprite.y=s,e.setRightMargin(l)}else e._badgeSprite&&(e.sprite.removeChild(e._badgeSprite),delete e._badgeSprite)},te=function(e,t){e._gridSprite||(e._gridSprite=new r.extras.TilingSprite(F()),e._gridSprite.visible=!1,e.sprite.addChildAt(e._gridSprite,t),e.onDestroy(function(){e._gridSprite.destroy()})),ee(e,t+1,function(t){t?(e._gridSprite.visible=!0,e._gridSprite.x=e._imageSprite.x,e._gridSprite.y=e._imageSprite.y,e._gridSprite.width=e._imageSprite.width,e._gridSprite.height=e._imageSprite.height):e._gridSprite.visible=!1})},ne=["width","height","thumbnailWidth","thumbnailHeight"],ie=["isUsable","isSelected","isHovering","showOverlay","_overlayOpacity"];Object.defineProperties(u.prototype,{element:{get:function(){return this._element}},subElements:{get:function(){return this._subElements||[]},set:function(e){e.forEach(function(e){e.position={position:"absolute",left:e.x+"px",top:e.y+"px",width:e.width+"px",height:e.height+"px"},this._elementData.subElementTooltipTemplateUrl&&(e.tooltipTemplateUrl=this._elementData.subElementTooltipTemplateUrl,e.tooltipData=n.getTooltipData(this._element,e.data))},this),this._subElements=e}},downloadPending:{get:function(){return!n.isIgnoringPendingDownload(this.element)&&n.isElementDownloadPending(this.element)}},showDownloadProgressTooltip:{get:function(){return this._showDownloadProgressTooltip}},downloadProgress:{get:function(){return n.getElementDownloadProgress(this._element)}},downloadingOverlayPosition:{get:function(){return this._downloadingOverlayPosition}},downloadTooltip:{get:function(){var t=null;return t=void 0===this.downloadProgress?e.instant("DL_LINK_DOWNLOAD_TOOLTIP"):this.downloadProgress===-1?e.instant("DL_LINK_DOWNLOAD_FAIL_TOOLTIP"):e.instant("DL_LINK_DOWNLOAD_PROGRESS_TOOLTIP",{percent:this.downloadProgress})}},tooltipData:{get:function(){return this._tooltipData||(this._tooltipData=n.getTooltipData(this._element)),this._tooltipData}},tooltipTemplateUrl:{get:function(){return this._elementData.tooltipTemplateUrl}},sprite:{get:function(){return this._sprite||(this._sprite=new r.Container),this._sprite}},width:{get:function(){return"full"===this._elementData.width?w:this._elementData.width}},height:{get:function(){return this._elementData.height}},border:{get:function(){return 1}},thumbnailMaxWidth:{get:function(){return this._elementData.thumbnailMaxWidth}},thumbnailWidth:{get:function(){return this.isSelected||this.isHovering?this._elementData.thumbnailExpandedWidth:this._elementData.thumbnailWidth}},thumbnailHeight:{get:function(){return this._elementData.thumbnailHeight}},thumbnailOffsetX:{get:function(){return 0}},thumbnailOffsetY:{get:function(){return(this.height-this.thumbnailHeight)/2}},thumbnailBackgroundColor:{get:function(){return this._elementData.backgroundColor||f.DEFAULT_ELEMENT_BACKGROUND()}},isDestroyed:{get:function(){return this._isDestroyed}},isListView:{get:function(){return!!this._options.isListView}},isUsable:{get:function(){return n.isElementUsable(this.element)}},isSelected:{get:function(){return void 0===this._isSelected?!!this._options.isSelected:this._isSelected},set:function(e){this.isSelected!==e&&(this._isSelected=e,this.redraw())}},isHovering:{get:function(){return void 0===this._isHovering?!!this._options.isHovering:this._isHovering},set:function(e){this.isHovering!==e&&(this._isHovering=e,this.redraw())}},showOverlay:{get:function(){return void 0===this._showOverlay?!!this._options.showOverlay:this._showOverlay},set:function(e){this.showOverlay!==e&&(this._showOverlay=e,this.redraw())}}}),u.prototype.destroy=function(){this._isDestroyed||(this.stopAllSpriteAnimations(),this._destroy&&this._destroy(),this._backgroundGraphics.destroy(),this._overlayGraphics.destroy(),this._text.destroy(),this._downloadSprite&&this._downloadSprite.destroy(),this._warningSprite&&this._warningSprite.destroy(),this._missingFontSprite&&this._missingFontSprite.destroy(),
this.element.removeChangeListener(this._onElementChange)),this._isDestroyed=!0},u.prototype.onDestroy=function(e){this._destroy=e},u.prototype.requestRender=function(e){var t=this;this._requestRender&&(e&&this._renderCallbacks.push(e),this._rendering||(this._rendering=!0,this._requestRender(function(){if(t._rendering=!1,!t.isDestroyed){var e=t._renderCallbacks;t._renderCallbacks=[],e.forEach(function(e){e()})}})))},u.prototype.onRequestRender=function(e){this._requestRender=e};var re=.1;u.prototype._updateOverlayOpacity=function(){var e=!1;this.isSelected?1!==this._overlayOpacity&&(this._overlayOpacity=1,e=!0):this.showOverlay&&this._overlayOpacity<1?(this._overlayOpacity=Math.min(1,this._overlayOpacity+re),e=!0):!this.showOverlay&&this._overlayOpacity>0&&(this._overlayOpacity=Math.max(0,this._overlayOpacity-re),e=!0),e&&this.requestRender(this.redraw.bind(this))},u.prototype._needsRedraw=function(e){var t=this._lastRedrawParams,n=!1;return e.forEach(function(e){var i=this[e];t[e]!==i&&(t[e]=i,n=!0)},this),n},u.prototype.redraw=function(e){this.isListView||this._updateOverlayOpacity();var t=this._needsRedraw(ne)||e,i=this._needsRedraw(ie)||t;if(i){var r=this.isUsable,a=f.THUMBNAIL_BORDER(),s=r?f.GRID_BACKGROUND():f.GRID_BACKGROUND_DISABLED(),l=this.isListView?f.FONT_LIST():f.FONT_GRID(),c=1,u=r?1:.592,d=f.BACKGROUND();if(this.isSelected?this.isListView?d=f.LIST_SELECT_BACKGROUND():(s=f.THUMBNAIL_BORDER_SELECTED(),a=s,l=r?f.FONT():f.FONT_GRID(),c=2):this.isHovering&&(this.isListView?d=f.LIST_HOVER_BACKGROUND():(a=s,c=2)),this._backgroundGraphics.clear(),this.isListView&&(this._backgroundGraphics.beginFill(d),this._backgroundGraphics.drawRect(0,0,this.width,this.height),this._backgroundGraphics.endFill()),this._backgroundGraphics.beginFill(this.thumbnailBackgroundColor),this._backgroundGraphics.drawRect(this.thumbnailOffsetX,this.thumbnailOffsetY,this.thumbnailWidth,this.thumbnailHeight),this._backgroundGraphics.endFill(),this._overlayGraphics.clear(),this._overlayGraphics.lineStyle(c,a),this._overlayGraphics.drawRect(c/2+this.thumbnailOffsetX,c/2+this.thumbnailOffsetY,this.thumbnailWidth-c,this.thumbnailHeight-c),this._overlayGraphics.lineStyle(0,a),o.isStockAsset(this.element)&&!this.isListView&&o.isLicensed(this.element)&&(this._overlayGraphics.beginFill(f.STOCK_LICENSE_BADGE_BACKGROUND()),this._overlayGraphics.drawCircle(15,15,10),this._overlayGraphics.endFill(),this._overlayGraphics.lineStyle(2,f.STOCK_LICENSE_BADGE_FOREGROUND()),this._overlayGraphics.moveTo(10,15.5),this._overlayGraphics.lineTo(13.5,18.5),this._overlayGraphics.lineTo(19.5,11.5),this._overlayGraphics.lineStyle(0,a)),r||(this._overlayGraphics.beginFill(f.BACKGROUND(),.8),this._overlayGraphics.drawRect(c+this.thumbnailOffsetX,c+this.thumbnailOffsetY,this.thumbnailWidth-2*c,this.thumbnailHeight-2*c),this._overlayGraphics.endFill()),!this.isListView&&this._overlayOpacity>0&&(this._overlayGraphics.beginFill(s,this._overlayOpacity),this._overlayGraphics.drawRect(1,this.thumbnailHeight-E,this.thumbnailWidth-2,E-1),this._overlayGraphics.endFill()),this.downloadPending){var p=this.isListView?c:this.thumbnailWidth-y,h=c,g=this.thumbnailWidth-p-c,m=this.isListView?this.thumbnailHeight-p-c:y-c;this._overlayGraphics.beginFill(f.DEFAULT_ELEMENT_BACKGROUND(),.8),this._overlayGraphics.drawRect(p,h,g,m),this._overlayGraphics.endFill(),this._downloadingOverlayPosition={left:p+"px",top:h+"px",width:g+"px",height:m+"px",position:"absolute"},this.downloadProgress===-1?(this.clearDownloading(),this.setWarning()):(this.clearWarning(),this.setDownloading()),this._showDownloadProgressTooltip=!0}else this.clearDownloading(),this.clearWarning(),this._showDownloadProgressTooltip=!1;if(t&&(this._elementData.render&&this._elementData.render(this,1),this._elementData.disableDefaultRender||(this._elementData.showTransparencyGrid?te(this,1):ee(this,1))),this._text.style.fill=l,this.isListView)if(this._text.x=this.thumbnailWidth+T+b,this._descriptionText){this._descriptionText.style.fill=l,this._descriptionText.x=this._text.x;var v=this.height/2;this._text.y=Math.floor((v-E)/2)+1,this._descriptionText.y=Math.floor(v+(v-E)/2)+1}else this._text.y=Math.floor((this.height-E)/2)+1;else this._text.x=b,this._text.y=this.height-E+1,this._text.alpha=u*this._overlayOpacity,this._text.visible=this._overlayOpacity>0;var _=n.getDisplayText(this.element),S=this.width-this._text.x-b+2;this.isListView&&this._rightMargin&&(S-=this._rightMargin),C(this,"_text",_,S),this._descriptionText&&C(this,"_descriptionText",this._description||"",S),this.textWidth=S,this.textHeight=E-1,this.textX=this._text.x-1,this.textY=this._text.y}},u.prototype.startSpriteAnimation=function(e,t,n){this._animations[e]||(this._animations[e]=new c(e,this,t,n))},u.prototype.stopSpriteAnimation=function(e){this._animations[e]&&(this._animations[e].stop(),this._animations[e]=void 0)},u.prototype.stopAllSpriteAnimations=function(){Object.keys(this._animations).forEach(this.stopSpriteAnimation.bind(this))},u.prototype._getUpperRightDimensions=function(e){var t=1,n=this.isListView?this.thumbnailWidth:y,i=this.isListView?this.thumbnailHeight:y;return{x:this.thumbnailWidth-n+t,y:this.border+t,thumbnailWidth:n,thumbnailHeight:i,border:this.border}},u.prototype.setDescription=function(e){this.isListView&&(this._description=e,this._descriptionText||(this._descriptionText=new r.Text("",{fontFamily:t.getFontFamily(),fontSize:v,fontStyle:"italic"}),this.sprite.addChild(this._descriptionText)))},u.prototype.setRightMargin=function(e){this._rightMargin=e},u.prototype.setMissingFontIcon=function(e,t){return this._missingFontSprite||(this._missingFontSprite=new r.Sprite,this.sprite.addChildAt(this._missingFontSprite,t)),this._missingFontSprite.texture=z(e),this._missingFontSprite},u.prototype.clearMissingFontIcon=function(){this._missingFontSprite&&(this.sprite.removeChild(this._missingFontSprite),delete this._missingFontSprite)},u.prototype.setDownloading=function(){this._downloadSprite||(this._downloadSprite=new r.Sprite,this.sprite.addChild(this._downloadSprite),this.startSpriteAnimation("syncing",this._downloadSprite,this._getUpperRightDimensions()))},u.prototype.clearDownloading=function(){this._downloadSprite&&(this.sprite.removeChild(this._downloadSprite),delete this._downloadSprite,this.stopSpriteAnimation("syncing"))},u.prototype.setWarning=function(){if(!this._warningSprite){this._warningSprite=new r.Sprite,this._warningSprite.texture=X(),this.sprite.addChild(this._warningSprite);var e=this._getUpperRightDimensions();a.scaleAndPositionImage(this._warningSprite,e),this._warningSprite.x+=e.x,this._warningSprite.y+=e.y}},u.prototype.clearWarning=function(){this._warningSprite&&(this.sprite.removeChild(this._warningSprite),delete this._warningSprite)},u.prototype.position=function(e,t){this.x=e,this.y=t,this.sprite.position.x=e,this.sprite.position.y=t,this.redraw()},Object.defineProperties(d.prototype,{type:{get:function(){return this._type}},name:{get:function(){if(!this._name){var t=n.getDisplayName(this.type);this._name=e.instant(t)}return this._name}},height:{get:function(){return this._elementData.headerHeight}},sprite:{get:function(){return this._sprite||(this._sprite=new r.Container),this._sprite}},isDestroyed:{get:function(){return this._isDestroyed}},isExpanded:{get:function(){return void 0===this._isExpanded?!!this._options.isExpanded:this._isExpanded},set:function(e){this.isExpanded!==e&&(this._isExpanded=e,this.redraw())}}}),d.prototype.redraw=function(){this._graphics.clear(),this._graphics.beginFill(f.FONT_HEADER()),this._graphics.drawPolygon(this.isExpanded?L:A),this._graphics.x=this.isExpanded?1:2,this._graphics.y=this.isExpanded?5:3,this._graphics.endFill()},d.prototype.position=u.prototype.position,d.prototype.destroy=function(){this._isDestroyed||(this._graphics.destroy(),this._text.destroy()),this._isDestroyed=!0},this.createRenderer=O,this.setRendererSize=D,this.updateRendererBackground=x,this.renderElement=function(e,t){return new u(e,t)},this.renderElementTypeHeader=function(e,t){return new d(e,t)},this.unloadAllTextures=N,this.loadTextureForElementRendition=k}];t.attach=function(e){i.module(e).service("designLibraryRendering",o)}}),define("services/designlibrary/designLibrarySelection",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$filter","designLibraryManager","designLibraryElements","designLibraryViewState","listenerUtils","fileUtils","configuration",function(e,t,n,r,o,a,s){this.serviceName="designLibrarySelection";var l,c,u=[],d=o.addListenerManager(this,["selectionChanged"]);this.isPendingScrollToItem=function(e){return!(!e||!c||e.id!==c.id)},this.getPendingScrollToItem=function(){return c},this.clearPendingScrollToItem=function(){c=void 0},this.setSelection=function(e,t,r){if(c=void 0,i.isArray(e))u=e,l=void 0;else if(u=[e],l=e,t&&(c=e),r){var o=n.getOnClickApplyOperation(e,e.library);o&&o.apply()}d.notify("selectionChanged")};var p=function(){u.length>0&&(c=void 0,u=[],l=void 0,d.notify("selectionChanged"))};this.clearSelection=p,this.clearSelectionForItems=function(e){e&&(c=void 0,e.forEach(function(e){var t=u.indexOf(e);t!==-1&&(u.splice(t,1),l=void 0)}),d.notify("selectionChanged"))},this.toggleSelectedItem=function(e){c=void 0;var t=u.indexOf(e);t!==-1?(u.splice(t,1),l=void 0):(u.push(e),l=e),d.notify("selectionChanged")},this.setSelectionRange=function(t){var o=r.getState().sortFunction,a=[];i.isArray(o)?o.forEach(function(e){a.push(e)}):a.push(o);var s=[],p=n.getElementTypes();p.forEach(function(n){var i=t.library.getFilteredElements(n),r=e("localeOrderBy")(i,a);s=s.concat(r)});var h;if(l?h=s.indexOf(l):u.length>0&&u.forEach(function(e){var t=s.indexOf(e);(!h||t>h)&&(h=t)}),void 0===h)this.setSelection(t);else{c=void 0;var f=s.indexOf(t);u=[];var g;if(f<h)for(g=f;g<=h;g++)u.push(s[g]);else for(g=h;g<=f;g++)u.push(s[g]);d.notify("selectionChanged")}},this.isSelected=function(e){return u.indexOf(e)!==-1},this.getSelection=function(){return u},this.ensureSelection=function(e){e&&(u&&u.indexOf(e)!==-1||this.setSelection(e))},t.addListener("currentLibrary",p)}];t.attach=function(e){i.module(e).service("designLibrarySelection",r)}}),define("services/designlibrary/designLibraryStatus",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r={fs:"DL_FS_ERROR",general:"DL_NO_LIBS_ERROR_SYNCING",jsx:"DL_NO_LIBS_ERROR_INIT",library:"DL_NO_LIBS_ERROR_SYNCING",loggedOut:"DL_NO_LIBS_LOGGED_OUT",network:"DL_NO_LIBS_ERROR_CONNECTING",noAccess:"DL_NO_LIBS_NO_ACCESS",noService:"DL_NO_LIBS_SERVICE_NOT_INSTALLED",quota:"DL_NO_LIBS_ERROR_SYNCING",server:"DL_SYNC_ERROR_SERVER",serviceError:"DL_NO_LIBS_SERVICE_NOT_RUNNING",syncDisabled:"DL_NO_LIBS_SYNC_DISABLED",updateClient:"DL_NO_LIBS_UPDATE_CLIENT",updateServer:"DL_NO_LIBS_UPDATE_SERVER",excludeHostnameOSX:"DL_NO_LIBS_NETWORK_PROBLEM",excludeHostnameWin:"DL_NO_LIBS_NETWORK_PROBLEM",excludeHostnameWin10:"DL_NO_LIBS_NETWORK_PROBLEM",verifyDnsSettings:"DL_NO_LIBS_NETWORK_PROBLEM",verifySocketConnection:"DL_NO_LIBS_SOCKET_BLOCKED"},o={fs:"DL_FS_ERROR",general:"DL_SYNC_ERROR",jsx:"DL_INIT_ERROR",library:"DL_SYNC_ERROR_LIBRARY",loggedOut:"DL_SYNC_LOGGED_OUT",network:"DL_SYNC_ERROR_CONNECTING",noAccess:"DL_SYNC_ERROR_NO_ACCESS",noService:"DL_SYNC_SERVICE_NOT_INSTALLED",quota:"DL_SYNC_ERROR_QUOTA_EXCEEDED",server:"DL_SYNC_ERROR_SERVER",serviceError:"DL_SYNC_SERVICE_NOT_RUNNING",syncDisabled:"DL_SYNC_DISABLED",updateClient:"DL_SYNC_UPDATE_CLIENT",updateServer:"DL_SYNC_UPDATE_SERVER",excludeHostnameOSX:"DL_SYNC_NETWORK_PROBLEM",excludeHostnameWin:"DL_SYNC_NETWORK_PROBLEM",excludeHostnameWin10:"DL_SYNC_NETWORK_PROBLEM",verifyDnsSettings:"DL_SYNC_NETWORK_PROBLEM",verifySocketConnection:"DL_SYNC_SOCKET_BLOCKED"},a=["$window","$filter","$translate","ccLibraries","imsInterface","localSettings","metrics","designLibraryManager","designLibraryUtils","designLibraryViewState","digestUtils","csInterface",function(e,t,n,i,a,s,l,c,u,d,p,h){function f(n){var i;c.getLibraryCollections().forEach(function(e){e.retryTime&&(i=Math.min(i||Number.MAX_VALUE,Math,e.retryTime-(new Date).valueOf()))}),C.retryDuration=i?t("date")(Math.max(0,i),"m:ss"):void 0,n&&S||(S=C.retryDuration?e.setTimeout(function(){f(),p.triggerDigest()},1e3):void 0)}function g(){"error"===C.state&&"network"===C.errorType?l.setEnvironment({offline:!0}):l.setEnvironment({offline:!1})}function m(e){var t=C.syncingLibrariesById[e];return t||(t={},C.syncingLibrariesById[e]=t,C.syncingLibraries.push(t)),t}function v(e){var t=C.syncingLibrariesById[e];if(t){delete C.syncingLibrariesById[e];var n=C.syncingLibraries.indexOf(t);n!==-1&&C.syncingLibraries.splice(n,1)}}function _(t){A&&(e.clearTimeout(A),A=void 0),L=t?"success":"error"}function y(t){A||(L=void 0,A=e.setTimeout(function(){A=void 0,_(!1),t(),p.triggerDigest()},8e3))}function E(e){var t="getPrimarySyncError";return e[t]()}function b(){if(!c.isInitialised())return void(C.state="loading");if(!c.isConnected()){C.state="error";var e=c.getServiceInfo()||{};if("client"===e.updateRequired)_(!0),C.errorType="updateClient";else if("server"===e.updateRequired)_(!0),C.errorType="updateServer";else if("SIMPLE_HOSTNAME_GOING_TO_PROXY"===e.portDiagnosis)if(_(!0),h.isWindowsOS()){C.errorType="excludeHostnameWin10";var t=h.getOSInformation();t.indexOf("Windows 7")===-1&&t.indexOf("Windows 8")===-1||(C.errorType="excludeHostnameWin")}else C.errorType="excludeHostnameOSX";else"DNS_RESOLUTION_FAILED"===e.portDiagnosis?(_(!0),C.errorType="verifyDnsSettings"):"COULD_NOT_CONNECT_SOCKET"===e.portDiagnosis?(_(!0),e.connectionPort?C.showTestUrl=!0:C.showTestUrl=!1,C.errorType="verifySocketConnection"):c.isProcessInstalled()?(c.launchCCLibraryProcess(),"error"===L?C.errorType="serviceError":(C.state="loading","success"===L&&y(b))):(_(!0),c.launchCCLibraryProcess(),C.errorType="noService");return void d.resetMode()}var n=c.getLibraryCollections();return 0!==n.length||L?(_(!0),0===n.length?(C.state="error",void(C.errorType="loggedOut")):(C.syncingLibraries=[],C.syncingLibrariesById={},void n.every(function(e){if(e&&e.commitError)return C.state="error",void(C.errorType="fs");var t=E(e);if(t&&t.code===i.errors.ACCESS_DENIED)return C.state="error",void(C.errorType="noAccess");if(!c.syncingEnabled())return C.state="error",void(C.errorType="syncDisabled");if(C.state=e.syncState||"syncing",C.syncProgress=e.syncProgress,delete C.errorType,"syncing"===C.state){var n="getNewLibrarySyncProgress",r=e[n]();return r.forEach(function(e){var t=m(e.id);t.state="downloading",t.progress=e.progress}),void e.libraries.forEach(function(e){if(!e.syncState)return void v(e.id);var t=m(e.id);t.library=e,t.truncatedName=u.truncateName(e.name,15),t.state=e.syncState,t.progress=e.syncProgress})}if("error"===C.state){var o=E(e);if(o){switch(o.code){case i.errors.ACCESS_DENIED:C.errorType="noAccess";break;case i.errors.RETRYABLE_SERVER_ERROR:C.errorType="server";break;case i.errors.NETWORK_ERROR:case i.errors.LOGGED_OUT:C.errorType="network";break;case i.errors.FS_ERROR:C.errorType="fs";break;case i.errors.EXCEEDS_QUOTA:C.errorType="quota"}if(o.libraryId&&!C.errorType){var a=e.getLibraryById(o.libraryId);a&&(C.errorType="library",C.library=a)}C.errorType||(C.errorType="general"),console.log(e.syncErrors)}return void f(!0)}return!0}))):void(C.state="loading")}function T(){b(),g()}var S,L,A,C={state:"syncing",syncingLibraries:[],syncingLibrariesById:{}};c.addListener("libraryStatus",T),y(b),T(),this.getStatus=function(){return C},this.getLoadingErrorMessage=function(e){var t=r[e.errorType]||r.general;return n.instant(t)},this.getFooterErrorMessage=function(e){var t=o[e.errorType]||r.general;return"library"===e.errorType?n.instant(t,{name:e.library.name}):n.instant(t)}}];t.attach=function(e){i.module(e).service("designLibraryStatus",a)}}),function(e){function t(e){throw new RangeError(D[e])}function n(e,t){for(var n=e.length,i=[];n--;)i[n]=t(e[n]);return i}function i(e,t){var i=e.split("@"),r="";i.length>1&&(r=i[0]+"@",e=i[1]),e=e.replace(O,".");var o=e.split("."),a=n(o,t).join(".");return r+a}function r(e){for(var t,n,i=[],r=0,o=e.length;r<o;)t=e.charCodeAt(r++),t>=55296&&t<=56319&&r<o?(n=e.charCodeAt(r++),56320==(64512&n)?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),r--)):i.push(t);return i}function o(e){return n(e,function(e){var t="";return e>65535&&(e-=65536,t+=P(e>>>10&1023|55296),e=56320|1023&e),t+=P(e)}).join("")}function a(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:y}function s(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function l(e,t,n){var i=0;for(e=n?I(e/S):e>>1,e+=I(e/t);e>R*b>>1;i+=y)e=I(e/R);return I(i+(R+1)*e/(e+T))}function c(e){var n,i,r,s,c,u,d,p,h,f,g=[],m=e.length,v=0,T=A,S=L;for(i=e.lastIndexOf(C),i<0&&(i=0),r=0;r<i;++r)e.charCodeAt(r)>=128&&t("not-basic"),g.push(e.charCodeAt(r));for(s=i>0?i+1:0;s<m;){for(c=v,u=1,d=y;s>=m&&t("invalid-input"),p=a(e.charCodeAt(s++)),(p>=y||p>I((_-v)/u))&&t("overflow"),v+=p*u,h=d<=S?E:d>=S+b?b:d-S,!(p<h);d+=y)f=y-h,u>I(_/f)&&t("overflow"),u*=f;n=g.length+1,S=l(v-c,n,0==c),I(v/n)>_-T&&t("overflow"),T+=I(v/n),v%=n,g.splice(v++,0,T)}return o(g)}function u(e){var n,i,o,a,c,u,d,p,h,f,g,m,v,T,S,w=[];for(e=r(e),m=e.length,n=A,i=0,c=L,u=0;u<m;++u)g=e[u],g<128&&w.push(P(g));for(o=a=w.length,a&&w.push(C);o<m;){for(d=_,u=0;u<m;++u)g=e[u],g>=n&&g<d&&(d=g);for(v=o+1,d-n>I((_-i)/v)&&t("overflow"),i+=(d-n)*v,n=d,u=0;u<m;++u)if(g=e[u],g<n&&++i>_&&t("overflow"),g==n){for(p=i,h=y;f=h<=c?E:h>=c+b?b:h-c,!(p<f);h+=y)S=p-f,T=y-f,w.push(P(s(f+S%T,0))),p=I(S/T);w.push(P(s(p,0))),c=l(i,v,o==a),i=0,++o}++i,++n}return w.join("")}function d(e){return i(e,function(e){return w.test(e)?c(e.slice(4).toLowerCase()):e})}function p(e){return i(e,function(e){return x.test(e)?"xn--"+u(e):e})}var h="object"==typeof exports&&exports&&!exports.nodeType&&exports,f="object"==typeof module&&module&&!module.nodeType&&module,g="object"==typeof global&&global;g.global!==g&&g.window!==g&&g.self!==g||(e=g);var m,v,_=2147483647,y=36,E=1,b=26,T=38,S=700,L=72,A=128,C="-",w=/^xn--/,x=/[^\x20-\x7E]/,O=/[\x2E\u3002\uFF0E\uFF61]/g,D={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},R=y-E,I=Math.floor,P=String.fromCharCode;if(m={version:"1.4.1",ucs2:{decode:r,encode:o},decode:c,encode:u,toASCII:p,toUnicode:d},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",[],function(){return m});else if(h&&f)if(module.exports==h)f.exports=m;else for(v in m)m.hasOwnProperty(v)&&(h[v]=m[v]);else e.punycode=m}(this),define("services/designlibrary/designLibraryUtils",["require","exports","module","punycode","angular"],function(e,t,n){"use strict";var i=e("punycode"),r=e("angular"),o=["$q","fileUtils","csInterface","configuration","layerSelectionManager","metrics","$translate",function(e,t,n,r,o,a,s){var l=function(i,r){var o=e.defer(),a={name:t.getTmpFileName()};return n.execApp("saveAssets",[a,i,r]).then(function(e){"undefined"===e?o.reject():o.resolve(JSON.parse(e))}),o.promise};this.generatePreview=function(t,n){var i=e.defer();return l(t,n).then(function(e){i.resolve(e)},function(e){i.reject()}),i.promise},this.checkFileSizes=function(e,i){var o=!1;return e.forEach(function(e){var n=t.statFile(e.path);n&&n.size>r.MAX_COMPONENT_SIZE&&(o=!0)}),!o||(i&&e.forEach(function(e){t.deleteFile(e.path)}),s("DL_ERROR_FILE_TOO_BIG").then(function(e){n.showError(e)}),!1)},this.checkFileSize=function(e,t){return this.checkFileSizes([{path:e}],t)},this.closeDocumentWithName=function(e){n.exec("CORE","closeDocument",[e])},this.setFocusToCanvas=function(){r.currentProduct.setFocusToCanvas&&r.currentProduct.setFocusToCanvas()},this.reportApplyMetric=function(e,t,n){a.reportUseElement(e,t),n&&a.reportCreateLink(e.element,t)},this.canAddElement=function(e){var t=e&&e.elements.length<r.MAX_ELEMENTS;return t};var c=function(e,t,n){var i;if(""!==t&&void 0!==t)i=t;else{var r=s.instant(n||"DL_ARTWORK_LABEL"),o=new RegExp("^"+r+"\\s+(\\d+)$"),a=0;e.elements.forEach(function(e){var t=o.exec(e.name);if(t&&t[1]){var n=parseInt(t[1],10);n>a&&(a=n)}}),i=r+" "+(a+1)}return i};this.getCuratedName=c,this.getLayerName=function(t){var n=e.defer();return o.getLayerName().then(function(e){var i=c(t,e);n.resolve(i)}),n.promise},this.truncateName=function(e,t){return i?e.length<=t?e:i.ucs2.encode(i.ucs2.decode(e).slice(0,t))+"...":e.length<=t?e:e.slice(0,t)+"..."},this.createElementExtraMetrics=function(e,t,n,i){if(e)try{return a.setExtraEventMetrics("createElement",i),e.createElement(t,n)}finally{a.clearExtraEventMetrics("createElement")}},this.checkLibraryWritable=function(e){return!!e.isWritable||(n.showError(s.instant("DL_ERROR_EDIT_READ_ONLY_LIBRARY",{name:e.name})),!1)},this.checkElementWritable=function(e){return!!e.library.isWritable||(n.showError(s.instant("DL_ERROR_EDIT_READ_ONLY_ELEMENT")),!1)}}];t.attach=function(e){r.module(e).service("designLibraryUtils",o)}}),define("services/designlibrary/designLibraryStockContextMenu",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$filter","configuration","menuManager","designLibraryManager","designLibraryViewState","linkUtils",function(e,t,n,i,r,o){function a(n,o,a,s){var l=[],c=i.getLibraries();c=e("orderBy")(c,r.getState().librarySortFunction);var u=i.getCurrentLibrary();return c.forEach(function(e){var i=e.elements.length<t.MAX_ELEMENTS;l.push({label:e.name,enableMenu:i&&e.isWritable,checked:e.id===u.id,onClick:function(){o(e,n,a,s)}})}),l}this.showContextMenu=function(e,t,i,s){var l,c=[];e.is_licensed||(l=a(e,i,s,!0),c.push({label:"DL_STOCK_LICENSE_THEN_SAVE_TO",enableMenu:!0,menuItems:l})),(t||e.is_licensed)&&(l=a(e,i,s,e.is_licensed),c.push({label:e.is_licensed?"DL_STOCK_SAVE_TO":"DL_STOCK_SAVE_PREVIEW_TO",enableMenu:!0,menuItems:l})),c.push({divider:!0}),c.push({label:"DL_STOCK_FIND_SIMILAR_MENU",onClick:function(){r.setFindSimilarSearchMode(e.id)}}),c.push({label:"DL_STOCK_VIEW_ON_WEB",onClick:function(){o.launchStockAssetURL(e.id)}}),n.setContextMenu(c)}}];t.attach=function(e){i.module(e).service("designLibraryStockContextMenu",r)}}),define("services/designlibrary/designLibraryViewState",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["metrics","localSettings","configuration","listenerUtils","$timeout","$translate","digestUtils","fileUtils","csInterface",function(e,t,n,i,r,o,a,s,l){function c(e,n){T[e]=n,t.setValue(e+"State",n)}function u(t,n,i){e.reportPanelEvent(t,{libraryID:i&&i.id,opType:n})}function d(e){var t=v[e];t&&(T.mode=e,T.enableMultiSelect=t.enableMultiSelect,T.enableContextMenu=t.enableContextMenu,T.elementTypeFilter=t.elementTypeFilter,T.modeParams={})}function p(e){f=e.data}function h(e){f=null}var f,g=i.addListenerManager(this,["search","hideDialogs"]),m=["image"],v={normal:{enableMultiSelect:!0,enableContextMenu:!0},relink:{enableMultiSelect:!1,enableContextMenu:!1},search:{enableMultiSelect:!1,enableContextMenu:!0}},_={name:["displayName","-index"],modified:["-modified","-index"]},y="-modified",E=t.getValue("sortState")||"modified",b=t.getValue("viewState")||"grid",T={sort:E,view:b,mode:"normal",numResults:0,enableMultiSelect:!0,enableContextMenu:!0,elementTypeFilter:void 0,modeParams:{},sortFunction:_[E],librarySortFunction:y},S=function(){var e=T.modeParams.findSimilarData;e&&e.path&&e.deleteFileAfterUse&&s.deleteFile(e.path)};l.addEventListener("dragStarted",p),l.addEventListener("dragEnded",h),this.getDraggingData=function(e){var t,n=0;t=setInterval(function(){f?(clearInterval(t),e(null,f)):++n>9&&(clearInterval(t),e("Listener did not receive drag data",null))},10)},this.getState=function(){return T},this.isDefaultMode=function(){return"normal"===T.mode},this.isRelinkMode=function(){return"relink"===T.mode},this.isSearchMode=function(){return"search"===T.mode},this.isContextMenuEnabled=function(){return T.enableContextMenu},this.isLibrarySearchMode=function(){return"search"===T.mode&&"library"===T.modeParams.type},this.isLibrariesSearchMode=function(){return"search"===T.mode&&"libraries"===T.modeParams.type},this.isStockSearchMode=function(){return"search"===T.mode&&"stock"===T.modeParams.type},this.getSearchText=function(){return"search"===T.mode?T.modeParams.text:void 0},this.getSearchType=function(){return t.getValue("searchType")},this.getSearchTypes=function(){return["stock","library","libraries"]},this.setSearchType=function(e){t.setValue("searchType",e),this.isSearchMode()&&(T.modeParams.type=e)},this.setSortState=function(e,t){c("sort",e),T.sortFunction=_[e],u("sortLibrary",e,t)},this.setViewState=function(e,t){c("view",e),u("changeLibraryView",e,t)},this.setRelinkMode=function(e,t){d("relink"),e=e||{},t||(e.hideTypeHeader=!0,t=m),t=Array.isArray(t)?t:[t],T.elementTypeFilter=[],t.forEach(function(e){T.elementTypeFilter[n.getElementType(e)]=!0}),T.modeParams=e},this.setSearchMode=function(e){d("search"),T.modeParams=e},this.setNumResults=function(e){T.numResults=e},this.resetMode=function(){this.clearFindSimilarSearchMode(),"normal"!==T.mode&&d("normal")},this.notifySearchRequest=function(){g.notify("search")},this.getSortFunction=function(e){return _[e]},this.hideDialogs=function(){g.notify("hideDialogs")},this.setFindSimilarSearchMode=function(e,t,n,i){var s=this;S(),this.setSearchMode({text:o.instant("DL_STOCK_FIND_SIMILAR_PLACEHOLDER"),type:"stock"}),r(function(){T.modeParams.findSimilarData={id:e,url:t,path:n,deleteFileAfterUse:i},s.notifySearchRequest()}),a.triggerDigest()},this.clearFindSimilarSearchMode=function(){S(),T.modeParams.findSimilarData=void 0}}];t.attach=function(e){i.module(e).service("designLibraryViewState",r)}}),define("services/designlibrary/main",["require","exports","module","./designLibraryAppRequestManager","./designLibraryArchiveUtils","./designLibraryCEPEventEmitters","./designLibraryCEPEventHandlers","./designLibraryContextMenu","./designLibraryDragUtils","./designLibraryElements","./designLibraryElementUtils","./designLibraryFlyoutMenu","./designLibraryManager","./designLibraryRendering","./designLibrarySelection","./designLibraryStatus","./designLibraryUtils","./designLibraryStockContextMenu","./designLibraryViewState"],function(e,t,n){"use strict";function i(t){e("./designLibraryAppRequestManager").attach(t),e("./designLibraryArchiveUtils").attach(t),e("./designLibraryCEPEventEmitters").attach(t),e("./designLibraryCEPEventHandlers").attach(t),e("./designLibraryContextMenu").attach(t),e("./designLibraryDragUtils").attach(t),e("./designLibraryElements").attach(t),e("./designLibraryElementUtils").attach(t),e("./designLibraryFlyoutMenu").attach(t),e("./designLibraryManager").attach(t),e("./designLibraryRendering").attach(t),e("./designLibrarySelection").attach(t),e("./designLibraryStatus").attach(t),e("./designLibraryUtils").attach(t),e("./designLibraryStockContextMenu").attach(t),e("./designLibraryViewState").attach(t)}return{attach:i}}),define("services/external/adobeStockRestService",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$q","$http","$timeout","csInterface","imsInterface","configuration","debugLog","metrics","fileUtils","linkUtils","uploadUtils","adobeStockUtils",function(e,t,n,i,r,o,a,s,l,c,u,d){function p(){return"https://"+r.getEnvironment().stockHost}this.getUserQuota=function(n,l,c,u){u=u||0;var d=e.defer(),h=this;return r.getAccessToken(n).then(function(e){if(e){var f=p()+o.STOCK_GET_USER_PROFILE_PATH;f=f.replace(/YYYY/,l),f=f.replace(/LLLL/,c);var g=i.getLocale();g&&0!==g.length||(g="en-US"),f=f.replace(/ZZZZ/,g);var m={method:"GET",url:f,headers:{"x-api-key":r.getEnvironment().clientId,Authorization:"Bearer "+e}};s.addProductHeaders(m.headers),t(m).success(function(e,t){d.resolve(e)}).error(function(e,t){return 401===t&&0===u?(r.clearAccessToken(),void d.resolve(h.getUserQuota(n,l,c,++u))):(a.log("Error "+t+": adobeStockRestService.getUserQuota , result=\n"+("string"==typeof e?e:JSON.stringify(e))),void d.reject(t))})}},function(e){a.log("Error getting access token: adobeStockRestService.getUserQuota , result="+("string"==typeof e?e:JSON.stringify(e))),d.reject(401)}),d.promise},this.licenseImage=function(n,i,l,c,u){c=c||0;var d=e.defer(),h=this;return r.getAccessToken(n).then(function(e){if(e){var f=p()+o.STOCK_LICENSE_PATH;f=f.replace(/ZZZZ/,i),f=f.replace(/LLLL/,l);var g={method:"POST",url:f,headers:{"x-api-key":r.getEnvironment().clientId,Authorization:"Bearer "+e}};u&&(g.data={cce_agency:u}),s.addProductHeaders(g.headers),t(g).success(function(e,t){d.resolve(e)}).error(function(e,t){return 401===t&&0===c?(r.clearAccessToken(),void d.resolve(h.licenseImage(n,i,l,++c,u))):(a.log("Error "+t+": adobeStockRestService.licenseImage , result=\n"+("string"==typeof e?e:JSON.stringify(e))),void d.reject(t))})}},function(e){a.log("Error getting access token: adobeStockRestService.licenseImage , result="+("string"==typeof e?e:JSON.stringify(e))),d.reject(401)}),d.promise},this.getImageState=function(n,i,l){l=l||0;var c=e.defer(),u=this;return r.getAccessToken(n).then(function(e){if(e){var d=p()+o.STOCK_INFO_PATH;d=d.replace(/ZZZZ/,i);var h={method:"GET",url:d,headers:{"x-api-key":r.getEnvironment().clientId,Authorization:"Bearer "+e}};s.addProductHeaders(h.headers),t(h).success(function(e,t){c.resolve(e)}).error(function(e,t){return 401===t&&0===l?(r.clearAccessToken(),void c.resolve(u.getImageState(n,i,++l))):(a.log("Error "+t+": adobeStockRestService.getImageState , result=\n"+("string"==typeof e?e:JSON.stringify(e))),void c.reject(t))})}},function(e){a.log("Error getting access token: adobeStockRestService.getImageState , result=\n"+("string"==typeof e?e:JSON.stringify(e))),c.reject(401)}),c.promise},this.notifyAbandonedTransaction=function(n,i,l,c,u){u=u||0;var d=e.defer(),h=this;return r.getAccessToken(n).then(function(e){if(e){var f=p()+o.STOCK_ABANDON_TRANSACTION_PATH;f=f.replace(/YYYY/,i),f=f.replace(/ZZZZ/,c),f=f.replace(/LLLL/,l);var g={method:"GET",url:f,headers:{"x-api-key":r.getEnvironment().clientId,Authorization:"Bearer "+e}};s.addProductHeaders(g.headers),t(g).success(function(e,t){d.resolve(e)}).error(function(e,t){return 401===t&&0===u?(r.clearAccessToken(),void d.resolve(h.notifyAbandonedTransaction(n,i,l,c,++u))):(a.log("Error "+t+": adobeStockRestService.notifyAbandonedTransaction , result=\n"+("string"==typeof e?e:JSON.stringify(e))),void d.reject(t))})}},function(e){a.log("Error getting access token: adobeStockRestService.notifyAbandonedTransaction , result="+("string"==typeof e?e:JSON.stringify(e))),d.reject(401)}),d.promise},this.searchStockAssets=function(c,h,f,g,m,v){v=v||0;var _,y=3,E=e.defer(),b=this;return r.getAccessToken(c).then(function(e){if(e){var T=p()+o.STOCK_SEARCH_API_PATH;if(f&&f.url){var S=f.url+"&api_key="+r.getEnvironment().clientId+"&user_token="+e,L=function(e,t){var n={url:e,path:t};E.resolve(b.searchStockAssets(c,h,n,g,m,v))};if(f.path)return t.head(S).success(function(e,t){L(f.url)}).error(function(e,t){v++,v<y?n(function(){L(f.url,f.path)},2e3):L(void 0,f.path)}),E.promise;T+="?search_parameters[similar_url]="+encodeURIComponent(S)}else f&&f.path?(_=l.readFile(f.path,"binary"),T+="?search_parameters[similar_image]=1"):T+=f&&f.id?"?search_parameters[similar]="+f.id:"?search_parameters[words]="+h;T+="&search_parameters[limit]="+m,T+="&search_parameters[thumbnail_size]=240",T+="&locale="+i.getLocale();var A=!1;if(o.STOCK_SEARCH_OPTIONS.forEach(function(e){g&&g[e.id]&&(e.param&&(T+="&search_parameters[filters][content_type:"+e.param+"]=1"),e.filterKey&&(T+="&search_parameters[filters]["+e.filterKey+"]",e.isArray&&(T+="[]"),T+="="+e.filterValue),A=!0)}),!A){var C=d.getSearchUIOptions();C.forEach(function(e){e.param&&(T+="&search_parameters[filters][content_type:"+e.param+"]=1")})}T+="&result_columns[]=comp_height&result_columns[]=comp_url&result_columns[]=comp_width&result_columns[]=comps&result_columns[]=content_type&result_columns[]=duration&result_columns[]=framerate&result_columns[]=height&result_columns[]=id&result_columns[]=is_licensed&result_columns[]=licenses&result_columns[]=media_type_id&result_columns[]=premium_level_id&result_columns[]=stock_id&result_columns[]=thumbnail_height&result_columns[]=thumbnail_url&result_columns[]=thumbnail_width&result_columns[]=title&result_columns[]=video_small_preview_url&result_columns[]=width&result_columns[]=is_premium&result_columns[]=is_editorial";
var w={method:"GET",url:T,headers:{"x-api-key":r.getEnvironment().clientId,Authorization:"Bearer "+e}};_&&u.prepareForBinaryUpload(w,_,"similar_image","similar_image.jpeg"),s.addProductHeaders(w.headers),t(w).success(function(e,t){200===t?E.resolve(e.files):(E.reject(t),a.log("Error "+t+": adobeStockRestService.searchStockAssets, result=\n"+("string"==typeof e?e:JSON.stringify(e))))}).error(function(e,t){return 401===t&&0===v?(r.clearAccessToken(),void E.resolve(b.searchStockAssets(c,h,f,g,m,++v))):(a.log("Error "+t+": adobeStockRestService.searchStockAssets, result=\n"+("string"==typeof e?e:JSON.stringify(e))),void E.reject(t))})}else E.reject(401)},function(e){a.log("Error getting access token: adobeStockRestService.searchStockAssets, result="+("string"==typeof e?e:JSON.stringify(e))),E.reject(401)}),E.promise}}];t.attach=function(e){i.module(e).service("adobeStockRestService",r)}}),define("services/external/ccLibraryRestService",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$q","$http","imsInterface","localSettings","ccLibraries","debugLog","metrics",function(e,t,n,i,r,o,a){function s(){return"https://"+n.getEnvironment().assetsHost}this.serviceName="ccLibraryRestService",this.DEFAULT_RETRY_TIME=30,this.updateElementWithData=function(i,r,l,c,u,d){d=d||0;var p=e.defer(),h=this;return n.getAccessToken(i).then(function(e){if(e){var f=s()+"/libraries/elements";f+="?data_field="+r+"%23"+l+"&data_value="+c;var g={method:"POST",url:f,headers:{"x-api-key":n.getEnvironment().clientId,"x-user-region":"US",Authorization:"Bearer "+e},data:JSON.stringify(u)};a.addProductHeaders(g.headers),t(g).success(function(e,t,n,i){return 202===t?void p.resolve(null):void p.resolve(e)}).error(function(e,t){return 401===t&&0===d?(n.clearAccessToken(),void p.resolve(h.updateElementWithData(i,r,l,c,u,++d))):(o.log("Error "+t+": ccLibraryRestService.updateElementWithData , result=\n"+("string"==typeof e?e:JSON.stringify(e))),void p.reject(t))})}}),p.promise}}];t.attach=function(e){i.module(e).service("ccLibraryRestService",r)}}),define("services/external/main",["require","exports","module","./adobeStockRestService","./ccLibraryRestService"],function(e,t,n){"use strict";function i(t){e("./adobeStockRestService").attach(t),e("./ccLibraryRestService").attach(t)}return{attach:i}}),define("services/interface/csInterface",["require","exports","environment","angular"],function(e,t,n,i){"use strict";var r=["$q","$window","$timeout","configuration",function(e,t,i,r){function o(t){return function(){var n=e.defer();return t.apply(t,arguments).then(n.resolve,n.reject),n.promise}}var a=n.appInterface;this.getPluginPath=function(){return n.getSystemPath(n.PATHS.EXTENSION)},this.getUserDataPath=function(){return n.getSystemPath(n.PATHS.USER_DATA)},this.getGlobalRoot=function(){return this.getUserDataPath()+r.localRoot},this.getLocalRoot=function(){return this.getGlobalRoot()+this.getAppName()+"/"};var s=n.hostEnvironment;this.getHostEnvironment=function(e){return a&&e&&(s=a.getHostEnvironment()),s},this.getAppName=function(){return this.getHostEnvironment().appName},this.getAppVersion=function(){return this.getHostEnvironment().appVersion},this.getLocale=function(){var e=this.getHostEnvironment().appUILocale||"en_US";return e.replace("_","-")},this.getAppDescription=function(){return this.getAppName()+" "+this.getAppVersion()+" "+this.getLocale()},this.exec=o(n.exec),this.execApp=o(n.execApp),this.evalScript=o(n.evalScript),this.createEvent=n.createEvent,this.dispatchEvent=n.dispatchEvent,this.addEventListener=n.addEventListener,this.removeEventListener=n.removeEventListener,this.VulcanJS=n.VulcanJS,this.isMenuInJson=n.isMenuInJson,this.launchInBrowser=n.launchInBrowser,this.getSystemPath=n.getSystemPath,this.showError=n.showError,this.setPanelFlyoutMenu=n.setPanelFlyoutMenu,this.updatePanelMenuItem=n.updatePanelMenuItem,this.setContextMenu=n.setContextMenu,this.resizeContent=n.resizeContent,this.requestOpenExtension=n.requestOpenExtension,this.closeExtension=n.closeExtension,this.setWindowTitle=n.setWindowTitle,this.isCEP=n.isCEP,this.getOSInformation=function(){return n.os},this.isWindowsOS=function(){return n.isWindowsOS},this.getExtensionID=function(){return n.extensionId},this.isLibrariesPanel=function(){return n.isLibrariesPanel}}];t.attach=function(e){i.module(e).service("csInterface",r)}}),define("services/interface/imsInterface",["require","exports","module","angular","environment"],function(e,t,n,i,r){"use strict";var o="openid,AdobeID,creative_cloud,creative_sdk,cc_private,sao.stock,sao.cce_private",a="com.adobe.csxs.events.internal.ims.FetchAccessToken",s=["$q","$timeout","localSettings","ccLibraries",function(e,t,n,i){function s(e){E.forEach(function(t){e?(m=e,t.resolve(e)):t.reject("LOGGED_OUT")}),E=[],y=!1}function l(e){_&&t.cancel(_);var n=e&&e.data&&e.data.access_token;s(n)}function c(){_=void 0,console.log("Timed out fetching access token from IMS"),l()}function u(e,n){if(!e||""===e)return void s(void 0);var i=n.clientId,r=n.clientSecret;p?(v=v||p.createRefEx(n.ims),p.fetchAccessToken(v,i,r,e,"",o,function(e,t){e?l():l({data:{access_token:t.access_token}})})):d&&(v=v||d.imsConnectWithEndpoint(n.ims),d.addEventListener(a,l),d.imsFetchAccessToken(v,i,r,e,"",o),_&&t.cancel(_),_=t(c,5e3))}var d=window.IMSInterface&&new window.IMSInterface,p=r.IMSLib,h="production",f={staging:{label:"Staging",clientId:"ProjectCentralPanel10",clientSecret:"6f32db46-6dac-4b82-8446-22b9f001e31f",storageHost:"cc-api-storage-stage.adobe.io",assetsHost:"cc-api-assets-stage.adobe.io",ccwebHost:"assets-stage.adobecc.com",ims:"ims-na1-stg1.adobelogin.com",stockHost:"stock-stage.adobe.io",stockWebHost:"primary.staging.adobestock.com",linkServiceHost:"links-stage.adobecc.com",linkServiceWebHost:"shared-assets-stage.adobecc.com"},production:{label:"Production",clientId:"ProjectCentralPanel10",clientSecret:"04839c80-9f16-45cb-bd30-e2359ee14949",storageHost:"cc-api-storage.adobe.io",assetsHost:"cc-api-assets.adobe.io",ccwebHost:"assets.adobe.com",ims:"ims-na1.adobelogin.com",stockHost:"stock.adobe.io",stockWebHost:"stock.adobe.com",linkServiceHost:"links-prod.adobecc.com",linkServiceWebHost:"shared-assets.adobe.com"}},g=function(){var e=i.getServiceInfo();return e&&e.environment?e.environment.toLowerCase():n.getDebugValue("currentEnvironment")||h};this.getEnvironment=function(){var e=f[g()],t=n.getDebugValue("storageHost");return t&&(e.storageHost=t,e.overrides=["storageHost"]),e};var m,v,_,y=!1,E=[];this.getAccessToken=function(t){var n=e.defer();return m?(n.resolve(m),n.promise):(E.push(n),y||(y=!0,console.log("Fetching access token: environment is "+this.getEnvironment().label),u(t,this.getEnvironment())),n.promise)},this.clearAccessToken=function(){m=void 0}}];t.attach=function(e){i.module(e).service("imsInterface",s)}}),define("services/interface/ccxInterface",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$q","$timeout","$http","configuration","csInterface","imsInterface","vulcan","localSettings","ccLibraries","fileUtils","designLibraryManager","debugLog",function(e,t,n,r,o,a,s,l,c,u,d,p){function h(){var e=d.getPrivateLibraryCollection();return e.userId+"#usedEngagementCards"}var f,g="ccxprocess.PSDKFeedRequest",m="ccxprocess.PSDKFeedResponse";this.fetchLibraryEngagementCards=function(e){return i.isFunction(r.currentProduct.getUserData)?(f=[],void r.currentProduct.getUserData(function(t){if(!t)return f=null,e();var n=c.utils.generateUuid(),i={psdkParams:{productCode:r.currentProduct.config.code,productVersion:o.getAppVersion(),productLanguage:o.getLocale().replace("-","_"),countryCode:o.getLocale().substr(3,2),subscriptionStatus:t.accountStatus},userTrackingEnabled:"true",requestId:n};"paid"!==t.accountStatus&&(i.psdkParams.trialEndDTS=new Date(Date.now()+1e3*parseInt(t.secondsLeftInTrial,10)).toISOString());var d=function(t){var i;try{i=JSON.parse(t)}catch(t){return f=null,e(t),p.log(t),void s.removeMessageListener(m,d)}if(i&&i.requestId===n){if(i.path){var r=JSON.parse(u.readFile(i.path,"utf8"));if(r&&r.cards){var o=l.getValue(h())||[];r.cards.forEach(function(e){if("library"===e.cardType&&o.indexOf(e.cardID)===-1&&e.actionURL&&0===e.actionURL.indexOf("https://"+a.getEnvironment().linkServiceWebHost)){if(e.linkID=e.actionURL.match(/([^\/]*)\/*$/)[1],!e.libraryID){var t=e.actionURL.match(/[?&]libraryId=([^&]*)?/);t&&t.length>1?e.libraryID=t[1]:e.libraryID=e.linkID}e.backgroundImageLocalpath&&(e.backgroundImageLocalpath=i.path.substring(0,i.path.lastIndexOf("/"))+"/"+e.backgroundImageLocalpath),f.push(e)}})}}e(null,f),s.removeMessageListener(m,d)}};s.addMessageListener(m,d),s.sendMessage(g,JSON.stringify(i))})):e()},this.getLibraryEngagementCards=function(e){return f?e(null,f):void this.fetchLibraryEngagementCards(e)},this.markEngagementCardUsed=function(e){var t=l.getValue(h())||[];t.indexOf(e.cardID)===-1&&(t.unshift(e.cardID),l.setValue(h(),t)),f.some(function(t){if(t.cardID===e.cardID)return f.splice(f.indexOf(t),1),!0})},this.processLibraryEngagementCard=function(e,t){var i={method:"GET",url:"https://"+a.getEnvironment().linkServiceHost+"/publinks/"+e.linkID,headers:{"x-api-key":a.getEnvironment().clientId}};n(i).success(function(e,n){if(e.bookmarkId&&e.bookmarkURL){var i=d.getPrivateLibraryCollection();i.createBookmark(e.bookmarkId,e.bookmarkURL,function(e,n){t(e,n)})}else t("bookmark info cannot be found")}).error(function(e,n){t({err:e,statusCode:n})})}}];t.attach=function(e){i.module(e).service("ccxInterface",r)}}),!function(e,t){"function"==typeof define&&define.amd?define("Ingest",[],t):e.Ingest=t()}(this,function(){var e;e=window.nodeRequire?window.nodeRequire:function(){};var t,n,i;if(function(e){function r(e,t){return E.call(e,t)}function o(e,t){var n,i,r,o,a,s,l,c,u,d,p,h,f=t&&t.split("/"),g=_.map,m=g&&g["*"]||{};if(e){for(e=e.split("/"),a=e.length-1,_.nodeIdCompat&&T.test(e[a])&&(e[a]=e[a].replace(T,"")),"."===e[0].charAt(0)&&f&&(h=f.slice(0,f.length-1),e=h.concat(e)),u=0;u<e.length;u++)if(p=e[u],"."===p)e.splice(u,1),u-=1;else if(".."===p){if(0===u||1===u&&".."===e[2]||".."===e[u-1])continue;u>0&&(e.splice(u-1,2),u-=2)}e=e.join("/")}if((f||m)&&g){for(n=e.split("/"),u=n.length;u>0;u-=1){if(i=n.slice(0,u).join("/"),f)for(d=f.length;d>0;d-=1)if(r=g[f.slice(0,d).join("/")],r&&(r=r[i])){o=r,s=u;break}if(o)break;!l&&m&&m[i]&&(l=m[i],c=u)}!o&&l&&(o=l,s=c),o&&(n.splice(0,s,o),e=n.join("/"))}return e}function a(t,n){return function(){var i=b.call(arguments,0);return"string"!=typeof i[0]&&1===i.length&&i.push(null),h.apply(e,i.concat([t,n]))}}function s(e){return function(t){return o(t,e)}}function l(e){return function(t){m[e]=t}}function c(t){if(r(v,t)){var n=v[t];delete v[t],y[t]=!0,p.apply(e,n)}if(!r(m,t)&&!r(y,t))throw new Error("No "+t);return m[t]}function u(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function d(e){return function(){return _&&_.config&&_.config[e]||{}}}var p,h,f,g,m={},v={},_={},y={},E=Object.prototype.hasOwnProperty,b=[].slice,T=/\.js$/;f=function(e,t){var n,i=u(e),r=i[0];return e=i[1],r&&(r=o(r,t),n=c(r)),r?e=n&&n.normalize?n.normalize(e,s(t)):o(e,t):(e=o(e,t),i=u(e),r=i[0],e=i[1],r&&(n=c(r))),{f:r?r+"!"+e:e,n:e,pr:r,p:n}},g={require:function(e){return a(e)},exports:function(e){var t=m[e];return"undefined"!=typeof t?t:m[e]={}},module:function(e){return{id:e,uri:"",exports:m[e],config:d(e)}}},p=function(t,n,i,o){var s,u,d,p,h,_,E=[],b=typeof i;if(o=o||t,"undefined"===b||"function"===b){for(n=!n.length&&i.length?["require","exports","module"]:n,h=0;h<n.length;h+=1)if(p=f(n[h],o),u=p.f,"require"===u)E[h]=g.require(t);else if("exports"===u)E[h]=g.exports(t),_=!0;else if("module"===u)s=E[h]=g.module(t);else if(r(m,u)||r(v,u)||r(y,u))E[h]=c(u);else{if(!p.p)throw new Error(t+" missing "+u);p.p.load(p.n,a(o,!0),l(u),{}),E[h]=m[u]}d=i?i.apply(m[t],E):void 0,t&&(s&&s.exports!==e&&s.exports!==m[t]?m[t]=s.exports:d===e&&_||(m[t]=d))}else t&&(m[t]=i)},t=n=h=function(t,n,i,r,o){if("string"==typeof t)return g[t]?g[t](n):c(f(t,n).f);if(!t.splice){if(_=t,_.deps&&h(_.deps,_.callback),!n)return;n.splice?(t=n,n=i,i=null):t=e}return n=n||function(){},"function"==typeof i&&(i=r,r=o),r?p(e,t,n,i):setTimeout(function(){p(e,t,n,i)},4),h},h.config=function(e){return h(e)},t._defined=m,i=function(e,t,n){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");t.splice||(n=t,t=[]),r(m,e)||r(v,e)||(v[e]=[e,t,n])},i.amd={jQuery:!0}}(),i("../node_modules/almond/almond",function(){}),"function"!=typeof e)var e=n;if(i("ListenerManager",["require","exports","module"],function(e,t,n){"use strict";function i(e){this._restrictedTypes=e,this._listeners={}}return i.prototype._checkType=function(e){if(this._restrictedTypes&&-1===this._restrictedTypes.indexOf(e)){var t="["+this._restrictedTypes.join(", ")+"]";throw new Error(e+" is not allowed. Should be one of: "+t)}},i.prototype.add=function(e,t){this._checkType(e),this._listeners[e]=this._listeners[e]||[],this._listeners[e].push(t)},i.prototype.remove=function(e,t){this._checkType(e);var n=this._listeners[e];if(n){var i=n.indexOf(t);-1!==i&&n.splice(i,1)}},i.prototype.removeAll=function(e){e?(this._checkType(e),delete this._listeners[e]):this._listeners={}},i.prototype.notify=function(e,t){this._checkType(e);var n=this._listeners[e];n&&n.slice(0).forEach(function(e){try{e.apply(void 0,t||[])}catch(e){console.log("Error in listener callback: "+(e?e.toString():""))}})},i.prototype.hasListeners=function(e){this._checkType(e);var t=this._listeners[e];return!!(t&&t.length>0)},i.prototype.forEach=function(e){var t=this._listeners;Object.keys(t).forEach(function(n){t[n].forEach(function(t){e(n,t)})})},i}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof i&&i.amd?i("components/moment/moment.js",t):e.moment=t()}(this,function(){"use strict";function e(){return fi.apply(null,arguments)}function t(e){fi=e}function i(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function r(e){return"[object Object]"===Object.prototype.toString.call(e)}function o(e){var t;for(t in e)return!1;return!0}function a(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function s(e,t){var n,i=[];for(n=0;n<e.length;++n)i.push(t(e[n],n));return i}function l(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function c(e,t){for(var n in t)l(t,n)&&(e[n]=t[n]);return l(t,"toString")&&(e.toString=t.toString),l(t,"valueOf")&&(e.valueOf=t.valueOf),e}function u(e,t,n,i){return vt(e,t,n,i,!0).utc()}function d(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function p(e){return null==e._pf&&(e._pf=d()),e._pf}function h(e){if(null==e._isValid){var t=p(e),n=gi.call(t.parsedDateParts,function(e){return null!=e});e._isValid=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n),e._strict&&(e._isValid=e._isValid&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)}return e._isValid}function f(e){var t=u(NaN);return null!=e?c(p(t),e):p(t).userInvalidated=!0,t}function g(e){return void 0===e}function m(e,t){var n,i,r;if(g(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),g(t._i)||(e._i=t._i),g(t._f)||(e._f=t._f),g(t._l)||(e._l=t._l),g(t._strict)||(e._strict=t._strict),g(t._tzm)||(e._tzm=t._tzm),g(t._isUTC)||(e._isUTC=t._isUTC),g(t._offset)||(e._offset=t._offset),g(t._pf)||(e._pf=p(t)),g(t._locale)||(e._locale=t._locale),mi.length>0)for(n in mi)i=mi[n],r=t[i],g(r)||(e[i]=r);return e}function v(t){m(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),vi===!1&&(vi=!0,e.updateOffset(this),vi=!1)}function _(e){return e instanceof v||null!=e&&null!=e._isAMomentObject}function y(e){return 0>e?Math.ceil(e)||0:Math.floor(e)}function E(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=y(t)),n}function b(e,t,n){var i,r=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(i=0;r>i;i++)(n&&e[i]!==t[i]||!n&&E(e[i])!==E(t[i]))&&a++;return a+o}function T(t){e.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function S(t,n){var i=!0;return c(function(){return null!=e.deprecationHandler&&e.deprecationHandler(null,t),i&&(T(t+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),i=!1),n.apply(this,arguments)},n)}function L(t,n){null!=e.deprecationHandler&&e.deprecationHandler(t,n),_i[t]||(T(n),_i[t]=!0)}function A(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function C(e){var t,n;for(n in e)t=e[n],A(t)?this[n]=t:this["_"+n]=t;this._config=e,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function w(e,t){var n,i=c({},e);for(n in t)l(t,n)&&(r(e[n])&&r(t[n])?(i[n]={},c(i[n],e[n]),c(i[n],t[n])):null!=t[n]?i[n]=t[n]:delete i[n]);for(n in e)l(e,n)&&!l(t,n)&&r(e[n])&&(i[n]=c({},i[n]));return i}function x(e){null!=e&&this.set(e)}function O(e,t,n){var i=this._calendar[e]||this._calendar.sameElse;return A(i)?i.call(t,n):i}function D(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function R(){return this._invalidDate}function I(e){return this._ordinal.replace("%d",e)}function P(e,t,n,i){var r=this._relativeTime[n];return A(r)?r(e,t,n,i):r.replace(/%d/i,e)}function N(e,t){var n=this._relativeTime[e>0?"future":"past"];return A(n)?n(t):n.replace(/%s/i,t)}function M(e,t){var n=e.toLowerCase();wi[n]=wi[n+"s"]=wi[t]=e}function k(e){return"string"==typeof e?wi[e]||wi[e.toLowerCase()]:void 0}function U(e){var t,n,i={};for(n in e)l(e,n)&&(t=k(n),t&&(i[t]=e[n]));return i}function F(e,t){xi[e]=t}function $(e){var t=[];for(var n in e)t.push({unit:n,priority:xi[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}function B(t,n){return function(i){return null!=i?(Y(this,t,i),e.updateOffset(this,n),this):j(this,t)}}function j(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function Y(e,t,n){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](n)}function V(e){return e=k(e),A(this[e])?this[e]():this}function H(e,t){if("object"==typeof e){e=U(e);for(var n=$(e),i=0;i<n.length;i++)this[n[i].unit](e[n[i].unit])}else if(e=k(e),A(this[e]))return this[e](t);return this}function G(e,t,n){var i=""+Math.abs(e),r=t-i.length,o=e>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}function W(e,t,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),e&&(Ii[e]=r),t&&(Ii[t[0]]=function(){return G(r.apply(this,arguments),t[1],t[2])}),n&&(Ii[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function q(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function X(e){var t,n,i=e.match(Oi);for(t=0,n=i.length;n>t;t++)Ii[i[t]]?i[t]=Ii[i[t]]:i[t]=q(i[t]);return function(t){var r,o="";for(r=0;n>r;r++)o+=i[r]instanceof Function?i[r].call(t,e):i[r];return o}}function z(e,t){return e.isValid()?(t=K(t,e.localeData()),Ri[t]=Ri[t]||X(t),Ri[t](e)):e.localeData().invalidDate()}function K(e,t){function n(e){return t.longDateFormat(e)||e}var i=5;for(Di.lastIndex=0;i>=0&&Di.test(e);)e=e.replace(Di,n),Di.lastIndex=0,i-=1;return e}function J(e,t,n){Ki[e]=A(t)?t:function(e,i){return e&&n?n:t}}function Z(e,t){return l(Ki,e)?Ki[e](t._strict,t._locale):new RegExp(Q(e))}function Q(e){return ee(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,r){return t||n||i||r}))}function ee(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function te(e,t){var n,i=t;for("string"==typeof e&&(e=[e]),"number"==typeof t&&(i=function(e,n){n[t]=E(e)}),n=0;n<e.length;n++)Ji[e[n]]=i}function ne(e,t){te(e,function(e,n,i,r){i._w=i._w||{},t(e,i._w,i,r)})}function ie(e,t,n){null!=t&&l(Ji,e)&&Ji[e](t,n._a,n,e)}function re(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function oe(e,t){return i(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||sr).test(t)?"format":"standalone"][e.month()]}function ae(e,t){return i(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[sr.test(t)?"format":"standalone"][e.month()]}function se(e,t,n){var i,r,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;12>i;++i)o=u([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?(r=Ei.call(this._shortMonthsParse,a),-1!==r?r:null):(r=Ei.call(this._longMonthsParse,a),-1!==r?r:null):"MMM"===t?(r=Ei.call(this._shortMonthsParse,a),-1!==r?r:(r=Ei.call(this._longMonthsParse,a),-1!==r?r:null)):(r=Ei.call(this._longMonthsParse,a),-1!==r?r:(r=Ei.call(this._shortMonthsParse,a),-1!==r?r:null))}function le(e,t,n){var i,r,o;if(this._monthsParseExact)return se.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(r=u([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}}function ce(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=E(t);else if(t=e.localeData().monthsParse(t),"number"!=typeof t)return e;return n=Math.min(e.date(),re(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function ue(t){return null!=t?(ce(this,t),e.updateOffset(this,!0),this):j(this,"Month")}function de(){return re(this.year(),this.month())}function pe(e){return this._monthsParseExact?(l(this,"_monthsRegex")||fe.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=ur),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function he(e){return this._monthsParseExact?(l(this,"_monthsRegex")||fe.call(this),e?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=dr),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function fe(){function e(e,t){return t.length-e.length}var t,n,i=[],r=[],o=[];for(t=0;12>t;t++)n=u([2e3,t]),i.push(this.monthsShort(n,"")),r.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(i.sort(e),r.sort(e),o.sort(e),t=0;12>t;t++)i[t]=ee(i[t]),r[t]=ee(r[t]);for(t=0;24>t;t++)o[t]=ee(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function ge(e){return me(e)?366:365}function me(e){return e%4===0&&e%100!==0||e%400===0}function ve(){return me(this.year())}function _e(e,t,n,i,r,o,a){var s=new Date(e,t,n,i,r,o,a);return 100>e&&e>=0&&isFinite(s.getFullYear())&&s.setFullYear(e),s}function ye(e){var t=new Date(Date.UTC.apply(null,arguments));return 100>e&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function Ee(e,t,n){var i=7+t-n,r=(7+ye(e,0,i).getUTCDay()-t)%7;return-r+i-1}function be(e,t,n,i,r){var o,a,s=(7+n-i)%7,l=Ee(e,i,r),c=1+7*(t-1)+s+l;return 0>=c?(o=e-1,a=ge(o)+c):c>ge(e)?(o=e+1,a=c-ge(e)):(o=e,a=c),{year:o,dayOfYear:a}}function Te(e,t,n){var i,r,o=Ee(e.year(),t,n),a=Math.floor((e.dayOfYear()-o-1)/7)+1;return 1>a?(r=e.year()-1,i=a+Se(r,t,n)):a>Se(e.year(),t,n)?(i=a-Se(e.year(),t,n),r=e.year()+1):(r=e.year(),i=a),{week:i,year:r}}function Se(e,t,n){var i=Ee(e,t,n),r=Ee(e+1,t,n);return(ge(e)-i+r)/7}function Le(e){return Te(e,this._week.dow,this._week.doy).week}function Ae(){return this._week.dow}function Ce(){return this._week.doy}function we(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function xe(e){var t=Te(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Oe(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function De(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Re(e,t){return i(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]}function Ie(e){return this._weekdaysShort[e.day()]}function Pe(e){return this._weekdaysMin[e.day()]}function Ne(e,t,n){var i,r,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;7>i;++i)o=u([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?(r=Ei.call(this._weekdaysParse,a),-1!==r?r:null):"ddd"===t?(r=Ei.call(this._shortWeekdaysParse,a),-1!==r?r:null):(r=Ei.call(this._minWeekdaysParse,a),-1!==r?r:null):"dddd"===t?(r=Ei.call(this._weekdaysParse,a),-1!==r?r:(r=Ei.call(this._shortWeekdaysParse,a),-1!==r?r:(r=Ei.call(this._minWeekdaysParse,a),-1!==r?r:null))):"ddd"===t?(r=Ei.call(this._shortWeekdaysParse,a),-1!==r?r:(r=Ei.call(this._weekdaysParse,a),-1!==r?r:(r=Ei.call(this._minWeekdaysParse,a),-1!==r?r:null))):(r=Ei.call(this._minWeekdaysParse,a),-1!==r?r:(r=Ei.call(this._weekdaysParse,a),-1!==r?r:(r=Ei.call(this._shortWeekdaysParse,a),-1!==r?r:null)))}function Me(e,t,n){var i,r,o;if(this._weekdaysParseExact)return Ne.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;7>i;i++){if(r=u([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(n&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(n&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}}function ke(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Oe(e,this.localeData()),this.add(e-t,"d")):t}function Ue(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Fe(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=De(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function $e(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Ye.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=vr),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Be(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Ye.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=_r),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function je(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Ye.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=yr),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Ye(){function e(e,t){return t.length-e.length}var t,n,i,r,o,a=[],s=[],l=[],c=[];for(t=0;7>t;t++)n=u([2e3,1]).day(t),i=this.weekdaysMin(n,""),r=this.weekdaysShort(n,""),o=this.weekdays(n,""),a.push(i),s.push(r),l.push(o),c.push(i),c.push(r),c.push(o);for(a.sort(e),s.sort(e),l.sort(e),c.sort(e),t=0;7>t;t++)s[t]=ee(s[t]),l[t]=ee(l[t]),c[t]=ee(c[t]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Ve(){return this.hours()%12||12}function He(){return this.hours()||24}function Ge(e,t){W(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function We(e,t){return t._meridiemParse}function qe(e){return"p"===(e+"").toLowerCase().charAt(0)}function Xe(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function ze(e){return e?e.toLowerCase().replace("_","-"):e}function Ke(e){for(var t,n,i,r,o=0;o<e.length;){for(r=ze(e[o]).split("-"),t=r.length,n=ze(e[o+1]),n=n?n.split("-"):null;t>0;){if(i=Je(r.slice(0,t).join("-")))return i;if(n&&n.length>=t&&b(r,n,!0)>=t-1)break;t--}o++}return null}function Je(e){var t=null;if(!Lr[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=Er._abbr,n("./locale/"+e),Ze(t)}catch(e){}return Lr[e]}function Ze(e,t){var n;return e&&(n=g(t)?tt(e):Qe(e,t),n&&(Er=n)),Er._abbr}function Qe(e,t){if(null!==t){var n=Sr;return t.abbr=e,null!=Lr[e]?(L("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Lr[e]._config):null!=t.parentLocale&&(null!=Lr[t.parentLocale]?n=Lr[t.parentLocale]._config:L("parentLocaleUndefined","specified parentLocale is not defined yet. See http://momentjs.com/guides/#/warnings/parent-locale/")),Lr[e]=new x(w(n,t)),Ze(e),Lr[e]}return delete Lr[e],null}function et(e,t){if(null!=t){var n,i=Sr;null!=Lr[e]&&(i=Lr[e]._config),t=w(i,t),n=new x(t),n.parentLocale=Lr[e],Lr[e]=n,Ze(e)}else null!=Lr[e]&&(null!=Lr[e].parentLocale?Lr[e]=Lr[e].parentLocale:null!=Lr[e]&&delete Lr[e]);return Lr[e]}function tt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Er;if(!i(e)){if(t=Je(e))return t;e=[e]}return Ke(e)}function nt(){return yi(Lr)}function it(e){var t,n=e._a;return n&&-2===p(e).overflow&&(t=n[Qi]<0||n[Qi]>11?Qi:n[er]<1||n[er]>re(n[Zi],n[Qi])?er:n[tr]<0||n[tr]>24||24===n[tr]&&(0!==n[nr]||0!==n[ir]||0!==n[rr])?tr:n[nr]<0||n[nr]>59?nr:n[ir]<0||n[ir]>59?ir:n[rr]<0||n[rr]>999?rr:-1,p(e)._overflowDayOfYear&&(Zi>t||t>er)&&(t=er),p(e)._overflowWeeks&&-1===t&&(t=or),p(e)._overflowWeekday&&-1===t&&(t=ar),p(e).overflow=t),e}function rt(e){var t,n,i,r,o,a,s=e._i,l=Ar.exec(s)||Cr.exec(s);if(l){for(p(e).iso=!0,t=0,n=xr.length;n>t;t++)if(xr[t][1].exec(l[1])){r=xr[t][0],i=xr[t][2]!==!1;break}if(null==r)return void(e._isValid=!1);if(l[3]){for(t=0,n=Or.length;n>t;t++)if(Or[t][1].exec(l[3])){o=(l[2]||" ")+Or[t][0];break}if(null==o)return void(e._isValid=!1)}if(!i&&null!=o)return void(e._isValid=!1);if(l[4]){if(!wr.exec(l[4]))return void(e._isValid=!1);a="Z"}e._f=r+(o||"")+(a||""),ut(e)}else e._isValid=!1}function ot(t){var n=Dr.exec(t._i);return null!==n?void(t._d=new Date(+n[1])):(rt(t),void(t._isValid===!1&&(delete t._isValid,e.createFromInputFallback(t))))}function at(e,t,n){return null!=e?e:null!=t?t:n}function st(t){var n=new Date(e.now());return t._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()];
}function lt(e){var t,n,i,r,o=[];if(!e._d){for(i=st(e),e._w&&null==e._a[er]&&null==e._a[Qi]&&ct(e),e._dayOfYear&&(r=at(e._a[Zi],i[Zi]),e._dayOfYear>ge(r)&&(p(e)._overflowDayOfYear=!0),n=ye(r,0,e._dayOfYear),e._a[Qi]=n.getUTCMonth(),e._a[er]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=o[t]=i[t];for(;7>t;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[tr]&&0===e._a[nr]&&0===e._a[ir]&&0===e._a[rr]&&(e._nextDay=!0,e._a[tr]=0),e._d=(e._useUTC?ye:_e).apply(null,o),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[tr]=24)}}function ct(e){var t,n,i,r,o,a,s,l;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(o=1,a=4,n=at(t.GG,e._a[Zi],Te(_t(),1,4).year),i=at(t.W,1),r=at(t.E,1),(1>r||r>7)&&(l=!0)):(o=e._locale._week.dow,a=e._locale._week.doy,n=at(t.gg,e._a[Zi],Te(_t(),o,a).year),i=at(t.w,1),null!=t.d?(r=t.d,(0>r||r>6)&&(l=!0)):null!=t.e?(r=t.e+o,(t.e<0||t.e>6)&&(l=!0)):r=o),1>i||i>Se(n,o,a)?p(e)._overflowWeeks=!0:null!=l?p(e)._overflowWeekday=!0:(s=be(n,i,r,o,a),e._a[Zi]=s.year,e._dayOfYear=s.dayOfYear)}function ut(t){if(t._f===e.ISO_8601)return void rt(t);t._a=[],p(t).empty=!0;var n,i,r,o,a,s=""+t._i,l=s.length,c=0;for(r=K(t._f,t._locale).match(Oi)||[],n=0;n<r.length;n++)o=r[n],i=(s.match(Z(o,t))||[])[0],i&&(a=s.substr(0,s.indexOf(i)),a.length>0&&p(t).unusedInput.push(a),s=s.slice(s.indexOf(i)+i.length),c+=i.length),Ii[o]?(i?p(t).empty=!1:p(t).unusedTokens.push(o),ie(o,i,t)):t._strict&&!i&&p(t).unusedTokens.push(o);p(t).charsLeftOver=l-c,s.length>0&&p(t).unusedInput.push(s),t._a[tr]<=12&&p(t).bigHour===!0&&t._a[tr]>0&&(p(t).bigHour=void 0),p(t).parsedDateParts=t._a.slice(0),p(t).meridiem=t._meridiem,t._a[tr]=dt(t._locale,t._a[tr],t._meridiem),lt(t),it(t)}function dt(e,t,n){var i;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(i=e.isPM(n),i&&12>t&&(t+=12),i||12!==t||(t=0),t):t}function pt(e){var t,n,i,r,o;if(0===e._f.length)return p(e).invalidFormat=!0,void(e._d=new Date(NaN));for(r=0;r<e._f.length;r++)o=0,t=m({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],ut(t),h(t)&&(o+=p(t).charsLeftOver,o+=10*p(t).unusedTokens.length,p(t).score=o,(null==i||i>o)&&(i=o,n=t));c(e,n||t)}function ht(e){if(!e._d){var t=U(e._i);e._a=s([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),lt(e)}}function ft(e){var t=new v(it(gt(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function gt(e){var t=e._i,n=e._f;return e._locale=e._locale||tt(e._l),null===t||void 0===n&&""===t?f({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),_(t)?new v(it(t)):(i(n)?pt(e):a(t)?e._d=t:n?ut(e):mt(e),h(e)||(e._d=null),e))}function mt(t){var n=t._i;void 0===n?t._d=new Date(e.now()):a(n)?t._d=new Date(n.valueOf()):"string"==typeof n?ot(t):i(n)?(t._a=s(n.slice(0),function(e){return parseInt(e,10)}),lt(t)):"object"==typeof n?ht(t):"number"==typeof n?t._d=new Date(n):e.createFromInputFallback(t)}function vt(e,t,n,a,s){var l={};return"boolean"==typeof n&&(a=n,n=void 0),(r(e)&&o(e)||i(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=s,l._l=n,l._i=e,l._f=t,l._strict=a,ft(l)}function _t(e,t,n,i){return vt(e,t,n,i,!1)}function yt(e,t){var n,r;if(1===t.length&&i(t[0])&&(t=t[0]),!t.length)return _t();for(n=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](n))&&(n=t[r]);return n}function Et(){var e=[].slice.call(arguments,0);return yt("isBefore",e)}function bt(){var e=[].slice.call(arguments,0);return yt("isAfter",e)}function Tt(e){var t=U(e),n=t.year||0,i=t.quarter||0,r=t.month||0,o=t.week||0,a=t.day||0,s=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._milliseconds=+u+1e3*c+6e4*l+1e3*s*60*60,this._days=+a+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=tt(),this._bubble()}function St(e){return e instanceof Tt}function Lt(e,t){W(e,0,0,function(){var e=this.utcOffset(),n="+";return 0>e&&(e=-e,n="-"),n+G(~~(e/60),2)+t+G(~~e%60,2)})}function At(e,t){var n=(t||"").match(e)||[],i=n[n.length-1]||[],r=(i+"").match(Nr)||["-",0,0],o=+(60*r[1])+E(r[2]);return"+"===r[0]?o:-o}function Ct(t,n){var i,r;return n._isUTC?(i=n.clone(),r=(_(t)||a(t)?t.valueOf():_t(t).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+r),e.updateOffset(i,!1),i):_t(t).local()}function wt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function xt(t,n){var i,r=this._offset||0;return this.isValid()?null!=t?("string"==typeof t?t=At(qi,t):Math.abs(t)<16&&(t=60*t),!this._isUTC&&n&&(i=wt(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),r!==t&&(!n||this._changeInProgress?Gt(this,$t(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?r:wt(this):null!=t?this:NaN}function Ot(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Dt(e){return this.utcOffset(0,e)}function Rt(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(wt(this),"m")),this}function It(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(At(Wi,this._i)),this}function Pt(e){return!!this.isValid()&&(e=e?_t(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function Nt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Mt(){if(!g(this._isDSTShifted))return this._isDSTShifted;var e={};if(m(e,this),e=gt(e),e._a){var t=e._isUTC?u(e._a):_t(e._a);this._isDSTShifted=this.isValid()&&b(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function kt(){return!!this.isValid()&&!this._isUTC}function Ut(){return!!this.isValid()&&this._isUTC}function Ft(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function $t(e,t){var n,i,r,o=e,a=null;return St(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(o={},t?o[t]=e:o.milliseconds=e):(a=Mr.exec(e))?(n="-"===a[1]?-1:1,o={y:0,d:E(a[er])*n,h:E(a[tr])*n,m:E(a[nr])*n,s:E(a[ir])*n,ms:E(a[rr])*n}):(a=kr.exec(e))?(n="-"===a[1]?-1:1,o={y:Bt(a[2],n),M:Bt(a[3],n),w:Bt(a[4],n),d:Bt(a[5],n),h:Bt(a[6],n),m:Bt(a[7],n),s:Bt(a[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(r=Yt(_t(o.from),_t(o.to)),o={},o.ms=r.milliseconds,o.M=r.months),i=new Tt(o),St(e)&&l(e,"_locale")&&(i._locale=e._locale),i}function Bt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function jt(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Yt(e,t){var n;return e.isValid()&&t.isValid()?(t=Ct(t,e),e.isBefore(t)?n=jt(e,t):(n=jt(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Vt(e){return 0>e?-1*Math.round(-1*e):Math.round(e)}function Ht(e,t){return function(n,i){var r,o;return null===i||isNaN(+i)||(L(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=i,i=o),n="string"==typeof n?+n:n,r=$t(n,i),Gt(this,r,e),this}}function Gt(t,n,i,r){var o=n._milliseconds,a=Vt(n._days),s=Vt(n._months);t.isValid()&&(r=null==r||r,o&&t._d.setTime(t._d.valueOf()+o*i),a&&Y(t,"Date",j(t,"Date")+a*i),s&&ce(t,j(t,"Month")+s*i),r&&e.updateOffset(t,a||s))}function Wt(e,t){var n=e.diff(t,"days",!0);return-6>n?"sameElse":-1>n?"lastWeek":0>n?"lastDay":1>n?"sameDay":2>n?"nextDay":7>n?"nextWeek":"sameElse"}function qt(t,n){var i=t||_t(),r=Ct(i,this).startOf("day"),o=e.calendarFormat(this,r)||"sameElse",a=n&&(A(n[o])?n[o].call(this,i):n[o]);return this.format(a||this.localeData().calendar(o,this,_t(i)))}function Xt(){return new v(this)}function zt(e,t){var n=_(e)?e:_t(e);return!(!this.isValid()||!n.isValid())&&(t=k(g(t)?"millisecond":t),"millisecond"===t?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function Kt(e,t){var n=_(e)?e:_t(e);return!(!this.isValid()||!n.isValid())&&(t=k(g(t)?"millisecond":t),"millisecond"===t?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function Jt(e,t,n,i){return i=i||"()",("("===i[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===i[1]?this.isBefore(t,n):!this.isAfter(t,n))}function Zt(e,t){var n,i=_(e)?e:_t(e);return!(!this.isValid()||!i.isValid())&&(t=k(t||"millisecond"),"millisecond"===t?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function Qt(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function en(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function tn(e,t,n){var i,r,o,a;return this.isValid()?(i=Ct(e,this),i.isValid()?(r=6e4*(i.utcOffset()-this.utcOffset()),t=k(t),"year"===t||"month"===t||"quarter"===t?(a=nn(this,i),"quarter"===t?a/=3:"year"===t&&(a/=12)):(o=this-i,a="second"===t?o/1e3:"minute"===t?o/6e4:"hour"===t?o/36e5:"day"===t?(o-r)/864e5:"week"===t?(o-r)/6048e5:o),n?a:y(a)):NaN):NaN}function nn(e,t){var n,i,r=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(r,"months");return 0>t-o?(n=e.clone().add(r-1,"months"),i=(t-o)/(o-n)):(n=e.clone().add(r+1,"months"),i=(t-o)/(n-o)),-(r+i)||0}function rn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function on(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?A(Date.prototype.toISOString)?this.toDate().toISOString():z(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):z(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function an(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var n=z(this,t);return this.localeData().postformat(n)}function sn(e,t){return this.isValid()&&(_(e)&&e.isValid()||_t(e).isValid())?$t({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ln(e){return this.from(_t(),e)}function cn(e,t){return this.isValid()&&(_(e)&&e.isValid()||_t(e).isValid())?$t({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function un(e){return this.to(_t(),e)}function dn(e){var t;return void 0===e?this._locale._abbr:(t=tt(e),null!=t&&(this._locale=t),this)}function pn(){return this._locale}function hn(e){switch(e=k(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function fn(e){return e=k(e),void 0===e||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))}function gn(){return this._d.valueOf()-6e4*(this._offset||0)}function mn(){return Math.floor(this.valueOf()/1e3)}function vn(){return new Date(this.valueOf())}function _n(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function yn(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function En(){return this.isValid()?this.toISOString():null}function bn(){return h(this)}function Tn(){return c({},p(this))}function Sn(){return p(this).overflow}function Ln(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function An(e,t){W(0,[e,e.length],0,t)}function Cn(e){return Dn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function wn(e){return Dn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function xn(){return Se(this.year(),1,4)}function On(){var e=this.localeData()._week;return Se(this.year(),e.dow,e.doy)}function Dn(e,t,n,i,r){var o;return null==e?Te(this,i,r).year:(o=Se(e,i,r),t>o&&(t=o),Rn.call(this,e,t,n,i,r))}function Rn(e,t,n,i,r){var o=be(e,t,n,i,r),a=ye(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function In(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Pn(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function Nn(e,t){t[rr]=E(1e3*("0."+e))}function Mn(){return this._isUTC?"UTC":""}function kn(){return this._isUTC?"Coordinated Universal Time":""}function Un(e){return _t(1e3*e)}function Fn(){return _t.apply(null,arguments).parseZone()}function $n(e){return e}function Bn(e,t,n,i){var r=tt(),o=u().set(i,t);return r[n](o,e)}function jn(e,t,n){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return Bn(e,t,n,"month");var i,r=[];for(i=0;12>i;i++)r[i]=Bn(e,i,n,"month");return r}function Yn(e,t,n,i){"boolean"==typeof e?("number"==typeof t&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,"number"==typeof t&&(n=t,t=void 0),t=t||"");var r=tt(),o=e?r._week.dow:0;if(null!=n)return Bn(t,(n+o)%7,i,"day");var a,s=[];for(a=0;7>a;a++)s[a]=Bn(t,(a+o)%7,i,"day");return s}function Vn(e,t){return jn(e,t,"months")}function Hn(e,t){return jn(e,t,"monthsShort")}function Gn(e,t,n){return Yn(e,t,n,"weekdays")}function Wn(e,t,n){return Yn(e,t,n,"weekdaysShort")}function qn(e,t,n){return Yn(e,t,n,"weekdaysMin")}function Xn(){var e=this._data;return this._milliseconds=Xr(this._milliseconds),this._days=Xr(this._days),this._months=Xr(this._months),e.milliseconds=Xr(e.milliseconds),e.seconds=Xr(e.seconds),e.minutes=Xr(e.minutes),e.hours=Xr(e.hours),e.months=Xr(e.months),e.years=Xr(e.years),this}function zn(e,t,n,i){var r=$t(t,n);return e._milliseconds+=i*r._milliseconds,e._days+=i*r._days,e._months+=i*r._months,e._bubble()}function Kn(e,t){return zn(this,e,t,1)}function Jn(e,t){return zn(this,e,t,-1)}function Zn(e){return 0>e?Math.floor(e):Math.ceil(e)}function Qn(){var e,t,n,i,r,o=this._milliseconds,a=this._days,s=this._months,l=this._data;return o>=0&&a>=0&&s>=0||0>=o&&0>=a&&0>=s||(o+=864e5*Zn(ti(s)+a),a=0,s=0),l.milliseconds=o%1e3,e=y(o/1e3),l.seconds=e%60,t=y(e/60),l.minutes=t%60,n=y(t/60),l.hours=n%24,a+=y(n/24),r=y(ei(a)),s+=r,a-=Zn(ti(r)),i=y(s/12),s%=12,l.days=a,l.months=s,l.years=i,this}function ei(e){return 4800*e/146097}function ti(e){return 146097*e/4800}function ni(e){var t,n,i=this._milliseconds;if(e=k(e),"month"===e||"year"===e)return t=this._days+i/864e5,n=this._months+ei(t),"month"===e?n:n/12;switch(t=this._days+Math.round(ti(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}}function ii(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*E(this._months/12)}function ri(e){return function(){return this.as(e)}}function oi(e){return e=k(e),this[e+"s"]()}function ai(e){return function(){return this._data[e]}}function si(){return y(this.days()/7)}function li(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}function ci(e,t,n){var i=$t(e).abs(),r=uo(i.as("s")),o=uo(i.as("m")),a=uo(i.as("h")),s=uo(i.as("d")),l=uo(i.as("M")),c=uo(i.as("y")),u=r<po.s&&["s",r]||1>=o&&["m"]||o<po.m&&["mm",o]||1>=a&&["h"]||a<po.h&&["hh",a]||1>=s&&["d"]||s<po.d&&["dd",s]||1>=l&&["M"]||l<po.M&&["MM",l]||1>=c&&["y"]||["yy",c];return u[2]=t,u[3]=+e>0,u[4]=n,li.apply(null,u)}function ui(e){return void 0===e?uo:"function"==typeof e&&(uo=e,!0)}function di(e,t){return void 0!==po[e]&&(void 0===t?po[e]:(po[e]=t,!0))}function pi(e){var t=this.localeData(),n=ci(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function hi(){var e,t,n,i=ho(this._milliseconds)/1e3,r=ho(this._days),o=ho(this._months);e=y(i/60),t=y(e/60),i%=60,e%=60,n=y(o/12),o%=12;var a=n,s=o,l=r,c=t,u=e,d=i,p=this.asSeconds();return p?(0>p?"-":"")+"P"+(a?a+"Y":"")+(s?s+"M":"")+(l?l+"D":"")+(c||u||d?"T":"")+(c?c+"H":"")+(u?u+"M":"")+(d?d+"S":""):"P0D"}var fi,gi;gi=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,i=0;n>i;i++)if(i in t&&e.call(this,t[i],i,t))return!0;return!1};var mi=e.momentProperties=[],vi=!1,_i={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;var yi;yi=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)l(e,t)&&n.push(t);return n};var Ei,bi={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Ti={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Si="Invalid date",Li="%d",Ai=/\d{1,2}/,Ci={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},wi={},xi={},Oi=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Di=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ri={},Ii={},Pi=/\d/,Ni=/\d\d/,Mi=/\d{3}/,ki=/\d{4}/,Ui=/[+-]?\d{6}/,Fi=/\d\d?/,$i=/\d\d\d\d?/,Bi=/\d\d\d\d\d\d?/,ji=/\d{1,3}/,Yi=/\d{1,4}/,Vi=/[+-]?\d{1,6}/,Hi=/\d+/,Gi=/[+-]?\d+/,Wi=/Z|[+-]\d\d:?\d\d/gi,qi=/Z|[+-]\d\d(?::?\d\d)?/gi,Xi=/[+-]?\d+(\.\d{1,3})?/,zi=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Ki={},Ji={},Zi=0,Qi=1,er=2,tr=3,nr=4,ir=5,rr=6,or=7,ar=8;Ei=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},W("M",["MM",2],"Mo",function(){return this.month()+1}),W("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),W("MMMM",0,0,function(e){return this.localeData().months(this,e)}),M("month","M"),F("month",8),J("M",Fi),J("MM",Fi,Ni),J("MMM",function(e,t){return t.monthsShortRegex(e)}),J("MMMM",function(e,t){return t.monthsRegex(e)}),te(["M","MM"],function(e,t){t[Qi]=E(e)-1}),te(["MMM","MMMM"],function(e,t,n,i){var r=n._locale.monthsParse(e,i,n._strict);null!=r?t[Qi]=r:p(n).invalidMonth=e});var sr=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,lr="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),cr="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ur=zi,dr=zi;W("Y",0,0,function(){var e=this.year();return 9999>=e?""+e:"+"+e}),W(0,["YY",2],0,function(){return this.year()%100}),W(0,["YYYY",4],0,"year"),W(0,["YYYYY",5],0,"year"),W(0,["YYYYYY",6,!0],0,"year"),M("year","y"),F("year",1),J("Y",Gi),J("YY",Fi,Ni),J("YYYY",Yi,ki),J("YYYYY",Vi,Ui),J("YYYYYY",Vi,Ui),te(["YYYYY","YYYYYY"],Zi),te("YYYY",function(t,n){n[Zi]=2===t.length?e.parseTwoDigitYear(t):E(t)}),te("YY",function(t,n){n[Zi]=e.parseTwoDigitYear(t)}),te("Y",function(e,t){t[Zi]=parseInt(e,10)}),e.parseTwoDigitYear=function(e){return E(e)+(E(e)>68?1900:2e3)};var pr=B("FullYear",!0);W("w",["ww",2],"wo","week"),W("W",["WW",2],"Wo","isoWeek"),M("week","w"),M("isoWeek","W"),F("week",5),F("isoWeek",5),J("w",Fi),J("ww",Fi,Ni),J("W",Fi),J("WW",Fi,Ni),ne(["w","ww","W","WW"],function(e,t,n,i){t[i.substr(0,1)]=E(e)});var hr={dow:0,doy:6};W("d",0,"do","day"),W("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),W("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),W("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),W("e",0,0,"weekday"),W("E",0,0,"isoWeekday"),M("day","d"),M("weekday","e"),M("isoWeekday","E"),F("day",11),F("weekday",11),F("isoWeekday",11),J("d",Fi),J("e",Fi),J("E",Fi),J("dd",function(e,t){return t.weekdaysMinRegex(e)}),J("ddd",function(e,t){return t.weekdaysShortRegex(e)}),J("dddd",function(e,t){return t.weekdaysRegex(e)}),ne(["dd","ddd","dddd"],function(e,t,n,i){var r=n._locale.weekdaysParse(e,i,n._strict);null!=r?t.d=r:p(n).invalidWeekday=e}),ne(["d","e","E"],function(e,t,n,i){t[i]=E(e)});var fr="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),gr="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),mr="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),vr=zi,_r=zi,yr=zi;W("H",["HH",2],0,"hour"),W("h",["hh",2],0,Ve),W("k",["kk",2],0,He),W("hmm",0,0,function(){return""+Ve.apply(this)+G(this.minutes(),2)}),W("hmmss",0,0,function(){return""+Ve.apply(this)+G(this.minutes(),2)+G(this.seconds(),2)}),W("Hmm",0,0,function(){return""+this.hours()+G(this.minutes(),2)}),W("Hmmss",0,0,function(){return""+this.hours()+G(this.minutes(),2)+G(this.seconds(),2)}),Ge("a",!0),Ge("A",!1),M("hour","h"),F("hour",13),J("a",We),J("A",We),J("H",Fi),J("h",Fi),J("HH",Fi,Ni),J("hh",Fi,Ni),J("hmm",$i),J("hmmss",Bi),J("Hmm",$i),J("Hmmss",Bi),te(["H","HH"],tr),te(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),te(["h","hh"],function(e,t,n){t[tr]=E(e),p(n).bigHour=!0}),te("hmm",function(e,t,n){var i=e.length-2;t[tr]=E(e.substr(0,i)),t[nr]=E(e.substr(i)),p(n).bigHour=!0}),te("hmmss",function(e,t,n){var i=e.length-4,r=e.length-2;t[tr]=E(e.substr(0,i)),t[nr]=E(e.substr(i,2)),t[ir]=E(e.substr(r)),p(n).bigHour=!0}),te("Hmm",function(e,t,n){var i=e.length-2;t[tr]=E(e.substr(0,i)),t[nr]=E(e.substr(i))}),te("Hmmss",function(e,t,n){var i=e.length-4,r=e.length-2;t[tr]=E(e.substr(0,i)),t[nr]=E(e.substr(i,2)),t[ir]=E(e.substr(r))});var Er,br=/[ap]\.?m?\.?/i,Tr=B("Hours",!0),Sr={calendar:bi,longDateFormat:Ti,invalidDate:Si,ordinal:Li,ordinalParse:Ai,relativeTime:Ci,months:lr,monthsShort:cr,week:hr,weekdays:fr,weekdaysMin:mr,weekdaysShort:gr,meridiemParse:br},Lr={},Ar=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Cr=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,wr=/Z|[+-]\d\d(?::?\d\d)?/,xr=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Or=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Dr=/^\/?Date\((\-?\d+)/i;e.createFromInputFallback=S("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),e.ISO_8601=function(){};var Rr=S("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=_t.apply(null,arguments);return this.isValid()&&e.isValid()?this>e?this:e:f()}),Ir=S("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=_t.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:f()}),Pr=function(){return Date.now?Date.now():+new Date};Lt("Z",":"),Lt("ZZ",""),J("Z",qi),J("ZZ",qi),te(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=At(qi,e)});var Nr=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var Mr=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/,kr=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;$t.fn=Tt.prototype;var Ur=Ht(1,"add"),Fr=Ht(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var $r=S("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});W(0,["gg",2],0,function(){return this.weekYear()%100}),W(0,["GG",2],0,function(){return this.isoWeekYear()%100}),An("gggg","weekYear"),An("ggggg","weekYear"),An("GGGG","isoWeekYear"),An("GGGGG","isoWeekYear"),M("weekYear","gg"),M("isoWeekYear","GG"),F("weekYear",1),F("isoWeekYear",1),J("G",Gi),J("g",Gi),J("GG",Fi,Ni),J("gg",Fi,Ni),J("GGGG",Yi,ki),J("gggg",Yi,ki),J("GGGGG",Vi,Ui),J("ggggg",Vi,Ui),ne(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,i){t[i.substr(0,2)]=E(e)}),ne(["gg","GG"],function(t,n,i,r){n[r]=e.parseTwoDigitYear(t)}),W("Q",0,"Qo","quarter"),M("quarter","Q"),F("quarter",7),J("Q",Pi),te("Q",function(e,t){t[Qi]=3*(E(e)-1)}),W("D",["DD",2],"Do","date"),M("date","D"),F("date",9),J("D",Fi),J("DD",Fi,Ni),J("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),te(["D","DD"],er),te("Do",function(e,t){t[er]=E(e.match(Fi)[0],10)});var Br=B("Date",!0);W("DDD",["DDDD",3],"DDDo","dayOfYear"),M("dayOfYear","DDD"),F("dayOfYear",4),J("DDD",ji),J("DDDD",Mi),te(["DDD","DDDD"],function(e,t,n){n._dayOfYear=E(e)}),W("m",["mm",2],0,"minute"),M("minute","m"),F("minute",14),J("m",Fi),J("mm",Fi,Ni),te(["m","mm"],nr);var jr=B("Minutes",!1);W("s",["ss",2],0,"second"),M("second","s"),F("second",15),J("s",Fi),J("ss",Fi,Ni),te(["s","ss"],ir);var Yr=B("Seconds",!1);W("S",0,0,function(){return~~(this.millisecond()/100)}),W(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),W(0,["SSS",3],0,"millisecond"),W(0,["SSSS",4],0,function(){return 10*this.millisecond()}),W(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),W(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),W(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),W(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),W(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),M("millisecond","ms"),F("millisecond",16),J("S",ji,Pi),J("SS",ji,Ni),J("SSS",ji,Mi);var Vr;for(Vr="SSSS";Vr.length<=9;Vr+="S")J(Vr,Hi);for(Vr="S";Vr.length<=9;Vr+="S")te(Vr,Nn);var Hr=B("Milliseconds",!1);W("z",0,0,"zoneAbbr"),W("zz",0,0,"zoneName");var Gr=v.prototype;Gr.add=Ur,Gr.calendar=qt,Gr.clone=Xt,Gr.diff=tn,Gr.endOf=fn,Gr.format=an,Gr.from=sn,Gr.fromNow=ln,Gr.to=cn,Gr.toNow=un,Gr.get=V,Gr.invalidAt=Sn,Gr.isAfter=zt,Gr.isBefore=Kt,Gr.isBetween=Jt,Gr.isSame=Zt,Gr.isSameOrAfter=Qt,Gr.isSameOrBefore=en,Gr.isValid=bn,Gr.lang=$r,Gr.locale=dn,Gr.localeData=pn,Gr.max=Ir,Gr.min=Rr,Gr.parsingFlags=Tn,Gr.set=H,Gr.startOf=hn,Gr.subtract=Fr,Gr.toArray=_n,Gr.toObject=yn,Gr.toDate=vn,Gr.toISOString=on,Gr.toJSON=En,Gr.toString=rn,Gr.unix=mn,Gr.valueOf=gn,Gr.creationData=Ln,Gr.year=pr,Gr.isLeapYear=ve,Gr.weekYear=Cn,Gr.isoWeekYear=wn,Gr.quarter=Gr.quarters=In,Gr.month=ue,Gr.daysInMonth=de,Gr.week=Gr.weeks=we,Gr.isoWeek=Gr.isoWeeks=xe,Gr.weeksInYear=On,Gr.isoWeeksInYear=xn,Gr.date=Br,Gr.day=Gr.days=ke,Gr.weekday=Ue,Gr.isoWeekday=Fe,Gr.dayOfYear=Pn,Gr.hour=Gr.hours=Tr,Gr.minute=Gr.minutes=jr,Gr.second=Gr.seconds=Yr,Gr.millisecond=Gr.milliseconds=Hr,Gr.utcOffset=xt,Gr.utc=Dt,Gr.local=Rt,Gr.parseZone=It,Gr.hasAlignedHourOffset=Pt,Gr.isDST=Nt,Gr.isLocal=kt,Gr.isUtcOffset=Ut,Gr.isUtc=Ft,Gr.isUTC=Ft,Gr.zoneAbbr=Mn,Gr.zoneName=kn,Gr.dates=S("dates accessor is deprecated. Use date instead.",Br),Gr.months=S("months accessor is deprecated. Use month instead",ue),Gr.years=S("years accessor is deprecated. Use year instead",pr),Gr.zone=S("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Ot),Gr.isDSTShifted=S("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Mt);var Wr=Gr,qr=x.prototype;qr.calendar=O,qr.longDateFormat=D,qr.invalidDate=R,qr.ordinal=I,qr.preparse=$n,qr.postformat=$n,qr.relativeTime=P,qr.pastFuture=N,qr.set=C,qr.months=oe,qr.monthsShort=ae,qr.monthsParse=le,qr.monthsRegex=he,qr.monthsShortRegex=pe,qr.week=Le,qr.firstDayOfYear=Ce,qr.firstDayOfWeek=Ae,qr.weekdays=Re,qr.weekdaysMin=Pe,qr.weekdaysShort=Ie,qr.weekdaysParse=Me,qr.weekdaysRegex=$e,qr.weekdaysShortRegex=Be,qr.weekdaysMinRegex=je,qr.isPM=qe,qr.meridiem=Xe,Ze("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===E(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),e.lang=S("moment.lang is deprecated. Use moment.locale instead.",Ze),e.langData=S("moment.langData is deprecated. Use moment.localeData instead.",tt);var Xr=Math.abs,zr=ri("ms"),Kr=ri("s"),Jr=ri("m"),Zr=ri("h"),Qr=ri("d"),eo=ri("w"),to=ri("M"),no=ri("y"),io=ai("milliseconds"),ro=ai("seconds"),oo=ai("minutes"),ao=ai("hours"),so=ai("days"),lo=ai("months"),co=ai("years"),uo=Math.round,po={s:45,m:45,h:22,d:26,M:11},ho=Math.abs,fo=Tt.prototype;fo.abs=Xn,fo.add=Kn,fo.subtract=Jn,fo.as=ni,fo.asMilliseconds=zr,fo.asSeconds=Kr,fo.asMinutes=Jr,fo.asHours=Zr,fo.asDays=Qr,fo.asWeeks=eo,fo.asMonths=to,fo.asYears=no,fo.valueOf=ii,fo._bubble=Qn,fo.get=oi,fo.milliseconds=io,fo.seconds=ro,fo.minutes=oo,fo.hours=ao,fo.days=so,fo.weeks=si,fo.months=lo,fo.years=co,fo.humanize=pi,fo.toISOString=hi,fo.toString=hi,fo.toJSON=hi,fo.locale=dn,fo.localeData=pn,fo.toIsoString=S("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",hi),fo.lang=$r,W("X",0,0,"unix"),W("x",0,0,"valueOf"),J("x",Gi),J("X",Xi),te("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),te("x",function(e,t,n){n._d=new Date(E(e))}),e.version="2.14.1",t(_t),e.fn=Wr,e.min=Et,e.max=bt,e.now=Pr,e.utc=u,e.unix=Un,e.months=Vn,e.isDate=a,e.locale=Ze,e.invalid=f,e.duration=$t,e.isMoment=_,e.weekdays=Gn,e.parseZone=Fn,e.localeData=tt,e.isDuration=St,e.monthsShort=Hn,e.weekdaysMin=qn,e.defineLocale=Qe,e.updateLocale=et,e.locales=nt,e.weekdaysShort=Wn,e.normalizeUnits=k,e.relativeTimeRounding=ui,e.relativeTimeThreshold=di,e.calendarFormat=Wt,e.prototype=Wr;var go=e;return go}),"function"!=typeof e)var e=n;return i("IngestHelper",["require","exports","module","./ListenerManager","./components/moment/moment.js"],function(t,n,i){"use strict";function r(e,t){t(null,{})}function o(){var e=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}function a(e){if(e)try{var t=parseInt(e,10);if(t)return Math.max(0,t);var n=Date.parse(e);if(n){var i=(new Date).valueOf(),r=Math.max(0,n-i)/1e3,o=Math.floor(Math.random()*v.RETRY_RANDOM_SECONDS);return r+o}}catch(e){}return 0}function s(e,t){var n=e;if(e&&e.length>t&&t>0){var i=e.length-t;n=e.slice(i,e.length)}return n}function l(e,t){var n,i=Object.getOwnPropertyNames(t);i.forEach(function(i){"object"==typeof t[i]?("object"!=typeof e[i]&&(e[i]={}),l(e[i],t[i])):(n=Object.getOwnPropertyDescriptor(t,i),Object.defineProperty(e,i,n))})}function c(e){var t=function(){};e.on("data",t),e.on("end",t)}var u,d,p=t("./ListenerManager"),h={},f=new p(["analyticsSent"]),g=[],m={getOptions:null,log:null,getAccessToken:null,clearAccessToken:null,getAgent:null},v={ENVIRONMENT:"prod",ANALYTICS_ENABLED:!1,ANALYTICS_INGEST_PATH:"/ingest",ANALYTICS_INGEST_TYPE:"dunamis",ANALYTICS_MAX_QUEUED_EVENTS:50,ANALYTICS_DEBOUNCE:1e4,ANALYTICS_HOST:{prod:"cc-api-data.adobe.io",stage:"cc-api-data-stage.adobe.io",dev:"cc-api-data-dev.adobe.io"},ANALYTICS_API_KEY:null,ANALYTICS_X_PRODUCT:null,ANALYTICS_X_PRODUCT_LOCATION:void 0,ANALYTICS_PROJECT:null,ANALYTICS_USER_REGION:"UNKNOWN",RETRY_RANDOM_SECONDS:10},_="Ingest :: ",y=(new Date).valueOf();return h._formatDateString=function(n,i){var r=typeof global;if("undefined"!==r&&global.Buffer)return e("moment")(n).format(i);var o=t("./components/moment/moment.js");return o(n).format(i)},h._isInitialized=function(){return!!(v.ANALYTICS_API_KEY&&v.ANALYTICS_X_PRODUCT&&v.ANALYTICS_PROJECT&&m.getAccessToken&&"function"==typeof m.getAccessToken)||(m.log(_+"Not intialized correctly. options="+JSON.stringify(v)+", Ingest.getAccessToken="+h.getAccessToken),!1)},h._cacheEvent=function(e){g.length>=v.ANALYTICS_MAX_QUEUED_EVENTS&&g.shift(),g.push(e)},h._onFinished=function(e,t){var n=_+"["+t+"] ";e?(g=u.concat(g),g=s(g,v.ANALYTICS_MAX_QUEUED_EVENTS),m.log(n+"Ingest post failed with err: "+e+", num queued events: "+g.length)):m.log(n+"Ingest post event(s):"+JSON.stringify(u));
var i=u.length;u=void 0;var r=!e;f.notify("analyticsSent",[r,r?i:0]),e||h._sendAnalytics()},h._sendAnalytics=function(t,n){if(n=n||0,m.getOptions&&h.setOptions(m.getOptions()),v.ANALYTICS_ENABLED&&0!==g.length){var i=v.ANALYTICS_DEBOUNCE;if(t&&(i=0,clearTimeout(d),d=void 0),u||d)return void m.log(_+" Queued "+g.length+" events to be sent.");var r=(new Date).valueOf();if(i>r-y)return void(d=setTimeout(function(){d=void 0,h._sendAnalytics()},i));y=r,u=g,g=[];var s=o(),p={events:u};m.getAccessToken&&"function"==typeof m.getAccessToken?m.getAccessToken(function(t,i){if(t)return void h._onFinished(t,s);if(!i||0===i.length)return void h._onFinished(new Error("Empty token."),s);var r=typeof global;if("undefined"!==r&&global.Buffer){var o="https://"+v.ANALYTICS_HOST[v.ENVIRONMENT],d={hostname:v.ANALYTICS_HOST[v.ENVIRONMENT],port:443,path:v.ANALYTICS_INGEST_PATH,method:"POST",headers:{Authorization:"Bearer "+i,"x-api-key":v.ANALYTICS_API_KEY,"X-Product":v.ANALYTICS_X_PRODUCT,"X-Request-Id":s,"Content-Type":"application/json"}};v.ANALYTICS_X_PRODUCT_LOCATION&&(d.headers["X-Product-Location"]=v.ANALYTICS_X_PRODUCT_LOCATION),m.getAgent(o,function(t,i){i&&i.agent?d.agent=i&&i.agent:l(d,i||{});var r=e("https"),o=r.request(d,function(e){if(e&&c(e),e&&e.headers){var t=e.headers["retry-after"]||e.headers["Retry-After"],i=a(t);v.ANALYTICS_DEBOUNCE=Math.max(1e3*i,v.ANALYTICS_DEBOUNCE)}var r=e&&e.statusCode;return 401===r&&0===n?(m.clearAccessToken&&"function"==typeof m.getAccessToken&&m.clearAccessToken(),g=u,u=void 0,m.log(_+"Access token is expired. Retry one more time."),void h._sendAnalytics(!0,++n)):200!==r?void h._onFinished(new Error("status "+r),s):void h._onFinished(null,s)});o.once("error",function(e){h._onFinished(e,s)}),o.end(JSON.stringify(p))})}else{var f=JSON.stringify(p),y=function(e){var t=new XMLHttpRequest;t.onreadystatechange=function(){if(4===this.readyState){var e=a(t.getResponseHeader("retry-after")||t.getResponseHeader("Retry-After"));v.ANALYTICS_DEBOUNCE=Math.max(1e3*e,v.ANALYTICS_DEBOUNCE),200===this.status?h._onFinished(null,s):401===this.status&&0===n?(m.clearAccessToken(),g=u,u=void 0,m.log(_+"Access token is expired. Retry one more time."),h._sendAnalytics(!0,++n)):h._onFinished(new Error("status: "+this.status),s)}},t.onerror=function(e){h._onFinished(new Error(e),s)},t.open("POST","https://"+v.ANALYTICS_HOST[v.ENVIRONMENT]+v.ANALYTICS_INGEST_PATH,!0),t.setRequestHeader("x-api-key",v.ANALYTICS_API_KEY),t.setRequestHeader("x-user-region",v.ANALYTICS_USER_REGION),t.setRequestHeader("Content-Type","application/json"),t.setRequestHeader("Authorization","Bearer "+i),t.setRequestHeader("X-Product",v.ANALYTICS_X_PRODUCT),t.setRequestHeader("X-Product-Location",v.ANALYTICS_X_PRODUCT_LOCATION),t.setRequestHeader("X-Request-Id",s),t.send(e)};y(f)}}):m.log(_+"Ingest.dependencies.getAccessToken is not defined or not a function."+m.getAccessToken)}},h.setOptions=function(e){var t=["prod","stage","dev"];-1!==t.indexOf(e.ENVIRONMENT)&&(v.ENVIRONMENT=e.ENVIRONMENT),v.ANALYTICS_ENABLED=e.ANALYTICS_ENABLED,v.agent=e.agent,v.ANALYTICS_API_KEY=e.ANALYTICS_API_KEY,v.ANALYTICS_X_PRODUCT=e.ANALYTICS_X_PRODUCT,v.ANALYTICS_X_PRODUCT_LOCATION=e.ANALYTICS_X_PRODUCT_LOCATION,v.ANALYTICS_PROJECT=e.ANALYTICS_PROJECT,v.ANALYTICS_INGEST_TYPE=e.ANALYTICS_INGEST_TYPE||v.ANALYTICS_INGEST_TYPE,v.ANALYTICS_USER_REGION=e.ANALYTICS_USER_REGION||v.ANALYTICS_USER_REGION,void 0!==e.ANALYTICS_MAX_QUEUED_EVENTS&&(v.ANALYTICS_MAX_QUEUED_EVENTS=e.ANALYTICS_MAX_QUEUED_EVENTS),void 0!==e.ANALYTICS_DEBOUNCE&&(v.ANALYTICS_DEBOUNCE=e.ANALYTICS_DEBOUNCE)},h.init=function(e){e&&(m.getOptions=e.getOptions,m.getAccessToken=e.getAccessToken,m.clearAccessToken=e.clearAccessToken,m.log=e.log||console.log,m.getAgent=e.getAgent||r),m.getOptions&&h.setOptions(m.getOptions())},h.getOption=function(e){return v[e]},h.setOption=function(e,t){v[e]=t},h.postEvent=function(e){if(h._isInitialized()){m.getOptions&&h.setOptions(m.getOptions());var t=this._formatDateString(new Date,"YYYY-MM-DDTHH:mm:ss.SSSZZ");e["event.dts_end"]=t;var n={time:t,project:v.ANALYTICS_PROJECT,environment:v.ENVIRONMENT,ingesttype:v.ANALYTICS_INGEST_TYPE,data:e};h._cacheEvent(n),h._sendAnalytics()}},h.flush=function(e){h._sendAnalytics(e)},h.addListener=function(e,t){f.add(e,t)},h.removeListener=function(e,t){f.remove(e,t)},h}),i("main",["require","exports","module","./IngestHelper"],function(e,t,n){"use strict";var i=e("./IngestHelper"),r={};return r.init=function(e){i.init(e)},r.getOption=function(e){return i.getOption(e)},r.setOption=function(e,t){i.setOption(e,t)},r.postEvent=function(e){i.postEvent(e)},r.flush=function(e){i.flush(e)},r.addListener=function(e,t){i.addListener(e,t)},r.removeListener=function(e,t){i.removeListener(e,t)},r}),n("main")}),define("services/interface/metrics",["require","exports","module","angular","Ingest"],function(e,t,n){"use strict";var i=e("angular"),r="adbemprojectcentral.rebootprod2",o="adbemprojectcentral.rebootdev2",a="adbemdigitalmedia.rebootprod2",s="adbemdigitalmedia.rebootdev2",l="Library Action",c="Library Panel Action",u="LibraryAction",d="LibraryPanelAction",p="Home",h=["$window","ccLibraries","configuration","csInterface","imsInterface","localSettings","versionManager","debugLog",function(t,n,h,f,g,m,v,_){function y(e){D.init({getOptions:function(){return{ENVIRONMENT:"Staging"===g.getEnvironment().label?"stage":"prod",ANALYTICS_ENABLED:C,ANALYTICS_API_KEY:g.getEnvironment().clientId,ANALYTICS_X_PRODUCT:x.product+"/"+x.productVersion,ANALYTICS_X_PRODUCT_LOCATION:"libraries/"+(i.BUILT?x.version:"DEV"),ANALYTICS_PROJECT:h.ANALYTICS_PROJECT,ANALYTICS_INGEST_TYPE:h.ANALYTICS_INGEST_TYPE,ANALYTICS_MAX_QUEUED_EVENTS:h.ANALYTICS_MAX_QUEUED_EVENTS,ANALYTICS_DEBOUNCE:h.ANALYTICS_DEBOUNCE}},log:function(e){console.info(e)},getAccessToken:function(t){g.getAccessToken(e).then(function(e){t(null,e)},function(e){t(e)})},clearAccessToken:function(){g.clearAccessToken()}})}function E(e,n){if(e){e.contextData["adb.page.pageInfo.isSDKUtilized"]="Project Central",e.contextData["adb.page.pageInfo.namespace"]=h.currentProduct.config.analytics.namespace,e.contextData["adb.page.pageInfo.productCategory"]="desktop",e.contextData["adb.page.pageInfo.productVersion"]=x.productVersion||"Unknown",e.contextData["adb.page.pageInfo.panelVersion"]=x.version||"Unknown",e.contextData["adb.page.pageInfo.appId"]=x.product,e.contextData["adb.user.profile.profileId"]=w||"Unknown",e.contextData["adb.user.profile.attributes.clientId"]=x.product,w&&(e.visitorID=w),x.os&&(e.contextData["a.OSEnvironment"]=x.os),e.contextData["adb.page.pageInfo.language"]=f.getLocale(),e.contextData["adb.user.profile.attributes.pcOffline"]=x.offline?"Y":"N",e.contextData["adb.event.eventinfo.eventassetproperties"]=JSON.stringify({width:t.innerWidth,height:t.innerHeight}),n&&Object.keys(n).forEach(function(t){e.contextData["adb.user.profile.attributes."+t]=n[t]});var i=[];Object.keys(e.contextData).forEach(function(e){i.push("contextData."+e)}),e.trackOffline=!0,e.linkTrackVars=i.join(",")}}var b,T,S,L=n.analyticsUtils,A=!1,C=!1,w=null,x={},O={},D=e("Ingest"),R=function(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"===e?t:3&t|8;return n.toString(16)})},I=function(){var e={"event.guid":R(),"event.user_guid":w||"Unknown","event.offline":!!x.offline,"event.language":f.getLocale(),"source.name":x.product,"source.client_id":x.product,"source.version":x.productVersion||"Unknown","source.platform":"desktop","source.os_version":x.os,"env.com.name":"CCLibraryPanel","env.com.version":x.version||"Unknown","consumer.name":x.consumer,"ccxl.dimension":{width:t.innerWidth,height:t.innerHeight}};return e},P=function(){C&&T&&(T.contextData={},T.contextData["adb.page.pageInfo.pageName"]=p,T.contextData["adb.user.profile.attributes."+d]=!0,T.contextData["adb.user.profile.attributes."+d+"Description"]=p,E(T),T.pageName=p,T.t(),m.getDebugValue("logMetrics")&&console.info("Analytics: "+p+" "+JSON.stringify(T.contextData)))},N=function(e,t,n){if(C){t=t||{};var r=S(e);r&&Object.keys(r).forEach(function(e){var n=r[e];void 0===t[e]&&void 0!==n&&null!==n&&(t[e]=n)}),i.isFunction(h.currentProduct.reportEvent)&&h.currentProduct.reportEvent(e,t);var o=n?c:l,a=n?d:u;if(T&&(T.contextData={},T.contextData["adb.event.eventInfo.eventName"]=o,T.contextData["adb.event.eventInfo.eventAction"]=e,T.contextData["adb.user.profile.attributes."+a]=!0,T.contextData["adb.user.profile.attributes."+a+"Description"]=e,T.contextData["a.action"]=o,E(T,t),T.tl(!0,"o",o),m.getDebugValue("logMetrics")&&console.info("Analytics: "+o+" "+JSON.stringify(T.contextData))),D){var s=I();s["event.type"]=o,s["event.subtype"]=e,s["event.category"]="Library-Panel",s["event.subcategory"]=a,t&&Object.keys(t).forEach(function(e){s["ccxl."+e]=t[e]}),D.postEvent(s)}}},M=function(e,t,n,r){if(!A)return void console.log("Error: ",e,t,n,r);var o=e+":"+(t||"");if(o&&o.length>255&&(o=o.substring(0,255)),r&&i.isFunction(h.currentProduct.reportEvent)&&h.currentProduct.reportEvent(o,n),T&&(T.contextData={},T.contextData["adb.event.eventInfo.eventName"]="General Error",T.contextData["adb.event.eventInfo.eventAction"]=o,T.contextData["a.action"]="error",E(T,n),T.tl(!0,"o","error"),m.getDebugValue("logMetrics")&&console.info("Analytics: error "+JSON.stringify(T.contextData))),D){var a=I();a["event.error_type"]="General Error",a["event.error_description"]=o,n&&Object.keys(n).forEach(function(e){a["ccxl."+e]=n[e]}),D.postEvent(a)}},k=function(e){C=e,C&&(b=m.hasDebugSettings()?s+","+o+","+h.currentProduct.config.analytics.devId:a+","+r+","+h.currentProduct.config.analytics.prodId,T=s_gi(b),T.ssl=!0),_.log("Analytics: "+C),n.setOption("SHARED_LOCAL_STORAGE_ANALYTICS",C),C&&(P(),N(f.isLibrariesPanel()?"initializePanel":"initializePurchaseDialog",null,!0))},U=function(e){e.product&&(x.product=e.product),e.productVersion&&(x.productVersion=e.productVersion),e.version&&(x.version=e.version),e.os&&(x.os=e.os),void 0!==e.offline&&(x.offline=e.offline),e.consumer&&(x.consumer=e.consumer)};t.onerror=function(e,t,n){M(t+"#"+n,e)},this.addProductHeaders=function(e){return e&&(e["X-Product"]=x.product+"/"+x.productVersion,e["X-Product-Location"]="libraries/"+(i.BUILT?x.version:"DEV")),e},this.isEnabled=function(){return C},this.getRepositories=function(){return b},this.reportUseElement=function(e,t,n){C&&L&&L.reportUseElement(e,t,n)},this.reportCheckoutElement=function(e,t,n){C&&L&&L.reportCheckoutElement(e,n,t)},this.reportCreateLink=function(e,t){C&&L&&L.reportCreateLink(e,t)},this.reportShareElementLink=function(e){C&&L&&L.reportShareElementLink(e)},this.reportShareLibraryLink=function(e){C&&L&&L.reportShareLibraryLink(e)},this.reportError=M,this.reportEvent=N,this.reportPanelEvent=function(e,t){this.reportEvent(e,t,!0)},this.setEnvironment=U,this.setUserId=function(e){return e?void(w!==e&&(w=e,A||(A=!0,U({product:h.currentProduct.config.fullName,version:v.getPluginVersion(),os:f.getOSInformation()}),f.exec("CORE","getApplicationVersion",[]).then(function(e){U({productVersion:e})}),y(w)),f.execApp("isAnalyticsEnabled").then(function(e){var t=!1;"boolean"==typeof e?t=e:"string"==typeof e&&(t="true"===e.toLowerCase()),k(t)}))):void k(!1)},this.flush=function(){D.flush()},this.setExtraEventMetrics=function(e,t){O[e]=t},S=function(e){return O[e]},this.getExtraEventMetrics=S,this.clearExtraEventMetrics=function(e){delete O[e]}}];t.attach=function(e){i.module(e).service("metrics",h)}}),define("services/interface/vulcan",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$q","configuration","csInterface","listenerUtils","debugLog",function(e,t,n,i,r){var o,a,s="vulcan.SuiteMessage.",l=i.addListenerManager();n.VulcanJS&&(o=new n.VulcanJS.VulcanAdapter(n.getAppName()+"-LIBS",n.getAppVersion()),a=new n.VulcanJS.VulcanControlAdapter,o.addMessageListener(function(e,t,n,i){e=e.replace(s,""),l.hasListeners(e)&&(r.log("Vulcan: Receive Message: "+e),l.notifyNonAngular(e,t,n,i))}));var c=window.VulcanInterface,u=window.VulcanMessage;this.isAppInstalled=function(e){return a?a.isAppInstalled(e):c?c.isAppInstalled(e):void r.log("Vulcan: isAppInstalled Error: Vulcan Control Lib unavailable")},this.isAppRunning=function(e){return a?a.isAppRunning(e):c?c.isAppRunning(e):void r.log("Vulcan: isAppRunning Error: Vulcan Control Lib unavailable")},this.launchApp=function(t,n,i){var o=e.defer();return a?a.launchApp(t,n||!1,i||"",function(){o.resolve()}):c?(c.launchApp(t,n,i),o.resolve()):(r.log("Vulcan: isAppRunning Error: Vulcan Control Lib unavailable"),o.reject()),o.promise},this.addMessageListener=function(e,t){r.log("Vulcan: Add Listener: "+e),o?l.addListener(e,t):c&&u?(t.wrapper=function(e){var n=c.getPayload(e);t(n,e.appId,e.appVersion)},c.addMessageListener(s+e,t.wrapper)):r.log("Vulcan: addMessageListener Error: Vulcan Message Lib unavailable")},this.removeMessageListener=function(e,t){r.log("Vulcan: Remove Listener: "+e),o?l.removeListener(e,t):c&&u?c.removeMessageListener(s+e,t&&t.wrapper):r.log("Vulcan: removeMessageListener Error: Vulcan Message Lib unavailable")},this.sendMessage=function(e,t){if(r.log("Vulcan: Send Message: "+e),o)o.sendMessage(e,t,"","");else if(c&&u){var n=new u(s+e);n.setPayload(t),c.dispatchMessage(n)}else r.log("Vulcan: sendMessage Error: Vulcan Message Lib unavailable")},this.handlePortDiscoveryCall=function(e,t,n,i){var r=this;e=e.replace(s,""),n=n.replace(s,"");var o,a=function(e){return r.removeMessageListener(n,a),clearTimeout(o),e?void i(e):void i("NO_VULCAN_MESSAGE")};this.addMessageListener(n,a),o=setTimeout(a,3e3),this.sendMessage(e,t)}}];t.attach=function(e){i.module(e).service("vulcan",r)}}),define("services/interface/main",["require","exports","module","./csInterface","./imsInterface","./ccxInterface","./metrics","./vulcan"],function(e,t,n){"use strict";function i(t){e("./csInterface").attach(t),e("./imsInterface").attach(t),e("./ccxInterface").attach(t),e("./metrics").attach(t),e("./vulcan").attach(t)}return{attach:i}}),define("services/managers/documentWatcher",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=0,o=["$rootScope","csInterface","fileUtils","configuration",function(e,t,n,i){var o={},a=function(){var e="documentListener"+r;return r++,e},s=function(e){var t;if(e.fullPath){var i=n.statFile(e.fullPath);t=i&&i.mtime}var r=!e.mtime||!t||e.mtime.getTime()!==t.getTime();return e.mtime=t,r},l=function(n){Object.keys(o).forEach(function(r){var a=o[r],l=n.data.substring(n.data.indexOf("<url>")+5,n.data.indexOf("</url>"));l=l.split("file://").join(""),"IDSN"===i.currentProduct.config.code&&(l=unescape(l));var c=a.tempFileId||a.path;if(l.indexOf(c)>0){var u="documentAfterDeactivate"!==n.type,d="documentAfterSave"===n.type,p=!1,h=function(e){a.callback(e),p=!0};u?d&&s(a)&&h("saved"):t.exec("CORE","isDocumentOpen",[a.fullPath]).then(function(e){if(void 0!==e&&"undefined"!==e){var t=JSON.parse(e);t||h("closed")}}),p&&!e.$$phase&&e.$apply()}})},c=function(e){l(e)},u=function(e){l(e)},d=function(){var e=Object.keys(o).length;e>0?1===e&&(t.addEventListener("documentAfterSave",c),t.addEventListener("documentAfterDeactivate",u)):0===e&&(t.removeEventListener("documentAfterSave",c),t.removeEventListener("documentAfterDeactivate",u))};this.startListening=function(e,t,n){var i=!1;if(Object.keys(o).forEach(function(e){o[e]&&o[e].fullPath===t&&(i=!0)}),!i){var r=a(),l=e&&e.match(/^.*_([0-9A-Fa-f]{8}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{12}).*$/),c=l&&l[1],u={path:e,fullPath:t,tempFileId:c,callback:n,hasDocumentChanged:!1,previousChangedState:!1};return s(u),o[r]=u,d(),r}},this.stopListening=function(e){var t=o[e];t&&(delete o[e],d())},this.checkListenerExists=function(e,t){return!!o[e]&&(o[e].path===t.path&&o[e].callback===t.callback)}}];t.attach=function(e){i.module(e).service("documentWatcher",o)}}),define("services/managers/fontManager",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["listenerUtils","csInterface",function(e,t){var n=e.addListenerManager(this,["fontListChanged"]),i={};this.isFontAvailable=function(e){if(!e.adbeFont&&!e.fontFamily)return!0;var r=e.fontFamily+":"+JSON.stringify(e.adbeFont);return i[r]===!0||i[r]===!1?i[r]:void("pending"!==i[r]&&(i[r]="pending",t.execApp("isFontAvailable",[e]).then(function(e){i[r]="false"!==e,n.notify("fontListChanged")})))},this.invalidateFontList=function(){n.notify("fontListChanged")}}];t.attach=function(e){i.module(e).service("fontManager",r)}}),define("services/managers/layerSelectionManager",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["csInterface","configuration","listenerUtils",function(e,t,n){function i(){s=!0,e.execApp("getLayerInfo").then(function(e){s=!1;try{o=JSON.parse(e)}catch(e){o=void 0}c.notify("layerSelectionChanged",o)})}function r(){var n=t.currentProduct.config.stateMethod||"getCurrentState";e.execApp(n).then(function(e){if(a=void 0,u=!1,e&&"undefined"!==e){try{var t=JSON.parse(e);a=t.path,u=t.layerID!==-1}catch(e){console.log(e)}i()}})}var o,a,s=!1,l=!1,c=n.addListenerManager(this,["layerSelectionChanged"]),u=!1;this.handleSelectionChange=function(){l&&r()},this.startListening=function(){l=!0,r()},this.stopListening=function(){l=!1},this.getLayerName=function(){return e.execApp("getLayerName")},this.getLayerInfo=function(){return o},this.requestUpdate=function(){s||i()},this.getCurrentDocumentName=function(){var e;try{a&&a.length>0&&(e=a.indexOf("/")>-1?a.substring(a.lastIndexOf("/")+1):a.substring(a.lastIndexOf("\\")+1))}catch(e){}return e},this.getCurrentDocumentPath=function(){return a},this.hasDocumentOpen=function(){return u}}];t.attach=function(e){i.module(e).service("layerSelectionManager",r)}}),define("services/managers/menuManager",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$translate","$rootScope","csInterface","listenerUtils",function(e,t,n,r){function o(e,t){var n="";Object.keys(e).forEach(function(t){void 0!==e[t]&&(n+=t+'="'+e[t]+'" ')});var i="";return t&&(i=s(t,!0)),"<MenuItem "+n+">"+i+"</MenuItem>"}function a(t){return n.isMenuInJson?(t.forEach(function(t){t.label&&(t.label=e.instant(t.label,t.translationData))}),JSON.stringify(t)):s(t)}var s,l=r.addListenerManager(this,["flyoutMenuClicked","flyoutMenuOpened"]),c=function(t,n){return t=e.instant(t,n),t=t.replace(new RegExp("&","g"),"&amp;").replace(new RegExp('"',"g"),"&quot;").replace(new RegExp("'","g"),"&apos;").replace(new RegExp("<","g"),"&lt;").replace(new RegExp(">","g"),"&gt;")};s=function(e,t){var n="";return e.forEach(function(e){n+=e.divider?'<MenuItem Label="---"/>':o({Id:e.menuId,Label:c(e.label,e.translationData),Checkable:!0,Checked:e.checked,Enabled:!e.hasOwnProperty("enableMenu")||e.enableMenu},e.menuItems)}),t||(n="<Menu>"+n+"</Menu>"),n};var u=function(e,t,n){return t=t||{},n=n||"MENU",e.forEach(function(e,i){var r=n+"_"+i;e.menuId=r,t[r]=e,e.menuItems&&u(e.menuItems,t,r)}),t};this.setContextMenu=function(e){var i=u(e);n.setContextMenu(a(e),function(e){t.$apply(function(){i[e]&&i[e].onClick&&i[e].onClick()})})},window.oncontextmenu=function(){n.setContextMenu(s([]),i.noop)};var d;n.addEventListener("com.adobe.csxs.events.flyoutMenuClicked",function(e){var n=e.data.menuId;n&&d&&t.$apply(function(){d[n]&&d[n].onClick&&d[n].onClick()}),l.notify("flyoutMenuClicked",e)}),n.addEventListener("com.adobe.csxs.events.flyoutMenuOpened",function(e){l.notify("flyoutMenuOpened",e)}),this.setFlyoutMenu=function(e){d=u(e),n.setPanelFlyoutMenu(a(e))},this.updateFlyoutMenuItem=function(e,t,i){n.updatePanelMenuItem(e,t,i)}}];t.attach=function(e){i.module(e).service("menuManager",r)}}),define("services/managers/tempFileManager",["require","exports","module","angular"],function(e,t,n){"use strict";var i=256,r=e("angular"),o=["$q","configuration","fileUtils",function(e,t,n){function o(e,o){var a=e.split("/").pop(),s=t.strTempFolder+"/",l="."+n.getFileNameExtension(a),c=n.getUniqueFileName();if(r.isString(o)){var u=s.length+c.length+l.length+1;i-u<o.length&&(o=o.substring(0,i-u)),c="IDSN"===t.currentProduct.config.code||"ILST"===t.currentProduct.config.code?n.curateFileName(o)+"_"+c:n.curateFileName(o)}return s+c+l}function a(t,i){for(var r=e.defer(),a=o(t,i),s=a,l=1;n.existsFile(s);)s=n.getFileNameWithoutExtension(a)+"("+l++ +")."+n.getFileNameExtension(a);return n.copyFile(t,s,function(e,t){return e?void r.reject(e):void r.resolve(s)}),r.promise}var s={};this.createTempFile=function(e,t){return t.getContentPath().then(function(t){var n=e.getReference();return s[n]&&s[n].path===t?s[n].tempPath:a(t,e.name).then(function(e){return s[n]={path:t,tempPath:e},e})})},this.updateTempFile=function(e,t,n){t.getContentPath().then(function(t){var i=e.getReference();s[i]={path:t,tempPath:n},Object.keys(s).forEach(function(e){e!==i&&s[e].tempPath===n&&delete s[e]})})},this.deleteTempFile=function(e,t){n.deleteFile(t),Object.keys(s).forEach(function(e){s[e].tempPath===t&&delete s[e]})}}];t.attach=function(e){r.module(e).service("tempFileManager",o)}}),define("services/managers/themeManager",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$window","colorUtils","listenerUtils","csInterface","configuration",function(e,t,n,i,r){var o,a,s,l=n.addListenerManager(this,["colorThemeChanged","colorConstantsChanged"]),c=function(e,t){function n(e,t){var n=isNaN(t)?e:e+t;return n<0?n=0:n>255&&(n=255),n=Math.round(n),n=n.toString(16),1===n.length?"0"+n:n}var i="";return e&&(i=n(e.red,t)+n(e.green,t)+n(e.blue,t)),i};this.getBaseFontSize=function(){return o},this.getBaseFontFamily=function(){return a},this.getBackgroundColor=function(){return s};var u,d={},p=new RegExp("rgb\\(([0-9]+),\\s*([0-9]+),\\s*([0-9]+)\\)"),h=new RegExp("(^|.+, )html($|, .+)"),f="theme-background",g=function(e,t){return e instanceof RegExp?t&&t.match(e):t===e},m=function(e,t){var n,i,r,o;for(n=document.styleSheets.length-1;n>=0;n--){for(r=document.styleSheets[n].rules||document.styleSheets[n].cssRules,i=0;i<r.length;i++)if(g(e,r[i].selectorText)){if(o=r[i].style,!t)break;if(o[t]){o=o[t];break}}if(o)break}return o},v=function(e){var n=m(".color-"+e),i=0;if(n&&n.color){var r=n.color.match(p);r&&(i=t.rgbToHexNumber({red:r[1],green:r[2],blue:r[3]}))}return i},_=function(){u&&(clearTimeout(u),u=void 0);var e=v(f),t="000000"+e.toString(16);return t=t.substr(t.length-6),t===s?(d={},void l.notify("colorConstantsChanged")):void(u=setTimeout(function(){_()},10))};this.getThemeColor=function(e){return void 0===d[e]&&(d[e]=v(e)),d[e]},this.getFontFamily=function(){return void 0===d.bodyFontFamily&&(d.bodyFontFamily=m(h,"fontFamily")),d.bodyFontFamily},this.updateTheme=function(e){var t=e.panelBackgroundColor.color;s=c(t),o=e.baseFontSize,a=e.baseFontFamily;var n="css/main.css",i=e.panelNamedTheme||r.currentProduct.config.themes[s];if(!i){var u,d;for(u=1;u<32&&(d=c(t,u),!(i=r.currentProduct.config.themes[d]));u+=1);}i||(i=r.currentProduct.config.defaultTheme),i&&(n=r.currentProduct.config.code+"/css/"+i+"/main.css");var p=document.getElementsByTagName("link"),h=p[p.length-1],f=h.cloneNode(!0),g=f.getAttribute("href"),m="";g.indexOf("//")!==-1&&(m=g.split("/").slice(0,3).join("/")+"/"),f.setAttribute("href",m+n),h.parentNode.appendChild(f),setTimeout(function(){h.parentNode.removeChild(h),_()},20),l.notify("colorThemeChanged")};var y=function(e){this.updateTheme(i.getHostEnvironment(!0).appSkinInfo)}.bind(this);this.updateTheme(i.getHostEnvironment().appSkinInfo),i.addEventListener(r.THEME_COLOR_CHANGED_EVENT,y)}];t.attach=function(e){i.module(e).service("themeManager",r)}}),define("services/managers/versionManager",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$http","$q","csInterface","configuration","fileUtils",function(e,t,n,i,r){var o;this.getPluginVersion=function(){if(!o)try{var e=n.getPluginPath()+"/CSXS/manifest.xml",t=r.readFile(e,"utf8"),i=new DOMParser,a=i.parseFromString(t,"text/xml"),s=a.getElementsByTagName("ExtensionManifest")[0];o=s&&s.getAttribute("ExtensionBundleVersion")}catch(e){try{o="2.11.27"}catch(e){o="UNKONWN"}}return o}}];t.attach=function(e){i.module(e).service("versionManager",r)}}),define("services/managers/main",["require","exports","module","./documentWatcher","./fontManager","./layerSelectionManager","./menuManager","./tempFileManager","./themeManager","./versionManager"],function(e,t,n){"use strict";function i(t){e("./documentWatcher").attach(t),e("./fontManager").attach(t),e("./layerSelectionManager").attach(t),e("./menuManager").attach(t),e("./tempFileManager").attach(t),e("./themeManager").attach(t),e("./versionManager").attach(t)}return{attach:i}}),define("services/utils/adobeStockLicenseUtils",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$q","$translate","$window","configuration","debugLog","listenerUtils","adobeStockRestService","ccLibraries","metrics","adobeStockUtils","linkUtils","csInterface","designLibraryManager","adobeStockUpdateUtils","fileUtils","designLibraryUtils",function(e,t,n,i,r,o,a,s,l,c,u,d,p,h,f,g){function m(e,n,i,r,o,a){n=n?t.instant(n):t.instant("DL_STOCK_PURCHASE_DIALOG_TITLE"+c.getLocalizationSuffix(e)),A.notify("showStockPurchaseDialog",n,i,r,o,void 0,void 0,a)}function v(e,t){A.notify("showStockPurchaseDialog",e,t)}function _(e){return t.instant("DL_STOCK_PURCHASE_SERVICE_UNAVAILABLE_ERROR"+c.getLocalizationSuffix(e))}function y(e){return t.instant("DL_STOCK_PURCHASE_OFFLINE_ERROR"+c.getLocalizationSuffix(e))}function E(e){return t.instant("DL_STOCK_PURCHASE_UNKNOWN_ERROR"+c.getLocalizationSuffix(e))}function b(e,t){n.navigator.onLine?t&&404!==t&&408!==t&&500!==t&&502!==t&&503!==t?m(e,"DL_STOCK_PURCHASE_ERROR_TITLE",E(e)):m(e,"DL_STOCK_PURCHASE_ERROR_TITLE",_(e)):m(e,"DL_STOCK_PURCHASE_OFFLINE_ERROR_TITLE",y(e))}function T(e,t,n,i){e&&e.id&&l.reportCheckoutElement(e,n,i)}function S(e,t,n){return n&&(n.is_editorial||n.is_premium)?e:t.type===i.VIDEO_ELEMENT_TYPE&&e?e.indexOf("Video_")===-1?"Video_"+e:e:c.getLicenseType(t)}function L(e,t,n){return!t&&e.type===i.IMAGE_ELEMENT_TYPE&&(n.is_editorial||n.is_premium)}var A=o.addListenerManager(this,["showStockPurchaseDialog"]),C=function(t,n,i,o,s,l,d){var p=e.defer(),h=S(s,t,d);return a.licenseImage(n,i,h,void 0,l).then(function(e){var n=e&&e.contents&&e.contents[i],a=n&&n.purchase_details,s=a&&a.state,l=e&&e.member&&e.member.stock_id;return s?(T(t,i,o,"complete;"+s),"just_purchased"===s||"purchased"===s?p.resolve({contentId:i,stockId:l,imageContents:n,cartId:o}):("not_possible"!==s&&r.log("Unexpected state in response from Adobe Stock licensing service: "+s),a.url&&u.launchLicenseURL(a.url),p.reject("STOCK_PURCHASE_FAILED"))):(T(t,i,o,"complete;error"),m(t,"DL_STOCK_PURCHASE_ERROR_TITLE","DL_STOCK_PURCHASE_UNKNOWN_ERROR"+c.getLocalizationSuffix(t)),p.reject("STOCK_PURCHASE_ERROR"))},function(e){return T(t,i,o,"complete;error"),b(t,e),p.reject("STOCK_PURCHASE_FAILED")}),p.promise},w=function(e,t,n,i,o,s,l){T(e,n,i,"cancel;yes"),a.notifyAbandonedTransaction(t,n,S(s,e,l),o).then(function(e){r.log("Successfully notified abandoned stock license transaction")},function(e){r.log("Failed to notify of abandoned stock license transaction, status: "+e)})},x=function(t,n,r,o,a,s,l){var u=e.defer();if(!g.canAddElement(t))return u.reject("DL_DESIGN_LIBRARY_HAS_LIMIT"),u.promise;var d=l||t.createElement(r.title,n),p=[],h=d.createRepresentation(r.content_type,"primary");c.setStockData(h,{content_id:r.id,stock_id:r.stock_id,state:i.STOCK_STATE_NOT_PURCHASED,method:s&&s.method,premiumLevel:r.premium_level_id}),s&&s.searchText&&c.setStockSearchQuery(h,s.searchText),n===i.VIDEO_ELEMENT_TYPE&&a&&a.indexOf("Video_")===-1&&(a="Video_"+a);var m={url:"",width:0,height:0};c.canSaveComp(r)&&("Standard_M"===a&&(a=i.STOCK_LICENSE_TYPE_STANDARD),m=r.comps[a]);var v=h.setContentFromURL(!0,m.url,{}).then(function(){return h.width=m.width,h.height=m.height,r.content_length&&(h.contentLength=r.content_length),n===i.VIDEO_ELEMENT_TYPE&&h.setValue("video","data",{framerate:r.framerate,duration:r.duration}),h});p.push(v);var _=[];if(o&&o.path){var y=d.createRepresentation(f.fileNameToContentType(o.path,n),"rendition"),E=y.setContentFromPath(o.path,!1).then(function(){o.width&&(y.width=o.width),o.height&&(y.height=o.height)});p.push(E);var b=e.defer(),T=function(){b.resolve(d)};d.setThumbnailCache(i.IMAGE_RENDITION_SIZE,o.path,T),_.push(b)}var S=function(){t.removeElement(d,!0),u.reject()};return e.all(p).then(function(){_.push(d.endOperation()),e.all(_).then(function(){u.resolve(d)},S)},S),u.promise},O=function(e,n,i,r,o,a,s,c,u,d,f,g){C(e,n,i,d,o,g,c).then(function(n){if(!n)return void f.reject("STOCK_PURCHASE_FAILED");var i=a?p.getLibraryById(a):e.library||p.getCurrentLibrary();if(i&&!i.isWritable)return f.reject({code:"LIBRARY_NOT_WRITEABLE",licenseType:o}),void h.updateLicenses(n);if(!a)return void h.updateLicenses(n).then(function(){f.resolve(n)});var r=function(e){"DL_DESIGN_LIBRARY_HAS_LIMIT"===e?v(t.instant("DL_DESIGN_LIBRARY_HAS_LIMIT_TITLE"),t.instant("DL_DESIGN_LIBRARY_HAS_LIMIT")):v(t.instant("DL_STOCK_SAVE_UNKNOWN_ERROR_TITLE"),t.instant("DL_STOCK_SAVE_UNKNOWN_ERROR")),l.reportError("stockSaveError"),f.reject("DL_STOCK_SAVE_UNKNOWN_ERROR")},d=function(e){n.createdElementRef=e.getReference(),h.updateLicenses(n).then(function(){f.resolve(n)})},g=p.getLibraryById(a);if(!g)return void r();var m=n.imageContents.purchase_details;x(g,e.type,c,s,m.license,u).then(d,r)},function(e){f.reject(e)})};this.showStockError=v,this.createStockElement=x,this.showLicenseDialog=function(t,n,r,o,a,s,l,c){var u=e.defer();if(r&&o){var h=p.getPrivateLibraryCollection().userId;return this.doLicense(t,h,n,r,o,a,s,c,l).then(function(e){u.resolve(e)},function(e){u.reject(e)}),u.promise}var f=function(e){d.removeEventListener("com.adobe.inapp.purchase.init",f);var i,u=d.createEvent("com.adobe.inapp.purchase.perform","APPLICATION","CCLibrariesPanel",d.getExtensionID());"function"==typeof t.getReference&&(i=t.getReference()),u.data={elementRef:i,elementType:t.type,elementName:t.name,contentId:n,skipQuotaCheck:r,licenseType:o,metadata:l,addToLibraryID:a,renditionDetails:s,stockSearchAsset:c},d.dispatchEvent(u)};d.addEventListener("com.adobe.inapp.purchase.init",f);var g=function(e){if(d.removeEventListener("com.adobe.inapp.purchase.closed",g),d.removeEventListener("com.adobe.csxs.events.ExtensionUnloaded",g),"com.adobe.csxs.events.ExtensionUnloaded"===e.type){var t=new DOMParser,n=t.parseFromString(e.data,"text/xml");if(n.getElementsByTagName("Id")[0].childNodes[0].nodeValue!==i.PURCHASE_EXTENSION_ID||"1"!==n.getElementsByTagName("ClosingType")[0].childNodes[0].nodeValue)return}var r=e.data;r.didFinish?u.resolve(r.data):u.reject(r.data)};return d.addEventListener("com.adobe.inapp.purchase.closed",g),d.addEventListener("com.adobe.csxs.events.ExtensionUnloaded",g),d.requestOpenExtension(i.PURCHASE_EXTENSION_ID),u.promise};var D=function(e,n,r,o){var a=c.getLicenseTypesFromSearchResult(e);if(e.is_licensed&&e.is_licensed===i.STOCK_VIDEO_LICENSE_TYPE_4K.field)return void r(i.STOCK_VIDEO_LICENSE_TYPE_4K.label,!0);var s=n?t.instant("DL_STOCK_PURCHASE_DIALOG_TITLE_VIDEO"):t.instant("DL_STOCK_PURCHASE_DIALOG_TITLE_SAVE_VIDEO"),l=n?t.instant("DL_STOCK_PURCHASE_DIALOG_VIDEO_TYPE_MESSAGE"):t.instant("DL_STOCK_PURCHASE_DIALOG_VIDEO_SAVE_TYPE_MESSAGE");l+="<br><br>";var u=0;for(u=a.length-1;u>=0;u--)l+=a[u].label+" : "+a[u].resolution+"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;";var d=function(t){var n=S(t,{type:i.VIDEO_ELEMENT_TYPE},e);r(t,n===e.is_licensed)};a.length>1?A.notify("showStockPurchaseDialog",s,l,d,o,a[0].label,a[1].label):r(a[0].label,!1)},R=function(e,n,i,r){var o=c.getLicenseTypesFromSearchResult(e),a=0;for(a=0;a<o.length;a++)o[a].label=t.instant(o[a].label);if(0===o.length)return void v(t.instant("DL_STOCK_SAVE_UNKNOWN_ERROR_TITLE"),t.instant("DL_STOCK_SAVE_UNKNOWN_ERROR"));if(1===o.length||o.length>1&&!n)return void i(o[0].field,!1);
var s=n?t.instant("DL_STOCK_PURCHASE_DIALOG_PHOTO_TYPE_MESSAGE"):t.instant("DL_STOCK_PURCHASE_DIALOG_PHOTO_TYPE_SAVE_MESSAGE");s+="<br><br>";var l;for(l=o.length-1;l>=0;l--)s+=o[l].label+" : "+o[l].resolution+"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;";var u=function(e){var t;o.forEach(function(n){n.label===e&&(t=n.field)}),i(t,!1)},d=n?t.instant("DL_STOCK_PURCHASE_DIALOG_TITLE_PHOTO"):t.instant("DL_STOCK_PURCHASE_DIALOG_TITLE_SAVE_PHOTO");A.notify("showStockPurchaseDialog",d,s,u,r,o[0].label,o[1].label)},I=function(n,r,o,l,c,d,p,h,f,g){var v=g||e.defer(),_=s.utils.generateUuid();T(n,o,_,"right click;yes");var y=function(e,t){I(n,r,o,t,e,d,p,h,f,v)};if(void 0===h){var A={};return i.STOCK_SEARCH_OPTIONS.forEach(function(e){e.filterKey||(A[e.id]=1)}),a.searchStockAssets(r,o,null,A).then(function(e){return void 0===e||0===e.length?(m(n,"DL_STOCK_PURCHASE_ERROR_TITLE",E(n)),void v.reject("STOCK_PURCHASE_FAILED")):(h=e[0],void y(c,l))},function(e){b(n,e),v.reject("STOCK_PURCHASE_FAILED")}),v.promise}l!==!0&&(l=!(!h.is_licensed||""===h.is_licensed));var C=function(){v.reject("STOCK_PURCHASE_CANCELLED")};return n.type!==i.VIDEO_ELEMENT_TYPE||c?L(n,c,h)?(R(h,!0,y,C),v.promise):(l?O(n,r,o,l,c,d,p,h,f,_,v):a.getUserQuota(r,o,S(c,n,h)).then(function(e){var i=e&&e.purchase_options,a=e&&e.cce_agency,s=i&&i.state,g=i&&i.url,y=i&&i.message_ccx,b=function(){if(g&&!a)u.launchLicenseURL(g),T(n,o,_,"stock site;purchase"),v.reject("STOCK_PURCHASE_ON_WEBSITE");else{var e;a&&(e=a.filter(function(e){return!!e.value}).map(function(e){return{id:e.id,value:e.value}})),O(n,r,o,l,c,d,p,h,f,_,v,e)}},S=function(){s&&w(n,r,o,_,s,c,h),v.reject("STOCK_PURCHASE_CANCELLED")},L=function(e){var t=50;return e.length>t?e.substring(0,t-3)+"...":e};if(T(n,o,_,"user quota;"+s),"possible"===s||"overage"===s){var A=n.name||h.title,C=t.instant(d?"DL_STOCK_LICENSE_SAVE_TITLE_MSG":"DL_STOCK_LICENSE_TITLE_MSG"),x=C+' "'+A;return y.unshift({text:L(x)+'"<br><br>'}),void m(n,void 0,y,b,S,a)}if("not_possible"===s){if(y)return void m(n,void 0,y,b,S);if(g)return u.launchLicenseURL(g),T(n,o,_,"stock site;purchase"),void v.reject("STOCK_PURCHASE_ON_WEBSITE")}m(n,"DL_STOCK_PURCHASE_ERROR_TITLE",E(n)),v.reject("STOCK_PURCHASE_ERROR")},function(e){b(n,e),v.reject("STOCK_PURCHASE_ERROR")}),v.promise):(D(h,!0,y,C),v.promise)};this.showImageLicenseTypeChooser=R,this.showVideoTypeChooser=D,this.doLicense=I}];t.attach=function(e){i.module(e).service("adobeStockLicenseUtils",r)}}),define("services/utils/adobeStockRendererUtils",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$translate","adobeStockUtils","digestUtils","designLibraryManager","designLibraryElements",function(e,t,n,i,r){this.bindStockInfoToScope=function(o){function a(){o.tooltip&&(o.tooltip.isStockAsset=t.isStockAsset(o.component),o.tooltip.isStockAsset&&(o.tooltip.isLicensed=t.isLicensed(o.component)))}function s(){void 0===o.downloadProgress?o.downloadTooltip=e.instant("DL_LINK_DOWNLOAD_TOOLTIP"):o.downloadProgress===-1?o.downloadTooltip=e.instant("DL_LINK_DOWNLOAD_FAIL_TOOLTIP"):o.downloadTooltip=e.instant("DL_LINK_DOWNLOAD_PROGRESS_TOOLTIP",{percent:o.downloadProgress}),a()}function l(){var e=o.downloadProgress;o.downloadProgress=r.getElementDownloadProgress(o.component);var t=o.downloadPending;o.downloadPending=r.isElementDownloadPending(o.component),o.downloadPending===t&&o.downloadProgress===e||(s(),n.triggerDigest())}return o.downloadPending=!1,i.addScopedListener(o,"libraryStatus",l),function(){l(),s()}}}];t.attach=function(e){i.module(e).service("adobeStockRendererUtils",r)}}),define("services/utils/adobeStockUpdateUtils",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$q","configuration","designLibraryManager","adobeStockUtils","designLibraryElements",function(e,t,n,i,r){function o(e){if(!e)return!1;var t=["purchase_details","thumbnail"];return t.every(function(t){return e[t]&&e[t].url&&e[t].content_type})}function a(e,t){return""!==e&&""!==t}function s(n,s,l,c){if(!o(c))return e.reject("Invalid data from license API: "+JSON.stringify(c));var u=c.purchase_details,d=i.canSaveComp(null,n)&&c.comp,p=c.thumbnail,h=i.getStockSearchQuery(n),f=i.getStockMethod(n),g=i.getStockPremiumLevel(n),m={content_id:s,license:u.license,state:t.STOCK_STATE_PURCHASED,method:f,premiumLevel:g};l&&(m.stock_id=l.toString()),n.beginOperation();var v=[],_=function(e){e.setValue(t.STOCK_NAMESPACE,t.STOCK_DATA_KEY,m),h&&i.setStockSearchQuery(e,h),n.type===t.VIDEO_ELEMENT_TYPE&&(u.framerate||u.duration)&&e.setValue("video","data",{framerate:u.framerate,duration:u.duration}),u["3d_metadata"]&&e.setValue("3d","data",u["3d_metadata"]);var r=e.setContentFromURL(!0,u.url,{}).then(function(){u.width&&(e.width=u.width),u.height&&(e.height=u.height),e.isFullSize=!0,u.content_length&&(e.contentLength=u.content_length)});v.push(r)},y=n.getPrimaryRepresentation(),E=d&&d.url;if(y&&y.isExternalLink&&a(y.getContentURL(),E))y.relationship="rendition",_(n.createRepresentation(u.content_type,"primary",0,!0));else{n.removeAllRepresentations();var b=n.createRepresentation(u.content_type,"primary");if(_(b),d){var T=n.createRepresentation(d.content_type,"rendition");T.setValue(t.STOCK_NAMESPACE,t.STOCK_DATA_KEY,{content_id:s,state:t.STOCK_STATE_NOT_PURCHASED,method:f}),n.type===t.VIDEO_ELEMENT_TYPE&&(d.framerate||d.duration)&&T.setValue("video","data",{framerate:d.framerate,duration:d.duration});var S=T.setContentFromURL(!0,d.url,{}).then(function(){d.width&&(T.width=d.width),d.height&&(T.height=d.height),d.content_length&&(T.contentLength=d.content_length)});v.push(S)}var L=n.createRepresentation(p.content_type,"rendition"),A=L.setContentFromURL(!1,p.url,{}).then(function(){return p.width&&(L.width=p.width),p.height&&(L.height=p.height),L.getContentPath().then(function(e){e&&n.setThumbnailCache(r.getRenditionSize(n),e)})});v.push(A)}var C=function(){return n.endOperation()};return e.all(v).then(C,C)}this.updateLicenses=function(t){var r=[],o=String(t.contentId),a=t.stockId,l=t.imageContents,c=n.getLibraries();return c&&c.forEach(function(e){e.isWritable&&e.elements.forEach(function(e){if(i.getStockId(e)===o&&!i.isLicensed(e)){var t=s(e,o,a,l);r.push(t)}})}),e.all(r)}}];t.attach=function(e){i.module(e).service("adobeStockUpdateUtils",r)}}),define("services/utils/adobeStockUtils",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["configuration",function(e){var t=function(t){return t&&t.getValue(e.STOCK_NAMESPACE,e.STOCK_DATA_KEY)};this.getStockData=t,this.setStockData=function(t,n){t.setValue(e.STOCK_NAMESPACE,e.STOCK_DATA_KEY,n)};var n=function(e,i){var r=void 0===i?e.getPrimaryRepresentation():e.representations[i],o=t(r);if(o&&r.isExternalLink&&r.getCachedExternalLinkError()&&""!==r.getContentURL()){var a=n(e,void 0===i?0:i+1);o=a?a:{content_id:o.content_id,stock_id:o.stock_id,state:"not_purchased",method:o.method,premiumLevel:o.premiumLevel}}return o};this.getStockDataForElement=n,this.isStockAsset=function(e){var t=""!==this.getLocalizationSuffix(e),n=void 0!==this.getStockDataForElement(e);return t&&n},this.isLicensed=function(t){var i=n(t);return!(!i||i.state!==e.STOCK_STATE_PURCHASED)},this.getStockId=function(e){var t=this.getStockDataForElement(e);return t?String(t.content_id):null},this.getStockMethod=function(e){var t=this.getStockDataForElement(e);return t?String(t.method):null},this.getStockPremiumLevel=function(e){var t=this.getStockDataForElement(e);return t?t.premiumLevel:null},this.getStockSearchQuery=function(e){var t;return e.representations.some(function(e){return t=e.getValue("stock","query")}),t},this.setStockSearchQuery=function(e,t){e&&e.setValue("stock","query",t)},this.getLocalizationSuffix=function(t){if(t){if(t.type===e.IMAGE_ELEMENT_TYPE)return"_PHOTO";if(t.type===e.VIDEO_ELEMENT_TYPE)return"_VIDEO";if(t.type===e.TEMPLATE_ELEMENT_TYPE)return"_TEMPLATE";if(t.type===e.THREE_D_ELEMENT_TYPE||t.type===e.LIGHT_ELEMENT_TYPE||t.type===e.MATERIAL_ELEMENT_TYPE)return"_THREE_D"}return""},this.getLicenseType=function(t){if(t){if(t.type===e.IMAGE_ELEMENT_TYPE)return"Standard";if(t.type===e.VIDEO_ELEMENT_TYPE)return"Video_Original";if(t.type===e.TEMPLATE_ELEMENT_TYPE)return"Standard"}return"Standard"},this.getStockEditError=function(t){var n=t.getPrimaryRepresentation(),i=n&&this.getStockData(n),r=i&&i.state===e.STOCK_STATE_PURCHASED;if(r&&n.isExternalLink&&n.getCachedExternalLinkError())return"DL_STOCK_LICENSE_TO_EDIT"+this.getLocalizationSuffix(t)},this.getStockTemplateUseError=function(t){if(t.type===e.TEMPLATE_ELEMENT_TYPE){var n=t.getPrimaryRepresentation(),i=n&&this.getStockData(n),r=i&&i.state===e.STOCK_STATE_PURCHASED;if(r&&n.isExternalLink&&n.getCachedExternalLinkError())return"DL_STOCK_LICENSE_TO_USE_TEMPLATE"}},this.getLicenseTypesFromSearchResult=function(t){var n,i,r=[];return 4===t.media_type_id?(n=e.STOCK_VIDEO_LICENSE_TYPES,i=t.comps):(n=e.STOCK_IMAGE_LICENSE_TYPES,i=t.licenses),i&&n.forEach(function(e){if(i[e.field]){var t=i[e.field];r.push({field:e.field,label:e.label,resolution:t.width+" x "+t.height})}}),r},this.getCompSizeFromSearchResult=function(e){var t=300,n=72,i=e.comp_height,r=e.comp_width;if(3===e.media_type_id||4===e.media_type_id)return{width:r,height:i};var o=e.width,a=r/o,s=t*a,l=n/s;return{width:r*l,height:i*l}},this.isFreeAsset=function(t){return t.premium_level_id===e.STOCK_FREE_CONTENT_LEVEL_ID},this.isPremiumAsset=function(t){return e.STOCK_PREMIUM_CONTENT_LEVEL_IDS.indexOf(t.premium_level_id)>-1},this.canSaveComp=function(t,n){return t?7!==t.media_type_id&&6!==t.media_type_id&&!this.isFreeAsset(t)&&t.comps&&0!==t.comps.length:!!n&&(n.type!==e.TEMPLATE_ELEMENT_TYPE&&n.type!==e.THREE_D_ELEMENT_TYPE&&n.type!==e.LIGHT_ELEMENT_TYPE&&n.type!==e.MATERIAL_ELEMENT_TYPE)},this.getSearchUIOptions=function(){return e.currentProduct.config.STOCK_SEARCH_UI_OPTIONS||e.STOCK_SEARCH_UI_OPTIONS}}];t.attach=function(e){i.module(e).service("adobeStockUtils",r)}}),define("services/utils/apiHttpInterceptor",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$q",function(t){return{request:function(t){var n=!!e.toUrl;return window.noFileSystemAccess?t.url="http://localhost:3001/js/"+t.url:t.url.indexOf(".tmpl.html")===t.url.length-10&&n&&(t.url="js/"+t.url+"?cachebuster="+Math.random()),t},responseError:function(e){return t.reject(e)}}}];t.attach=function(e){i.module(e).config(["$httpProvider",function(e){e.interceptors.push(r)}])}}),define("services/utils/colorUtils",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["configuration",function(e){this.serviceName="colorUtils",this.rgbToHexNumber=function(e){return e.red<<16|e.green<<8|e.blue},this.rgbToHex=function(e){var t=this.rgbToHexNumber(e),n="000000"+t.toString(16);return"#"+n.substr(n.length-6)},this.hexToRGB=function(e){return e="#"===e.charAt(0)?e.substring(1):e,{red:parseInt(e.substring(0,2),16),green:parseInt(e.substring(2,4),16),blue:parseInt(e.substring(4,6),16)}},this.getBrightness=function(e){return(e.red+e.green+e.blue)/3},this.getBorder=function(e){var t=this.getBrightness(e);return t>225?"1px solid black":"none"},this.colorDataToRGB=function(e){if(Array.isArray(e)&&(e=this.getRGBRepresentation(e)),e&&e.value){var t=Math.round(e.value.r),n=Math.round(e.value.g),i=Math.round(e.value.b);return{red:t,green:n,blue:i}}},this.colorDataToHexValue=function(e){var t=this.colorDataToRGB(e);return t?this.rgbToHex(t):""},this.colorDataToHexNumber=function(e){var t=this.colorDataToRGB(e);if(t)return this.rgbToHexNumber(t)},this.colorDataToRGBA=function(e,t){var n=this.colorDataToRGB(e);return"rgba("+n.red+","+n.green+","+n.blue+","+t+")"},this.getStringColorValue=function(e){var t;return e&&("CMYK"===e.mode?t="C"+Math.round(e.value.c)+" M"+Math.round(e.value.m)+" Y"+Math.round(e.value.y)+" K"+Math.round(e.value.k):"RGB"===e.mode?t="R"+Math.round(e.value.r)+" G"+Math.round(e.value.g)+" B"+Math.round(e.value.b):"Lab"===e.mode?t="L"+Math.round(e.value.l)+" A"+Math.round(e.value.a)+" B"+Math.round(e.value.b):"HSB"===e.mode?t="H"+Math.round(e.value.h)+" S"+Math.round(e.value.s)+" B"+Math.round(e.value.b):"Gray"===e.mode&&(t="G"+Math.round(e.value))),t},this.getRGBRepresentation=function(e){var t=e.filter(function(e){return"RGB"===e.mode});if(t.length>0)return t[0]}}];t.attach=function(e){i.module(e).service("colorUtils",r)}}),define("services/utils/debugLog",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$window","csInterface","configuration","localSettings","fileUtils",function(e,t,n,r,o){function a(e){u.stat(m,function(t,n){return!t&&n.size>c?void u.rename(m,v,e):void e(null)})}function s(){o.ensurePathExists(d,function(e){return e?(f=void 0,void console.info(e)):void a(function(e){if(e)return f=void 0,void console.info(e);var t=f;f=void 0,y=!0,u.appendFile(m,t,function(e){e&&console.info(e),y=!1,f&&s()})})})}var l,c=5242880,u=nodeRequire("fs");u&&(l=process.env);var d;if(t.isWindowsOS()){var p=l&&l.TEMP.replace(/\\/g,"/");d=p+"/CreativeCloud/Creative Cloud Libraries"}else d=l&&l.HOME+"/Library/Logs/CreativeCloud/Creative Cloud Libraries";var h;h=t.isLibrariesPanel()?"CC Library Panel "+t.getAppName()+" "+t.getAppVersion():"Purchase Extension "+t.getAppName()+" "+t.getAppVersion();var f,g=".log",m=d+"/"+h+g,v=d+"/"+h+" (prev)"+g,_=d+"/"+h+" (jsx)"+g,y=!1;this.init=function(){if(t.exec("CORE","setLogPath",[_]),t.exec("CORE","writeToLog",["","--- Starting new session ---"]),i.BUILT&&!window.logOverride){var e=this;console.log=function(t){var n=Array.prototype.slice.call(arguments).map(function(e){if(null!==e&&"object"==typeof e)try{e=JSON.stringify(e)}catch(e){}return e}).join(" ");e.log(n)}}},this.log=function(e){if(!u)return i.BUILT?void console.info(e):void console.log(e);if(window.logOverride)return void window.logOverride(e);var t=(new Date).toString()+" "+e+"\n";f?f+=t:(f=t,y||s())},this.showLogFile=function(n){var i=t.isWindowsOS()?"start":"/usr/bin/open";e.cep.process.createProcess(i,n?_:m)},this.getLogFolder=function(){return d}}];t.attach=function(e){i.module(e).service("debugLog",r)}}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("jszip",[],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.JSZip=e()}}(function(){return function e(t,n,i){function r(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){var n=t[a][1][e];return r(n?n:e)},u,u.exports,e,t,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(e,t,n){"use strict";var i=e("./utils"),r=e("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(e){for(var t,n,r,a,s,l,c,u=[],d=0,p=e.length,h=p,f="string"!==i.getTypeOf(e);d<e.length;)h=p-d,f?(t=e[d++],n=d<p?e[d++]:0,r=d<p?e[d++]:0):(t=e.charCodeAt(d++),n=d<p?e.charCodeAt(d++):0,r=d<p?e.charCodeAt(d++):0),a=t>>2,s=(3&t)<<4|n>>4,l=h>1?(15&n)<<2|r>>6:64,c=h>2?63&r:64,u.push(o.charAt(a)+o.charAt(s)+o.charAt(l)+o.charAt(c));return u.join("")},n.decode=function(e){var t,n,i,a,s,l,c,u=0,d=0,p="data:";if(e.substr(0,p.length)===p)throw new Error("Invalid base64 input, it looks like a data url.");e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");var h=3*e.length/4;if(e.charAt(e.length-1)===o.charAt(64)&&h--,e.charAt(e.length-2)===o.charAt(64)&&h--,h%1!==0)throw new Error("Invalid base64 input, bad content length.");var f;for(f=r.uint8array?new Uint8Array(0|h):new Array(0|h);u<e.length;)a=o.indexOf(e.charAt(u++)),s=o.indexOf(e.charAt(u++)),l=o.indexOf(e.charAt(u++)),c=o.indexOf(e.charAt(u++)),t=a<<2|s>>4,n=(15&s)<<4|l>>2,i=(3&l)<<6|c,f[d++]=t,64!==l&&(f[d++]=n),64!==c&&(f[d++]=i);return f}},{"./support":30,"./utils":32}],2:[function(e,t,n){"use strict";function i(e,t,n,i,r){this.compressedSize=e,this.uncompressedSize=t,this.crc32=n,this.compression=i,this.compressedContent=r}var r=e("./external"),o=e("./stream/DataWorker"),a=e("./stream/DataLengthProbe"),s=e("./stream/Crc32Probe"),a=e("./stream/DataLengthProbe");i.prototype={getContentWorker:function(){var e=new o(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")),t=this;return e.on("end",function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),e},getCompressedWorker:function(){return new o(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},i.createWorkerFrom=function(e,t,n){return e.pipe(new s).pipe(new a("uncompressedSize")).pipe(t.compressWorker(n)).pipe(new a("compressedSize")).withStreamInfo("compression",t)},t.exports=i},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,n){"use strict";var i=e("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(e){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},n.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,n){"use strict";function i(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}function r(e,t,n,i){var r=s,o=i+n;e^=-1;for(var a=i;a<o;a++)e=e>>>8^r[255&(e^t[a])];return e^-1}function o(e,t,n,i){var r=s,o=i+n;e^=-1;for(var a=i;a<o;a++)e=e>>>8^r[255&(e^t.charCodeAt(a))];return e^-1}var a=e("./utils"),s=i();t.exports=function(e,t){if("undefined"==typeof e||!e.length)return 0;var n="string"!==a.getTypeOf(e);return n?r(0|t,e,e.length,0):o(0|t,e,e.length,0)}},{"./utils":32}],5:[function(e,t,n){"use strict";n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(e,t,n){"use strict";var i=null;i="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:i}},{lie:58}],7:[function(e,t,n){"use strict";function i(e,t){s.call(this,"FlateWorker/"+e),this._pako=new o[e]({raw:!0,level:t.level||-1}),this.meta={};var n=this;this._pako.onData=function(e){n.push({data:e,meta:n.meta})}}var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,o=e("pako"),a=e("./utils"),s=e("./stream/GenericWorker"),l=r?"uint8array":"array";n.magic="\b\0",a.inherits(i,s),i.prototype.processChunk=function(e){this.meta=e.meta,this._pako.push(a.transformTo(l,e.data),!1)},i.prototype.flush=function(){s.prototype.flush.call(this),this._pako.push([],!0)},i.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this._pako=null},n.compressWorker=function(e){return new i("Deflate",e)},n.uncompressWorker=function(){return new i("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:59}],8:[function(e,t,n){"use strict";function i(e,t,n,i){o.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=n,this.encodeFileName=i,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}var r=e("../utils"),o=e("../stream/GenericWorker"),a=e("../utf8"),s=e("../crc32"),l=e("../signature"),c=function(e,t){var n,i="";for(n=0;n<t;n++)i+=String.fromCharCode(255&e),e>>>=8;return i},u=function(e,t){var n=e;return e||(n=t?16893:33204),(65535&n)<<16},d=function(e,t){return 63&(e||0)},p=function(e,t,n,i,o,p){var h,f,g=e.file,m=e.compression,v=p!==a.utf8encode,_=r.transformTo("string",p(g.name)),y=r.transformTo("string",a.utf8encode(g.name)),E=g.comment,b=r.transformTo("string",p(E)),T=r.transformTo("string",a.utf8encode(E)),S=y.length!==g.name.length,L=T.length!==E.length,A="",C="",w="",x=g.dir,O=g.date,D={crc32:0,compressedSize:0,uncompressedSize:0};t&&!n||(D.crc32=e.crc32,D.compressedSize=e.compressedSize,D.uncompressedSize=e.uncompressedSize);var R=0;t&&(R|=8),v||!S&&!L||(R|=2048);var I=0,P=0;x&&(I|=16),"UNIX"===o?(P=798,I|=u(g.unixPermissions,x)):(P=20,I|=d(g.dosPermissions,x)),h=O.getUTCHours(),h<<=6,h|=O.getUTCMinutes(),h<<=5,h|=O.getUTCSeconds()/2,f=O.getUTCFullYear()-1980,f<<=4,f|=O.getUTCMonth()+1,f<<=5,f|=O.getUTCDate(),S&&(C=c(1,1)+c(s(_),4)+y,A+="up"+c(C.length,2)+C),L&&(w=c(1,1)+c(s(b),4)+T,A+="uc"+c(w.length,2)+w);var N="";N+="\n\0",N+=c(R,2),N+=m.magic,N+=c(h,2),N+=c(f,2),N+=c(D.crc32,4),N+=c(D.compressedSize,4),N+=c(D.uncompressedSize,4),N+=c(_.length,2),N+=c(A.length,2);var M=l.LOCAL_FILE_HEADER+N+_+A,k=l.CENTRAL_FILE_HEADER+c(P,2)+N+c(b.length,2)+"\0\0\0\0"+c(I,4)+c(i,4)+_+A+b;return{fileRecord:M,dirRecord:k}},h=function(e,t,n,i,o){var a="",s=r.transformTo("string",o(i));return a=l.CENTRAL_DIRECTORY_END+"\0\0\0\0"+c(e,2)+c(e,2)+c(t,4)+c(n,4)+c(s.length,2)+s},f=function(e){var t="";return t=l.DATA_DESCRIPTOR+c(e.crc32,4)+c(e.compressedSize,4)+c(e.uncompressedSize,4)};r.inherits(i,o),i.prototype.push=function(e){var t=e.meta.percent||0,n=this.entriesCount,i=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,o.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:n?(t+100*(n-i-1))/n:100}}))},i.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var n=p(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},i.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,n=p(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),t)this.push({data:f(e),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},i.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var n=this.bytesWritten-e,i=h(this.dirRecords.length,n,e,this.zipComment,this.encodeFileName);this.push({data:i,meta:{percent:100}})},i.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},i.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()}),e.on("error",function(e){t.error(e)}),this},i.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},i.prototype.error=function(e){var t=this._sources;if(!o.prototype.error.call(this,e))return!1;for(var n=0;n<t.length;n++)try{t[n].error(e)}catch(e){}return!0},i.prototype.lock=function(){o.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=i},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,n){"use strict";var i=e("../compressions"),r=e("./ZipFileWorker"),o=function(e,t){var n=e||t,r=i[n];if(!r)throw new Error(n+" is not a valid compression method !");return r};n.generateWorker=function(e,t,n){var i=new r(t.streamFiles,n,t.platform,t.encodeFileName),a=0;try{e.forEach(function(e,n){a++;var r=o(n.options.compression,t.compression),s=n.options.compressionOptions||t.compressionOptions||{},l=n.dir,c=n.date;n._compressWorker(r,s).withStreamInfo("file",{name:e,dir:l,date:c,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(i)}),i.entriesCount=a}catch(e){i.error(e)}return i}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,n){"use strict";function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var e=new i;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}i.prototype=e("./object"),i.prototype.loadAsync=e("./load"),i.support=e("./support"),i.defaults=e("./defaults"),i.version="3.1.3",i.loadAsync=function(e,t){return(new i).loadAsync(e,t)},i.external=e("./external"),t.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,n){"use strict";function i(e){return new o.Promise(function(t,n){var i=e.decompressed.getContentWorker().pipe(new l);i.on("error",function(e){n(e)}).on("end",function(){i.streamInfo.crc32!==e.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):t()}).resume()})}var r=e("./utils"),o=e("./external"),a=e("./utf8"),r=e("./utils"),s=e("./zipEntries"),l=e("./stream/Crc32Probe"),c=e("./nodejsUtils");t.exports=function(e,t){var n=this;return t=r.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),c.isNode&&c.isStream(e)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then(function(e){var n=new s(t);return n.load(e),n}).then(function(e){var n=[o.Promise.resolve(e)],r=e.files;if(t.checkCRC32)for(var a=0;a<r.length;a++)n.push(i(r[a]));return o.Promise.all(n)}).then(function(e){for(var i=e.shift(),r=i.files,o=0;o<r.length;o++){var a=r[o];n.file(a.fileNameStr,a.decompressed,{binary:!0,optimizedBinaryString:!0,date:a.date,dir:a.dir,comment:a.fileCommentStr.length?a.fileCommentStr:null,unixPermissions:a.unixPermissions,dosPermissions:a.dosPermissions,createFolders:t.createFolders})}return i.zipComment.length&&(n.comment=i.zipComment),n})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,n){"use strict";function i(e,t){o.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}var r=e("../utils"),o=e("../stream/GenericWorker");r.inherits(i,o),i.prototype._bindStream=function(e){var t=this;this._stream=e,e.pause(),e.on("data",function(e){t.push({data:e,meta:{percent:0}})}).on("error",function(e){t.isPaused?this.generatedError=e:t.error(e)}).on("end",function(){t.isPaused?t._upstreamEnded=!0:t.end()})},i.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},i.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=i},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,n){"use strict";function i(e,t,n){r.call(this,t),this._helper=e;var i=this;e.on("data",function(e,t){i.push(e)||i._helper.pause(),n&&n(t)}).on("error",function(e){i.emit("error",e)}).on("end",function(){i.push(null)})}var r=e("readable-stream").Readable,o=e("util");o.inherits(i,r),i.prototype._read=function(){this._helper.resume()},t.exports=i},{"readable-stream":16,util:void 0}],14:[function(e,t,n){"use strict";t.exports={isNode:"undefined"!=typeof Buffer,newBuffer:function(e,t){return new Buffer(e,t)},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,n){"use strict";function i(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var r=e("./utf8"),o=e("./utils"),a=e("./stream/GenericWorker"),s=e("./stream/StreamHelper"),l=e("./defaults"),c=e("./compressedObject"),u=e("./zipObject"),d=e("./generate"),p=e("./nodejsUtils"),h=e("./nodejs/NodejsStreamInputAdapter"),f=function(e,t,n){var i,r=o.getTypeOf(t),s=o.extend(n||{},l);s.date=s.date||new Date,null!==s.compression&&(s.compression=s.compression.toUpperCase()),"string"==typeof s.unixPermissions&&(s.unixPermissions=parseInt(s.unixPermissions,8)),s.unixPermissions&&16384&s.unixPermissions&&(s.dir=!0),s.dosPermissions&&16&s.dosPermissions&&(s.dir=!0),s.dir&&(e=m(e)),s.createFolders&&(i=g(e))&&v.call(this,i,!0);var d="string"===r&&s.binary===!1&&s.base64===!1;n&&"undefined"!=typeof n.binary||(s.binary=!d);var f=t instanceof c&&0===t.uncompressedSize;(f||s.dir||!t||0===t.length)&&(s.base64=!1,s.binary=!0,t="",s.compression="STORE",r="string");var _=null;_=t instanceof c||t instanceof a?t:p.isNode&&p.isStream(t)?new h(e,t):o.prepareContent(e,t,s.binary,s.optimizedBinaryString,s.base64);var y=new u(e,_,s);this.files[e]=y},g=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return t>0?e.substring(0,t):""},m=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},v=function(e,t){return t="undefined"!=typeof t?t:l.createFolders,e=m(e),this.files[e]||f.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]},_={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,n,i;for(t in this.files)this.files.hasOwnProperty(t)&&(i=this.files[t],n=t.slice(this.root.length,t.length),n&&t.slice(0,this.root.length)===this.root&&e(n,i))},filter:function(e){var t=[];return this.forEach(function(n,i){e(n,i)&&t.push(i)}),t},file:function(e,t,n){if(1===arguments.length){if(i(e)){var r=e;return this.filter(function(e,t){return!t.dir&&r.test(e)})}var o=this.files[this.root+e];return o&&!o.dir?o:null}return e=this.root+e,f.call(this,e,t,n),this},folder:function(e){if(!e)return this;if(i(e))return this.filter(function(t,n){return n.dir&&e.test(t)});var t=this.root+e,n=v.call(this,t),r=this.clone();return r.root=n.name,r},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter(function(t,n){return n.name.slice(0,e.length)===e}),i=0;i<n.length;i++)delete this.files[n[i].name];return this},generate:function(e){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,n={};try{if(n=o.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:r.utf8encode}),n.type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");o.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var i=n.comment||this.comment||"";t=d.generateWorker(this,n,i)}catch(e){t=new a("error"),t.error(e)}return new s(t,n.type||"string",n.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return e=e||{},e.type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=_},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,n){t.exports=e("stream")},{stream:void 0}],17:[function(e,t,n){"use strict";function i(e){r.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}var r=e("./DataReader"),o=e("../utils");o.inherits(i,r),i.prototype.byteAt=function(e){return this.data[this.zero+e]},i.prototype.lastIndexOfSignature=function(e){
for(var t=e.charCodeAt(0),n=e.charCodeAt(1),i=e.charCodeAt(2),r=e.charCodeAt(3),o=this.length-4;o>=0;--o)if(this.data[o]===t&&this.data[o+1]===n&&this.data[o+2]===i&&this.data[o+3]===r)return o-this.zero;return-1},i.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),i=e.charCodeAt(2),r=e.charCodeAt(3),o=this.readData(4);return t===o[0]&&n===o[1]&&i===o[2]&&r===o[3]},i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],18:[function(e,t,n){"use strict";function i(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}var r=e("../utils");i.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return r.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readAndCheckSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC((e>>25&127)+1980,(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=i},{"../utils":32}],19:[function(e,t,n){"use strict";function i(e){r.call(this,e)}var r=e("./Uint8ArrayReader"),o=e("../utils");o.inherits(i,r),i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,n){"use strict";function i(e){r.call(this,e)}var r=e("./DataReader"),o=e("../utils");o.inherits(i,r),i.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},i.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},i.prototype.readAndCheckSignature=function(e){var t=this.readData(4);return e===t},i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],21:[function(e,t,n){"use strict";function i(e){r.call(this,e)}var r=e("./ArrayReader"),o=e("../utils");o.inherits(i,r),i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,n){"use strict";var i=e("../utils"),r=e("../support"),o=e("./ArrayReader"),a=e("./StringReader"),s=e("./NodeBufferReader"),l=e("./Uint8ArrayReader");t.exports=function(e){var t=i.getTypeOf(e);return i.checkSupport(t),"string"!==t||r.uint8array?"nodebuffer"===t?new s(e):r.uint8array?new l(i.transformTo("uint8array",e)):new o(i.transformTo("array",e)):new a(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,n){"use strict";n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\b"},{}],24:[function(e,t,n){"use strict";function i(e){r.call(this,"ConvertWorker to "+e),this.destType=e}var r=e("./GenericWorker"),o=e("../utils");o.inherits(i,r),i.prototype.processChunk=function(e){this.push({data:o.transformTo(this.destType,e.data),meta:e.meta})},t.exports=i},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,n){"use strict";function i(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}var r=e("./GenericWorker"),o=e("../crc32"),a=e("../utils");a.inherits(i,r),i.prototype.processChunk=function(e){this.streamInfo.crc32=o(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=i},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,n){"use strict";function i(e){o.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}var r=e("../utils"),o=e("./GenericWorker");r.inherits(i,o),i.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}o.prototype.processChunk.call(this,e)},t.exports=i},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,n){"use strict";function i(e){o.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then(function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=r.getTypeOf(e),t.isPaused||t._tickAndRepeat()},function(e){t.error(e)})}var r=e("../utils"),o=e("./GenericWorker"),a=16384;r.inherits(i,o),i.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},i.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},i.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},i.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=a,t=null,n=Math.min(this.max,this.index+e);if(this.index>=this.max)return this.end();switch(this.type){case"string":t=this.data.substring(this.index,n);break;case"uint8array":t=this.data.subarray(this.index,n);break;case"array":case"nodebuffer":t=this.data.slice(this.index,n)}return this.index=n,this.push({data:t,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=i},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,n){"use strict";function i(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.end()}),e.on("error",function(e){t.error(e)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var e=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=i},{}],29:[function(e,t,n){"use strict";function i(e,t,n,i){var o=null;switch(e){case"blob":return s.newBlob(n,i);case"base64":return o=r(t,n),u.encode(o);default:return o=r(t,n),s.transformTo(e,o)}}function r(e,t){var n,i=0,r=null,o=0;for(n=0;n<t.length;n++)o+=t[n].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(r=new Uint8Array(o),n=0;n<t.length;n++)r.set(t[n],i),i+=t[n].length;return r;case"nodebuffer":return Buffer.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}function o(e,t){return new p.Promise(function(n,r){var o=[],a=e._internalType,s=e._outputType,l=e._mimeType;e.on("data",function(e,n){o.push(e),t&&t(n)}).on("error",function(e){o=[],r(e)}).on("end",function(){try{var e=i(s,a,o,l);n(e)}catch(e){r(e)}o=[]}).resume()})}function a(e,t,n){var i=t;switch(t){case"blob":i="arraybuffer";break;case"arraybuffer":i="uint8array";break;case"base64":i="string"}try{this._internalType=i,this._outputType=t,this._mimeType=n,s.checkSupport(i),this._worker=e.pipe(new l(i)),e.lock()}catch(e){this._worker=new c("error"),this._worker.error(e)}}var s=e("../utils"),l=e("./ConvertWorker"),c=e("./GenericWorker"),u=e("../base64"),d=e("../support"),p=e("../external"),h=null;if(d.nodestream)try{h=e("../nodejs/NodejsStreamOutputAdapter")}catch(e){}a.prototype={accumulate:function(e){return o(this,e)},on:function(e,t){var n=this;return"data"===e?this._worker.on(e,function(e){t.call(n,e.data,e.meta)}):this._worker.on(e,function(){s.delay(t,arguments,n)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(s.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:"nodebuffer"!==this._outputType},e)}},t.exports=a},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,n){"use strict";if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer="undefined"!=typeof Buffer,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var i=new ArrayBuffer(0);try{n.blob=0===new Blob([i],{type:"application/zip"}).size}catch(e){try{var r=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,o=new r;o.append(i),n.blob=0===o.getBlob("application/zip").size}catch(e){n.blob=!1}}}try{n.nodestream=!!e("readable-stream").Readable}catch(e){n.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,n){"use strict";function i(){l.call(this,"utf-8 decode"),this.leftOver=null}function r(){l.call(this,"utf-8 encode")}for(var o=e("./utils"),a=e("./support"),s=e("./nodejsUtils"),l=e("./stream/GenericWorker"),c=new Array(256),u=0;u<256;u++)c[u]=u>=252?6:u>=248?5:u>=240?4:u>=224?3:u>=192?2:1;c[254]=c[254]=1;var d=function(e){var t,n,i,r,o,s=e.length,l=0;for(r=0;r<s;r++)n=e.charCodeAt(r),55296===(64512&n)&&r+1<s&&(i=e.charCodeAt(r+1),56320===(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),r++)),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=a.uint8array?new Uint8Array(l):new Array(l),o=0,r=0;o<l;r++)n=e.charCodeAt(r),55296===(64512&n)&&r+1<s&&(i=e.charCodeAt(r+1),56320===(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),r++)),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,t[o++]=128|63&n):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|63&n):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|63&n);return t},p=function(e,t){var n;for(t=t||e.length,t>e.length&&(t=e.length),n=t-1;n>=0&&128===(192&e[n]);)n--;return n<0?t:0===n?t:n+c[e[n]]>t?n:t},h=function(e){var t,n,i,r,a=e.length,s=new Array(2*a);for(n=0,t=0;t<a;)if(i=e[t++],i<128)s[n++]=i;else if(r=c[i],r>4)s[n++]=65533,t+=r-1;else{for(i&=2===r?31:3===r?15:7;r>1&&t<a;)i=i<<6|63&e[t++],r--;r>1?s[n++]=65533:i<65536?s[n++]=i:(i-=65536,s[n++]=55296|i>>10&1023,s[n++]=56320|1023&i)}return s.length!==n&&(s.subarray?s=s.subarray(0,n):s.length=n),o.applyFromCharCode(s)};n.utf8encode=function(e){return a.nodebuffer?s.newBuffer(e,"utf-8"):d(e)},n.utf8decode=function(e){return a.nodebuffer?o.transformTo("nodebuffer",e).toString("utf-8"):(e=o.transformTo(a.uint8array?"uint8array":"array",e),h(e))},o.inherits(i,l),i.prototype.processChunk=function(e){var t=o.transformTo(a.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var i=t;t=new Uint8Array(i.length+this.leftOver.length),t.set(this.leftOver,0),t.set(i,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var r=p(t),s=t;r!==t.length&&(a.uint8array?(s=t.subarray(0,r),this.leftOver=t.subarray(r,t.length)):(s=t.slice(0,r),this.leftOver=t.slice(r,t.length))),this.push({data:n.utf8decode(s),meta:e.meta})},i.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=i,o.inherits(r,l),r.prototype.processChunk=function(e){this.push({data:n.utf8encode(e.data),meta:e.meta})},n.Utf8EncodeWorker=r},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,n){"use strict";function i(e){var t=null;return t=l.uint8array?new Uint8Array(e.length):new Array(e.length),o(e,t)}function r(e){return e}function o(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}function a(e){var t=65536,i=n.getTypeOf(e),r=!0;if("uint8array"===i?r=h.applyCanBeUsed.uint8array:"nodebuffer"===i&&(r=h.applyCanBeUsed.nodebuffer),r)for(;t>1;)try{return h.stringifyByChunk(e,i,t)}catch(e){t=Math.floor(t/2)}return h.stringifyByChar(e)}function s(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}var l=e("./support"),c=e("./base64"),u=e("./nodejsUtils"),d=e("core-js/library/fn/set-immediate"),p=e("./external");n.newBlob=function(e,t){n.checkSupport("blob");try{return new Blob(e,{type:t})}catch(n){try{for(var i=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,r=new i,o=0;o<e.length;o++)r.append(e[o]);return r.getBlob(t)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(e,t,n){var i=[],r=0,o=e.length;if(o<=n)return String.fromCharCode.apply(null,e);for(;r<o;)"array"===t||"nodebuffer"===t?i.push(String.fromCharCode.apply(null,e.slice(r,Math.min(r+n,o)))):i.push(String.fromCharCode.apply(null,e.subarray(r,Math.min(r+n,o)))),r+=n;return i.join("")},stringifyByChar:function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},applyCanBeUsed:{uint8array:function(){try{return l.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return l.nodebuffer&&1===String.fromCharCode.apply(null,u.newBuffer(1)).length}catch(e){return!1}}()}};n.applyFromCharCode=a;var f={};f.string={string:r,array:function(e){return o(e,new Array(e.length))},arraybuffer:function(e){return f.string.uint8array(e).buffer},uint8array:function(e){return o(e,new Uint8Array(e.length))},nodebuffer:function(e){return o(e,u.newBuffer(e.length))}},f.array={string:a,array:r,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return u.newBuffer(e)}},f.arraybuffer={string:function(e){return a(new Uint8Array(e))},array:function(e){return s(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:r,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return u.newBuffer(new Uint8Array(e))}},f.uint8array={string:a,array:function(e){return s(e,new Array(e.length))},arraybuffer:function(e){var t=new Uint8Array(e.length);return e.length&&t.set(e,0),t.buffer},uint8array:r,nodebuffer:function(e){return u.newBuffer(e)}},f.nodebuffer={string:a,array:function(e){return s(e,new Array(e.length))},arraybuffer:function(e){return f.nodebuffer.uint8array(e).buffer},uint8array:function(e){return s(e,new Uint8Array(e.length))},nodebuffer:r},n.transformTo=function(e,t){if(t||(t=""),!e)return t;n.checkSupport(e);var i=n.getTypeOf(t),r=f[i][e](t);return r},n.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":l.nodebuffer&&u.isBuffer(e)?"nodebuffer":l.uint8array&&e instanceof Uint8Array?"uint8array":l.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(e){var t=l[e.toLowerCase()];if(!t)throw new Error(e+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(e){var t,n,i="";for(n=0;n<(e||"").length;n++)t=e.charCodeAt(n),i+="\\x"+(t<16?"0":"")+t.toString(16).toUpperCase();return i},n.delay=function(e,t,n){d(function(){e.apply(n||null,t||[])})},n.inherits=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n},n.extend=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&"undefined"==typeof n[t]&&(n[t]=arguments[e][t]);return n},n.prepareContent=function(e,t,r,o,a){var s=p.Promise.resolve(t).then(function(e){var t=l.blob&&(e instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e))!==-1);return t&&"undefined"!=typeof FileReader?new p.Promise(function(t,n){var i=new FileReader;i.onload=function(e){t(e.target.result)},i.onerror=function(e){n(e.target.error)},i.readAsArrayBuffer(e)}):e});return s.then(function(t){var s=n.getTypeOf(t);return s?("arraybuffer"===s?t=n.transformTo("uint8array",t):"string"===s&&(a?t=c.decode(t):r&&o!==!0&&(t=i(t))),t):p.Promise.reject(new Error("The data of '"+e+"' is in an unsupported format !"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"core-js/library/fn/set-immediate":36}],33:[function(e,t,n){"use strict";function i(e){this.files=[],this.loadOptions=e}var r=e("./reader/readerFor"),o=e("./utils"),a=e("./signature"),s=e("./zipEntry"),l=(e("./utf8"),e("./support"));i.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug : unexpected signature ("+o.pretty(t)+", expected "+o.pretty(e)+")")}},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);var i=this.reader.readString(4),r=i===t;return this.reader.setIndex(n),r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=l.uint8array?"uint8array":"array",n=o.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,i=this.zip64EndOfCentralSize-44,r=0;r<i;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)e=new s({zip64:this.zip64},this.loadOptions),e.readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(e<0){var t=!this.isSignature(0,a.LOCAL_FILE_HEADER);throw t?new Error("Can't find end of central directory : is this a zip file ? If it is, see http://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip : can't find end of central directory")}this.reader.setIndex(e);var n=e;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,e=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),e<0)throw new Error("Corrupted zip : can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip : can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var i=this.centralDirOffset+this.centralDirSize;this.zip64&&(i+=20,i+=12+this.zip64EndOfCentralSize);var r=n-i;if(r>0)this.isSignature(n,a.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(r<0)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")},prepareReader:function(e){this.reader=r(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=i},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(e,t,n){"use strict";function i(e,t){this.options=e,this.loadOptions=t}var r=e("./reader/readerFor"),o=e("./utils"),a=e("./compressedObject"),s=e("./crc32"),l=e("./utf8"),c=e("./compressions"),u=e("./support"),d=0,p=3,h=function(e){for(var t in c)if(c.hasOwnProperty(t)&&c[t].magic===e)return c[t];return null};i.prototype={isEncrypted:function(){return 1===(1&this.bitFlag)},useUTF8:function(){return 2048===(2048&this.bitFlag)},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(t=h(this.compressionMethod),null===t)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),e===d&&(this.dosPermissions=63&this.externalFileAttributes),e===p&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var t=r(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t,n,i,r=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index<r;)t=e.readInt(2),n=e.readInt(2),i=e.readData(n),this.extraFields[t]={id:t,length:n,value:i}},handleUTF8:function(){var e=u.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=l.utf8decode(this.fileName),this.fileCommentStr=l.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var n=o.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var i=this.findExtraFieldUnicodeComment();if(null!==i)this.fileCommentStr=i;else{var r=o.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(r)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=r(e.value);return 1!==t.readInt(1)?null:s(this.fileName)!==t.readInt(4)?null:l.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=r(e.value);return 1!==t.readInt(1)?null:s(this.fileComment)!==t.readInt(4)?null:l.utf8decode(t.readData(e.length-5))}return null}},t.exports=i},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,n){"use strict";var i=e("./stream/StreamHelper"),r=e("./stream/DataWorker"),o=e("./utf8"),a=e("./compressedObject"),s=e("./stream/GenericWorker"),l=function(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}};l.prototype={internalStream:function(e){var t=e.toLowerCase(),n="string"===t||"text"===t;"binarystring"!==t&&"text"!==t||(t="string");var r=this._decompressWorker(),a=!this._dataBinary;return a&&!n&&(r=r.pipe(new o.Utf8EncodeWorker)),!a&&n&&(r=r.pipe(new o.Utf8DecodeWorker)),new i(r,t,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof a&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new o.Utf8EncodeWorker)),a.createWorkerFrom(n,e,t)},_decompressWorker:function(){return this._data instanceof a?this._data.getContentWorker():this._data instanceof s?this._data:new r(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],u=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<c.length;d++)l.prototype[c[d]]=u;t.exports=l},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,n){e("../modules/web.immediate"),t.exports=e("../modules/_core").setImmediate},{"../modules/_core":40,"../modules/web.immediate":56}],37:[function(e,t,n){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],38:[function(e,t,n){var i=e("./_is-object");t.exports=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e}},{"./_is-object":51}],39:[function(e,t,n){var i={}.toString;t.exports=function(e){return i.call(e).slice(8,-1)}},{}],40:[function(e,t,n){var i=t.exports={version:"2.3.0"};"number"==typeof __e&&(__e=i)},{}],41:[function(e,t,n){var i=e("./_a-function");t.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}}},{"./_a-function":37}],42:[function(e,t,n){t.exports=!e("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":45}],43:[function(e,t,n){var i=e("./_is-object"),r=e("./_global").document,o=i(r)&&i(r.createElement);t.exports=function(e){return o?r.createElement(e):{}}},{"./_global":46,"./_is-object":51}],44:[function(e,t,n){var i=e("./_global"),r=e("./_core"),o=e("./_ctx"),a=e("./_hide"),s="prototype",l=function(e,t,n){var c,u,d,p=e&l.F,h=e&l.G,f=e&l.S,g=e&l.P,m=e&l.B,v=e&l.W,_=h?r:r[t]||(r[t]={}),y=_[s],E=h?i:f?i[t]:(i[t]||{})[s];h&&(n=t);for(c in n)u=!p&&E&&void 0!==E[c],u&&c in _||(d=u?E[c]:n[c],_[c]=h&&"function"!=typeof E[c]?n[c]:m&&u?o(d,i):v&&E[c]==d?function(e){var t=function(t,n,i){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,i)}return e.apply(this,arguments)};return t[s]=e[s],t}(d):g&&"function"==typeof d?o(Function.call,d):d,g&&((_.virtual||(_.virtual={}))[c]=d,e&l.R&&y&&!y[c]&&a(y,c,d)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},{"./_core":40,"./_ctx":41,"./_global":46,"./_hide":47}],45:[function(e,t,n){t.exports=function(e){try{return!!e()}catch(e){return!0}}},{}],46:[function(e,t,n){var i=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},{}],47:[function(e,t,n){var i=e("./_object-dp"),r=e("./_property-desc");t.exports=e("./_descriptors")?function(e,t,n){return i.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},{"./_descriptors":42,"./_object-dp":52,"./_property-desc":53}],48:[function(e,t,n){t.exports=e("./_global").document&&document.documentElement},{"./_global":46}],49:[function(e,t,n){t.exports=!e("./_descriptors")&&!e("./_fails")(function(){return 7!=Object.defineProperty(e("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":42,"./_dom-create":43,"./_fails":45}],50:[function(e,t,n){t.exports=function(e,t,n){var i=void 0===n;switch(t.length){case 0:return i?e():e.call(n);case 1:return i?e(t[0]):e.call(n,t[0]);case 2:return i?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return i?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return i?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},{}],51:[function(e,t,n){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],52:[function(e,t,n){var i=e("./_an-object"),r=e("./_ie8-dom-define"),o=e("./_to-primitive"),a=Object.defineProperty;n.f=e("./_descriptors")?Object.defineProperty:function(e,t,n){if(i(e),t=o(t,!0),i(n),r)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},{"./_an-object":38,"./_descriptors":42,"./_ie8-dom-define":49,"./_to-primitive":55}],53:[function(e,t,n){t.exports=function(e,t){
return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],54:[function(e,t,n){var i,r,o,a=e("./_ctx"),s=e("./_invoke"),l=e("./_html"),c=e("./_dom-create"),u=e("./_global"),d=u.process,p=u.setImmediate,h=u.clearImmediate,f=u.MessageChannel,g=0,m={},v="onreadystatechange",_=function(){var e=+this;if(m.hasOwnProperty(e)){var t=m[e];delete m[e],t()}},y=function(e){_.call(e.data)};p&&h||(p=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return m[++g]=function(){s("function"==typeof e?e:Function(e),t)},i(g),g},h=function(e){delete m[e]},"process"==e("./_cof")(d)?i=function(e){d.nextTick(a(_,e,1))}:f?(r=new f,o=r.port2,r.port1.onmessage=y,i=a(o.postMessage,o,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(i=function(e){u.postMessage(e+"","*")},u.addEventListener("message",y,!1)):i=v in c("script")?function(e){l.appendChild(c("script"))[v]=function(){l.removeChild(this),_.call(e)}}:function(e){setTimeout(a(_,e,1),0)}),t.exports={set:p,clear:h}},{"./_cof":39,"./_ctx":41,"./_dom-create":43,"./_global":46,"./_html":48,"./_invoke":50}],55:[function(e,t,n){var i=e("./_is-object");t.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":51}],56:[function(e,t,n){var i=e("./_export"),r=e("./_task");i(i.G+i.B,{setImmediate:r.set,clearImmediate:r.clear})},{"./_export":44,"./_task":54}],57:[function(e,t,n){(function(e){"use strict";function n(){u=!0;for(var e,t,n=d.length;n;){for(t=d,d=[],e=-1;++e<n;)t[e]();n=d.length}u=!1}function i(e){1!==d.push(e)||u||r()}var r,o=e.MutationObserver||e.WebKitMutationObserver;if(o){var a=0,s=new o(n),l=e.document.createTextNode("");s.observe(l,{characterData:!0}),r=function(){l.data=a=++a%2}}else if(e.setImmediate||"undefined"==typeof e.MessageChannel)r="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){n(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(n,0)};else{var c=new e.MessageChannel;c.port1.onmessage=n,r=function(){c.port2.postMessage(0)}}var u,d=[];t.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],58:[function(e,t,n){"use strict";function i(){}function r(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=_,this.queue=[],this.outcome=void 0,e!==i&&l(this,e)}function o(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function a(e,t,n){f(function(){var i;try{i=t(n)}catch(t){return g.reject(e,t)}i===e?g.reject(e,new TypeError("Cannot resolve promise with itself")):g.resolve(e,i)})}function s(e){var t=e&&e.then;if(e&&"object"==typeof e&&"function"==typeof t)return function(){t.apply(e,arguments)}}function l(e,t){function n(t){o||(o=!0,g.reject(e,t))}function i(t){o||(o=!0,g.resolve(e,t))}function r(){t(i,n)}var o=!1,a=c(r);"error"===a.status&&n(a.value)}function c(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}function u(e){return e instanceof this?e:g.resolve(new this(i),e)}function d(e){var t=new this(i);return g.reject(t,e)}function p(e){function t(e,t){function i(e){a[t]=e,++s!==r||o||(o=!0,g.resolve(c,a))}n.resolve(e).then(i,function(e){o||(o=!0,g.reject(c,e))})}var n=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,o=!1;if(!r)return this.resolve([]);for(var a=new Array(r),s=0,l=-1,c=new this(i);++l<r;)t(e[l],l);return c}function h(e){function t(e){n.resolve(e).then(function(e){o||(o=!0,g.resolve(s,e))},function(e){o||(o=!0,g.reject(s,e))})}var n=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,o=!1;if(!r)return this.resolve([]);for(var a=-1,s=new this(i);++a<r;)t(e[a]);return s}var f=e("immediate"),g={},m=["REJECTED"],v=["FULFILLED"],_=["PENDING"];t.exports=r,r.prototype.catch=function(e){return this.then(null,e)},r.prototype.then=function(e,t){if("function"!=typeof e&&this.state===v||"function"!=typeof t&&this.state===m)return this;var n=new this.constructor(i);if(this.state!==_){var r=this.state===v?e:t;a(n,r,this.outcome)}else this.queue.push(new o(n,e,t));return n},o.prototype.callFulfilled=function(e){g.resolve(this.promise,e)},o.prototype.otherCallFulfilled=function(e){a(this.promise,this.onFulfilled,e)},o.prototype.callRejected=function(e){g.reject(this.promise,e)},o.prototype.otherCallRejected=function(e){a(this.promise,this.onRejected,e)},g.resolve=function(e,t){var n=c(s,t);if("error"===n.status)return g.reject(e,n.value);var i=n.value;if(i)l(e,i);else{e.state=v,e.outcome=t;for(var r=-1,o=e.queue.length;++r<o;)e.queue[r].callFulfilled(t)}return e},g.reject=function(e,t){e.state=m,e.outcome=t;for(var n=-1,i=e.queue.length;++n<i;)e.queue[n].callRejected(t);return e},r.resolve=u,r.reject=d,r.all=p,r.race=h},{immediate:57}],59:[function(e,t,n){"use strict";var i=e("./lib/utils/common").assign,r=e("./lib/deflate"),o=e("./lib/inflate"),a=e("./lib/zlib/constants"),s={};i(s,r,o,a),t.exports=s},{"./lib/deflate":60,"./lib/inflate":61,"./lib/utils/common":62,"./lib/zlib/constants":65}],60:[function(e,t,n){"use strict";function i(e){if(!(this instanceof i))return new i(e);this.options=l.assign({level:_,method:E,chunkSize:16384,windowBits:15,memLevel:8,strategy:y,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var n=s.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==g)throw new Error(u[n]);if(t.header&&s.deflateSetHeader(this.strm,t.header),t.dictionary){var r;if(r="string"==typeof t.dictionary?c.string2buf(t.dictionary):"[object ArrayBuffer]"===p.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,n=s.deflateSetDictionary(this.strm,r),n!==g)throw new Error(u[n]);this._dict_set=!0}}function r(e,t){var n=new i(t);if(n.push(e,!0),n.err)throw n.msg;return n.result}function o(e,t){return t=t||{},t.raw=!0,r(e,t)}function a(e,t){return t=t||{},t.gzip=!0,r(e,t)}var s=e("./zlib/deflate"),l=e("./utils/common"),c=e("./utils/strings"),u=e("./zlib/messages"),d=e("./zlib/zstream"),p=Object.prototype.toString,h=0,f=4,g=0,m=1,v=2,_=-1,y=0,E=8;i.prototype.push=function(e,t){var n,i,r=this.strm,o=this.options.chunkSize;if(this.ended)return!1;i=t===~~t?t:t===!0?f:h,"string"==typeof e?r.input=c.string2buf(e):"[object ArrayBuffer]"===p.call(e)?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;do{if(0===r.avail_out&&(r.output=new l.Buf8(o),r.next_out=0,r.avail_out=o),n=s.deflate(r,i),n!==m&&n!==g)return this.onEnd(n),this.ended=!0,!1;0!==r.avail_out&&(0!==r.avail_in||i!==f&&i!==v)||("string"===this.options.to?this.onData(c.buf2binstring(l.shrinkBuf(r.output,r.next_out))):this.onData(l.shrinkBuf(r.output,r.next_out)))}while((r.avail_in>0||0===r.avail_out)&&n!==m);return i===f?(n=s.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===g):i!==v||(this.onEnd(g),r.avail_out=0,!0)},i.prototype.onData=function(e){this.chunks.push(e)},i.prototype.onEnd=function(e){e===g&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=i,n.deflate=r,n.deflateRaw=o,n.gzip=a},{"./utils/common":62,"./utils/strings":63,"./zlib/deflate":67,"./zlib/messages":72,"./zlib/zstream":74}],61:[function(e,t,n){"use strict";function i(e){if(!(this instanceof i))return new i(e);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0===(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var n=a.inflateInit2(this.strm,t.windowBits);if(n!==c.Z_OK)throw new Error(u[n]);this.header=new p,a.inflateGetHeader(this.strm,this.header)}function r(e,t){var n=new i(t);if(n.push(e,!0),n.err)throw n.msg;return n.result}function o(e,t){return t=t||{},t.raw=!0,r(e,t)}var a=e("./zlib/inflate"),s=e("./utils/common"),l=e("./utils/strings"),c=e("./zlib/constants"),u=e("./zlib/messages"),d=e("./zlib/zstream"),p=e("./zlib/gzheader"),h=Object.prototype.toString;i.prototype.push=function(e,t){var n,i,r,o,u,d,p=this.strm,f=this.options.chunkSize,g=this.options.dictionary,m=!1;if(this.ended)return!1;i=t===~~t?t:t===!0?c.Z_FINISH:c.Z_NO_FLUSH,"string"==typeof e?p.input=l.binstring2buf(e):"[object ArrayBuffer]"===h.call(e)?p.input=new Uint8Array(e):p.input=e,p.next_in=0,p.avail_in=p.input.length;do{if(0===p.avail_out&&(p.output=new s.Buf8(f),p.next_out=0,p.avail_out=f),n=a.inflate(p,c.Z_NO_FLUSH),n===c.Z_NEED_DICT&&g&&(d="string"==typeof g?l.string2buf(g):"[object ArrayBuffer]"===h.call(g)?new Uint8Array(g):g,n=a.inflateSetDictionary(this.strm,d)),n===c.Z_BUF_ERROR&&m===!0&&(n=c.Z_OK,m=!1),n!==c.Z_STREAM_END&&n!==c.Z_OK)return this.onEnd(n),this.ended=!0,!1;p.next_out&&(0!==p.avail_out&&n!==c.Z_STREAM_END&&(0!==p.avail_in||i!==c.Z_FINISH&&i!==c.Z_SYNC_FLUSH)||("string"===this.options.to?(r=l.utf8border(p.output,p.next_out),o=p.next_out-r,u=l.buf2string(p.output,r),p.next_out=o,p.avail_out=f-o,o&&s.arraySet(p.output,p.output,r,o,0),this.onData(u)):this.onData(s.shrinkBuf(p.output,p.next_out)))),0===p.avail_in&&0===p.avail_out&&(m=!0)}while((p.avail_in>0||0===p.avail_out)&&n!==c.Z_STREAM_END);return n===c.Z_STREAM_END&&(i=c.Z_FINISH),i===c.Z_FINISH?(n=a.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===c.Z_OK):i!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),p.avail_out=0,!0)},i.prototype.onData=function(e){this.chunks.push(e)},i.prototype.onEnd=function(e){e===c.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Inflate=i,n.inflate=r,n.inflateRaw=o,n.ungzip=r},{"./utils/common":62,"./utils/strings":63,"./zlib/constants":65,"./zlib/gzheader":68,"./zlib/inflate":70,"./zlib/messages":72,"./zlib/zstream":74}],62:[function(e,t,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var r={arraySet:function(e,t,n,i,r){if(t.subarray&&e.subarray)return void e.set(t.subarray(n,n+i),r);for(var o=0;o<i;o++)e[r+o]=t[n+o]},flattenChunks:function(e){var t,n,i,r,o,a;for(i=0,t=0,n=e.length;t<n;t++)i+=e[t].length;for(a=new Uint8Array(i),r=0,t=0,n=e.length;t<n;t++)o=e[t],a.set(o,r),r+=o.length;return a}},o={arraySet:function(e,t,n,i,r){for(var o=0;o<i;o++)e[r+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,r)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,o))},n.setTyped(i)},{}],63:[function(e,t,n){"use strict";function i(e,t){if(t<65537&&(e.subarray&&a||!e.subarray&&o))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",i=0;i<t;i++)n+=String.fromCharCode(e[i]);return n}var r=e("./common"),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(e){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){a=!1}for(var s=new r.Buf8(256),l=0;l<256;l++)s[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;s[254]=s[254]=1,n.string2buf=function(e){var t,n,i,o,a,s=e.length,l=0;for(o=0;o<s;o++)n=e.charCodeAt(o),55296===(64512&n)&&o+1<s&&(i=e.charCodeAt(o+1),56320===(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),o++)),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(l),a=0,o=0;a<l;o++)n=e.charCodeAt(o),55296===(64512&n)&&o+1<s&&(i=e.charCodeAt(o+1),56320===(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),o++)),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|63&n):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t},n.buf2binstring=function(e){return i(e,e.length)},n.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,i=t.length;n<i;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,r,o,a,l=t||e.length,c=new Array(2*l);for(r=0,n=0;n<l;)if(o=e[n++],o<128)c[r++]=o;else if(a=s[o],a>4)c[r++]=65533,n+=a-1;else{for(o&=2===a?31:3===a?15:7;a>1&&n<l;)o=o<<6|63&e[n++],a--;a>1?c[r++]=65533:o<65536?c[r++]=o:(o-=65536,c[r++]=55296|o>>10&1023,c[r++]=56320|1023&o)}return i(c,r)},n.utf8border=function(e,t){var n;for(t=t||e.length,t>e.length&&(t=e.length),n=t-1;n>=0&&128===(192&e[n]);)n--;return n<0?t:0===n?t:n+s[e[n]]>t?n:t}},{"./common":62}],64:[function(e,t,n){"use strict";function i(e,t,n,i){for(var r=65535&e|0,o=e>>>16&65535|0,a=0;0!==n;){a=n>2e3?2e3:n,n-=a;do r=r+t[i++]|0,o=o+r|0;while(--a);r%=65521,o%=65521}return r|o<<16|0}t.exports=i},{}],65:[function(e,t,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],66:[function(e,t,n){"use strict";function i(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}function r(e,t,n,i){var r=o,a=i+n;e^=-1;for(var s=i;s<a;s++)e=e>>>8^r[255&(e^t[s])];return e^-1}var o=i();t.exports=r},{}],67:[function(e,t,n){"use strict";function i(e,t){return e.msg=N[t],t}function r(e){return(e<<1)-(e>4?9:0)}function o(e){for(var t=e.length;--t>=0;)e[t]=0}function a(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(D.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function s(e,t){R._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,a(e.strm)}function l(e,t){e.pending_buf[e.pending++]=t}function c(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function u(e,t,n,i){var r=e.avail_in;return r>i&&(r=i),0===r?0:(e.avail_in-=r,D.arraySet(t,e.input,e.next_in,r,n),1===e.state.wrap?e.adler=I(e.adler,t,r,n):2===e.state.wrap&&(e.adler=P(e.adler,t,r,n)),e.next_in+=r,e.total_in+=r,r)}function d(e,t){var n,i,r=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-de?e.strstart-(e.w_size-de):0,c=e.window,u=e.w_mask,d=e.prev,p=e.strstart+ue,h=c[o+a-1],f=c[o+a];e.prev_length>=e.good_match&&(r>>=2),s>e.lookahead&&(s=e.lookahead);do if(n=t,c[n+a]===f&&c[n+a-1]===h&&c[n]===c[o]&&c[++n]===c[o+1]){o+=2,n++;do;while(c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&o<p);if(i=ue-(p-o),o=p-ue,i>a){if(e.match_start=t,a=i,i>=s)break;h=c[o+a-1],f=c[o+a]}}while((t=d[t&u])>l&&0!==--r);return a<=e.lookahead?a:e.lookahead}function p(e){var t,n,i,r,o,a=e.w_size;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=a+(a-de)){D.arraySet(e.window,e.window,a,a,0),e.match_start-=a,e.strstart-=a,e.block_start-=a,n=e.hash_size,t=n;do i=e.head[--t],e.head[t]=i>=a?i-a:0;while(--n);n=a,t=n;do i=e.prev[--t],e.prev[t]=i>=a?i-a:0;while(--n);r+=a}if(0===e.strm.avail_in)break;if(n=u(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=ce)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+ce-1])&e.hash_mask,e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<ce)););}while(e.lookahead<de&&0!==e.strm.avail_in)}function h(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(p(e),0===e.lookahead&&t===M)return Ee;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+n;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,s(e,!1),0===e.strm.avail_out))return Ee;if(e.strstart-e.block_start>=e.w_size-de&&(s(e,!1),0===e.strm.avail_out))return Ee}return e.insert=0,t===F?(s(e,!0),0===e.strm.avail_out?Te:Se):e.strstart>e.block_start&&(s(e,!1),0===e.strm.avail_out)?Ee:Ee}function f(e,t){for(var n,i;;){if(e.lookahead<de){if(p(e),e.lookahead<de&&t===M)return Ee;if(0===e.lookahead)break}if(n=0,e.lookahead>=ce&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+ce-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-de&&(e.match_length=d(e,n)),e.match_length>=ce)if(i=R._tr_tally(e,e.strstart-e.match_start,e.match_length-ce),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=ce){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+ce-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(0!==--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else i=R._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(s(e,!1),0===e.strm.avail_out))return Ee}return e.insert=e.strstart<ce-1?e.strstart:ce-1,t===F?(s(e,!0),0===e.strm.avail_out?Te:Se):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?Ee:be}function g(e,t){for(var n,i,r;;){if(e.lookahead<de){if(p(e),e.lookahead<de&&t===M)return Ee;if(0===e.lookahead)break}if(n=0,e.lookahead>=ce&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+ce-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=ce-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-de&&(e.match_length=d(e,n),e.match_length<=5&&(e.strategy===W||e.match_length===ce&&e.strstart-e.match_start>4096)&&(e.match_length=ce-1)),e.prev_length>=ce&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-ce,i=R._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-ce),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=r&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+ce-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(0!==--e.prev_length);if(e.match_available=0,e.match_length=ce-1,e.strstart++,i&&(s(e,!1),0===e.strm.avail_out))return Ee}else if(e.match_available){if(i=R._tr_tally(e,0,e.window[e.strstart-1]),i&&s(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return Ee}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=R._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<ce-1?e.strstart:ce-1,t===F?(s(e,!0),0===e.strm.avail_out?Te:Se):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?Ee:be}function m(e,t){for(var n,i,r,o,a=e.window;;){if(e.lookahead<=ue){if(p(e),e.lookahead<=ue&&t===M)return Ee;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=ce&&e.strstart>0&&(r=e.strstart-1,i=a[r],i===a[++r]&&i===a[++r]&&i===a[++r])){o=e.strstart+ue;do;while(i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&r<o);e.match_length=ue-(o-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=ce?(n=R._tr_tally(e,1,e.match_length-ce),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=R._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(s(e,!1),0===e.strm.avail_out))return Ee}return e.insert=0,t===F?(s(e,!0),0===e.strm.avail_out?Te:Se):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?Ee:be}function v(e,t){for(var n;;){if(0===e.lookahead&&(p(e),0===e.lookahead)){if(t===M)return Ee;break}if(e.match_length=0,n=R._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(s(e,!1),0===e.strm.avail_out))return Ee}return e.insert=0,t===F?(s(e,!0),0===e.strm.avail_out?Te:Se):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?Ee:be}function _(e,t,n,i,r){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=r}function y(e){e.window_size=2*e.w_size,o(e.head),e.max_lazy_match=O[e.level].max_lazy,e.good_match=O[e.level].good_length,e.nice_match=O[e.level].nice_length,e.max_chain_length=O[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=ce-1,e.match_available=0,e.ins_h=0}function E(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new D.Buf16(2*se),this.dyn_dtree=new D.Buf16(2*(2*oe+1)),this.bl_tree=new D.Buf16(2*(2*ae+1)),o(this.dyn_ltree),o(this.dyn_dtree),o(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new D.Buf16(le+1),this.heap=new D.Buf16(2*re+1),o(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new D.Buf16(2*re+1),o(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function b(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=J,t=e.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?he:_e,e.adler=2===t.wrap?0:1,t.last_flush=M,R._tr_init(t),B):i(e,Y)}function T(e){var t=b(e);return t===B&&y(e.state),t}function S(e,t){return e&&e.state?2!==e.state.wrap?Y:(e.state.gzhead=t,B):Y}function L(e,t,n,r,o,a){if(!e)return Y;var s=1;if(t===G&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),o<1||o>Q||n!==Z||r<8||r>15||t<0||t>9||a<0||a>z)return i(e,Y);8===r&&(r=9);var l=new E;return e.state=l,l.strm=e,l.wrap=s,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+ce-1)/ce),l.window=new D.Buf8(2*l.w_size),l.head=new D.Buf16(l.hash_size),l.prev=new D.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new D.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=a,l.method=n,T(e)}function A(e,t){return L(e,t,Z,ee,te,K)}function C(e,t){var n,s,u,d;if(!e||!e.state||t>$||t<0)return e?i(e,Y):Y;if(s=e.state,!e.output||!e.input&&0!==e.avail_in||s.status===ye&&t!==F)return i(e,0===e.avail_out?H:Y);if(s.strm=e,n=s.last_flush,s.last_flush=t,s.status===he)if(2===s.wrap)e.adler=0,l(s,31),l(s,139),l(s,8),s.gzhead?(l(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),l(s,255&s.gzhead.time),l(s,s.gzhead.time>>8&255),l(s,s.gzhead.time>>16&255),l(s,s.gzhead.time>>24&255),l(s,9===s.level?2:s.strategy>=q||s.level<2?4:0),l(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(l(s,255&s.gzhead.extra.length),l(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(e.adler=P(e.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=fe):(l(s,0),l(s,0),l(s,0),l(s,0),l(s,0),l(s,9===s.level?2:s.strategy>=q||s.level<2?4:0),l(s,Le),s.status=_e);else{var p=Z+(s.w_bits-8<<4)<<8,h=-1;h=s.strategy>=q||s.level<2?0:s.level<6?1:6===s.level?2:3,p|=h<<6,0!==s.strstart&&(p|=pe),p+=31-p%31,s.status=_e,c(s,p),0!==s.strstart&&(c(s,e.adler>>>16),c(s,65535&e.adler)),e.adler=1}if(s.status===fe)if(s.gzhead.extra){for(u=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>u&&(e.adler=P(e.adler,s.pending_buf,s.pending-u,u)),a(e),u=s.pending,s.pending!==s.pending_buf_size));)l(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>u&&(e.adler=P(e.adler,s.pending_buf,s.pending-u,u)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=ge)}else s.status=ge;if(s.status===ge)if(s.gzhead.name){u=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>u&&(e.adler=P(e.adler,s.pending_buf,s.pending-u,u)),a(e),u=s.pending,s.pending===s.pending_buf_size)){d=1;break}d=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,l(s,d)}while(0!==d);s.gzhead.hcrc&&s.pending>u&&(e.adler=P(e.adler,s.pending_buf,s.pending-u,u)),0===d&&(s.gzindex=0,s.status=me)}else s.status=me;if(s.status===me)if(s.gzhead.comment){u=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>u&&(e.adler=P(e.adler,s.pending_buf,s.pending-u,u)),a(e),u=s.pending,s.pending===s.pending_buf_size)){d=1;break}d=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,l(s,d)}while(0!==d);s.gzhead.hcrc&&s.pending>u&&(e.adler=P(e.adler,s.pending_buf,s.pending-u,u)),0===d&&(s.status=ve)}else s.status=ve;if(s.status===ve&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&a(e),s.pending+2<=s.pending_buf_size&&(l(s,255&e.adler),l(s,e.adler>>8&255),e.adler=0,s.status=_e)):s.status=_e),0!==s.pending){if(a(e),0===e.avail_out)return s.last_flush=-1,B}else if(0===e.avail_in&&r(t)<=r(n)&&t!==F)return i(e,H);if(s.status===ye&&0!==e.avail_in)return i(e,H);if(0!==e.avail_in||0!==s.lookahead||t!==M&&s.status!==ye){var f=s.strategy===q?v(s,t):s.strategy===X?m(s,t):O[s.level].func(s,t);if(f!==Te&&f!==Se||(s.status=ye),f===Ee||f===Te)return 0===e.avail_out&&(s.last_flush=-1),B;if(f===be&&(t===k?R._tr_align(s):t!==$&&(R._tr_stored_block(s,0,0,!1),t===U&&(o(s.head),0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),a(e),0===e.avail_out))return s.last_flush=-1,B}return t!==F?B:s.wrap<=0?j:(2===s.wrap?(l(s,255&e.adler),l(s,e.adler>>8&255),l(s,e.adler>>16&255),l(s,e.adler>>24&255),l(s,255&e.total_in),l(s,e.total_in>>8&255),l(s,e.total_in>>16&255),l(s,e.total_in>>24&255)):(c(s,e.adler>>>16),c(s,65535&e.adler)),a(e),s.wrap>0&&(s.wrap=-s.wrap),0!==s.pending?B:j)}function w(e){var t;return e&&e.state?(t=e.state.status,t!==he&&t!==fe&&t!==ge&&t!==me&&t!==ve&&t!==_e&&t!==ye?i(e,Y):(e.state=null,t===_e?i(e,V):B)):Y}function x(e,t){var n,i,r,a,s,l,c,u,d=t.length;if(!e||!e.state)return Y;if(n=e.state,a=n.wrap,2===a||1===a&&n.status!==he||n.lookahead)return Y;for(1===a&&(e.adler=I(e.adler,t,d,0)),n.wrap=0,d>=n.w_size&&(0===a&&(o(n.head),n.strstart=0,n.block_start=0,n.insert=0),u=new D.Buf8(n.w_size),D.arraySet(u,t,d-n.w_size,n.w_size,0),t=u,d=n.w_size),s=e.avail_in,l=e.next_in,c=e.input,e.avail_in=d,e.next_in=0,e.input=t,p(n);n.lookahead>=ce;){i=n.strstart,r=n.lookahead-(ce-1);do n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+ce-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++;while(--r);n.strstart=i,n.lookahead=ce-1,p(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=ce-1,n.match_available=0,e.next_in=l,e.input=c,e.avail_in=s,n.wrap=a,B}var O,D=e("../utils/common"),R=e("./trees"),I=e("./adler32"),P=e("./crc32"),N=e("./messages"),M=0,k=1,U=3,F=4,$=5,B=0,j=1,Y=-2,V=-3,H=-5,G=-1,W=1,q=2,X=3,z=4,K=0,J=2,Z=8,Q=9,ee=15,te=8,ne=29,ie=256,re=ie+1+ne,oe=30,ae=19,se=2*re+1,le=15,ce=3,ue=258,de=ue+ce+1,pe=32,he=42,fe=69,ge=73,me=91,ve=103,_e=113,ye=666,Ee=1,be=2,Te=3,Se=4,Le=3;O=[new _(0,0,0,0,h),new _(4,4,8,4,f),new _(4,5,16,8,f),new _(4,6,32,32,f),new _(4,4,16,16,g),new _(8,16,32,32,g),new _(8,16,128,128,g),new _(8,32,128,256,g),new _(32,128,258,1024,g),new _(32,258,258,4096,g)],n.deflateInit=A,n.deflateInit2=L,n.deflateReset=T,n.deflateResetKeep=b,n.deflateSetHeader=S,n.deflate=C,n.deflateEnd=w,n.deflateSetDictionary=x,n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":62,"./adler32":64,"./crc32":66,"./messages":72,"./trees":73}],68:[function(e,t,n){"use strict";function i(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}t.exports=i},{}],69:[function(e,t,n){"use strict";var i=30,r=12;t.exports=function(e,t){var n,o,a,s,l,c,u,d,p,h,f,g,m,v,_,y,E,b,T,S,L,A,C,w,x;n=e.state,o=e.next_in,w=e.input,a=o+(e.avail_in-5),s=e.next_out,x=e.output,l=s-(t-e.avail_out),c=s+(e.avail_out-257),u=n.dmax,d=n.wsize,p=n.whave,h=n.wnext,f=n.window,g=n.hold,m=n.bits,v=n.lencode,_=n.distcode,y=(1<<n.lenbits)-1,E=(1<<n.distbits)-1;e:do{m<15&&(g+=w[o++]<<m,m+=8,g+=w[o++]<<m,m+=8),b=v[g&y];t:for(;;){if(T=b>>>24,g>>>=T,m-=T,T=b>>>16&255,0===T)x[s++]=65535&b;else{if(!(16&T)){if(0===(64&T)){b=v[(65535&b)+(g&(1<<T)-1)];continue t}if(32&T){n.mode=r;break e}e.msg="invalid literal/length code",n.mode=i;break e}S=65535&b,T&=15,T&&(m<T&&(g+=w[o++]<<m,m+=8),S+=g&(1<<T)-1,g>>>=T,m-=T),m<15&&(g+=w[o++]<<m,m+=8,g+=w[o++]<<m,m+=8),b=_[g&E];n:for(;;){if(T=b>>>24,g>>>=T,m-=T,T=b>>>16&255,!(16&T)){if(0===(64&T)){b=_[(65535&b)+(g&(1<<T)-1)];continue n}e.msg="invalid distance code",n.mode=i;break e}if(L=65535&b,T&=15,m<T&&(g+=w[o++]<<m,m+=8,m<T&&(g+=w[o++]<<m,m+=8)),L+=g&(1<<T)-1,L>u){e.msg="invalid distance too far back",n.mode=i;break e}if(g>>>=T,m-=T,T=s-l,L>T){if(T=L-T,T>p&&n.sane){e.msg="invalid distance too far back",n.mode=i;break e}if(A=0,C=f,0===h){if(A+=d-T,T<S){S-=T;do x[s++]=f[A++];while(--T);A=s-L,C=x}}else if(h<T){if(A+=d+h-T,T-=h,T<S){S-=T;do x[s++]=f[A++];while(--T);if(A=0,h<S){T=h,S-=T;do x[s++]=f[A++];while(--T);A=s-L,C=x}}}else if(A+=h-T,T<S){S-=T;do x[s++]=f[A++];while(--T);A=s-L,C=x}for(;S>2;)x[s++]=C[A++],x[s++]=C[A++],x[s++]=C[A++],S-=3;S&&(x[s++]=C[A++],S>1&&(x[s++]=C[A++]))}else{A=s-L;do x[s++]=x[A++],x[s++]=x[A++],x[s++]=x[A++],S-=3;while(S>2);S&&(x[s++]=x[A++],S>1&&(x[s++]=x[A++]))}break}}break}}while(o<a&&s<c);S=m>>3,o-=S,m-=S<<3,g&=(1<<m)-1,e.next_in=o,e.next_out=s,e.avail_in=o<a?5+(a-o):5-(o-a),e.avail_out=s<c?257+(c-s):257-(s-c),n.hold=g,n.bits=m}},{}],70:[function(e,t,n){"use strict";function i(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function r(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new _.Buf16(320),this.work=new _.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function o(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=U,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new _.Buf32(ge),t.distcode=t.distdyn=new _.Buf32(me),t.sane=1,t.back=-1,O):I}function a(e){var t;return e&&e.state?(t=e.state,
t.wsize=0,t.whave=0,t.wnext=0,o(e)):I}function s(e,t){var n,i;return e&&e.state?(i=e.state,t<0?(n=0,t=-t):(n=(t>>4)+1,t<48&&(t&=15)),t&&(t<8||t>15)?I:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,a(e))):I}function l(e,t){var n,i;return e?(i=new r,e.state=i,i.window=null,n=s(e,t),n!==O&&(e.state=null),n):I}function c(e){return l(e,_e)}function u(e){if(ye){var t;for(m=new _.Buf32(512),v=new _.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(T(L,e.lens,0,288,m,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;T(A,e.lens,0,32,v,0,e.work,{bits:5}),ye=!1}e.lencode=m,e.lenbits=9,e.distcode=v,e.distbits=5}function d(e,t,n,i){var r,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new _.Buf8(o.wsize)),i>=o.wsize?(_.arraySet(o.window,t,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(r=o.wsize-o.wnext,r>i&&(r=i),_.arraySet(o.window,t,n-i,r,o.wnext),i-=r,i?(_.arraySet(o.window,t,n-i,i,0),o.wnext=i,o.whave=o.wsize):(o.wnext+=r,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=r))),0}function p(e,t){var n,r,o,a,s,l,c,p,h,f,g,m,v,ge,me,ve,_e,ye,Ee,be,Te,Se,Le,Ae,Ce=0,we=new _.Buf8(4),xe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return I;n=e.state,n.mode===X&&(n.mode=z),s=e.next_out,o=e.output,c=e.avail_out,a=e.next_in,r=e.input,l=e.avail_in,p=n.hold,h=n.bits,f=l,g=c,Se=O;e:for(;;)switch(n.mode){case U:if(0===n.wrap){n.mode=z;break}for(;h<16;){if(0===l)break e;l--,p+=r[a++]<<h,h+=8}if(2&n.wrap&&35615===p){n.check=0,we[0]=255&p,we[1]=p>>>8&255,n.check=E(n.check,we,2,0),p=0,h=0,n.mode=F;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&p)<<8)+(p>>8))%31){e.msg="incorrect header check",n.mode=pe;break}if((15&p)!==k){e.msg="unknown compression method",n.mode=pe;break}if(p>>>=4,h-=4,Te=(15&p)+8,0===n.wbits)n.wbits=Te;else if(Te>n.wbits){e.msg="invalid window size",n.mode=pe;break}n.dmax=1<<Te,e.adler=n.check=1,n.mode=512&p?W:X,p=0,h=0;break;case F:for(;h<16;){if(0===l)break e;l--,p+=r[a++]<<h,h+=8}if(n.flags=p,(255&n.flags)!==k){e.msg="unknown compression method",n.mode=pe;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=pe;break}n.head&&(n.head.text=p>>8&1),512&n.flags&&(we[0]=255&p,we[1]=p>>>8&255,n.check=E(n.check,we,2,0)),p=0,h=0,n.mode=$;case $:for(;h<32;){if(0===l)break e;l--,p+=r[a++]<<h,h+=8}n.head&&(n.head.time=p),512&n.flags&&(we[0]=255&p,we[1]=p>>>8&255,we[2]=p>>>16&255,we[3]=p>>>24&255,n.check=E(n.check,we,4,0)),p=0,h=0,n.mode=B;case B:for(;h<16;){if(0===l)break e;l--,p+=r[a++]<<h,h+=8}n.head&&(n.head.xflags=255&p,n.head.os=p>>8),512&n.flags&&(we[0]=255&p,we[1]=p>>>8&255,n.check=E(n.check,we,2,0)),p=0,h=0,n.mode=j;case j:if(1024&n.flags){for(;h<16;){if(0===l)break e;l--,p+=r[a++]<<h,h+=8}n.length=p,n.head&&(n.head.extra_len=p),512&n.flags&&(we[0]=255&p,we[1]=p>>>8&255,n.check=E(n.check,we,2,0)),p=0,h=0}else n.head&&(n.head.extra=null);n.mode=Y;case Y:if(1024&n.flags&&(m=n.length,m>l&&(m=l),m&&(n.head&&(Te=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),_.arraySet(n.head.extra,r,a,m,Te)),512&n.flags&&(n.check=E(n.check,r,m,a)),l-=m,a+=m,n.length-=m),n.length))break e;n.length=0,n.mode=V;case V:if(2048&n.flags){if(0===l)break e;m=0;do Te=r[a+m++],n.head&&Te&&n.length<65536&&(n.head.name+=String.fromCharCode(Te));while(Te&&m<l);if(512&n.flags&&(n.check=E(n.check,r,m,a)),l-=m,a+=m,Te)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=H;case H:if(4096&n.flags){if(0===l)break e;m=0;do Te=r[a+m++],n.head&&Te&&n.length<65536&&(n.head.comment+=String.fromCharCode(Te));while(Te&&m<l);if(512&n.flags&&(n.check=E(n.check,r,m,a)),l-=m,a+=m,Te)break e}else n.head&&(n.head.comment=null);n.mode=G;case G:if(512&n.flags){for(;h<16;){if(0===l)break e;l--,p+=r[a++]<<h,h+=8}if(p!==(65535&n.check)){e.msg="header crc mismatch",n.mode=pe;break}p=0,h=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=X;break;case W:for(;h<32;){if(0===l)break e;l--,p+=r[a++]<<h,h+=8}e.adler=n.check=i(p),p=0,h=0,n.mode=q;case q:if(0===n.havedict)return e.next_out=s,e.avail_out=c,e.next_in=a,e.avail_in=l,n.hold=p,n.bits=h,R;e.adler=n.check=1,n.mode=X;case X:if(t===w||t===x)break e;case z:if(n.last){p>>>=7&h,h-=7&h,n.mode=ce;break}for(;h<3;){if(0===l)break e;l--,p+=r[a++]<<h,h+=8}switch(n.last=1&p,p>>>=1,h-=1,3&p){case 0:n.mode=K;break;case 1:if(u(n),n.mode=ne,t===x){p>>>=2,h-=2;break e}break;case 2:n.mode=Q;break;case 3:e.msg="invalid block type",n.mode=pe}p>>>=2,h-=2;break;case K:for(p>>>=7&h,h-=7&h;h<32;){if(0===l)break e;l--,p+=r[a++]<<h,h+=8}if((65535&p)!==(p>>>16^65535)){e.msg="invalid stored block lengths",n.mode=pe;break}if(n.length=65535&p,p=0,h=0,n.mode=J,t===x)break e;case J:n.mode=Z;case Z:if(m=n.length){if(m>l&&(m=l),m>c&&(m=c),0===m)break e;_.arraySet(o,r,a,m,s),l-=m,a+=m,c-=m,s+=m,n.length-=m;break}n.mode=X;break;case Q:for(;h<14;){if(0===l)break e;l--,p+=r[a++]<<h,h+=8}if(n.nlen=(31&p)+257,p>>>=5,h-=5,n.ndist=(31&p)+1,p>>>=5,h-=5,n.ncode=(15&p)+4,p>>>=4,h-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=pe;break}n.have=0,n.mode=ee;case ee:for(;n.have<n.ncode;){for(;h<3;){if(0===l)break e;l--,p+=r[a++]<<h,h+=8}n.lens[xe[n.have++]]=7&p,p>>>=3,h-=3}for(;n.have<19;)n.lens[xe[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,Le={bits:n.lenbits},Se=T(S,n.lens,0,19,n.lencode,0,n.work,Le),n.lenbits=Le.bits,Se){e.msg="invalid code lengths set",n.mode=pe;break}n.have=0,n.mode=te;case te:for(;n.have<n.nlen+n.ndist;){for(;Ce=n.lencode[p&(1<<n.lenbits)-1],me=Ce>>>24,ve=Ce>>>16&255,_e=65535&Ce,!(me<=h);){if(0===l)break e;l--,p+=r[a++]<<h,h+=8}if(_e<16)p>>>=me,h-=me,n.lens[n.have++]=_e;else{if(16===_e){for(Ae=me+2;h<Ae;){if(0===l)break e;l--,p+=r[a++]<<h,h+=8}if(p>>>=me,h-=me,0===n.have){e.msg="invalid bit length repeat",n.mode=pe;break}Te=n.lens[n.have-1],m=3+(3&p),p>>>=2,h-=2}else if(17===_e){for(Ae=me+3;h<Ae;){if(0===l)break e;l--,p+=r[a++]<<h,h+=8}p>>>=me,h-=me,Te=0,m=3+(7&p),p>>>=3,h-=3}else{for(Ae=me+7;h<Ae;){if(0===l)break e;l--,p+=r[a++]<<h,h+=8}p>>>=me,h-=me,Te=0,m=11+(127&p),p>>>=7,h-=7}if(n.have+m>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=pe;break}for(;m--;)n.lens[n.have++]=Te}}if(n.mode===pe)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=pe;break}if(n.lenbits=9,Le={bits:n.lenbits},Se=T(L,n.lens,0,n.nlen,n.lencode,0,n.work,Le),n.lenbits=Le.bits,Se){e.msg="invalid literal/lengths set",n.mode=pe;break}if(n.distbits=6,n.distcode=n.distdyn,Le={bits:n.distbits},Se=T(A,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,Le),n.distbits=Le.bits,Se){e.msg="invalid distances set",n.mode=pe;break}if(n.mode=ne,t===x)break e;case ne:n.mode=ie;case ie:if(l>=6&&c>=258){e.next_out=s,e.avail_out=c,e.next_in=a,e.avail_in=l,n.hold=p,n.bits=h,b(e,g),s=e.next_out,o=e.output,c=e.avail_out,a=e.next_in,r=e.input,l=e.avail_in,p=n.hold,h=n.bits,n.mode===X&&(n.back=-1);break}for(n.back=0;Ce=n.lencode[p&(1<<n.lenbits)-1],me=Ce>>>24,ve=Ce>>>16&255,_e=65535&Ce,!(me<=h);){if(0===l)break e;l--,p+=r[a++]<<h,h+=8}if(ve&&0===(240&ve)){for(ye=me,Ee=ve,be=_e;Ce=n.lencode[be+((p&(1<<ye+Ee)-1)>>ye)],me=Ce>>>24,ve=Ce>>>16&255,_e=65535&Ce,!(ye+me<=h);){if(0===l)break e;l--,p+=r[a++]<<h,h+=8}p>>>=ye,h-=ye,n.back+=ye}if(p>>>=me,h-=me,n.back+=me,n.length=_e,0===ve){n.mode=le;break}if(32&ve){n.back=-1,n.mode=X;break}if(64&ve){e.msg="invalid literal/length code",n.mode=pe;break}n.extra=15&ve,n.mode=re;case re:if(n.extra){for(Ae=n.extra;h<Ae;){if(0===l)break e;l--,p+=r[a++]<<h,h+=8}n.length+=p&(1<<n.extra)-1,p>>>=n.extra,h-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=oe;case oe:for(;Ce=n.distcode[p&(1<<n.distbits)-1],me=Ce>>>24,ve=Ce>>>16&255,_e=65535&Ce,!(me<=h);){if(0===l)break e;l--,p+=r[a++]<<h,h+=8}if(0===(240&ve)){for(ye=me,Ee=ve,be=_e;Ce=n.distcode[be+((p&(1<<ye+Ee)-1)>>ye)],me=Ce>>>24,ve=Ce>>>16&255,_e=65535&Ce,!(ye+me<=h);){if(0===l)break e;l--,p+=r[a++]<<h,h+=8}p>>>=ye,h-=ye,n.back+=ye}if(p>>>=me,h-=me,n.back+=me,64&ve){e.msg="invalid distance code",n.mode=pe;break}n.offset=_e,n.extra=15&ve,n.mode=ae;case ae:if(n.extra){for(Ae=n.extra;h<Ae;){if(0===l)break e;l--,p+=r[a++]<<h,h+=8}n.offset+=p&(1<<n.extra)-1,p>>>=n.extra,h-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=pe;break}n.mode=se;case se:if(0===c)break e;if(m=g-c,n.offset>m){if(m=n.offset-m,m>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=pe;break}m>n.wnext?(m-=n.wnext,v=n.wsize-m):v=n.wnext-m,m>n.length&&(m=n.length),ge=n.window}else ge=o,v=s-n.offset,m=n.length;m>c&&(m=c),c-=m,n.length-=m;do o[s++]=ge[v++];while(--m);0===n.length&&(n.mode=ie);break;case le:if(0===c)break e;o[s++]=n.length,c--,n.mode=ie;break;case ce:if(n.wrap){for(;h<32;){if(0===l)break e;l--,p|=r[a++]<<h,h+=8}if(g-=c,e.total_out+=g,n.total+=g,g&&(e.adler=n.check=n.flags?E(n.check,o,g,s-g):y(n.check,o,g,s-g)),g=c,(n.flags?p:i(p))!==n.check){e.msg="incorrect data check",n.mode=pe;break}p=0,h=0}n.mode=ue;case ue:if(n.wrap&&n.flags){for(;h<32;){if(0===l)break e;l--,p+=r[a++]<<h,h+=8}if(p!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=pe;break}p=0,h=0}n.mode=de;case de:Se=D;break e;case pe:Se=P;break e;case he:return N;case fe:default:return I}return e.next_out=s,e.avail_out=c,e.next_in=a,e.avail_in=l,n.hold=p,n.bits=h,(n.wsize||g!==e.avail_out&&n.mode<pe&&(n.mode<ce||t!==C))&&d(e,e.output,e.next_out,g-e.avail_out)?(n.mode=he,N):(f-=e.avail_in,g-=e.avail_out,e.total_in+=f,e.total_out+=g,n.total+=g,n.wrap&&g&&(e.adler=n.check=n.flags?E(n.check,o,g,e.next_out-g):y(n.check,o,g,e.next_out-g)),e.data_type=n.bits+(n.last?64:0)+(n.mode===X?128:0)+(n.mode===ne||n.mode===J?256:0),(0===f&&0===g||t===C)&&Se===O&&(Se=M),Se)}function h(e){if(!e||!e.state)return I;var t=e.state;return t.window&&(t.window=null),e.state=null,O}function f(e,t){var n;return e&&e.state?(n=e.state,0===(2&n.wrap)?I:(n.head=t,t.done=!1,O)):I}function g(e,t){var n,i,r,o=t.length;return e&&e.state?(n=e.state,0!==n.wrap&&n.mode!==q?I:n.mode===q&&(i=1,i=y(i,t,o,0),i!==n.check)?P:(r=d(e,t,o,o))?(n.mode=he,N):(n.havedict=1,O)):I}var m,v,_=e("../utils/common"),y=e("./adler32"),E=e("./crc32"),b=e("./inffast"),T=e("./inftrees"),S=0,L=1,A=2,C=4,w=5,x=6,O=0,D=1,R=2,I=-2,P=-3,N=-4,M=-5,k=8,U=1,F=2,$=3,B=4,j=5,Y=6,V=7,H=8,G=9,W=10,q=11,X=12,z=13,K=14,J=15,Z=16,Q=17,ee=18,te=19,ne=20,ie=21,re=22,oe=23,ae=24,se=25,le=26,ce=27,ue=28,de=29,pe=30,he=31,fe=32,ge=852,me=592,ve=15,_e=ve,ye=!0;n.inflateReset=a,n.inflateReset2=s,n.inflateResetKeep=o,n.inflateInit=c,n.inflateInit2=l,n.inflate=p,n.inflateEnd=h,n.inflateGetHeader=f,n.inflateSetDictionary=g,n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":62,"./adler32":64,"./crc32":66,"./inffast":69,"./inftrees":71}],71:[function(e,t,n){"use strict";var i=e("../utils/common"),r=15,o=852,a=592,s=0,l=1,c=2,u=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],d=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],p=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],h=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,f,g,m,v,_){var y,E,b,T,S,L,A,C,w,x=_.bits,O=0,D=0,R=0,I=0,P=0,N=0,M=0,k=0,U=0,F=0,$=null,B=0,j=new i.Buf16(r+1),Y=new i.Buf16(r+1),V=null,H=0;for(O=0;O<=r;O++)j[O]=0;for(D=0;D<f;D++)j[t[n+D]]++;for(P=x,I=r;I>=1&&0===j[I];I--);if(P>I&&(P=I),0===I)return g[m++]=20971520,g[m++]=20971520,_.bits=1,0;for(R=1;R<I&&0===j[R];R++);for(P<R&&(P=R),k=1,O=1;O<=r;O++)if(k<<=1,k-=j[O],k<0)return-1;if(k>0&&(e===s||1!==I))return-1;for(Y[1]=0,O=1;O<r;O++)Y[O+1]=Y[O]+j[O];for(D=0;D<f;D++)0!==t[n+D]&&(v[Y[t[n+D]]++]=D);if(e===s?($=V=v,L=19):e===l?($=u,B-=257,V=d,H-=257,L=256):($=p,V=h,L=-1),F=0,D=0,O=R,S=m,N=P,M=0,b=-1,U=1<<P,T=U-1,e===l&&U>o||e===c&&U>a)return 1;for(var G=0;;){G++,A=O-M,v[D]<L?(C=0,w=v[D]):v[D]>L?(C=V[H+v[D]],w=$[B+v[D]]):(C=96,w=0),y=1<<O-M,E=1<<N,R=E;do E-=y,g[S+(F>>M)+E]=A<<24|C<<16|w|0;while(0!==E);for(y=1<<O-1;F&y;)y>>=1;if(0!==y?(F&=y-1,F+=y):F=0,D++,0===--j[O]){if(O===I)break;O=t[n+v[D]]}if(O>P&&(F&T)!==b){for(0===M&&(M=P),S+=R,N=O-M,k=1<<N;N+M<I&&(k-=j[N+M],!(k<=0));)N++,k<<=1;if(U+=1<<N,e===l&&U>o||e===c&&U>a)return 1;b=F&T,g[b]=P<<24|N<<16|S-m|0}}return 0!==F&&(g[S+F]=O-M<<24|64<<16|0),_.bits=P,0}},{"../utils/common":62}],72:[function(e,t,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],73:[function(e,t,n){"use strict";function i(e){for(var t=e.length;--t>=0;)e[t]=0}function r(e,t,n,i,r){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=e&&e.length}function o(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function a(e){return e<256?le[e]:le[256+(e>>>7)]}function s(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function l(e,t,n){e.bi_valid>z-n?(e.bi_buf|=t<<e.bi_valid&65535,s(e,e.bi_buf),e.bi_buf=t>>z-e.bi_valid,e.bi_valid+=n-z):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function c(e,t,n){l(e,n[2*t],n[2*t+1])}function u(e,t){var n=0;do n|=1&e,e>>>=1,n<<=1;while(--t>0);return n>>>1}function d(e){16===e.bi_valid?(s(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}function p(e,t){var n,i,r,o,a,s,l=t.dyn_tree,c=t.max_code,u=t.stat_desc.static_tree,d=t.stat_desc.has_stree,p=t.stat_desc.extra_bits,h=t.stat_desc.extra_base,f=t.stat_desc.max_length,g=0;for(o=0;o<=X;o++)e.bl_count[o]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<q;n++)i=e.heap[n],o=l[2*l[2*i+1]+1]+1,o>f&&(o=f,g++),l[2*i+1]=o,i>c||(e.bl_count[o]++,a=0,i>=h&&(a=p[i-h]),s=l[2*i],e.opt_len+=s*(o+a),d&&(e.static_len+=s*(u[2*i+1]+a)));if(0!==g){do{for(o=f-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[f]--,g-=2}while(g>0);for(o=f;0!==o;o--)for(i=e.bl_count[o];0!==i;)r=e.heap[--n],r>c||(l[2*r+1]!==o&&(e.opt_len+=(o-l[2*r+1])*l[2*r],l[2*r+1]=o),i--)}}function h(e,t,n){var i,r,o=new Array(X+1),a=0;for(i=1;i<=X;i++)o[i]=a=a+n[i-1]<<1;for(r=0;r<=t;r++){var s=e[2*r+1];0!==s&&(e[2*r]=u(o[s]++,s))}}function f(){var e,t,n,i,o,a=new Array(X+1);for(n=0,i=0;i<Y-1;i++)for(ue[i]=n,e=0;e<1<<te[i];e++)ce[n++]=i;for(ce[n-1]=i,o=0,i=0;i<16;i++)for(de[i]=o,e=0;e<1<<ne[i];e++)le[o++]=i;for(o>>=7;i<G;i++)for(de[i]=o<<7,e=0;e<1<<ne[i]-7;e++)le[256+o++]=i;for(t=0;t<=X;t++)a[t]=0;for(e=0;e<=143;)ae[2*e+1]=8,e++,a[8]++;for(;e<=255;)ae[2*e+1]=9,e++,a[9]++;for(;e<=279;)ae[2*e+1]=7,e++,a[7]++;for(;e<=287;)ae[2*e+1]=8,e++,a[8]++;for(h(ae,H+1,a),e=0;e<G;e++)se[2*e+1]=5,se[2*e]=u(e,5);pe=new r(ae,te,V+1,H,X),he=new r(se,ne,0,G,X),fe=new r(new Array(0),ie,0,W,K)}function g(e){var t;for(t=0;t<H;t++)e.dyn_ltree[2*t]=0;for(t=0;t<G;t++)e.dyn_dtree[2*t]=0;for(t=0;t<W;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*J]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function m(e){e.bi_valid>8?s(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function v(e,t,n,i){m(e),i&&(s(e,n),s(e,~n)),I.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}function _(e,t,n,i){var r=2*t,o=2*n;return e[r]<e[o]||e[r]===e[o]&&i[t]<=i[n]}function y(e,t,n){for(var i=e.heap[n],r=n<<1;r<=e.heap_len&&(r<e.heap_len&&_(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!_(t,i,e.heap[r],e.depth));)e.heap[n]=e.heap[r],n=r,r<<=1;e.heap[n]=i}function E(e,t,n){var i,r,o,s,u=0;if(0!==e.last_lit)do i=e.pending_buf[e.d_buf+2*u]<<8|e.pending_buf[e.d_buf+2*u+1],r=e.pending_buf[e.l_buf+u],u++,0===i?c(e,r,t):(o=ce[r],c(e,o+V+1,t),s=te[o],0!==s&&(r-=ue[o],l(e,r,s)),i--,o=a(i),c(e,o,n),s=ne[o],0!==s&&(i-=de[o],l(e,i,s)));while(u<e.last_lit);c(e,J,t)}function b(e,t){var n,i,r,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,l=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=q,n=0;n<l;n++)0!==o[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)r=e.heap[++e.heap_len]=c<2?++c:0,o[2*r]=1,e.depth[r]=0,e.opt_len--,s&&(e.static_len-=a[2*r+1]);for(t.max_code=c,n=e.heap_len>>1;n>=1;n--)y(e,o,n);r=l;do n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],y(e,o,1),i=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=i,o[2*r]=o[2*n]+o[2*i],e.depth[r]=(e.depth[n]>=e.depth[i]?e.depth[n]:e.depth[i])+1,o[2*n+1]=o[2*i+1]=r,e.heap[1]=r++,y(e,o,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],p(e,t),h(o,c,e.bl_count)}function T(e,t,n){var i,r,o=-1,a=t[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),t[2*(n+1)+1]=65535,i=0;i<=n;i++)r=a,a=t[2*(i+1)+1],++s<l&&r===a||(s<c?e.bl_tree[2*r]+=s:0!==r?(r!==o&&e.bl_tree[2*r]++,e.bl_tree[2*Z]++):s<=10?e.bl_tree[2*Q]++:e.bl_tree[2*ee]++,s=0,o=r,0===a?(l=138,c=3):r===a?(l=6,c=3):(l=7,c=4))}function S(e,t,n){var i,r,o=-1,a=t[1],s=0,u=7,d=4;for(0===a&&(u=138,d=3),i=0;i<=n;i++)if(r=a,a=t[2*(i+1)+1],!(++s<u&&r===a)){if(s<d){do c(e,r,e.bl_tree);while(0!==--s)}else 0!==r?(r!==o&&(c(e,r,e.bl_tree),s--),c(e,Z,e.bl_tree),l(e,s-3,2)):s<=10?(c(e,Q,e.bl_tree),l(e,s-3,3)):(c(e,ee,e.bl_tree),l(e,s-11,7));s=0,o=r,0===a?(u=138,d=3):r===a?(u=6,d=3):(u=7,d=4)}}function L(e){var t;for(T(e,e.dyn_ltree,e.l_desc.max_code),T(e,e.dyn_dtree,e.d_desc.max_code),b(e,e.bl_desc),t=W-1;t>=3&&0===e.bl_tree[2*re[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}function A(e,t,n,i){var r;for(l(e,t-257,5),l(e,n-1,5),l(e,i-4,4),r=0;r<i;r++)l(e,e.bl_tree[2*re[r]+1],3);S(e,e.dyn_ltree,t-1),S(e,e.dyn_dtree,n-1)}function C(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return N;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return M;for(t=32;t<V;t++)if(0!==e.dyn_ltree[2*t])return M;return N}function w(e){ge||(f(),ge=!0),e.l_desc=new o(e.dyn_ltree,pe),e.d_desc=new o(e.dyn_dtree,he),e.bl_desc=new o(e.bl_tree,fe),e.bi_buf=0,e.bi_valid=0,g(e)}function x(e,t,n,i){l(e,(U<<1)+(i?1:0),3),v(e,t,n,!0)}function O(e){l(e,F<<1,3),c(e,J,ae),d(e)}function D(e,t,n,i){var r,o,a=0;e.level>0?(e.strm.data_type===k&&(e.strm.data_type=C(e)),b(e,e.l_desc),b(e,e.d_desc),a=L(e),r=e.opt_len+3+7>>>3,o=e.static_len+3+7>>>3,o<=r&&(r=o)):r=o=n+5,n+4<=r&&t!==-1?x(e,t,n,i):e.strategy===P||o===r?(l(e,(F<<1)+(i?1:0),3),E(e,ae,se)):(l(e,($<<1)+(i?1:0),3),A(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),E(e,e.dyn_ltree,e.dyn_dtree)),g(e),i&&m(e)}function R(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(ce[n]+V+1)]++,e.dyn_dtree[2*a(t)]++),e.last_lit===e.lit_bufsize-1}var I=e("../utils/common"),P=4,N=0,M=1,k=2,U=0,F=1,$=2,B=3,j=258,Y=29,V=256,H=V+1+Y,G=30,W=19,q=2*H+1,X=15,z=16,K=7,J=256,Z=16,Q=17,ee=18,te=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ne=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],ie=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],re=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],oe=512,ae=new Array(2*(H+2));i(ae);var se=new Array(2*G);i(se);var le=new Array(oe);i(le);var ce=new Array(j-B+1);i(ce);var ue=new Array(Y);i(ue);var de=new Array(G);i(de);var pe,he,fe,ge=!1;n._tr_init=w,n._tr_stored_block=x,n._tr_flush_block=D,n._tr_tally=R,n._tr_align=O},{"../utils/common":62}],74:[function(e,t,n){"use strict";function i(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}t.exports=i},{}]},{},[10])(10)}),define("services/utils/debugUtils",["require","exports","module","angular","jszip"],function(e,t,n){"use strict";var i=e("angular"),r="readdirSync",o="readFileSync",a="writeFileSync",s=["$q","$translate","csInterface","debugLog","designLibraryManager","designLibraryElements",function(t,n,i,s,l,c){function u(e){var t=0;return e.forEach(function(e){e.representations.forEach(function(e){t+=e.contentLength||0})}),t}function d(e){var t="B";return e>1024&&(e/=1024,t="KB",e>1024&&(e/=1024,t="MB")),Math.round(e)+" "+t}function p(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function h(e){var t=new Date(e);return t.getMonth()+1+"-"+t.getDate()+"-"+t.getFullYear()}function f(e){var t=new Date(e),n=t.getMinutes();return t.getHours()+":"+(n<=9?"0":"")+n}function g(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function m(e,t){return e=e.replace(/[<>:"\/\\|?*\x00-\x1F]/g,"_").trim(),e&&""!==e?e:t}function v(e){var t;i.isWindowsOS()?(t="start",e=e.replace(/\//g,"\\")):t="/usr/bin/open",window.cep.process.createProcess(t,e)}function _(e){try{return E[o](e)}catch(t){return"Could not read "+e+"\n\n"+t.toString()}}function y(e){try{return E[r](e)}catch(t){return"Could not read "+e+"\n\n"+t.toString()}}var E=nodeRequire("fs"),b=e("jszip");this.viewLibrariesInfo=function(){var e=l.getLibraries();e.sort(function(e,t){return e.name<t.name?-1:e.name>t.name?1:0});var t=[],n=Date.now();t.push('<HTML><HEAD style="font-family:sans-serif;"><TITLE>'),t.push("My CC Libraries"),t.push('</TITLE></HEAD><body style="font-family:sans-serif"><H1>'),t.push("My CC Libraries"),t.push("</H1><p>"),t.push(e.length+" libraries, "+h(n)+" "+f(n)),t.push('</p><table BORDER=1 CELLPADDING=4 CELLSPACING=1 RULES=ROWS FRAME=HSIDES BORDERCOLOR="#EEEEEE" style="font-size:small"><tr>'),t.push("<th>&nbsp</th>"),t.push("<th>Elements</th>"),t.push("<th>Data size</th>"),t.push("<th>Last modified</th>"),t.push("<th>Collaboration</th>"),t.push("<th>ID</th>"),t.push("</tr>"),e.forEach(function(e){t.push("<tr><td>"),t.push(g(e.name)),t.push('</td><td align="right">'),t.push(e.elements.length),t.push('</td><td align="right">'),t.push(p(u(e.elements))),t.push('</td><td align="right">'),t.push(h(e.modified)),t.push("</td><td>"),t.push(e.collaboration||"&nbsp"),t.push("</td><td>"),t.push(e.id),t.push("</td></tr>")}),t.push("</table></BODY></HTML>");var r="writeFileSync",o=i.getSystemPath(SystemPath.MY_DOCUMENTS)+"/AllLibrariesInfo.html";E[r](o,t.join("\n")),i.isWindowsOS()&&alert("Information saved to "+o),v(o)},this.viewLibraryInfo=function(){var e=l.getCurrentLibrary(),t=[];t.push("Current Library Information"),t.push("Name: "+e.name);var r=d(u(e.elements));t.push("Elements: "+e.elements.length+" ("+r+")");var o=c.getElementTypes();o.forEach(function(i){var r=n.instant(c.getDisplayName(i)),o=e.getFilteredElements(i);if(o.length>0){var a=u(o);t.push("    "+r+": "+o.length+" ("+a+")")}}),i.showError(t.join("\n"))},this.viewElementInfo=function(){var e=l.getCurrentLibrary(),t=[],r=Date.now();t.push('<HTML><HEAD style="font-family:sans-serif;"><TITLE>'),t.push('Contents of "'+e.name+'"'),t.push('</TITLE></HEAD><body style="font-family:sans-serif"><H1>'),t.push('Contents of "'+e.name+'"'),t.push("</H1><p>"),t.push(e.elements.length+" elements, "+h(r)+" "+f(r)),t.push('</p><table BORDER=1 CELLPADDING=4 CELLSPACING=1 RULES=ROWS FRAME=HSIDES BORDERCOLOR="#EEEEEE" style="font-size:small"><tr>'),t.push("<th>Type</th>"),t.push("<th>Name</th>"),t.push("<th>Last modified</th>"),t.push("<th>ID</th>"),t.push("</tr>");var o=c.getElementTypes();o.forEach(function(i){var r=n.instant(c.getDisplayName(i)),o=e.getFilteredElements(i);o.length>0&&(o.sort(function(e,t){return(e.name||"")<(t.name||"")?-1:(e.name||"")>(t.name||"")?1:0}),o.forEach(function(e){var n=e.name;n&&n.length>100&&(n=n.substr(0,100)+"..."),t.push("<tr><td>"),t.push(r),t.push("</td><td>"),t.push(n||"&nbsp"),t.push("</td><td>"),t.push(h(e.modified)),t.push("</td><td>"),t.push(e.id),t.push("</td></tr>")}))}),t.push("</table></BODY></HTML>");var a="writeFileSync",s=i.getSystemPath(SystemPath.MY_DOCUMENTS)+"/"+m(e.name,"Library contents")+".html";E[a](s,t.join("\n")),i.isWindowsOS()&&alert("Information saved to "+s),v(s)},this.showLogFolder=function(){i.isWindowsOS()&&alert("Folder is "+s.getLogFolder()),v(s.getLogFolder())},this.saveDebugInfo=function(){try{var e,t=new b,n=t.folder("CC Libraries Debug Info"),r=s.getLogFolder(),o=y(r);o.forEach(function(t){(t.match(/.*\.log$/)||t.match(/.*\.txt$/))&&(e=_(r+t),n.file(t,e))}),e=_(i.getLocalRoot()+"settings.json"),n.file("settings.json",e),e=_(i.getGlobalRoot()+"LIBS/settings.json"),n.file("LIBS_settings.json",e),e=_(i.getGlobalRoot()+"LIBS/librarylookupfile"),n.file("LIBS_librarylookupfile",e);var l=t.generate({type:"nodebuffer"}),c=i.getSystemPath(SystemPath.MY_DOCUMENTS)+"/debuginfo.zip";E[a](c,l),alert("Debug information saved to "+c)}catch(e){alert("Failed to create debug info file\n\n"+e)}}}];t.attach=function(e){i.module(e).service("debugUtils",s)}}),define("services/utils/digestUtils",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$rootScope","$window",function(e,t){this.serviceName="digestUtils";var n,i=0,r=10;this.triggerDigest=function(){var o=this;if(!e.$$phase&&!n){var a=(new Date).valueOf();if(a-i<r)return void(n=t.setTimeout(function(){n=void 0,o.triggerDigest()},r));i=a,e.$apply()}}}];t.attach=function(e){i.module(e).service("digestUtils",r)}}),define("services/utils/fileUtils",["require","exports","module","angular"],function(e,t,n){"use strict";function i(e){r.module(e).service("fileUtils",o)}var r=e("angular"),o=["$q","$location","configuration","ccLibraries",function(e,t,n,i){function r(e,t,n){var r=a[e];r&&t.forEach(function(e){var t=r[e];if(t)t.usable=!0,t.editable=!!n;else{var o=i.utils.mimeTypeToExtensions(e);if(o&&o.length>0){var a=o[0];r[e]={exts:o,badge:a.toUpperCase(),name:a.toUpperCase(),usable:!0,editable:!!n}}}})}function o(e,t,n){var r=a[e];r&&t.forEach(function(e){e=e.toLowerCase();var t=i.utils.extensionToMimeTypes(e);t.forEach(function(t){if(t){var i=r[t];i?(i.exts.indexOf(e)===-1&&i.exts.push(e),i.usable=!0,i.editable=!!n):r[t]={exts:[e],badge:e.toUpperCase(),name:e.toUpperCase(),usable:!0,editable:!!n}}})})}this.serviceName="fileUtils",this.LIGHT_MIME_TYPE="application/vnd.adobe.ibl.light+zip",this.MATERIAL_MIME_TYPE="application/vnd.adobe.mdl.material+zip";var a={};a[n.IMAGE_ELEMENT_TYPE]={"image/vnd.adobe.photoshop":{exts:["psd"],badge:"Ps",name:"Photoshop",label:"MIME_PHOTOSHOP_DOCUMENT",createdIn:"DL_APP_PHOTOSHOP"},"application/photoshop":{exts:["psd"],badge:"Ps",name:"Photoshop",label:"MIME_PHOTOSHOP_DOCUMENT",createdIn:"DL_APP_PHOTOSHOP"},"application/photoshop.large":{exts:["psb"],badge:"Ps",name:"Photoshop",label:"MIME_PHOTOSHOP_DOCUMENT",createdIn:"DL_APP_PHOTOSHOP"},"application/illustrator":{exts:["ai"],badge:"Ai",name:"Illustrator",label:"MIME_ILLUSTRATOR_DOCUMENT",createdIn:"DL_APP_ILLUSTRATOR"},"application/vnd.adobe.indesign-idms":{exts:["idms"],badge:"Id",name:"InDesign",label:"MIME_INDESIGN_SNIPPET",createdIn:"DL_APP_INDESIGN"},"application/vnd.adobe.muse-collection":{exts:["muse"],badge:"Mu",name:"Muse",label:"MIME_MUSE_DOCUMENT",createdIn:"DL_APP_MUSE"},"application/pdf":{exts:["pdf"],badge:"PDF",name:"PDF",label:"MIME_PDF_IMAGE"},"image/png":{exts:["png"],badge:"PNG",name:"PNG",label:"MIME_PNG_IMAGE"},"image/jpeg":{exts:["jpeg"],badge:"JPEG",name:"JPEG",label:"MIME_JPEG_IMAGE"},"image/jpg":{exts:["jpg"],badge:"JPG",name:"JPG",label:"MIME_JPEG_IMAGE"},"image/gif":{exts:["gif"],badge:"GIF",name:"GIF",label:"MIME_GIF_IMAGE"},"image/svg+xml":{exts:["svg"],badge:"SVG",name:"SVG",label:"MIME_SVG_IMAGE"},"image/vnd.adobe.shape+svg":{exts:["shape"],badge:"SVG",name:"Shape",label:"MIME_SHAPE_DOCUMENT",createdIn:"DL_APP_SHAPE"},"application/vnd.adobe.charts+zip":{exts:["zip"],badge:"PDF",name:"Chart",label:"MIME_CHARTS",createdIn:"DL_APP_CHARTS"}},a[n.COLOR_ELEMENT_TYPE]={"application/vnd.adobe.color+json":{exts:["ase"],name:"Color",label:"MIME_RGB_COLOR"}},a[n.COLOR_THEME_ELEMENT_TYPE]={"application/vnd.adobe.colortheme+json":{exts:["ase"],name:"Color",label:"MIME_COLOR_THEME"}},a[n.BRUSH_ELEMENT_TYPE]={"application/vnd.adobe.scatter.brush+zip":{exts:["brush"],name:"Brush",label:"MIME_BRUSH"},"application/vnd.adobe.ribbon.brush+zip":{exts:["brush"],name:"Brush",label:"MIME_BRUSH"},"image/x-adobe-photoshop-brush":{exts:["abr"],name:"Brush",label:"MIME_BRUSH"},"application/vnd.adobe.vector.brush+zip":{exts:["brush"],name:"Brush",label:"MIME_BRUSH"}},a[n.CAPSULE_ELEMENT_TYPE]={"application/vnd.adobe.ae.graphic+zip":{exts:["aegraphic"],name:"Capsule",label:"MIME_CAPSULE",createdIn:"DL_APP_AE"},"application/vnd.adobe.ppro.graphic+zip":{exts:["prgraphic"],name:"Capsule",label:"MIME_CAPSULE",createdIn:"DL_APP_PPRO"}},a[n.CHARACTER_STYLE_ELEMENT_TYPE]={"application/vnd.adobe.characterstyle+json":{exts:["style"],name:"CharacterStyle",label:"MIME_CHARACTER_STYLE"},"application/vnd.adobe.characterstyle+snippet":{exts:["idms"],name:"CharacterStyle",label:"MIME_CHARACTER_STYLE"}},a[n.PARAGRAPH_STYLE_ELEMENT_TYPE]={"application/vnd.adobe.paragraphstyle+json":{exts:["style"],name:"ParagraphStyle",label:"MIME_PARAGRAPH_STYLE"},"application/vnd.adobe.paragraphstyle+snippet":{exts:["idms"],name:"ParagraphStyle",label:"MIME_PARAGRAPH_STYLE"}},a[n.LAYER_STYLE_ELEMENT_TYPE]={"application/vnd.adobe.layerstyle":{exts:["asl"],name:"LayerStyle",label:"MIME_LAYER_STYLE"}},a[n.LOOK_ELEMENT_TYPE]={"application/vnd.adobe.cube+txt":{exts:["cube"],name:"Cube LUT",label:"MIME_CUBE_LUT"},"application/vnd.adobe.look+xml":{exts:["look"],name:"Look",label:"MIME_LOOK"}},a[n.THREE_D_ELEMENT_TYPE]={"image/vnd.adobe.photoshop":{exts:["psd"],name:"Photoshop 3D",label:"MIME_3D_PSD"},"application/vnd.adobe.obj.3d+zip":{exts:["zip"],name:"Model"}},a[n.LIGHT_ELEMENT_TYPE]={"application/vnd.adobe.ibl.light+zip":{exts:["zip"],name:"Light"}},a[n.MATERIAL_ELEMENT_TYPE]={"application/vnd.adobe.mdl.material+zip":{exts:["zip"],name:"Material"}},a[n.PATTERN_ELEMENT_TYPE]={"image/vnd.adobe.pattern+png":{exts:["png"]}},a[n.VIDEO_ELEMENT_TYPE]={},a[n.TEMPLATE_ELEMENT_TYPE]={"image/vnd.adobe.photoshop.template":{exts:["psdt"],badge:"Ps",name:"Template",label:"MIME_TEMPLATE"},"application/illustrator.template":{exts:["ait"],badge:"Ai",name:"Template",label:"MIME_TEMPLATE"},"application/vnd.adobe.indesign.template":{exts:["indt"],badge:"Id",name:"Template",label:"MIME_TEMPLATE"}},a[n.TEXT_ELEMENT_TYPE]={"application/vnd.adobe.text+json":{exts:["text"],name:"Text",label:"MIME_TEXT"},"application/illustrator-text":{exts:["ai"],badge:"Ai",name:"Text",label:"MIME_TEXT"},"application/vnd.adobe.indesign-idms-text":{exts:["idms"],badge:"Id",name:"Text",label:"MIME_TEXT"}},a[n.ANIMATION_ELEMENT_TYPE]={"application/vnd.adobe.animate-xfl+zip":{exts:["fla","xfl"],badge:"An",name:"Animate",label:"MIME_ANIMATE_DOCUMENT",createdIn:"DL_APP_ANIMATE"},"application/vnd.adobe.animate-sym+zip":{exts:["sym"],badge:"SYM",name:"Animate",label:"MIME_ANIMATE_SYMBOL",createdIn:"DL_APP_ANIMATE"}},this.mimeLookup=function(e,t){var n=a[e];if(n)return n[t]},this.getUsableTypes=function(e){var t,n=[],i=a[e];for(t in i)i.hasOwnProperty(t)&&i[t].usable&&n.push(t);return n},this.isTypeUsable=function(e,t){if(t){var n=a[t];if(n&&n[e]&&n[e].usable)return!0}else{var i,r;for(i in a)if(a.hasOwnProperty(i)&&(r=a[i],r&&r[e]&&r[e].usable))return!0}return!1},this.getEditableTypes=function(e){var t,n=[],i=a[e];for(t in i)i.hasOwnProperty(t)&&i[t].editable&&n.push(t);return n},this.isTypeEditable=function(e,t){if(t){var n=a[t];if(n&&n[e]&&n[e].editable)return!0}else{var i,r;for(i in a)if(a.hasOwnProperty(i)&&(r=a[i],r&&r[e]&&r[e].editable))return!0}return!1},this.extendUsableTypes=function(e,t){r(e,t)},this.extendUsableTypesWithExtensions=function(e,t){o(e,t)},this.extendEditableTypes=function(e,t){r(e,t,!0)},this.extendEditableTypesWithExtensions=function(e,t){o(e,t,!0)},this.fileNameToContentType=function(e,t){if(e){var n,r=e.lastIndexOf(".")+1;if(r>0){n=r!==e.length?e.substr(r).toLowerCase().trim():"";var o,s;o=a[t];for(s in o)if(o.hasOwnProperty(s)&&o[s].exts.indexOf(n)!==-1)return s}var l=i.utils.extensionToMimeTypes(n);if(l&&l.length>0)return l[0]}},this.curateFileName=function(e){return e&&(e=e.replace(/(<|>|:|"|\/|\\|\||\?|\*|[\x00-\x1F])|\(|\)|\{|\}|\,| /g,"")),
e},this.getTmpFileName=function(){return(new Date).valueOf()},this.getFileNameWithoutExtension=function(e){var t=e.lastIndexOf(".");return e&&t!==-1&&(e=e.substr(0,t)),e},this.getFileNameExtension=function(e){var t=e.lastIndexOf(".");return e&&t!==-1?e.substr(t+1):""},this.isUploadableFile=function(e){var t=this.fileNameToContentType(e);return!!(t&&a[n.IMAGE_ELEMENT_TYPE]&&a[n.IMAGE_ELEMENT_TYPE][t])};var s=nodeRequire("fs"),l=nodeRequire("path"),c=l&&l.join;this.existsFile=function(e){if(!s)return!1;var t="existsSync";return s[t](e)},this.deleteFile=function(e){if(s)try{var t="unlinkSync";s[t](e)}catch(e){}},this.statFile=function(e){if(!s)return{};var t="statSync";return s[t](e)},this.readFile=function(e,t,n){if(!s)return void(n&&n("no fs"));if(!n){var i="readFileSync";return s[i](e,t)}s.readFile(e,t,n)},this.writeFile=function(e,t,n,i){if(!s)return void(i&&i("no fs"));if(!i){var r="writeFileSync";return s[r](e,t,n)}s.writeFile(e,t,n,i)},this.getUniqueFileName=function(){return i.utils.generateUuid()},this.getTempPath=function(e){return e+"_"+i.utils.generateUuid()},this.copyFile=function(e,t,n){if(!s)return void n("no fs");try{var i=this.getTempPath(t),r=s.createWriteStream(i),o=s.createReadStream(e),a=!1;o.on("end",function(){a||s.rename(i,t,n)}),o.on("error",function(e){a=!0,n(e)}),o.pipe(r)}catch(e){n(e)}},this.removeRecursive=function(t,n){var i=this,r=e.defer(),o=function(t){var r=e.defer();return s.stat(t,function(e,o){e?r.reject(e):o.isDirectory()?r.resolve(i.removeRecursive(t,!0)):n?s.unlink(t,function(e){e?r.reject(e):r.resolve()}):r.resolve()}),r.promise};return s?s.readdir(t,function(i,a){if(i)return void r.reject(i);var l=[];a.forEach(function(e){var n=c(t,e);l.push(o(n))}),e.all(l).then(function(){n?s.rmdir(t,function(e){e?r.reject(e):r.resolve()}):r.resolve()},function(){r.reject()})}):r.reject(),r.promise},this.ensurePathExists=function(e,t){function n(e,t,i){var r=t.slice(0,e).join("/"),o=function(r){e<t.length?n(e+1,t,i):i(null)};s.exists(r,function(e){e?o():s.mkdir(r,o)})}if(!s)return void t("no fs");var i=e.split("/");n(2,i,t)}}];return{attach:i}}),define("services/utils/imageUtils",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=[function(){this.serviceName="imageUtils",this.getImageDimensions=function(e){function t(e){for(var t=e.parentElement;t;){if(t.attributes.hasOwnProperty("img-size"))return t;t=t.parentElement}}var n,i,r=t(e),o=r.clientWidth,a=r.clientHeight,s=o/a,l=e.naturalWidth,c=e.naturalHeight,u=l/c;return l<=o&&c<=a?(n=l,i=c):u>=s?(n=o,i=n/u):(i=a,n=i*u),{width:n,height:i}},this.scaleAndPositionImage=function(e,t,n){var i=n?n.width:e.texture?e.texture.width:e.width,r=n?n.height:e.texture?e.texture.height:e.height,o=t.thumbnailWidth-2*t.border,a=t.border;t.thumbnailMaxWidth&&t.thumbnailMaxWidth<o&&(a=t.border+(o-t.thumbnailMaxWidth)/2,o=t.thumbnailMaxWidth);var s=t.thumbnailHeight-2*t.border,l=t.border,c=o/s,u=i/r;i<=o&&r<=s?(e.x=Math.floor(a+(o-i)/2),e.y=Math.floor(l+(s-r)/2)):u>=c?(e.width=o,e.height=Math.floor(o/u),e.x=Math.floor(a),e.y=Math.floor(l+(s-e.height)/2)):(e.width=Math.floor(s*u),e.height=s,e.x=Math.floor(a+(o-e.width)/2),e.y=Math.floor(l))}}];t.attach=function(e){i.module(e).service("imageUtils",r)}}),define("services/utils/importExport",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$q","csInterface","designLibraryManager","serializationUtils",function(e,t,n,i){function r(e){c[u](e)&&(c[d](e).forEach(function(t,n){var i=e+"/"+t;c[h](i).isDirectory()?r(i):c[f](i)}),c[p](e))}function o(t,n){var i=[],o=e.defer();try{r(t),c.mkdir(t,function(r){try{if(r)return void o.reject(r);n.elements.forEach(function(n){n.representations.forEach(function(n){if(n.contentPath){var r=n.contentPath,a=r.split(/\//),s=a[a.length-1],l=t+s;n.contentPath=s;var u=e.defer();i.push(u.promise),c.readFile(r,function(e,t){return e?void o.reject(e):void c.writeFile(l,t,function(e){return e?void o.reject(e):void u.resolve()})})}})}),c[g](t+"library.txt",JSON.stringify(n,void 0,2)),o.resolve(e.all(i))}catch(e){o.reject(e)}})}catch(e){o.reject(e)}return o.promise}function a(e){var n,i=t.getGlobalRoot();n=t.isWindowsOS()?/^.\:\/Users\/[^\/]+\//:/^\/Users\/[^\/]+\//;var r=i.match(n);if(r){var o=r[0];e=e.replace(/^~\//,o)}return e}function s(n){return t.evalScript("$._ADBE_LIBS_CORE.chooseFolder()").then(function(t){if("null"===t)return e.reject("No folder selected.");t=a(decodeURIComponent(t))+"/";var i=n.name.replace(/[<>:"\/\\|?*\x00-\x1F]/g,"_").trim();return""!==i&&"."!==i&&".."!==i||(i="Library"),t+i+"/"})}function l(e){t.evalScript("$._ADBE_LIBS_CORE.chooseFolder()").then(function(t){"null"===t?e():e(a(decodeURIComponent(t))+"/")})}var c=nodeRequire("fs"),u="existsSync",d="readdirSync",p="rmdirSync",h="statSync",f="unlinkSync",g="writeFileSync";this.replaceTilde=function(e){return a(e)},this.exportLibrary=function(e){s(e).then(function(t){i.exportLibraryData(e).then(function(e){o(t,e).then(function(e){window.alert("Created "+t)},function(e){window.alert("Problem writing "+t+"\n\n"+e)})})})},this.importLibraryFromFolder=function(e,t){if(e){var r=function(e,n){if(t)return void t(e,n);var i=e||'Created "'+n.name+'"\n\n';window.alert(i)};c.readFile(e+"library.txt","utf8",function(t,o){if(t)return void r("Problem reading library\n\n"+t);try{var a=JSON.parse(o),s=n.getPrivateLibraryCollection();i.importLibraryData(s,a,e).then(function(e){r(null,e)},function(e){r('Could not create library "'+a.name+'"\n\n'+e)})}catch(e){r("Problem importing library\n\n"+e)}})}},this.importLibrary=function(){l(this.importLibraryFromFolder.bind(this))}}];t.attach=function(e){i.module(e).service("importExport",r)}}),define("services/utils/linkUtils",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$window","$http","csInterface","imsInterface","debugLog","configuration","metrics","designLibraryManager","versionManager","localSettings","adobeStockUtils",function(e,t,n,i,r,o,a,s,l,c,u){function d(e){var t,n="",i="";for(t in e)e.hasOwnProperty(t)&&(n=n+i+t+"="+encodeURIComponent(e[t]),i="&");return n}function p(e,o,a,l,c){if(o){var u=s.getPrivateLibraryCollection();i.getAccessToken(u&&u.userId).then(function(o){if(o){var s=u&&u.cloudInfo&&u.cloudInfo.parameters,h=s&&s.jumpTargetClientId,f=s&&s.jumpTargetScope;if(s&&!h){var g=e+(e.indexOf("?")===-1?"?":"&")+"accessToken="+encodeURIComponent(o);return void n.launchInBrowser(g)}t({method:"POST",url:"https://"+i.getEnvironment().ims+"/ims/jumptoken/v1",data:d({bearer_token:o,target_client_id:a||h||"CreativeCloudWeb1",target_redirect_uri:e,target_scope:l||f||"openid,creative_cloud,read_organizations,additional_info.screen_name,additional_info.secondary_email",target_response_type:h?"code":"token"}),headers:{"Content-type":"application/x-www-form-urlencoded"}}).success(function(e,t){n.launchInBrowser(e.jump)}).error(function(t,o){r.log("error "+o+": jumpTo "+e+", result=\n"+("string"==typeof t?t:JSON.stringify(t))),401!==o||c?n.launchInBrowser(e):(i.clearAccessToken(),p(e,!0,a,l,!0))})}else n.launchInBrowser(e)},function(t){n.launchInBrowser(e)})}else n.launchInBrowser(e)}function h(e){var t=e.collection;return t.cloudInfo&&t.cloudInfo.viewURI?t.cloudInfo.viewURI:i.getEnvironment().ccwebHost}function f(e){var t=h(e);if(t){var n=o.CCWEB_LIBRARIES_URL;return n=n.replace(/ZZZZ/,t),n=n.replace(/YYYY/,e.id)}}function g(e){var t=h(e);if(t){var n=o.CCWEB_LIBRARIES_ARCHIVE_URL;return n=n.replace(/ZZZZ/,t),n=n.replace(/YYYY/,e.id)}}function m(e){var t=h(e.library);if(t){var n=o.CCWEB_ELEMENT_URL;return n=n.replace(/ZZZZ/,t),n=n.replace(/YYYY/,e.library.id),n=n.replace(/XXXX/,e.id)}}function v(e){if(!e)return"";var t=[];return Object.keys(e).forEach(function(n){t.push(n+"="+e[n])}),0===t.length?"":"?"+t.join("&")}function _(e){var t=n.getLocale().substring(3).toLowerCase();return t=o.AVAILABLE_HELP_LANGUAGES[t]?"_"+t:"",e+t}function y(){var e=a.addProductHeaders({}),t=n.getLocale();return t&&0!==t.length||(t="en-US"),{"x-product":encodeURIComponent(e["X-Product"]),"x-product-location":encodeURIComponent(e["X-Product-Location"]),as_camptype:encodeURIComponent(o.currentProduct.config.fullName),as_channel:"adobe_apps",as_campclass:"brand",as_campaign:"cc15_app",as_source:"app",as_content:"library",locale:t,sso_inbound:1}}function E(e,t){var n=!1,i=function(e,n,i){var r=encodeURIComponent(e);t[r]&&i?t[r]=t[r]+"%2C"+n:t[r]=n};if(e&&o.STOCK_SEARCH_OPTIONS.forEach(function(t){e[t.id]&&(i("filters[content_type:"+t.param+"]",1),t.filterKey&&i("filters["+t.filterKey+"][]",t.filterValue,!0),n=!0)}),!n){var r=u.getSearchUIOptions();r.forEach(function(e){i("filters[content_type:"+e.param+"]",1)})}}this.openLibraryURL=function(e){if(e){a.reportPanelEvent("viewLibraryOnWeb",{libraryID:e.id});var t=f(e);p(t,!0)}},this.openLibraryArchiveURL=function(e){if(e){a.reportPanelEvent("viewLibraryArchiveOnWeb",{libraryID:e.id});var t=g(e);p(t,!0)}},this.openElementURL=function(e,t,n){if(e){a.reportPanelEvent("viewElementOnWeb",{libraryID:e.library.id,elementID:e.id});var i=n||{};t&&(i.section=t);var r=m(e)+v(i);p(r,!0)}},this.openCollaborateURL=function(e){if(e){a.reportPanelEvent("shareLibraryInitiate",{libraryID:e.id});var t=f(e)+v({dialog:"collaborate"});p(t,!0)}},this.openHelpURL=function(){a.reportPanelEvent("showTutorial");var e=_(o.LEARN_MORE_URL_ROOT);p(e,!0)},this.openServiceErrorURL=function(e){a.reportPanelEvent("serviceErrorHelp");var t=_(o.SERVICE_ERROR_URL_ROOT);e&&(t=t+"#"+e),p(t,!1)},this.openInstallCCAppURL=function(){a.reportPanelEvent("installCCApp");var e=_(o.INSTALL_CC_APP_URL_ROOT);p(e,!1)},this.openUpdateCCAppURL=function(){a.reportPanelEvent("updateCCApp");var e=_(o.UPDATE_CC_APP_URL_ROOT);p(e,!1)},this.openUpdateCCLibrariesURL=function(){a.reportPanelEvent("updateCCLibraries");var e=_(o.UPDATE_CC_LIBRARIES_URL_ROOT);p(e,!1)},this.openShareLibraryLinkURL=function(e){if(e){a.reportShareLibraryLink(e);var t=f(e)+v({dialog:"share"});p(t,!0)}},this.openShareElementLinkURL=function(e){if(e){a.reportShareElementLink(e);var t=m(e)+v({dialog:"share"});p(t,!0)}},this.getStockURL=function(){return"https://"+i.getEnvironment().stockWebHost},this.launchStockSite=function(){var e=this.getStockURL()+v(y());p(e,!0,o.STOCK_CLIENT_ID,o.STOCK_TARGET_SCOPE)},this.launchLicenseURL=function(e){p(e,!1)},this.launchFindSimilarURL=function(e,t){var n=y();n.similia_id=e,E(t,n);var i=this.getStockURL()+o.STOCK_SEARCH_PATH+v(n);p(i,!0,o.STOCK_CLIENT_ID,o.STOCK_TARGET_SCOPE),a.reportPanelEvent("stockFindSimilarMoreResults")},this.launchSearchStockURL=function(e,t){var n=y();n.k=encodeURIComponent(e),E(t,n);var i=this.getStockURL()+o.STOCK_SEARCH_PATH+v(n);p(i,!0,o.STOCK_CLIENT_ID,o.STOCK_TARGET_SCOPE),a.reportPanelEvent("stockViewMoreResults")},this.launchStockAssetURL=function(e){var t=this.getStockURL()+"/"+e+v(y());p(t,!0,o.STOCK_CLIENT_ID,o.STOCK_TARGET_SCOPE),a.reportPanelEvent("stockViewResult")},this.launchEngagementLibraryURL=function(e){p(e,!1),a.reportPanelEvent("viewEngagementLibrary")},this.isRemoteUrl=function(e){return 0===e.indexOf("http:")||0===e.indexOf("https:")}}];t.attach=function(e){i.module(e).service("linkUtils",r)}}),define("services/utils/listenerUtils",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["digestUtils",function(e){this.addListenerManager=function(t,n){function i(e){return!n||a[e]}var r,o;t?(r=t,o={}):(r={},o=r);var a={};return n&&n.forEach(function(e){a[e]=[]}),o.notify=function(e){if(a[e]){var t=Array.prototype.slice.call(arguments,1),n=[];a[e].forEach(function(e){e.apply(e,t),e.isOneTime||n.push(e)}),a[e]=n}},o.notifyNonAngular=function(){var t=arguments;o.notify.apply(o.notify,t),e.triggerDigest()},o.hasListeners=function(e){return a[e]&&a[e].length>0},r.addListener=function(e,t,n){if(!i(e))throw new Error("Invalid listener event: "+e);a[e]=a[e]||[],a[e].push(t),n&&(t.isOneTime=!0)},r.removeListener=function(e,t){if(!i(e))throw new Error("Invalid listener event: "+e);a[e]=a[e]||[];var n=a[e].indexOf(t);n!==-1&&a[e].splice(n,1)},r.addScopedListener=function(e,t,n,i){r.addListener(t,n,i),e.$on("$destroy",function(){r.removeListener(t,n)})},o}}];t.attach=function(e){i.module(e).service("listenerUtils",r)}}),define("services/utils/lockUtils",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$rootScope","$window",function(e,t){var n={};this.obtainLock=function(e,t,i){var r=n[e];r||(r={pendingContinuations:[],isLocked:!1},n[e]=r),r.isLocked?r.pendingContinuations.push({continuation:t,thisObject:i}):(r.isLocked=!0,t.apply(i,[null]))},this.releaseLock=function(e){var t=n[e];if(t)if(t.pendingContinuations.length>0){var i=t.pendingContinuations.shift();setTimeout(function(){i.continuation.apply(i.thisObject,[null])})}else delete n[e]}}];t.attach=function(e){i.module(e).service("lockUtils",r)}}),define("services/utils/mediator",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$rootScope",function(e){function t(t){var n=[];this.destroy=function(){n.forEach(function(e){e()}),n=[]},t.$on("$destroy",this.destroy),this.emit=function(){e.$emit.apply(e,arguments)},this.on=function(t,i){n.push(e.$on(t,i))},this.onOnce=function(t,n){var i,r=function(){i(),n.apply(null,arguments)};i=e.$on(t,r)},this.bind=function(i,r){r=r||i,n.push(e.$watch(i,function(e){t[r]=e}))},this.share=function(i,r){r=r||i;var o=t.$watch(i,function(t){e[r]=t});n.push(function(){o(),delete e[r]})}}this.register=function(e){return new t(e)},this.emit=function(){e.$emit.apply(e,arguments)}}];t.attach=function(e){i.module(e).service("mediator",r)}}),define("services/utils/pngUtils",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=[function(){function e(e,t){var n,i;for(n=2;n<arguments.length;n++)for(i=0;i<arguments[n].length;i++)e[t++]=arguments[n].charAt(i)}function t(e){return String.fromCharCode(e>>8&255,255&e)}function n(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)}function i(e){return String.fromCharCode(255&e,e>>8&255)}function r(r,o,a){this.width=r,this.height=o,this.depth=a,this.pix_size=o*(r+1),this.data_size=2+this.pix_size+5*Math.floor((65534+this.pix_size)/65535)+4,this.ihdr_offs=0,this.ihdr_size=25,this.plte_offs=this.ihdr_offs+this.ihdr_size,this.plte_size=8+3*a+4,this.trns_offs=this.plte_offs+this.plte_size,this.trns_size=8+a+4,this.idat_offs=this.trns_offs+this.trns_size,this.idat_size=8+this.data_size+4,this.iend_offs=this.idat_offs+this.idat_size,this.iend_size=12,this.buffer_size=this.iend_offs+this.iend_size,this.buffer=[],this.palette={},this.pindex=0;var s,l,c=[];for(s=0;s<this.buffer_size;s++)this.buffer[s]="\0";e(this.buffer,this.ihdr_offs,n(this.ihdr_size-12),"IHDR",n(r),n(o),"\b"),e(this.buffer,this.plte_offs,n(this.plte_size-12),"PLTE"),e(this.buffer,this.trns_offs,n(this.trns_size-12),"tRNS"),e(this.buffer,this.idat_offs,n(this.idat_size-12),"IDAT"),e(this.buffer,this.iend_offs,n(this.iend_size-12),"IEND");var u=30912;for(u+=31-u%31,e(this.buffer,this.idat_offs+8,t(u)),s=0;(s<<16)-1<this.pix_size;s++){var d,p;s+65535<this.pix_size?(d=65535,p="\0"):(d=this.pix_size-(s<<16)-s,p=""),e(this.buffer,this.idat_offs+8+2+(s<<16)+(s<<2),p,i(d),i(~d))}for(s=0;s<256;s++){var h=s;for(l=0;l<8;l++)h=1&h?-306674912^h>>1&2147483647:h>>1&2147483647;c[s]=h}this.index=function(e,t){var n=t*(this.width+1)+e+1,i=this.idat_offs+8+2+5*Math.floor(n/65535+1)+n;return i},this.color=function(e,t,n,i){i=i>=0?i:255;var r=((i<<8|e)<<8|t)<<8|n;if("undefined"==typeof this.palette[r]){if(this.pindex===this.depth)return"\0";var o=this.plte_offs+8+3*this.pindex;this.buffer[o]=String.fromCharCode(e),this.buffer[o+1]=String.fromCharCode(t),this.buffer[o+2]=String.fromCharCode(n),this.buffer[this.trns_offs+8+this.pindex]=String.fromCharCode(i),this.palette[r]=String.fromCharCode(this.pindex++)}return this.palette[r]},this.getBase64=function(){var e,t,n,i,r,o,a,s=this.getDump(),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c=s.length,u=0,d="";do e=s.charCodeAt(u),i=e>>2,t=s.charCodeAt(u+1),r=(3&e)<<4|t>>4,n=s.charCodeAt(u+2),o=c<u+2?64:(15&t)<<2|n>>6,a=c<u+3?64:63&n,d+=l.charAt(i)+l.charAt(r)+l.charAt(o)+l.charAt(a);while((u+=3)<c);return d},this.getDump=function(){function t(t,i,r){var o,a=-1;for(o=4;o<r-4;o+=1)a=c[255&(a^t[i+o].charCodeAt(0))]^a>>8&16777215;e(t,i+r-4,n(a^-1))}var i,r,o=65521,a=5552,s=1,l=0,u=a;for(r=0;r<this.height;r++)for(i=-1;i<this.width;i++)s+=this.buffer[this.index(i,r)].charCodeAt(0),l+=s,0===(u-=1)&&(s%=o,l%=o,u=a);return s%=o,l%=o,e(this.buffer,this.idat_offs+this.idat_size-8,n(l<<16|s)),t(this.buffer,this.ihdr_offs,this.ihdr_size),t(this.buffer,this.plte_offs,this.plte_size),t(this.buffer,this.trns_offs,this.trns_size),t(this.buffer,this.idat_offs,this.idat_size),t(this.buffer,this.iend_offs,this.iend_size),"PNG\r\n\n"+this.buffer.join("")}}this.createPNG=function(e,t,n){return new r(e,t,n)}}];t.attach=function(e){i.module(e).service("pngUtils",r)}}),define("services/utils/recursionHelper",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$compile","$document",function(e){this.serviceName="recursionHelper",this.compile=function(t){var n=t.clone();t.contents().remove();var i;return function(t,r){i||(i=e(n.contents())),i(t,function(e){r.empty&&r.empty(),r.append(e)})}}}];t.attach=function(e){i.module(e).service("recursionHelper",r)}}),define("services/utils/serializationUtils",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$q","ccLibraries",function(e,t){this.exportRepresentationData=function(t){var n={id:t.id,type:t.type,relationship:t.relationship,isExternalLink:t.isExternalLink,width:t.width,height:t.height,isFullSize:t.isFullSize,contentLength:t.contentLength},i=t.getValues();return i.length>0&&(n.values=i),t.isExternalLink?(n.externalLinkURL=t.getContentURL(),e.when(n)):t.getContentPath().then(function(e){return n.contentPath=e,n})},this.exportElementData=function(t){var n={created:t.created,id:t.id,modified:t.modified,name:t.name,type:t.type,representations:[]},i=t.getValues();i.length>0&&(n.values=i);var r=[];return t.representations.forEach(function(e,t){var i=this.exportRepresentationData(e).then(function(e){n.representations[t]=e});r.push(i)},this),e.all(r).then(function(){return n})},this.exportLibraryData=function(t){var n={created:t.created,id:t.id,modified:t.modified,name:t.name,elements:[]},i=[];return t.elements.forEach(function(e,t){var r=this.exportElementData(e).then(function(e){n.elements[t]=e});i.push(r)},this),e.all(i).then(function(){return n})},this.importRepresentationData=function(n,i,r){var o=n.createRepresentation(i.type,i.relationship);i.values&&i.values.forEach(function(e){o.setValue(e.namespace,e.key,e.value)});var a;if(i.contentPath)a=o.setContentFromPath((r||"")+i.contentPath,!1).then(function(){return i.height&&(o.height=i.height),i.width&&(o.width=i.width),i.isFullSize&&(o.isFullSize=i.isFullSize),o});else if(i.externalLinkURL){var s=i.externalLinkURL,l=t.getServiceInfo(),c=l&&l.environment;"Staging"===c?s=s.replace("stock.adobe.com","primary.staging.adobestock.com"):"Production"===c&&(s=s.replace("primary.staging.adobestock.com","stock.adobe.com")),a=o.setContentFromURL(!0,s,{}).then(function(){i.height&&(o.height=i.height),i.width&&(o.width=i.width),i.isFullSize&&(o.isFullSize=i.isFullSize),i.contentLength&&(o.contentLength=i.contentLength)})}return a||e.when(o)},this.importElementData=function(t,n,i){var r=t.createElement(n.name,n.type);n.values&&n.values.forEach(function(e){r.setValue(e.namespace,e.key,e.value)});var o=[];return n.representations.forEach(function(e){if("primary"===e.relationship){var t=this.importRepresentationData(r,e,i);o.push(t)}},this),n.representations.forEach(function(e){if("primary"!==e.relationship){var t=this.importRepresentationData(r,e,i);o.push(t)}},this),e.all(o).then(function(){return r.endOperation(),r},function(){t.removeElement(r,!0)})},this.importLibraryData=function(t,n,i){var r=t.createLibrary(n.name),o=[];return n.elements.forEach(function(e){var t=this.importElementData(r,e,i);o.push(t)},this),e.all(o).then(function(){return r})}}];t.attach=function(e){i.module(e).service("serializationUtils",r)}}),define("services/utils/tether",["require","exports","tether"],function(e,t,n){"use strict";var i=["$compile","$rootScope","$window","$animate","$controller","$timeout","$q","$http","$templateCache","digestUtils",function(e,t,i,r,o,a,s,l,c,u){return function(a){function d(){w=new n(S({element:L[0]},a.tether))}function p(){return w&&w.enabled}function h(){return a.element?void L.addClass("hidden"):(p()?r.leave(L,function(){L=null}):L=null,void(y&&(y.$destroy(),y=void 0)))}function f(){w&&w.destroy(),L&&!a.element?r.leave(L):L.addClass("hidden"),u.triggerDigest()}function g(e){var t=e.target;if(L&&C!==L[0]){for(;null!==t.parentElement;){if(t.parentElement===L[0])return;t=t.parentElement}return A.off("click",g),f()}}function m(t,n,s){if(s&&(y&&(y.$destroy(),y=void 0),L=null),L)n&&(y.$locals=n);else{L=a.element?a.element.html(t.trim()):angular.element(t.trim()),y=y||T.$new(),n&&(y.$locals=n);var l;a.controller&&(l=o(E,{$scope:y})),b&&(y[b]=l),e(L)(y)}return i.setTimeout(function(){a.element?L.removeClass("hidden"):r.enter(L,A),d(),w.position(),a.leaveOnBlur&&A.on("click",g),u.triggerDigest()}),L}function v(e,t){var n=s.defer();return x().then(function(i){n.resolve(m(i,e,t))}),n.promise}function _(){L&&(r.move(L,A),d())}if(!(!a.template^!a.templateUrl))throw new Error("Expected one of either `template` or `templateUrl`");a.tether=a.tether||{};var y,E=a.controller||angular.noop,b=a.controllerAs,T=a.parentScope||t,S=angular.extend,L=null,A=angular.element(i.document.body),C=a.tether.target||A;a.tether.target=C;var w,x=function(){if(a.template){var e=s.defer();return e.resolve(c.get(a.template)||a.template),e.promise}return l.get(a.templateUrl,{cache:c}).then(function(e){return e.data})};return{enter:v,leave:f,destroy:h,position:_,isActive:p,config:a.tether}}}];t.attach=function(e){angular.module(e).factory("Tether",i)}}),define("services/utils/textstyleUtils",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r={},o=["configuration","$translate",function(e,t){this.serviceName="textstyleUtils";var n=function(){r.Underline||(r.Underline=t.instant("DL_TEXT_ATTRIBUTE_UNDERLINE"),r.Strikethrough=t.instant("DL_TEXT_ATTRIBUTE_STRIKETHROUGH"),r.Leading=t.instant("DL_TEXT_ATTRIBUTE_LEADING"),r.Kerning=t.instant("DL_TEXT_ATTRIBUTE_KERNING"),r.Tracking=t.instant("DL_TEXT_ATTRIBUTE_TRACKING"),r.LeadingAuto=t.instant("DL_TEXT_LEADING_AUTO"),r.KerningAuto=t.instant("DL_TEXT_KERNING_AUTO"),r.KerningOptical=t.instant("DL_TEXT_KERNING_OPTICAL"),r.KerningMetricsRomanOnly=t.instant("DL_TEXT_KERNING_METRICSROMANONLY"))};this.getStyleProperties=function(e){var t=[];if(n(),e.adbeFont?t.push(e.adbeFont.family):e.fontFamily&&t.push(e.fontFamily),e.adbeFont&&e.adbeFont.style.toLowerCase().indexOf("normal")===-1&&e.adbeFont.style.toLowerCase().indexOf("regular")&&t.push(e.adbeFont.style),e.fontSize){var i=e.fontSize.value&&Math.round(100*e.fontSize.value)/100;t.push(i+e.fontSize.type)}if(e.textDecorationObject?(e.textDecorationObject.adbeUnderline&&t.push(r.Underline),e.textDecorationObject.adbeStrikethrough&&t.push(r.Strikethrough)):e.textDecoration&&(e.textDecoration.indexOf("underline")!==-1&&t.push(r.Underline),e.textDecoration.indexOf("line-through")!==-1&&t.push(r.Strikethrough)),e.adbeAutoLeading)t.push(r.Leading+":"+r.LeadingAuto);else if(e.lineHeight){var o=e.lineHeight.value&&Math.round(100*e.lineHeight.value)/100;t.push(r.Leading+":"+o+e.lineHeight.type)}switch(e.adbeIlstKerningMethod){case"AutoKernType.AUTO":t.push(r.Kerning+":"+r.KerningAuto);break;case"AutoKernType.OPTICAL":t.push(r.Kerning+":"+r.KerningOptical);break;case"AutoKernType.METRICSROMANONLY":t.push(r.Kerning+":"+r.KerningMetricsRomanOnly)}return e.adbeTracking?t.push(r.Tracking+":"+e.adbeTracking):e.letterSpacing&&t.push(r.Tracking+":"+1e3*e.letterSpacing.value),t}}];t.attach=function(e){i.module(e).service("textstyleUtils",o)}}),define("services/utils/unitUtils",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$translate",function(e){this.serviceName="unitUtils",this.bytesToString=function(t,n){var i="B";t>1024&&(t/=1024,i="KB",t>1024&&(t/=1024,i="MB",t>1024&&(t/=1024,i="GB")));var r=Math.pow(10,n||0);return t=Math.round(t*r)/r,e.instant("DL_FILESIZE_"+i,{size:t})},this.msToString=function(t){var n=Math.round(t/1e3),i=Math.floor(n/60);if(n-=60*i,n<10&&(n="0"+n),i){var r=Math.floor(i/60);return i-=60*r,r?(i<10&&(i="0"+i),e.instant("DL_DURATION_HMS",{hours:r,minutes:i,seconds:n})):e.instant("DL_DURATION_MS",{minutes:i,seconds:n})}return e.instant("DL_DURATION_S",{seconds:n})},this.fpsToString=function(t){return e.instant("DL_FRAMERATE",{framerate:t})},this.dimensionsToString=function(t,n){return e.instant("DL_DIMENSIONS",{width:t,height:n})}}];t.attach=function(e){i.module(e).service("unitUtils",r)}}),define("services/utils/uploadUtils",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$window",function(e){var t="cclibrariespanel"+Math.round(9999999*Math.random()),n="\r\n",i="--",r=function(e){function t(e){return 255&e.charCodeAt(0)}var n=Array.prototype.map.call(e,t),i=new Uint8Array(n);return i.buffer};this.prepareForBinaryUpload=function(e,o,a,s){var l=i+t+n+'Content-Disposition: form-data;name="'+a+'";filename="'+unescape(encodeURIComponent(s))+'"'+n+"Content-Type: application/octet-stream"+n+n+o+n+i+t+n;e.method="POST",e.headers["Content-Type"]="multipart/form-data;boundary="+t,e.data=r(l),e.transformRequest=[]}}];t.attach=function(e){i.module(e).service("uploadUtils",r)}}),define("services/utils/main",["require","exports","module","./adobeStockLicenseUtils","./adobeStockRendererUtils","./adobeStockUpdateUtils","./adobeStockUtils","./apiHttpInterceptor","./colorUtils","./debugLog","./debugUtils","./digestUtils","./fileUtils","./imageUtils","./importExport","./linkUtils","./listenerUtils","./lockUtils","./mediator","./pngUtils","./recursionHelper","./serializationUtils","./tether","./textstyleUtils","./unitUtils","./uploadUtils"],function(e,t,n){"use strict";function i(t){e("./adobeStockLicenseUtils").attach(t),e("./adobeStockRendererUtils").attach(t),e("./adobeStockUpdateUtils").attach(t),e("./adobeStockUtils").attach(t),e("./apiHttpInterceptor").attach(t),e("./colorUtils").attach(t),e("./debugLog").attach(t),e("./debugUtils").attach(t),e("./digestUtils").attach(t),e("./fileUtils").attach(t),e("./imageUtils").attach(t),e("./importExport").attach(t),e("./linkUtils").attach(t),e("./listenerUtils").attach(t),e("./lockUtils").attach(t),e("./mediator").attach(t),e("./pngUtils").attach(t),e("./recursionHelper").attach(t),e("./serializationUtils").attach(t),e("./tether").attach(t),e("./textstyleUtils").attach(t),e("./unitUtils").attach(t),e("./uploadUtils").attach(t)}return{attach:i}}),define("services/main",["require","exports","module","./config/main","./designlibrary/main","./external/main","./interface/main","./managers/main","./utils/main"],function(e,t,n){"use strict";t.attach=function(t){e("./config/main").attach(t),e("./designlibrary/main").attach(t),e("./external/main").attach(t),e("./interface/main").attach(t),e("./managers/main").attach(t),e("./utils/main").attach(t)}}),define("directives/core/dragDrop",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$parse","mediator","versionManager","configuration","designLibraryCEPEventHandlers","designLibrarySelection","designLibraryElements","digestUtils",function(e,t,n,r,o,a,s,l){return{restrict:"A",link:function(c,u,d){var p=d.dragChannel?d.dragChannel.split(" "):["defaultchannel"],h=d.onDrag&&e(d.onDrag),f=d.onDragStart&&e(d.onDragStart),g=d.onDropEnd&&e(d.onDropEnd),m=d.setTextData&&e(d.setTextData)(c),v=t.register(c),_=function(){return e(d.dragComponent)(c)},y=function(t){t.stopPropagation();var g=_();if(f&&(f(c,{asset:g}),l.triggerDigest()),o.setDraggedElements(void 0),d.dragData&&m){var y=e(d.dragData)(c);y&&(t.originalEvent.dataTransfer.setData("Text",i.toJson(y)),p.forEach(function(e){v.emit("ANGULAR_DRAG_START_"+e,t)}),l.triggerDigest())}var E=a.getSelection();E.length<=1&&(E=[g]);var b=[],T=[];E.forEach(function(e){if(s.isDraggable(e)){var t=s.getDragData(e);if(t){var n=t.usedRepresentationForAnalytics;delete t.usedRepresentationForAnalytics,T.push({element:e,usedRepresentation:n}),b.push(t)}}}),o.setDraggedElements(T);var S={source:r.DRAGDROP_SOURCE,version:n.getPluginVersion(),assetList:b},L=!1;if(d.dragData&&(S.assetList=e(d.dragData)(c),L=!0),!S.assetList)return t.preventDefault(),!1;if(t.originalEvent.dataTransfer.setData(r.DRAGDROP_ID,JSON.stringify(S)),h&&(h(c,{$event:t}),l.triggerDigest()),t.originalEvent.dataTransfer.setDragImage){var A=u[0];t.originalEvent.dataTransfer.setDragImage(A,-10,-10)}r.currentProduct.onDragStartHandler&&r.currentProduct.onDragStartHandler(t,S.assetList,L)},E=function(e){e.stopPropagation();var t=!1;(e.clientX<0||e.clientX>window.innerWidth||e.clientY<0||e.clientY>window.innerHeight)&&(t=!0),g&&g(c,{asset:_(),didDropSucceed:t}),l.triggerDigest()};u.on("dragstart",y),u.on("dragend",E),c.$on("disableDragging",function(){u.attr("draggable",!1)}),c.$on("enableDragging",function(){u.attr("draggable",d.uiDraggable)}),c.$watch(d.uiDraggable,function(e){e?u.attr("draggable",!0):u.attr("draggable",!1)}),c.$on("$destroy",function(){u.off("dragstart",y),u.off("dragend",E),y=void 0,E=void 0,u=void 0})}}}],o=["$parse","$interval","mediator","digestUtils",function(e,t,n,r){return{restrict:"A",link:function(t,o,a){function s(e){for(var t=o[0],n=e;n;){if(n===t)return!0;n=n.parentNode}}function l(e){var t=e.target||e.srcElement,n=E.leftTargets.indexOf(t);n!==-1?E.leftTargets.splice(n,1):E.targets.push(t)}function c(e){var t=e.target||e.srcElement,n=E.targets.indexOf(t);n!==-1?E.targets.splice(n,1):E.leftTargets.push(t)}function u(){E.targets=[],E.leftTargets=[]}function d(){return 1===E.targets.length&&0===E.leftTargets.length}function p(){return 0===E.targets.length&&0===E.leftTargets.length}function h(){E.draggedOver=!0}function f(e){function n(n){n.preventDefault(),n.originalEvent.dataTransfer.dropEffect="copy",h(),m&&(m(t,{$event:n,channel:e}),r.triggerDigest())}function a(n){l(n),d()&&(n.preventDefault(),v&&(v(t,{$event:n,channel:e}),r.triggerDigest()),o.addClass("drag-hovering"))}function s(n){c(n),p()&&(n.preventDefault(),_&&(_(t,{$event:n,channel:e}),r.triggerDigest()),o.removeClass("drag-hovering"))}function f(n){if(n.preventDefault(),u(),o.removeClass("drag-hovering"),n.originalEvent.handled)return void(_&&(_(t,{$event:n,channel:e}),r.triggerDigest()));if(y){try{var a=i.fromJson(n.originalEvent.dataTransfer.getData("Text"));y(t,{$data:a,$event:n,channel:e}),r.triggerDigest()}catch(i){_&&(_(t,{$event:n,channel:e}),r.triggerDigest())}n.originalEvent.handled=!0}}return{onDragOver:n,onDragEnter:a,onDragLeave:s,onDrop:f}}var g=a.dropChannel?a.dropChannel.split(" "):["defaultchannel"],m=a.onDragOver&&e(a.onDragOver),v=a.onDragEnter&&e(a.onDragEnter),_=a.onDragLeave&&e(a.onDragLeave),y=a.onDrop&&e(a.onDrop),E={draggedOver:!1,targets:[],leftTargets:[]},b=!0;t.$watch(a.uiDroppable,function(e){b=e});var T=n.register(t);g.forEach(function(e){var n=f(e),i=function(){o.off("dragover",n.onDragOver),o.off("dragenter",n.onDragEnter),o.off("dragleave",n.onDragLeave),o.off("drop",n.onDrop)};T.on("ANGULAR_DRAG_START_"+e,function(e,t){b&&!s(t.target)&&(o.on("dragover",n.onDragOver),o.on("dragenter",n.onDragEnter),o.on("dragleave",n.onDragLeave),o.on("drop",n.onDrop))}),T.on("ANGULAR_DRAG_END_"+e,function(n){i(),u(),o.removeClass("drag-hovering"),_&&_(t,{$event:n,channel:e})}),t.$on("$destroy",i)})}}}];t.attach=function(e){i.module(e).directive("uiDraggable",r),i.module(e).directive("uiDroppable",o)}}),
define("directives/core/dropFiles",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular");window.addEventListener("dragover",function(e){e.preventDefault()},!1),window.addEventListener("drop",function(e){e.preventDefault()},!1);var r=["$parse","configuration","designLibraryViewState","debugLog",function(e,t,n,i){return{restrict:"A",scope:{dropTypes:"@",dropSources:"@",dropFolder:"=",dropFile:"=",onDragEnter:"&",onDragLeave:"&",onDrop:"&",onDragOver:"&"},link:function(r,o,a){function s(e){var t=e.target||e.srcElement,n=_.indexOf(t);n!==-1?_.splice(n,1):v.push(t)}function l(e){var t=e.target||e.srcElement,n=v.indexOf(t);n!==-1?v.splice(n,1):_.push(t)}function c(){v=[],_=[]}function u(){return 1===v.length&&0===_.length}function d(){return 0===v.length&&0===_.length}function p(n){var i=e(r.dropTypes)(r)||["Files","application/x-moz-file","public.file-url"],o=e(r.dropSources)(r)||void 0,a=n.originalEvent.dataTransfer.types,s=n.originalEvent.dataTransfer.files,l=!0,c={};if(c.keys={metaKey:n.metaKey,altKey:n.altKey,ctrlKey:n.ctrlKey,shiftKey:n.shiftKey},s&&s.length>0&&(!i||i.indexOf("Files")>-1)&&(c.files=s),o){l=!1;try{var u=n.originalEvent.dataTransfer.getData(t.DRAGDROP_ID),d=u&&JSON.parse(u);l=o.indexOf(d.source)>-1,c.data=l?d:void 0}catch(e){}}var p=!1;if(a){var h;for(h=0;h<i.length;h++)if(a.indexOf(i[h])>-1){p=!0;break}}if(p&&(l||c.files))return c}function h(e){var n=p(e);n&&(e.preventDefault(),e.originalEvent.dataTransfer.dropEffect="copy",t.currentProduct.allowCmdDrag&&e.metaKey&&(e.originalEvent.dataTransfer.dropEffect="move"),r.onDragOver&&r.onDragOver({$data:n}))}function f(e){var t=p(e);if(s(e),e.preventDefault(),t)u()&&(r.$apply(function(){r.onDragEnter&&r.onDragEnter({$data:t})}),o.addClass("drag-hovering"));else{var a={};a.keys={metaKey:e.metaKey,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey},u()&&(y=!0,n.getDraggingData(function(e,t){e?i.log(e):(a.data=t,a.data&&u()&&(r.$apply(function(){r.onDragEnter&&r.onDragEnter({$data:a})}),o.addClass("drag-hovering")))}))}}function g(e){var t=p(e);(t||y)&&(l(e),e.preventDefault(),d()&&(r.$apply(function(){r.onDragLeave&&r.onDragLeave({$data:t})}),o.removeClass("drag-hovering")))}function m(e){var t=p(e);if(t){if(e.preventDefault(),c(),o.removeClass("drag-hovering"),e.originalEvent.handled)return void r.$apply(function(){r.onDragLeave&&r.onDragLeave({$data:t})});r.$apply(function(){r.onDrop&&r.onDrop({$data:t})}),e.originalEvent.handled=!0}}var v=[],_=[],y=!1;o.on("dragenter",f),o.on("dragover",h),o.on("dragleave",g),o.on("drop",m),r.$on("$destroy",function(){o.off("dragenter",f),o.off("dragover",h),o.off("dragleave",g),o.off("drop",m)})}}}];t.attach=function(e){i.module(e).directive("edgeccDropFiles",r)}}),define("directives/core/focus",["require","exports","module","angular"],function(e,t,n){"use strict";function i(e,t,n){var i=t.split("."),r=e;if(i.length>1){var o;for(o=0;o<i.length-1;o++)r[i[o]]=r[i[o]]||{},r=r[i[o]]}r[i[i.length-1]]=n}var r=e("angular"),o=["$parse","digestUtils","$window",function(e,t,n){return{restrict:"A",link:function(e,t,r){var o=r.edgeccSetFocus||"setFocus";i(e,o,function(e,i,r){var o=r?250:0;n.setTimeout(function(){var n=t.get(0);e?(n.focus(),i&&n.select()):n.blur()},o)})}}}];t.attach=function(e){r.module(e).directive("edgeccSetFocus",o)}}),define("directives/core/hover",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$parse",function(e){return{restrict:"A",link:function(t,n,i){var r=i.edgeccHover||"hover",o=i.onHoverEnter&&e(i.onHoverEnter),a=i.onHoverLeave&&e(i.onHoverLeave),s=function(e){n.addClass(r),o&&o(t,{})},l=function(e){n.removeClass(r),a&&a(t,{})};n.on("mouseenter",s),n.on("mouseleave",l),t.$on("$destroy",function(){n.off("mouseenter",s),n.off("mouseleave",l)})}}}];t.attach=function(e){i.module(e).directive("edgeccHover",r)}}),define("directives/core/imageOnLoad",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$parse","$window","digestUtils","imageUtils",function(e,t,n,i){return{restrict:"A",scope:!1,link:function(e,t,n){var i=function(){e.imgLoaded(t[0])};t.on("load",i),e.$on("$destroy",function(){t.off("load",i),i=void 0,t=void 0})},controller:["$scope",function(e){e.imgLoaded=function(r){var o=i.getImageDimensions(r);e.imgStyle.width=o.width+"px",e.imgStyle.height=o.height+"px",t.setTimeout(function(){r.style.display="inline",n.triggerDigest()},0)}}]}}];t.attach=function(e){i.module(e).directive("imageOnLoad",r)}}),define("directives/core/isEventTarget",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=[function(){return{restrict:"A",link:function(e,t,n){function i(e,t){for(var n=e,i=t;i;){if(i===n)return!0;i=i.parentNode}return!1}var r=n.isEventTarget||"isEventTarget";e[r]=function(e){return i(t[0],e.target)}}}}];t.attach=function(e){i.module(e).directive("isEventTarget",r)}}),define("directives/core/scrolling",["require","exports","module","angular"],function(e,t,n){"use strict";function i(e,t,n){var i=t.split("."),r=e;if(i.length>1){var o;for(o=0;o<i.length-1;o++)r[i[o]]=r[i[o]]||{},r=r[i[o]]}r[i[i.length-1]]=n}var r=e("angular"),o=["$window","digestUtils",function(e,t){return{restrict:"A",link:function(n,r,o){var a=o.edgeccScrollToTop||"scrollToTop";i(n,a,function(){var n=r.get(0);e.setTimeout(function(){n.scrollTop=0,t.triggerDigest()})})}}}],a=["$window","digestUtils",function(e,t){return{restrict:"A",link:function(n,r,o){var a=o.edgeccScrollToBottom||"scrollToBottom";i(n,a,function(){var n=r.get(0);e.setTimeout(function(){n.scrollTop=n.scrollHeight,t.triggerDigest()})})}}}],s=[function(){return{restrict:"A",link:function(e,t,n){var r=n.edgeccGetScrollPosition||"getScrollPosition";i(e,r,function(){var e=t.get(0);if(e.scrollHeight>e.clientHeight)return e.scrollTop/(e.scrollHeight-e.clientHeight)})}}}],l=["digestUtils",function(e){return{restrict:"A",link:function(t,n,i){var r=n.get(0);r.onscroll=function(){t.scrollPosition=r.scrollTop,e.triggerDigest()},t.scrollTo=function(e){r.scrollTop=e}}}}];t.attach=function(e){r.module(e).directive("edgeccScrollToTop",o),r.module(e).directive("edgeccScrollToBottom",a),r.module(e).directive("edgeccGetScrollPosition",s),r.module(e).directive("edgeccMonitorScrollPosition",l)}}),define("directives/core/nativeContextMenu",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$parse","designLibraryContextMenu","designLibraryStockContextMenu","designLibraryViewState","configuration",function(e,t,n,i,r){return{restrict:"A",link:function(o,a,s){var l=s.nativeContextMenu&&e(s.nativeContextMenu),c=s.contextMenuSubElement&&e(s.contextMenuSubElement),u=function(a){if(r.CONTEXT_MENUS_ENABLED!==!1)if(a.stopPropagation(),i.isStockSearchMode()){var u=l&&l(o),d=s.contextMenuSaveCallback&&e(s.contextMenuSaveCallback)(o),p=s.contextMenuSavePreview&&e(s.contextMenuSavePreview)(o);n.showContextMenu(u,p,d,a.currentTarget)}else{var h=l&&l(o),f=h&&h.library,g=c&&c(o);t.showContextMenu(f,h,g)}};a.on("contextmenu",u),o.$on("$destroy",function(){a.off("contextmenu",u),u=void 0,a=void 0})}}}];t.attach=function(e){i.module(e).directive("nativeContextMenu",r)}}),define("directives/core/onsearch",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$parse",function(e){return{restrict:"A",link:function(t,n,i){var r=i.onSearch&&e(i.onSearch),o=function(e){r&&r(t,{})};n.on("search",o),t.$on("$destroy",function(){n.off("search",o)})}}}];t.attach=function(e){i.module(e).directive("onSearch",r)}}),define("directives/core/main",["require","exports","module","./dragDrop","./dropFiles","./focus","./hover","./imageOnLoad","./isEventTarget","./scrolling","./nativeContextMenu","./onsearch"],function(e,t,n){"use strict";t.attach=function(t){e("./dragDrop").attach(t),e("./dropFiles").attach(t),e("./focus").attach(t),e("./hover").attach(t),e("./imageOnLoad").attach(t),e("./isEventTarget").attach(t),e("./scrolling").attach(t),e("./nativeContextMenu").attach(t),e("./onsearch").attach(t)}}),define("directives/designlibrary/designLibrary",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=[function(){return{restrict:"E",templateUrl:"directives/designlibrary/templates/designLibrary.tmpl.html",replace:!0,scope:{},controller:["$scope","$translate","metrics","designLibraryManager","designLibraryViewState","designLibraryFlyoutMenu","designLibrarySelection","adobeStockLicenseUtils","$window",function(e,t,n,i,r,o,a,s,l){e.sortExpression="+created",e.selectedLibraryChanged=function(){e.library&&(n.reportPanelEvent("loadLibrary",{libraryID:e.library.id}),i.setCurrentLibrary(e.library))},i.addScopedListener(e,"libraryList",function(){e.libraries=i.getLibraries()}),e.libraries=i.getLibraries(),i.addScopedListener(e,"currentLibrary",function(){e.library=i.getCurrentLibrary(),e.library||e.hideDialogs()}),e.library=i.getCurrentLibrary(),o.addScopedListener(e,"createLibrary",function(){i.getPrivateLibraryCollection()&&e.showCreateDialog()}),o.addScopedListener(e,"deleteLibrary",function(){e.library&&e.showDeleteDialog()}),o.addScopedListener(e,"renameLibrary",function(){e.library&&e.showSettingsDialog()}),r.addScopedListener(e,"hideDialogs",function(){e.hideDialogs(!0)}),s.addScopedListener(e,"showStockPurchaseDialog",function(t,n,i,r,o,a){e.showStockPurchaseDialog(t,n,i,r,o,a)}),e.hideDialogs=function(t){t||r.resetMode(),e.createDialog.visible=!1,e.settingsDialog.visible=!1,e.deleteDialog.visible=!1,e.stockPurchaseDialog.visible=!1},e.createDialog={visible:!1},e.showCreateDialog=function(){n.reportPanelEvent("createLibraryInitiate"),e.newItem={},e.hideDialogs(),e.createDialog.visible=!0,l.setTimeout(function(){e.createDialog.setFocus&&e.createDialog.setFocus(!0,!1,!0)})},e.createDesignLibrary=function(){e.createDialog.visible=!1;var t=i.createLibrary(e.newItem.name);i.setCurrentLibrary(t)},e.editItem={},e.settingsDialog={visible:!1},e.showSettingsDialog=function(){e.hideDialogs(),e.settingsDialog.visible=!0,e.editItem.name=e.library.name,l.setTimeout(function(){e.settingsDialog.setFocus&&e.settingsDialog.setFocus(!0,!0,!0)})},e.updateDesignLibrary=function(){n.reportPanelEvent("editLibraryName",{libraryID:e.library.id}),e.hideDialogs(),e.settingsDialog.visible=!1,e.library.name=e.editItem.name},e.deleteDialog={title:"",text:"",btnTitle:"",visible:!1},e.showDeleteDialog=function(){e.hideDialogs();var n="DL_DELETE_LIBRARY",i="DL_DELETE_MESSAGE",r="DL_DELETE";"incoming"===e.library.collaboration?(n="DL_LEAVE_LIBRARY",i="DL_LEAVE_MESSAGE",r="DL_LEAVE"):"outgoing"===e.library.collaboration?i="DL_DELETE_MESSAGE_SHARED":e.library.collection.isPublic&&(n="DL_UNFOLLOW_LIBRARY",i="DL_UNFOLLOW_MESSAGE",r="DL_UNFOLLOW"),e.deleteDialog.title=t.instant(n,e.library),e.deleteDialog.text=t.instant(i,e.library),e.deleteDialog.btnTitle=t.instant(r,e.library),e.deleteDialog.visible=!0},e.deleteCurrentLibrary=function(){e.deleteDialog.visible=!1,i.deleteCurrentLibrary()},e.stockPurchaseDialog={text:"",visible:!1},e.showStockPurchaseDialog=function(n,i,r,o,a,s){e.hideDialogs(!0),e.stockPurchaseDialog.okCallback=r,e.stockPurchaseDialog.cancelCallback=o,e.stockPurchaseDialog.titleText=n,e.stockPurchaseDialog.text=i,e.stockPurchaseDialog.cancelText=o?t.instant("DL_CANCEL"):null,e.stockPurchaseDialog.okText=a||"DL_OK",e.stockPurchaseDialog.secondaryOkText=s,e.stockPurchaseDialog.visible=!0},e.confirmStockPurchase=function(t){e.stockPurchaseDialog.visible=!1,e.stockPurchaseDialog.okCallback&&e.stockPurchaseDialog.okCallback(t)},e.cancelStockPurchase=function(){e.stockPurchaseDialog.visible=!1,e.stockPurchaseDialog.cancelCallback&&e.stockPurchaseDialog.cancelCallback()},e.uiState=r.getState(),e.setViewState=function(e){r.setViewState(e,i.getCurrentLibrary())},e.showRelinkOverlay=!0,e.onMouseEnter=function(){e.showRelinkOverlay=!1},e.$watch("uiState.mode",function(t){"relink"===t&&(e.showRelinkOverlay=!0),"normal"!==t&&e.hideDialogs(!0)}),e.isValidName=function(e){return!!(e&&e.length>0)},e.onCreateLibKeyDown=function(t,n){e.newItem.name=t.target.value,13===t.keyCode&&e.isValidName(e.newItem.name)&&e.createDesignLibrary()},e.onRenameLibKeyDown=function(t,n){e.editItem.name=t.target.value,13===t.keyCode&&e.isValidName(e.editItem.name)&&e.updateDesignLibrary()}}]}}];t.attach=function(e){i.module(e).directive("edgeccDesignLibrary",r)}}),define("directives/designlibrary/designLibraryArchive",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=function(){return{restrict:"E",replace:!0,templateUrl:"directives/designlibrary/templates/designLibraryArchive.tmpl.html",scope:{},controller:["$scope","designLibraryArchiveUtils","designLibraryElements","designLibraryManager","configuration",function(e,t,n,i,r){e.MAX_ELEMENTS=r.MAX_ELEMENTS,e.filterByCurrentLibrary=!0,e.currentLibrary=i.getCurrentLibrary();var o=function(){e.filterByCurrentLibrary?e.archiveList=t.getRemovedElements(e.currentLibrary):e.archiveList=t.getRemovedElements(),e.archiveList.forEach(function(e){e.elements.forEach(function(e){n.getRenditionUrl(e).then(function(t){e.thumbnail=t})})})};o();var a=i.getPrivateLibraryCollection();a&&(a.addDeepChangeListener(o),e.$on("$destroy",function(){a.removeDeepChangeListener(o)})),e.deleteIcon=r.currentProduct.config.deleteIcon||"newdelete",e.stopPropagation=function(e){e.stopPropagation()},e.toggleFilter=function(){e.filterByCurrentLibrary=!e.filterByCurrentLibrary,o()},e.restoreElements=function(e){e.forEach(function(e){!e.deletedLocally&&e.removed&&e.library.restoreElement(e)})},e.deleteElements=function(e){e.forEach(function(e){e.deletedLocally||e.library.removeElement(e,!0)})}}]}};t.attach=function(e){i.module(e).directive("edgeccDesignLibraryArchive",r)}}),define("directives/designlibrary/designLibraryComponent",["require","exports","module","angular"],function(e,t,n){"use strict";function i(e,t){return"<"+e+' component="::component"></'+e+">"}var r=e("angular"),o=["$compile","$parse","designLibraryElements",function(e,t,n){function r(t,r){if(!o[r]){var a="<div></div>",s=n.getDirective(r);s&&(a=i(s));var l=t.clone();l.html(a),o[r]=e(l.contents())}return o[r]}var o={};return{restrict:"E",scope:!1,compile:function(e,n){return function(n,i){var o=t("component")(n).type,a=r(e,o);a(n,function(e){i.append(e)})}}}}];t.attach=function(e){r.module(e).directive("edgeccDesignLibraryComponent",o)}}),define("directives/designlibrary/designLibraryContents",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=[function(){return{restrict:"E",templateUrl:"directives/designlibrary/templates/designLibraryContents.tmpl.html",replace:!1,scope:{library:"=",filteredItems:"="},controller:["$scope","$q","designLibrarySelection","designLibraryElements","configuration","designLibraryUtils","designLibraryManager","fileUtils","$translate","designLibraryDragUtils","designLibraryViewState","localSettings",function(e,t,n,i,r,o,a,s,l,c,u,d){e.uiState=u.getState(),e.categories=i.getElementTypes(),d.getDebugValue("enableWebGL")||(e.clickOutsideComponent=function(e){n.clearSelection()}),e.allowedDropTypes=[r.DRAGDROP_ID],e.allowedDropSources=[r.currentProduct.config.dragDropSource],d.getDebugValue("dragDropFiles")&&e.allowedDropTypes.push("Files"),e.onLayerDrop=function(t){if(e.isDraggingLayer=!1,e.isDraggingLayerToLink=!1,e.dropMessage=null,e.isDropAllowed){var n;r.currentProduct.dropHandler&&(n=r.currentProduct.dropHandler(t)),n||c.addElementsFromDropData(t)}},e.onLayerDragEnter=function(t){if(u.resetMode(),e.isDraggingLayer=!0,e.isDraggingLayerToLink=!1,e.dropMessage=null,e.layerNames=[],e.isDropAllowed=e.library.isWritable,!e.isDropAllowed)return void(e.dropMessage=l.instant("DL_DESIGN_LIBRARY_READ_ONLY"));if(e.isDropAllowed=o.canAddElement(e.library),!e.isDropAllowed)return void(e.dropMessage=l.instant("DL_DESIGN_LIBRARY_HAS_LIMIT"));r.currentProduct.customDropMessage&&(e.dropMessage=r.currentProduct.customDropMessage(t));var n=t.data,i=t.files;return n?(n.feedback&&(e.dropMessage=n.feedback),e.isDraggingLayerToLink=n.linked,e.isDropAllowed=n.assetList&&n.assetList.length>0,void(e.isDropAllowed&&(e.layerNames=c.getNamesFromDropData(t,e.library)))):i?void(e.layerNames=c.getNamesFromDropData(t,e.library)):void(e.isDraggingLayer=!1)},e.onLayerDragLeave=function(t){e.isDraggingLayer=!1},e.deleteCurrentLibrary=function(){a.deleteCurrentLibrary()},e.reuploadCurrentLibrary=function(){e.library.rebindToServer()},e.setScrollPosition=function(t){e.scrollTo(t)}}]}}];t.attach=function(e){i.module(e).directive("edgeccDesignLibraryContents",r)}}),define("directives/designlibrary/designLibraryEditableName",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=function(e){var t="directives/designlibrary/templates/designLibraryEditable"+e+"Name.tmpl.html";return[function(){return{restrict:"E",replace:!0,templateUrl:t,scope:{component:"=",selected:"=",defaultInformation:"=",allowBlankName:"="},controller:["$scope","$rootScope","$timeout","designLibraryUtils","mediator",function(e,t,n,i,r){e.editState={active:!1};var o=function(){e.$emit("disableDragging"),e.editState.active=!0,e.editState.name=e.component.name,n(function(){e.editState.setFocus(!0,!0)})};e.startEditName=function(t){t.stopPropagation(),e.component.library.isWritable&&(t.metaKey||t.ctrlKey||t.shiftKey||e.editState.active||o())},e.finishEditName=function(t){e.$emit("enableDragging"),e.editState.active&&(e.editState.active=!1,t||e.component.name===e.editState.name||""===e.editState.name.trim()&&!e.allowBlankName||n(function(){e.component.name=e.editState.name}))},e.handleKeyDown=function(t){return e.editState.name=t.target.value,13===t.keyCode?e.finishEditName():27===t.keyCode&&e.finishEditName(!0),!0};var a=t.$watch("globalHovering",function(t){e.globalHovering=t});e.$on("$destroy",function(){a()});var s=function(t,n){n===e.component&&o()},l=r.register(e);l.on("dlItemRenameRequest",s)}]}}]};t.attach=function(e){i.module(e).directive("designLibraryEditableGridName",r("Grid")),i.module(e).directive("designLibraryEditableListName",r("List"))}}),define("directives/designlibrary/designLibraryFooter",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=function(){return{restrict:"E",templateUrl:"directives/designlibrary/templates/designLibraryFooter.tmpl.html",replace:!0,scope:{library:"="},controller:["$scope","$window","$timeout","designLibrarySelection","designLibraryElements","designLibraryStatus","designLibraryManager","designLibraryViewState","layerSelectionManager","csInterface","configuration","linkUtils","designLibraryCEPEventEmitters","designLibraryFlyoutMenu",function(e,t,n,r,o,a,s,l,c,u,d,p,h,f){function g(){i.isFunction(d.currentProduct.getAddDocContentOperation)?e.addDocContentOperation=d.currentProduct.getAddDocContentOperation():e.addDocContentOperation=void 0}function m(){var t=c.getLayerInfo(),n=o.getAddOperations(t,e.library);e.insertDisabled=!0,n.forEach(function(t){t.disabled||(e.insertDisabled=!1)}),t?(e.layerName=t.fullName||"Selected layer",e.layerName.length>20&&(e.layerName=e.layerName.substring(0,19)+"...")):delete e.layerName,v()}e.uiState=l.getState(),e.doDeleteItems=function(e){var t=r.getSelection();s.deleteElements(t),r.clearSelection()},e.deleteIcon=d.currentProduct.config.deleteIcon||"newdelete",e.doLaunchStockSite=function(e){p.launchStockSite()},i.isFunction(d.currentProduct.getAddDocContentOperation)&&(c.addScopedListener(e,"layerSelectionChanged",g),s.addScopedListener(e,"privateCollection",g),g());var v=function(t){var n=r.getSelection();e.hasSelection=n.length>0,e.applyOperations=o.getApplyOperations(n,e.library)};r.addScopedListener(e,"selectionChanged",v),v(),c.addScopedListener(e,"layerSelectionChanged",m),e.$watch("library.elements.length",m),m(),e.status=a.getStatus(),e.tooltipData={status:e.status},e.$watch("status.errorType",function(t){t?e.errorMessage=a.getFooterErrorMessage(e.status):delete e.errorMessage,e.tooltipData.errorMessage=e.errorMessage}),e.syncStatus={visible:!1},e.onStatusClick=function(){"error"===e.status.state&&"syncDisabled"===e.status.errorType&&e.showCCAppWarningMessage()},e.showNetworkStatus=function(){"error"===e.status.state&&"syncDisabled"===e.status.errorType||(e.syncStatus.visible=!0,s.syncingEnabled()&&s.sync())},e.hideNetworkStatus=function(){e.syncStatus.visible=!1};var _,y=function(){e.ccAppWarning.visible&&(t.removeEventListener("click",_,!0),n(function(){e.ccAppWarning.visible=!1}))};_=function(t){e.isEventTargetCCAppWarning(t)||y()},e.ccAppWarning={visible:!1},e.enableCCApp=function(){y(),s.enableSyncing()},e.showCCAppWarningMessage=function(){e.ccAppWarning.visible||(t.addEventListener("click",_,!0),e.ccAppWarning.visible=!0)},e.hideCCAppWarningMessage=function(){y()},e.isWindowsOS=u.isWindowsOS(),e.allowedDropTypes=[d.DRAGDROP_ID],e.allowedDropSources=[d.DRAGDROP_SOURCE],e.onDropDone=function(t){e.library&&e.library.isWritable&&e.doDeleteItems()},e.relink=function(){var e=r.getSelection();e.length>0&&(h.sendElementChosen(e[0]),l.resetMode())},e.cancelRelink=function(){h.elementChooseCancelled(),l.resetMode()},e.archiveVisible=!1,f.addScopedListener(e,"showArchive",function(){e.archiveVisible=!0}),e.hideArchive=function(){e.archiveVisible=!1}}]}};t.attach=function(e){i.module(e).directive("edgeccDlFooter",r)}}),define("directives/designlibrary/designLibraryShowMore",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=function(){return{restrict:"E",replace:!1,templateUrl:"directives/designlibrary/templates/designLibraryShowMore.tmpl.html",scope:{elementType:"="},controller:["$scope","configuration","designLibraryElements","designLibraryViewState","digestUtils",function(e,t,n,i,r){function o(e){var t=e.match(/application\/vnd\.adobe\.element\.(.*)\+dcx/);return t?t[1]:null}e.uiState=i.getState(),e.shortType=o(e.elementType.type),e.showMoreElements=function(){e.$parent.uiState&&"search"===e.$parent.uiState.mode?e.elementType.limit+=t.DEFAULT_ELEMENTS_PER_CATEGORY:(e.elementType.limit++,e.loading=!0,e.elementType.limit<e.elementType.elements.length?setTimeout(function(){e.showMoreElements(),r.triggerDigest()},t.SHOW_MORE_STAGGER_INTERVAL):e.loading=!1)}}]}};t.attach=function(e){i.module(e).directive("edgeccDesignLibraryShowMore",r)}}),define("directives/designlibrary/designLibraryUndo",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$animate",function(e){return{restrict:"E",templateUrl:"directives/designlibrary/templates/designLibraryUndo.tmpl.html",replace:!1,scope:{},controller:["$scope","$timeout","$window","$translate","configuration","designLibraryManager","designLibraryUtils",function(e,t,n,i,r,o,a){var s,l=function(){s&&(t.cancel(s),s=void 0)};e.undo={visible:!1,timedout:!1,elements:[]};var c,u=function(){e.undo.visible&&(n.removeEventListener("click",c,!0),t(function(){l(),e.undo.visible=!1}))};c=function(t){e.isEventTargetUndoWarning(t)||u()},o.addScopedListener(e,"elementsDeleted",function(o){if(e.undo.visible||(e.undo.visible=!0,n.addEventListener("click",c,!0)),e.undo.elements=o,e.undo.timedout=!1,1===o.length){var d=a.truncateName(o[0].displayName,25);e.undo.message=i.instant("DL_UNDO_DELETE_ITEM",{name:d})}else e.undo.message=i.instant("DL_UNDO_DELETE_ITEMS",{num:o.length});l(),s=t(function(){s=void 0,e.undo.timedout=!0,u()},r.UNDO_TOAST_TIMEOUT)}),e.undoDelete=function(){e.undo.elements.forEach(function(e){if(!e.deletedLocally&&e.removed)if(e.library.isWritable&&e.library.elements.length<r.MAX_ELEMENTS)e.library.restoreElement(e);else{var t=o.getRecoveryLibrary(e.library.name);e.library.isWritable?e.library.moveElement(e,t):e.library.copyElement(e,t)}}),u()}}]}}];t.attach=function(e){i.module(e).directive("edgeccDlUndo",r)}}),define("directives/designlibrary/dlCategory",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=function(){return{restrict:"E",replace:!0,templateUrl:"directives/designlibrary/templates/dlCategory.tmpl.html",scope:{library:"=",scrollPosition:"=",setScrollPosition:"&"},controller:["$scope","$filter","$translate","configuration","csInterface","designLibrarySelection","designLibraryViewState","designLibraryElements","designLibraryManager","designLibraryUtils","digestUtils","metrics","localSettings",function(e,t,n,i,r,o,a,s,l,c,u,d,p){function h(n){return t("localeOrderBy")(n,e.uiState.sortFunction,!!e.searchText)}function f(n,i){return t("searchKeyword")(n,e.searchText,i)}function g(t,n){var i,r=l.getLibraryById(t),o=e.librariesModifiedTime[t];r&&o===r.modified&&!n||e.elementsByType.forEach(function(a){var l=!1;if(n)e.searchText&&(e.searchResultCount-=a.elements.length),a.elements.splice(0,a.elements.length),l=!0;else if(o){var c=null;for(i=0;i<a.elements.length;++i)c=a.elements[i],c.library.id===t&&(a.elements.splice(i--,1),e.searchText&&e.searchResultCount--,l=!0)}if(r){var u=r.getFilteredElements(a.type);e.searchText&&(u=f(u,s.getElementFilter(a.type))),u.length>0&&(a.elements.push.apply(a.elements,u),e.searchText&&(e.searchResultCount+=u.length),l=!0),e.librariesModifiedTime[t]=r.modified}else delete e.librariesModifiedTime[t];l&&(a.elements=h(a.elements))})}function m(){e.searchText&&e.searchAllLibraries||(g(e.library.id,!0),u.triggerDigest())}function v(){if(e.searchText&&e.searchAllLibraries){var t=Object.keys(e.librariesModifiedTime);t.forEach(function(e){g(e)}),t=Object.keys(e.librariesModifiedTime);var n=l.getLibraries();t.length<n.length&&n.forEach(function(e){t.indexOf(e.id)<0&&g(e.id)}),u.triggerDigest()}}function _(){var t=o.getSelection();t.forEach(function(t){e.elementsByType.some(function(e){if(e.type===t.type){if(e.collapsed=!1,e.elements.length>e.limit){var n=e.elements.indexOf(t);n>=e.limit&&(e.limit=n+1)}return!0}return!1})})}function y(){var e=l.getPrivateLibraryCollection();if(e){var t=p.getValue(e.userId+"#"+e.cloudId+"#collapsedTypes")||{},n=l.getLibraries().map(function(e){return e.id});n.push("search");var i=!1;Object.keys(t).forEach(function(e){n.indexOf(e)===-1&&(delete t[e],i=!0)}),i&&p.setValue(e.userId+"#"+e.cloudId+"#collapsedTypes",t)}}function E(){if(e.loading=!0,e.elementsByType=[],e.searchText=a.getSearchText(),e.searchAllLibraries=a.isLibrariesSearchMode(),e.searchResultCount=0,e.librariesModifiedTime={},e.library){e.library.removeChangeListener(m),l.getLibraryCollections().forEach(function(e){e.removeDeepChangeListener(v)}),e.searchText&&e.searchAllLibraries?l.getLibraryCollections().forEach(function(e){e.addDeepChangeListener(v)}):e.library.addChangeListener(m),e.librariesModifiedTime[e.library.id]=e.library.modified;var t=i.currentProduct.config.collapsedTypes||[],r=l.getPrivateLibraryCollection(),o=p.getValue(r.userId+"#"+r.cloudId+"#collapsedTypes")||{},c=e.searchText?"search":e.library.id,u=o[c]||t.slice(0);b.forEach(function(t){var a,d=n.instant(s.getDisplayName(t));if(e.searchText){var g=s.getElementFilter(t);e.searchAllLibraries?(a=[],l.getLibraries().forEach(function(n){var i=f(n.getFilteredElements(t),g);i.length>0&&a.push.apply(a,i),e.librariesModifiedTime[n.id]=n.modified})):a=f(e.library.getFilteredElements(t),g),e.searchResultCount+=a.length}else a=e.library.getFilteredElements(t);e.elementsByType.push({type:t,displayName:d,elements:h(a),limit:i.DEFAULT_ELEMENTS_PER_CATEGORY,get collapsed(){return u.indexOf(t)!==-1},set collapsed(e){this.collapsed!==e&&(e?u.push(t):u=u.filter(function(e){return e!==t}),o[c]=u,p.setValue(r.userId+"#"+r.cloudId+"#collapsedTypes",o))}})}),e.searchText!==a.getSearchText()&&(e.elementsByType=[]),_()}}if(e.webgl=p.getDebugValue("enableWebGL"),e.scrollHeight=0,e.setScrollHeight=function(t){e.scrollHeight=t||0},e.onSetScrollPosition=function(t){e.setScrollPosition({position:t})},e.hoveringComponent={},e.setHovering=function(t){t?e.hoveringComponent={resource:t,element:t.element,visible:!0,position:{width:t.width+"px",height:t.height+"px",left:t.x+"px",top:t.y+(e.scrollPosition||0)+"px"},textPosition:{width:t.textWidth+"px",height:t.textHeight+"px",left:t.textX+"px",top:t.textY+"px"}}:e.hoveringComponent={visible:!1},u.triggerDigest()},e.uiState=a.getState(),!e.webgl){var b=s.getElementTypes();l.waitForInitialLoad().then(function(){y(),l.getLibraryCollections().forEach(function(e){e.addChangeListener(y)})}),e.$watch("library",function(){e.currentLibrary&&e.currentLibrary.removeChangeListener(m),e.currentLibrary=e.library,E()}),e.$watch("uiState.sortFunction",function(t){e.elementsByType.forEach(function(e){e.elements=h(e.elements)})}),e.toggleCollapsed=function(e){e.collapsed=!e.collapsed,e.limit=i.DEFAULT_ELEMENTS_PER_CATEGORY},e.searchAdobeStock=function(){a.setSearchType("stock")},e.$watch("uiState.mode",function(e,t){if(!a.isSearchMode()){var n=l.getCurrentLibrary(),i=o.getSelection()[0];"normal"===e&&"search"===t&&n&&i&&i.library.id===n.id||(o.clearSelection(),i=null),E(),i&&setTimeout(function(){o.setSelection(i,!0),u.triggerDigest()})}}),a.addScopedListener(e,"search",function(){(a.isLibrarySearchMode()||a.isLibrariesSearchMode())&&(o.clearSelection(),E(),u.triggerDigest(),d.reportPanelEvent(e.searchAllLibraries?"panelSearchAll":"panelSearch",{resultCount:e.searchResultCount}))}),o.addScopedListener(e,"selectionChanged",function(){_()}),e.selectComponent=function(t,n){t.stopPropagation();var i=r.isWindowsOS();e.uiState.enableMultiSelect&&(!i&&t.metaKey||i&&t.ctrlKey)?o.toggleSelectedItem(n):e.uiState.enableMultiSelect&&t.shiftKey?o.setSelectionRange(n):o.setSelection(n)};var T,S;e.selectAndAddToDocument=function(t,n){if(e.selectComponent(t,n),t.metaKey||t.ctrlKey||t.shiftKey)T=null,S=null;else{if(T===n.id&&S>Date.now()-500)return;T=n.id,S=Date.now();var i=s.getOnClickApplyOperation(n,e.library);i&&i.apply()}},e.onDoubleClick=function(t,i){t&&t.stopPropagation();var o=s.getOnDoubleClickApplyOperation(i,e.library);if(o)return void o.apply();var a,l=s.getEditOperations(i);l.forEach(function(e){e.onDoubleClick&&!e.disabled&&(a=e)}),a&&c.checkElementWritable(i)&&(s.isDownloadInProgress(i)?r.showError(n.instant("DL_ERROR_EDIT_ELEMENT_DOWNLOADING")):a.apply())},e.onElementDragStart=function(e){var t=o.isSelected(e);if(!t){var n=!s.isDraggable(e);o.setSelection(e,!1,n)}}}}]}};t.attach=function(e){i.module(e).directive("edgeccDlCategory",r)}}),define("directives/designlibrary/dlEmpty",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=240,o=2.6,a=function(){return{restrict:"E",replace:!0,templateUrl:"directives/designlibrary/templates/dlEmpty.tmpl.html",scope:{library:"="},controller:["$scope","$window","$translate","$timeout","csInterface","configuration","metrics","linkUtils","designLibraryManager","designLibraryViewState","layerSelectionManager","ccxInterface","digestUtils","debugLog",function(e,t,n,a,s,l,c,u,d,p,h,f,g,m){function v(){i.isFunction(l.currentProduct.getAddDocContentOperation)?e.addDocContentOperation=l.currentProduct.getAddDocContentOperation():e.addDocContentOperation=void 0}e.isProductReadOnly=l.currentProduct.config.isReadOnly,e.instructionMessage="DL_EMPTY_LIB_PANEL_INSTRUCTION_"+l.currentProduct.config.translationSuffix,e.howToUseInBrowser=function(){u.openHelpURL()},e.getLibraryEngagementCards=function(){f.getLibraryEngagementCards(function(t,n){!t&&n&&(e.engagementCards=[],n.forEach(function(t){t.libraryID&&d.getLibraryById(t.libraryID)||e.engagementCards.push(t)}),a(function(){e.determineCardsToShow()}))})},e.processLibraryEngagementCard=function(e){e.isProcessing=!0,f.processLibraryEngagementCard(e,function(t,i){if(t)return delete e.isProcessing,void s.showError(n.instant("DL_EMPTY_LIB_ENGAGEMENT_FOLLOW_ERROR"));var r=i.id,o=0,a=setInterval(function(){var t=d.getLibraryById(r);return t?(delete e.isProcessing,clearInterval(a),f.markEngagementCardUsed(e),p.isDefaultMode()&&0===d.getCurrentLibrary().elements.length&&(d.setCurrentLibrary(t),g.triggerDigest()),void c.reportPanelEvent("subscribeLibrary",{libraryID:r})):o++>3e3?(delete e.isProcessing,
clearInterval(a),void d.getPrivateLibraryCollection().removeBookmark(i,function(e){e&&m.log("Error occured while removing a bookmark (engagement stream)"),p.isDefaultMode()&&0===d.getCurrentLibrary().elements.length&&s.showError(n.instant("DL_EMPTY_LIB_ENGAGEMENT_FOLLOW_ERROR"))})):void 0},60)})},e.skipEngagementCard=function(t){c.reportPanelEvent("dismissLibrary",{libraryID:t.libraryID||t.cardID}),f.markEngagementCardUsed(t),e.getLibraryEngagementCards()},e.engagementCardInBrowser=function(e){u.launchEngagementLibraryURL(e)},e.determineCardsToShow=function(){var t=document.getElementById("emptyPanelContainer");if(t){var n=Math.max(1,Math.floor(t.clientWidth/r));n!==e.engagementCardCount&&(e.engagementCardCount=n)}else e.engagementCardCount=0;g.triggerDigest()},e.getEngagementCardStyle=function(e){var t=document.getElementById("emptyPanelEngagementCard");return{"background-image":"url('"+e.backgroundImageLocalpath+"')",height:t.clientWidth/o+"px"}},e.getLibraryEngagementCards(),d.addListener("libraryList",function(){e.getLibraryEngagementCards()}),t.addEventListener("resize",e.determineCardsToShow,!0),i.isFunction(l.currentProduct.getAddDocContentOperation)&&(h.addScopedListener(e,"layerSelectionChanged",v),d.addScopedListener(e,"privateCollection",v),v())}]}};t.attach=function(e){i.module(e).directive("edgeccDlEmpty",a)}}),define("directives/designlibrary/dlNoLibraries",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=function(){return{restrict:"E",replace:!0,scope:{createCallback:"&"},templateUrl:"directives/designlibrary/templates/dlNoLibraries.tmpl.html",controller:["$scope","$timeout","mediator","designLibraryStatus","designLibraryManager","configuration","linkUtils","csInterface",function(e,t,n,i,r,o,a,s){e.appName=o.currentProduct.config.fullName,e.showAddLibraryDialog=function(){e.createCallback()},e.status=i.getStatus(),e.progressWidth="0%",e.$watch("status.syncProgress",function(t){var n=void 0!==t?t:0;e.progressWidth=n+"%"}),e.$watch("status.errorType",function(t){t?e.errorMessage=i.getLoadingErrorMessage(e.status):delete e.errorMessage}),e.retry=function(){r.sync()},e.reconnect=function(){r.reconnectToService()},e.enableCCApp=function(){r.enableSyncing()},e.reload=function(){window.location.reload()},e.serviceErrorHelp=function(e){a.openServiceErrorURL(e)},e.updateCCApp=function(){a.openUpdateCCAppURL()},e.installCCApp=function(){a.openInstallCCAppURL()},e.updateCCLibraries=function(){a.openUpdateCCLibrariesURL()}}]}};t.attach=function(e){i.module(e).directive("edgeccDlNoLibraries",r)}}),define("directives/designlibrary/dlStock",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=function(){return{restrict:"E",replace:!0,templateUrl:"directives/designlibrary/templates/dlStock.tmpl.html",scope:{library:"="},controller:["$q","$scope","$window","$translate","configuration","designLibraryManager","designLibraryViewState","designLibraryUtils","designLibraryElementUtils","adobeStockRestService","adobeStockUtils","adobeStockLicenseUtils","adobeStockUpdateUtils","fileUtils","linkUtils","digestUtils","unitUtils","metrics","localSettings","$timeout","designLibraryElements","csInterface","designLibraryCEPEventHandlers",function(e,t,n,i,r,o,a,s,l,c,u,d,p,h,f,g,m,v,_,y,E,b,T){function S(e){if(e){var t=document.getElementById("stockContent").clientWidth,n=240,i=6,r=83,o=[],a=0,s=0;e.forEach(function(l){if(o.push(l),a+=Math.ceil(l.thumbnail_width*n/l.thumbnail_height),e.length===++s||a>t){var c=t-o.length*i,u=a>c?Math.floor(n*c/a):n;o.forEach(function(e){e.rowHeight=u,e.rowWidth=Math.floor(e.thumbnail_width*u/e.thumbnail_height),e.isVerticalLayout=e.rowWidth<r}),o=[],a=0}})}}function L(){d.showStockError(i.instant("DL_STOCK_SAVE_UNKNOWN_ERROR_TITLE"),i.instant("DL_STOCK_SAVE_UNKNOWN_ERROR")),v.reportError("stockSaveError")}function A(e,t,n,i,r){try{i=i||"png";var o=O+"/"+h.getUniqueFileName()+"."+i,a=null,s=null;n?(a=n.width,s=n.height):(a=t.naturalWidth,s=t.naturalHeight);var l=document.createElement("canvas");if(l.width=a,l.height=s,0===l.width||0===l.height)return r();var c=l.getContext("2d");c.drawImage(t,0,0,a,s);var u=l.toDataURL("image/"+i);u=u.replace(/^data:image\/(png|jpg|jpeg);base64,/,"");var d,p={path:o,width:l.width,height:l.height};return r&&(d=function(e){r(p)}),h.writeFile(o,u,"base64",d),p}catch(e){r&&r()}}function C(e,n,i,a,s,c){var p,f,g=function(){delete n.saving,delete n.libraryName},m=function(){g(),L()},_=function(e){delete n.saving,delete n.libraryName,c||(e&&l.revealElement(e),i&&i.path&&h.deleteFile(i.path),v.reportCheckoutElement(e,p,a?f?"save":"buyandsave":"savepreview"))},E=R(n.media_type_id,n.content_type),b={searchText:t.searchText,method:t.findSimilarId?"similarSearch":t.findSimilarUrl||t.findSimilarPath?"visualSearch":"search",premiumLevel:n.premium_level_id};if(a){f=n.is_licensed&&""!==n.is_licensed;var T=e.id;return void d.showLicenseDialog({type:E},n.id,f,n.is_licensed,T,i,b,n).then(function(e){if(delete n.saving,delete n.libraryName,e&&(p=e.cartId,e.createdElementRef)){var t=30,i=0,r=function(){i++;var n=o.resolveElementReference(e.createdElementRef);n?_(n):i<t&&y(r,100)};r()}},function(){delete n.saving,delete n.libraryName})}var S=E===r.IMAGE_ELEMENT_TYPE&&(n.is_editorial||n.is_premium);if(S||E===r.VIDEO_ELEMENT_TYPE){var A=function(t){d.createStockElement(e,E,n,i,t,b,s).then(_,m)};if(c){var C=u.getLicenseTypesFromSearchResult(n);A(C[0].field)}else E===r.VIDEO_ELEMENT_TYPE?d.showVideoTypeChooser(n,!1,A,g):E===r.IMAGE_ELEMENT_TYPE&&d.showImageLicenseTypeChooser(n,!1,A,g)}else d.createStockElement(e,E,n,i,r.STOCK_LICENSE_TYPE_STANDARD,b,s).then(_,m)}t.isLoading=!1,t.uiState=a.getState(),t.requestedResultSize=r.STOCK_SEARCH_RESULT_SIZE,t.showSearchOptions=!1,t.resultsArrowStyle={},t.searchOptions=u.getSearchUIOptions(),t.searchOptionValues={},t.canSaveComp=function(e){return u.canSaveComp(e)},t.STOCK_FREE_CONTENT_LEVEL_ID=r.STOCK_FREE_CONTENT_LEVEL_ID;var w=_.getValue("searchOptionValues");if(w){t.searchOptionValues=w;var x=!1;r.STOCK_SEARCH_OPTIONS.forEach(function(e){w[e.id]&&(x=!0)}),t.showSearchOptions=x}t.doSearch=function(e){if(a.isStockSearchMode()&&(t.searchText!==t.uiState.modeParams.text||t.uiState.modeParams.findSimilarData&&(t.findSimilarId!==t.uiState.modeParams.findSimilarData.id||t.findSimilarUrl!==t.uiState.modeParams.findSimilarData.url||t.findSimilarPath!==t.uiState.modeParams.findSimilarData.path)||e||t.error)){if(t.findSimilarData=t.uiState.modeParams.findSimilarData,t.findSimilarId=t.uiState.modeParams.findSimilarData&&t.uiState.modeParams.findSimilarData.id,t.findSimilarUrl=t.uiState.modeParams.findSimilarData&&t.uiState.modeParams.findSimilarData.url,t.findSimilarPath=t.uiState.modeParams.findSimilarData&&t.uiState.modeParams.findSimilarData.path,t.searchText=t.uiState.modeParams.text,!(t.searchText&&0!==t.searchText.trim().length||t.findSimilarId||t.findSimilarUrl))return t.assets=null,void(t.error=null);t.searchOpionsStyle={position:"absolute"},t.isLoading=!0,t.assets=[],t.error=null;var n=o.getPrivateLibraryCollection().userId;clearTimeout(t.searchTimeout);var i=t.searchText;c.searchStockAssets(n,t.searchText.trim(),t.findSimilarData,t.searchOptionValues,t.requestedResultSize).then(function(e){if(a.isStockSearchMode()&&i===t.searchText){S(e),t.assets=e||[],t.error=null,t.offline=!1,t.isLoading=!1,e.length>0&&(t.searchOpionsStyle={}),g.triggerDigest(),clearTimeout(t.searchTimeout);var n="stockSearch";t.findSimilarId?n="stockSimilarSearch":(t.findSimilarUrl||t.findSimilarPath)&&(n="stockVisualSearch"),v.reportPanelEvent(n,{resultCount:t.assets.length})}},function(e,n){a.isStockSearchMode()&&i===t.searchText&&(t.isLoading=!1,t.error=!0,g.triggerDigest(),v.reportError("stockSearchError",n))}),t.searchTimeout=setTimeout(function(){t.isLoading&&(t.isLoading=!1,t.error=!0,g.triggerDigest())},r.STOCK_SEARCH_TIMEOUT)}};var O,D=o.getPrivateLibraryCollection();D.getTempDir(function(e,t){O=t});var R=function(e,t){if(4===e)return r.VIDEO_ELEMENT_TYPE;if(7===e)return r.TEMPLATE_ELEMENT_TYPE;if(6===e){var n=r.THREE_D_ELEMENT_TYPE;return t===h.LIGHT_MIME_TYPE?n=r.LIGHT_ELEMENT_TYPE:t===h.MATERIAL_MIME_TYPE&&(n=r.MATERIAL_ELEMENT_TYPE),n}return r.IMAGE_ELEMENT_TYPE};t.addAssetToLibrary=function(e,t,n,i){if(!t.saving&&s.checkLibraryWritable(e)){if(!t.id||!t.content_type||!t.media_type_id)return void L();4===t.media_type_id&&(n=document.getElementById("stockSearchThumbnail"+t.id)),t.libraryName=e.name,t.saving=!0,A(t,n,void 0,"png",function(n){C(e,t,n,i)})}},t.addToLibrary=function(e,n,i){var r=document.getElementById("stockSearchThumbnail"+e.id);t.addAssetToLibrary(o.getCurrentLibrary(),e,r,i)},t.closeSimilarMode=function(e){a.resetMode()},t.getTooltip=function(e){var t=e.title+"<br/>";if(e.media_type_id){var n=i.instant("DL_STOCK_ASSET_TOOLTIP_TYPE_"+e.media_type_id),r=R(e.media_type_id);if(r){var o=h.mimeLookup(r,e.content_type);o&&o.badge&&(n=i.instant("DL_STOCK_ASSET_TOOLTIP_DESCRIPTION",{type:n,contentType:o.badge}))}t+=n}return t},t.searchOnWeb=function(){t.findSimilarId?f.launchFindSimilarURL(t.findSimilarId,t.searchOptionValues):f.launchSearchStockURL(t.searchText,t.searchOptionValues)},t.showAssetOnWeb=function(e){f.launchStockAssetURL(e.id)},a.addScopedListener(t,"search",function(){t.doSearch()}),t.$watch("library",function(e){t.library=e});var I=function(){a.isStockSearchMode()&&t.assets&&t.assets.length>0&&(S(t.assets),g.triggerDigest())};n.addEventListener("resize",I,!0);var P=400,N=800,M=function(e,t,n){var i;return function(){var r=this,o=arguments,a=function(){i=null,n||e.apply(r,o)},s=n&&!i;clearTimeout(i),i=setTimeout(a,t),s&&e.apply(r,o)}},k=M(function(e){e.active&&(e.enableVideoPreview=!0,g.triggerDigest())},P),U=function(e){y(function(){!e.active&&e.enableVideoPreview&&(delete e.enableVideoPreview,g.triggerDigest())},N)};t.hoverEnter=function(e){e.active=!0,4===e.media_type_id&&k(e)},t.hoverLeave=function(e){delete e.active,4===e.media_type_id&&U(e)},t.offline=!n.navigator.onLine;var F=function(){!t.offline||!t.searchText||t.assets&&0!==t.assets.length||n.setTimeout(function(){t.doSearch()},200),t.offline=!1,g.triggerDigest()};n.addEventListener("online",F);var $=function(){t.offline=!0,g.triggerDigest()};n.addEventListener("offline",$),t.$on("$destroy",function(){n.removeEventListener("resize",I),n.removeEventListener("online",F),n.removeEventListener("offline",$)}),t.toggleSearchOptions=function(){t.showSearchOptions=!t.showSearchOptions,t.showSearchOptions?t.resultsArrowStyle={transform:"rotate(90deg)","-ms-transform":"rotate(90deg)","-webkit-transform":"rotate(90deg)"}:t.resultsArrowStyle={}},t.doSearchOptionChanged=function(){t.doSearch(!0),_.setValue("searchOptionValues",t.searchOptionValues)};var B,j,Y=function(e){var n,i=t.library,r=i.elements;return r.forEach(function(t){var i=u.getStockDataForElement(t);if(i){var r=parseInt(i.content_id,10);r===e&&(n=t)}}),n};t.showOfflineErrorDialog=function(e){var t="string"==typeof e?e:R(e.media_type_id,e.content_type),n=i.instant("DL_STOCK_PURCHASE_OFFLINE_ERROR"+u.getLocalizationSuffix({type:t}));b.showError(n)},t.onElementDragStart=function(e){t.stockDragData=void 0;var n=t.library,a=R(e.media_type_id,e.content_type),l=document.getElementById("stockSearchThumbnail"+e.id);if(B=void 0,j=!1,l&&(a===r.IMAGE_ELEMENT_TYPE||a===r.VIDEO_ELEMENT_TYPE)){var c,p=Y(e.id),h=void 0!==p,f=e.is_licensed&&""!==e.is_licensed;if(h)c=E.getDragData(p),c&&delete c.usedRepresentationForAnalytics;else{if(f&&t.offline&&t.showOfflineErrorDialog(a),n.isWritable===!1)return void b.showError(i.instant("DL_STOCK_DRAGDROP_READONLY_LIB_MSG"));if(s.canAddElement(n)===!1)return void b.showError(i.instant("DL_DESIGN_LIBRARY_HAS_LIMIT"));if(!t.canSaveComp(e))return;var g="PPRO"===r.currentProduct.config.code?"jpeg":"png",m=u.getCompSizeFromSearchResult(e),_=A(e,l),y=A(e,l,m,g);p=n.createElement(e.title,a),C(n,e,_,!1,p,!0),c=E.getCommonDragData(p);var T=y.path;if(a===r.VIDEO_ELEMENT_TYPE){T={},T.contentType=e.content_type,T.framerate=e.framerate,T.duration=e.duration;var S=u.getLicenseTypesFromSearchResult(e),L=e.comps[S[0].field];T.url=L.url,T.width=L.width,T.height=L.height}c.data=[T],B=p}if(c&&(c.path=c.data[0],c.displayName=p.displayName,E.isDraggable(p)&&(t.stockDragData=[c])),f&&p){var w=o.getPrivateLibraryCollection().userId;d.doLicense(p,w,e.id,!0,e.is_licensed)}v.reportPanelEvent("stockSearchResultDragged",{content_id:e.id,isExistingAsset:h,isLicensed:f,success:void 0!==p})}},T.addScopedListener(t,"elementDropped",function(e){j=!0}),t.onElementDrop=function(e,t){var n=function(){B.library.removeElement(B,!0),v.reportPanelEvent("stockSearchResultDragCancel",{content_id:e.id})};B&&(r.currentProduct.config.useMouseEventToDetectDrop?t||b.isWindowsOS()!==!1||n():y(function(){j||n()},j?0:1e3))}}]}};t.attach=function(e){i.module(e).directive("edgeccDlStock",r)}}),define("directives/designlibrary/dlStockBadge",["require","exports","module","angular"],function(e,t){"use strict";function n(e,t){this.adobeStockUtils=e,this.configuration=t}n.$inject=["adobeStockUtils","configuration"],n.prototype.assetHasPrice=function(){return!!this.asset.price},n.prototype.isEditorialAsset=function(){return this.asset.is_editorial},n.prototype.isFreeAsset=function(){return this.adobeStockUtils.isFreeAsset(this.asset)},n.prototype.isPremiumAsset=function(){return this.asset.is_premium},n.prototype.isShown=function(){return this.asset.active&&(this.isFreeAsset()||this.isPremiumAsset()||this.isEditorialAsset())},n.prototype.isVideo=function(){return 4===this.asset.media_type_id},t.attach=function(t){e("angular").module(t).directive("dlStockBadge",function(){return{restrict:"E",replace:!0,templateUrl:"directives/designlibrary/templates/dlStockBadge.tmpl.html",bindToController:{asset:"="},controller:n,controllerAs:"stockBadgeCtrl"}})}}),define("directives/designlibrary/dlVideoPreview",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["csInterface","designLibraryViewState","digestUtils","metrics","$window",function(e,t,n,i,r){return{restrict:"E",replace:!0,templateUrl:"directives/designlibrary/templates/dlVideoPreview.tmpl.html",scope:{asset:"=",offline:"<"},link:function(e,r,o){e.scanSlider=r.find(".panel-dl-stock-content-video-slider-handle")[0],e.video=r.find("video")[0],e.numberOfFramesScanned=0,e.videoState="ready",e.$watch("asset.enableVideoPreview",function(n,r){if(n===!0&&(e.numberOfFramesScanned=0,"loadStart"===e.videoState||"loadedMetadata"===e.videoState?e.scanVideo():(e.video.load(),e.videoState="loadStart")),!n&&r===!0&&(e.forceAbortBuffer(),e.numberOfFramesScanned>0)){var o=t.getState();i.reportPanelEvent("videoScanned",{content_id:e.asset.id,numberOfFramesScanned:e.numberOfFramesScanned,stateMode:o.mode,stateType:o.modeParams.type})}}),e.video.onloadedmetadata=function(){e.videoState="loadedMetadata",e.scanVideo()},e.video.addEventListener("error",function(t){e.videoState="error",n.triggerDigest()},!0),e.$watch("offline",function(t,n){t===!1&&"error"===e.videoState&&(e.videoState="ready",e.asset.enableVideoPreview&&e.video.load())})},controller:["$scope","$window","$translate","adobeStockUtils","configuration","unitUtils","$timeout",function(t,n,i,r,o,a,s){function l(e,t,n){var i,r,o,a=null,s=0;n||(n={});var l=function(){s=n.leading===!1?0:Date.now(),a=null,o=e.apply(i,r),a||(i=r=null)};return function(){var c=Date.now();s||n.leading!==!1||(s=c);var u=t-(c-s);return i=this,r=arguments,u<=0||u>t?(a&&(clearTimeout(a),a=null),s=c,o=e.apply(i,r),a||(i=r=null)):a||n.trailing===!1||(a=setTimeout(l,u)),o}}var c=null,u=4,d=function(e,n){var i=n-u-1,r=e>=i?i:e;t.scanSlider.style.left=r+"px"},p=l(function(){"error"===t.videoState&&t.video.load()},1e3);t.scanVideo=function(n){n&&(c=n.pageX),null!==c&&t.asset.enableVideoPreview&&("error"===t.videoState&&e.isWindowsOS()&&p(),"loadedMetadata"===t.videoState&&window.requestAnimationFrame(function(){var e=t.video.getBoundingClientRect(),n=c-e.left;t.video.currentTime=t.video.duration*(n/e.width),t.numberOfFramesScanned++,d(n,e.width)}))};var h=function(){return"loadedMetadata"===t.videoState&&t.video.buffered.end(t.video.buffered.length-1)===t.video.duration};t.forceAbortBuffer=function(){h()||(t.video.src="",t.video.src=t.asset.video_small_preview_url,t.videoState="ready")},t.getRoundedDuration=function(){return a.msToString(t.asset.duration)},t.getLicenseTypes=function(){if(t.asset.is_licensed&&""!==t.asset.is_licensed)return t.asset.is_licensed===o.STOCK_VIDEO_LICENSE_TYPE_HD.field?[o.STOCK_VIDEO_LICENSE_TYPE_HD.label]:[o.STOCK_VIDEO_LICENSE_TYPE_4K.label];var e=r.getLicenseTypesFromSearchResult(t.asset),n=[];return e.forEach(function(e){n.push(e.label)}),n}}]}}];t.attach=function(e){i.module(e).directive("dlVideoPreview",r)}}),define("directives/designlibrary/pixiOverlay",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=function(){return{restrict:"E",replace:!0,templateUrl:"directives/designlibrary/templates/pixiOverlay.tmpl.html",scope:{component:"="},controller:["$scope","$timeout","$translate","csInterface","mediator","designLibrarySelection","designLibraryViewState","designLibraryElements","designLibraryUtils",function(e,t,n,i,r,o,a,s,l){e.uiState=a.getState();var c,u,d,p=function(t,n){var r=i.isWindowsOS();e.uiState.enableMultiSelect&&(!r&&t.metaKey||r&&t.ctrlKey)?o.toggleSelectedItem(n):e.uiState.enableMultiSelect&&t.shiftKey?o.setSelectionRange(n):o.setSelection(n)};e.selectAndAddToDocument=function(t,n){t.stopPropagation();var i=e.component.element;if(p(t,i),!i||t.metaKey||t.ctrlKey||t.shiftKey)c=null,u=null;else{if(c===i.id&&d===n&&u>Date.now()-500)return;c=i.id,u=Date.now(),d=n;var r=s.getOnClickApplyOperation(i,i.library,n);r&&r.apply()}},e.onDoubleClick=function(t){t&&t.stopPropagation();var r=e.component.element;if(r){var o=s.getOnDoubleClickApplyOperation(r,r.library);if(o)return void o.apply();var a,c=s.getEditOperations(r);c.forEach(function(e){e.onDoubleClick&&!e.disabled&&(a=e)}),a&&l.checkElementWritable(r)&&(s.isDownloadInProgress(r)?i.showError(n.instant("DL_ERROR_EDIT_ELEMENT_DOWNLOADING")):a.apply())}},e.onElementDragStart=function(){var t=e.component.element;if(t){var n=o.isSelected(t);if(!n){var i=!s.isDraggable(t);o.setSelection(t,!1,i)}}};var h=function(){e.editState={active:!1}};h();var f=function(){e.$emit("disableDragging"),e.editState.active=!0,e.editState.name=e.component.element.name,e.editState.element=e.component.element,e.editState.position=e.component.position,e.editState.textPosition=e.component.textPosition,t(function(){e.editState.setFocus(!0,!0)})};e.startEditName=function(t){t.stopPropagation(),e.component.element.library.isWritable&&(t.metaKey||t.ctrlKey||t.shiftKey||e.editState.active||f())},e.finishEditName=function(n){if(e.$emit("enableDragging"),e.editState.active){var i=e.editState.element,r=e.editState.name;h(),n||i.name===r||""===r.trim()&&!s.allowBlankName(i)||t(function(){i.name=r})}},e.handleKeyDown=function(t){return e.editState.name=t.target.value,13===t.keyCode?e.finishEditName():27===t.keyCode&&e.finishEditName(!0),!0},e.mouseOverEditing=function(e){r.emit("dlClearHover")},o.addScopedListener(e,"selectionChanged",function(){e.editState.element&&!o.isSelected(e.editState.element)&&e.finishEditName()});var g=r.register(e);g.on("dlItemRenameRequest",function(t,n){n===e.component.element&&f()})}]}};t.attach=function(e){i.module(e).directive("pixiOverlay",r)}}),define("directives/designlibrary/pixiView",["require","exports","module","angular","pixi"],function(e,t,n){"use strict";var i=e("angular"),r=e("pixi"),o=["$filter","themeManager","fontManager","csInterface","designLibraryContextMenu","digestUtils","designLibraryRendering",function(e,t,n,i,o,a,s){return{restrict:"E",replace:!0,template:'<canvas style="image-rendering: -webkit-optimize-contrast"></canvas>',scope:{scrollPosition:"=",setScrollHeight:"&",setScrollPosition:"&",setHovering:"&"},link:function(e,t,n){var i=t[0].parentElement;e.renderer=s.createRenderer(t[0],function(){e.render(!0)}),e.resize=function(n){if(n||!e.width||!e.height||e.width!==i.clientWidth||e.height!==i.clientHeight){if(!i.clientWidth||!i.clientHeight)return void setTimeout(e.resize);e.width=i.clientWidth,e.height=i.clientHeight,e.renderer.resize(e.width,e.height),t[0].style.width=e.width+"px",t[0].style.height=e.height+"px",e.stage.hitArea=new r.Rectangle(0,0,e.width,e.height),s.setRendererSize(e.width,e.size),e.layout(),a.triggerDigest()}},t.on("mousewheel",function(t){var n=t.originalEvent;if(n){var i=Math.max(0,(e.scrollPosition||0)+n.deltaY);e.setScrollPosition({position:i}),a.triggerDigest()}}),window.onresize=e.resize},controller:["$scope","$rootScope","metrics","mediator","designLibraryManager","designLibraryViewState","designLibraryElements","designLibrarySelection",function(i,o,l,c,u,d,p,h){function f(t){return e("localeOrderBy")(t,i.uiState.sortFunction,!1)}function g(){return"list"===i.uiState.view}function m(){var e=d.getSearchText();e=e&&e.trim().toLowerCase();var t;return e&&(t=e.length>1&&'"'===e.charAt(0)&&'"'===e.charAt(e.length-1)?[e.substring(1,e.length-1)]:e.indexOf(" ")>-1?e.split(/[ ]+/):[e]),t}function v(){return d.isLibrariesSearchMode()&&m()}function _(){S=[]}function y(e){var t=m();e&&e.elements.forEach(function(e){var n=!0;if(t){var i=p.getElementFilter(e.type);n=i?i(e,t):t.every(function(t){return e.name.toLowerCase().indexOf(t)>-1})}n&&S.push(e)})}function E(e){_(),v()?u.getLibraryCollections().forEach(function(e){e.libraries.forEach(y)}):y(T),d.setNumResults(S.length),e?i.render():i.reRender()}function b(e){T&&T.removeChangeListener(E),u.getLibraryCollections().forEach(function(e){e.removeDeepChangeListener(E)}),T=u.getCurrentLibrary(),v()?u.getLibraryCollections().forEach(function(e){e.addDeepChangeListener(E)}):T&&T.addChangeListener(E),E(e)}i.uiState=d.getState();var T,S=[];i.stage=new r.Container,i.stage.interactive=!0;var L,A=[],C=function(e){e&&A.push(e),L||(L=!0,window.requestAnimationFrame(function(){L=!1;var e=A;A=[],e.forEach(function(e){e()}),i.renderer.render(i.stage)}))},w={},x={},O=function(e){if(!w[e]){var t=s.renderElementTypeHeader(e,{isExpanded:!x[e]});t.sprite.interactive=!0,t.sprite.buttonMode=!0,t.sprite.on("click",function(n){n.stopPropagation(),x[e]=!x[e],t.isExpanded=!x[e],i.setHovering({component:void 0}),i.layout()}),i.stage.addChild(t.sprite),w[e]=t}return w[e]},D={},R=function(e,t){var n=function(e){Object.keys(e).forEach(function(n){var i=e[n];i&&t(i)})};n(D),e&&n(w)},I=function(e){R(!1,function(t){t.isHovering=t===e}),i.setHovering({component:e}),C()},P=function(e){var t=s.renderElement(e,{isListView:g(),isSelected:h.isSelected(e),showOverlay:o.globalHovering});return t.onRequestRender(C),D[e.getReference()]=t,t.sprite.interactive=!0,t.sprite.buttonMode=!0,t.sprite.on("mouseover",function(e){e.stopPropagation(),I(t)}),i.stage.addChild(t.sprite),t},N=function(e,t){var n=e[t];n&&(i.stage.removeChild(n.sprite),n.destroy()),delete e[t]},M=function(e){Object.keys(D).forEach(function(e){var t=D[e];S.indexOf(t.element)===-1&&N(D,e)}),Object.keys(w).forEach(function(t){e.indexOf(t)===-1&&N(w,t)})},k=function(){var e=function(e){Object.keys(e).forEach(function(t){N(e,t)})};e(D),e(w),D={},w={}},U=function(e){N(w,e)},F=function(e){var t=e.getReference();N(D,t)},$=function(e){var t=e.getReference();return D[t]||(D[t]=P(e)),D[t]};i.stage.on("click",function(e){h.clearSelection()}),i.stage.on("mouseover",function(e){I()}),o.$watch("globalHovering",function(){R(!1,function(e){e.showOverlay=o.globalHovering}),o.globalHovering?C():I()});var B=p.getElementTypes(),j={};i.render=function(e,t){e?(D={},w={},i.stage.removeChildren()):k(),t||s.unloadAllTextures(e),i.reRender(e)},i.reRender=function(e){i.resize(e),j={},S.forEach(function(e){var t=p.getElementType(e);t&&(j[t]=j[t]||[],j[t].push(e))}),M(Object.keys(j)),Object.keys(j).forEach(function(e){var t=j[e];j[e]=f(t)}),i.layout()},i.layout=function(e){var t,n=2,r=i.scrollPosition||0,o=0,a=5-r,s=0,l=function(e){o=0,a+=s+n+(e||0),s=0},c=function(e){return a+e>=0&&a<=i.height},u=!0;if(B.forEach(function(r){var d=p.getElementTypeDimensions(r,g()),h=j[r]||[];if(0!==h.length){if(u||l(10),u=!1,!e)if(c(d.headerHeight)){var f=O(r);f.position(o,a)}else U(r);return a+=d.headerHeight,x[r]?(a-=8,void(e||h.forEach(F))):void h.forEach(function(r){if((g()||o+d.width>=i.width)&&l(),!e)if(c(d.height)){var u=$(r);u.position(o,a)}else F(r);r===e&&(t=a),g()||(o+=d.width+n),s=Math.max(s,d.height)})}}),l(2),i.setScrollHeight&&i.setScrollHeight({height:a+r}),e){var d=t+r,h=a+r,f=r,m=r+i.height;return void(d<f?i.setScrollPosition({position:Math.max(0,d-10)}):d>m&&i.setScrollPosition({position:Math.max(0,Math.min(h-i.height,d-10))}))}C()};var Y=function(){I(),i.setScrollPosition({position:0}),b(!0)};i.$watch("uiState.view",function(){i.render(!1,!0)}),i.$watch("uiState.sortFunction",function(){i.reRender()}),i.$watch("uiState.mode",function(e,t){if(Y(),!d.isSearchMode()){var n=h.getSelection()[0];"normal"===e&&"search"===t&&T&&n&&n.library.id===T.id||(h.clearSelection(),n=null),n&&setTimeout(function(){h.setSelection(n,!0),a.triggerDigest()})}}),d.addScopedListener(i,"search",function(e){b(),(d.isLibrarySearchMode()||d.isLibrariesSearchMode())&&(h.clearSelection(),l.reportPanelEvent(d.isLibrariesSearchMode()?"panelSearchAll":"panelSearch",{resultCount:S.length}))}),u.addScopedListener(i,"currentLibrary",Y),u.addScopedListener(i,"privateCollection",Y);var V=function(){R(!1,function(e){e.showDownloadProgressTooltip&&e.redraw(!0)})};u.addScopedListener(i,"libraryStatus",V);var H,G=!0;i.$watch("scrollPosition",function(){return H?void(G=!0):(i.layout(),void(H=setTimeout(function(){G&&i.layout(),G=!1,H=void 0},1e3/60)))}),h.addScopedListener(i,"selectionChanged",function(){R(!1,function(e){e.isSelected=h.isSelected(e.element),e.isSelected&&e.downloadProgress===-1&&p.retryElementDownload(e.element)});var e=h.getPendingScrollToItem();e&&(i.layout(e),h.clearPendingScrollToItem()),C()}),t.addScopedListener(i,"colorConstantsChanged",function(){s.updateRendererBackground(),i.render(!0)}),n.addScopedListener(i,"fontListChanged",function(){R(!1,function(e){e.redraw(!0)}),C()});var W=c.register(i);W.on("dlClearHover",function(){I()}),window.TEST_GET_ELEMENTS=function(){return j},window.TEST_HOVER_OVER_ELEMENT=function(e,t){var n=u.resolveElementReference(e);return n&&S.indexOf(n)!==-1?(i.layout(n),setTimeout(function(){var e=$(n);return e?(I(e),void setTimeout(function(){var e=document.getElementById("pixi-overlay"),n=document.createEvent("Events");n.initEvent("click",!0,!1),e.dispatchEvent(n),t(null)},100)):void t("error-scrolling-to-element")},100),!0):void t("element-not-in-library")}}]}}];t.attach=function(e){i.module(e).directive("pixiView",o)}}),define("directives/designlibrary/main",["require","exports","module","./designLibrary","./designLibraryArchive","./designLibraryComponent","./designLibraryContents","./designLibraryEditableName","./designLibraryFooter","./designLibraryShowMore","./designLibraryUndo","./dlCategory","./dlEmpty","./dlNoLibraries","./dlStock","./dlStockBadge","./dlVideoPreview","./pixiOverlay","./pixiView"],function(e,t,n){"use strict";function i(t){e("./designLibrary").attach(t),e("./designLibraryArchive").attach(t),e("./designLibraryComponent").attach(t),e("./designLibraryContents").attach(t),e("./designLibraryEditableName").attach(t),e("./designLibraryFooter").attach(t),e("./designLibraryShowMore").attach(t),e("./designLibraryUndo").attach(t),e("./dlCategory").attach(t),e("./dlEmpty").attach(t),e("./dlNoLibraries").attach(t),e("./dlStock").attach(t),e("./dlStockBadge").attach(t),e("./dlVideoPreview").attach(t),e("./pixiOverlay").attach(t),e("./pixiView").attach(t)}return{attach:i}}),define("directives/disclosureTriangle",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=[function(){return{restrict:"E",templateUrl:"directives/templates/disclosureTriangle.tmpl.html",replace:!0,scope:{ngModel:"="},controller:["$scope",function(e){e.$watch("ngModel",function(t){e.disclosureClass=t?"edgecc-core-panel-triangle-open":"edgecc-core-panel-triangle-closed"}),e.toggle=function(t){e.ngModel=!e.ngModel,t.preventDefault(),t.stopPropagation()}}]}}];t.attach=function(e){i.module(e).directive("edgeccDisclosureTriangle",r)}}),define("directives/edgeccTooltip",["require","exports","module","angular"],function(e,t,n){"use strict";var i,r=e("angular"),o=!1,a=!1,s=["Tether","configuration",function(e,t){return{scope:{content:"@tooltipContent",data:"=tooltipData",config:"=config",templateUrl:"=templateUrl",template:"=tooltipTemplate",disable:"="},link:function(n,s,l){a||(a=r.element('<div style="z-index:10000"></div>'),r.element(window.document.body).append(a));var c={parentScope:n,element:a,tether:{target:s[0],attachment:"bottom center",targetAttachment:"top center",constraints:[{to:"window",attachment:"together",pin:!0}]}};n.templateUrl?c.templateUrl=n.templateUrl:n.template?c.template=n.template:c.template='<div class="tooltip" ng-bind-html="content"></div>';var u,d,p=function e(t){return r.forEach(arguments,function(n){n!==t&&r.forEach(n,function(n,i){t[i]&&t[i].constructor&&t[i].constructor===Object?e(t[i],n):t[i]=n})}),t},h=p(c,n.config),f=e(h);n.$watch("templateUrl",function(){n.templateUrl&&(delete c.template,c.templateUrl=n.templateUrl)});var g=function(){return!!n.content||!!n.templateUrl||!!n.template},m=function(){f&&f.isActive()&&f.leave()},v=function(){f&&!f.isActive()&&!n.disable&&g()&&(clearTimeout(i),i=setTimeout(function(){o=!1},1e3),o=!0,f.enter(void 0,!0),d=setTimeout(m,7e3))},_=function(){"false"!==t.showTooltips&&!n.disable&&g()&&(u||(o?v():u=setTimeout(function(){v()},1e3)))},y=function(){"false"!==t.showTooltips&&(u&&(clearTimeout(u),u=void 0),d&&(clearTimeout(d),d=void 0),setTimeout(function(){f&&m()},0))},E=function(){f&&f.isActive()?y():_()};s.on("mouseenter",_),s.on("mouseleave",y),s.on("mousedown",E),n.$on("$destroy",function(){u&&(clearTimeout(u),u=void 0),f&&m(),f=void 0,s.off("mouseenter",_),s.off("mouseleave",y),s.off("mousedown",y)}),n.$watch("disable",function(e){e&&y()})}}}];t.attach=function(e){r.module(e).directive("edgeccTooltip",s)}}),define("directives/modalDialog",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["csInterface",function(e){return{restrict:"E",replace:!0,transclude:!0,templateUrl:"directives/templates/modalDialog.tmpl.html",scope:{titleText:"@",okText:"@",secondaryOkText:"@",cancelText:"@",onSubmit:"&",onCancel:"&",showDialog:"=",disableOk:"=",fullScreen:"@",errorMode:"="},link:function(t,n,i){var r=function(e){27===e.keyCode&&t.hideDialog()};window.addEventListener("keydown",r);var o=i.fullScreen?" panel-dialog-fullscreen":"";t.dialogClass="panel-dialog"+o,t.canCancel=!0,void 0!==i.noDismiss&&(t.dialogClass="panel-dialog-dim"+o,t.canCancel=!1),t.hideDialog=function(){t.canCancel&&(t.showDialog=!1,t.onCancel&&t.onCancel(),window.removeEventListener("keydown",r))},t.stopPropagation=function(e){e.stopPropagation()},t.doSubmit=function(){t.showDialog=!1,t.onSubmit&&t.onSubmit()(t.okText)},t.isWindowsOS=e.isWindowsOS()}}}];t.attach=function(e){i.module(e).directive("edgeccModalDialog",r)}}),define("directives/select",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=!1,o=["$window","Tether","configuration","$filter","menuManager","designLibraryFlyoutMenu","designLibraryManager","$translate","digestUtils","localSettings",function(e,t,n,o,a,s,l,c,u,d){return{restrict:"E",replace:!0,transclude:!0,templateUrl:"directives/templates/select.tmpl.html",scope:{optionsArray:"=",modelField:"@",displayField:"@",ngModel:"=",ngDisabled:"=",ngChange:"&",maxHeight:"=",librarySelectionOnlyMode:"="},link:function(d,p,h){function f(e,t){for(var n=e,i=t;i;){if(i===n)return!0;i=i.parentNode}return!1}function g(e){d.selectedItem=void 0,d.optionsArray&&d.optionsArray.forEach(function(t){var n=d.modelField?t[d.modelField]:t;n===e&&(d.selectedItem=t);
})}r||(r=i.element("<div></div>"),i.element(window.document.body).append(r));var m={parentScope:d,templateUrl:"directives/templates/selectMenu.tmpl.html",element:r,tether:{target:p[0],attachment:"top left",targetAttachment:"bottom left",constraints:[{to:"window",attachment:"together",pin:!0}]}},v=0;n.currentProduct.config.offsetSelectMenu&&(m.tether.offset="-1px -1px",v=2);var _,y=t(m),E=!1,b=function(){E&&(p.removeClass("selected"),y.leave(),e.removeEventListener("click",_,!0),e.removeEventListener("contextmenu",_,!0),e.removeEventListener("resize",_,!0),e.removeEventListener("scroll",_,!0),a.removeListener("flyoutMenuClicked",_),a.removeListener("flyoutMenuOpened",_),E=!1)};_=function(e){f(r[0],e.target)||f(p[0],e.target)||b()},d.menuStyle={},d.scrollPosition={};var T=function(t){e.setTimeout(function(){d.scrollPosition.scrollToTop()});var n,i=18,r=5,o=3;d.isCreativeCloud&&!d.switchingEnabled||d.librarySelectionOnlyMode||o++,E||(d.menuStyle.width=p[0].offsetWidth+v,e.innerHeight?(n=e.innerHeight-o*i,n=d.maxHeight?Math.min(n,d.maxHeight):n):d.maxHeight&&(n=d.maxHeight),n&&n>0&&(n=Math.floor(n/i)*i+r,d.menuContainerStyle={"max-height":n+"px",overflow:"auto"}),e.addEventListener("click",_,!0),e.addEventListener("contextmenu",_,!0),e.addEventListener("resize",_,!0),e.addEventListener("scroll",_,!0),a.addListener("flyoutMenuClicked",_),a.addListener("flyoutMenuOpened",_),y.enter(),p.addClass("selected"),E=!0)};d.toggleMenu=function(e){E?b(e):T(e),e&&e.stopPropagation()},l.addListener("privateCollection",function(){var e=l.getPrivateLibraryCollection();e&&(d.isCreativeCloud=e.cloudId===n.CREATIVE_CLOUD_ID,d.collectionName=d.isCreativeCloud?c.instant("DL_MENU_PERSONAL_ASSETS"):e.cloudInfo.name,d.switchingEnabled=e.cloudInfo.switchingEnabled||!1)}),d.LIBRARY_MIN=n.RECENTS_LIST_LIBRARY_MIN,d.LIST_LIMIT=n.RECENTS_LIST_LIMIT,d.limitToFilterFunction=function(e,t,n){return n.length<=d.LIBRARY_MIN||t<d.LIST_LIMIT},d.orderByFunction=function(e){return e===d.selectedItem?Date.now():l.getLastAccess(e)},d.select=function(t){b(),d.ngModel=d.modelField?t[d.modelField]:t,d.ngChange&&e.setTimeout(function(){d.ngChange(),u.triggerDigest()})},d.showCreateDialog=function(){b(),s.invokeCreateLibrary()},d.changeCloud=function(){b(),l.requestCloudChange()},d.optionsArray&&d.optionsArray.length>d.LIBRARY_MIN&&(d.orderedLibraryList=o("localeOrderBy")(d.optionsArray,["name","-index"])),d.$watch("ngModel",function(e){g(e)}),d.$watch("optionsArray",function(e){e&&e.length>d.LIBRARY_MIN&&(d.orderedLibraryList=o("localeOrderBy")(e,["name","-index"])),d.selectedItem||g(d.ngModel)}),d.$watch("ngDisabled",function(e){e?p.addClass("disabled"):p.removeClass("disabled")})}}}];t.attach=function(e){i.module(e).directive("edgeccSelect",o)}}),define("directives/selectItem",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["configuration",function(e){return{restrict:"E",replace:!0,templateUrl:"directives/templates/selectItem.tmpl.html",scope:{item:"=",selectedItem:"=",recent:"=",displayField:"@"}}}];t.attach=function(e){i.module(e).directive("selectItem",r)}}),define("directives/search",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$window","localSettings","designLibraryManager","designLibraryViewState","menuManager","$translate","digestUtils","designLibrarySelection",function(e,t,n,i,r,o,a,s){return{restrict:"E",replace:!0,transclude:!0,templateUrl:"directives/templates/search.tmpl.html",scope:{disable:"="},link:function(n,l,c){function u(){n.uiState.modeParams.findSimilarData&&i.clearFindSimilarSearchMode(),(n.search.findSimilarId||n.search.findSimilarUrl)&&(n.search.findSimilarId=void 0,n.search.findSimilarUrl=void 0,n.search.text===y&&(n.search.text=""))}function d(){n.search.placeholder=o.instant("DL_SEARCH_INPUT_"+n.search.type.toUpperCase()+"_PLACEHOLDER")}function p(){n.search.text||n.search.findSimilarId?"search"!==n.uiState.mode&&i.setSearchMode(n.search):"search"===n.uiState.mode&&i.resetMode(),""!==n.search.text?n.showSearchCancel=!0:(n.showSearchCancel=!1,n.searchCancelHasFocus=!1)}function h(){n.uiState.modeParams!==n.search&&(n.uiState.modeParams=n.uiState.modeParams||{},n.uiState.modeParams.text=n.uiState.modeParams.text||n.search.text,n.uiState.modeParams.type=n.uiState.modeParams.type||n.search.type,n.search=n.uiState.modeParams,d(),p())}n.menuShown=!1;var f,g=t.getDebugValue("enableWebGL"),m=g?0:200,v=function(){n.menuShown&&(e.removeEventListener("click",f,!0),e.removeEventListener("contextmenu",f,!0),e.removeEventListener("resize",f,!0),e.removeEventListener("scroll",f,!0),r.removeListener("flyoutMenuClicked",f),r.removeListener("flyoutMenuOpened",f),n.menuShown=!1,a.triggerDigest())};f=function(e){n.isSearchDropDownTarget(e)||v()};var _=function(t){e.addEventListener("click",f,!0),e.addEventListener("contextmenu",f,!0),e.addEventListener("resize",f,!0),e.addEventListener("scroll",f,!0),r.addListener("flyoutMenuClicked",f),r.addListener("flyoutMenuOpened",f),n.menuShown=!0,a.triggerDigest()};n.toggleMenu=function(e){n.menuShown?v(e):n.disable||_(e)},n.searchFocused=function(e){n.menuShown&&v(),"focus"===e&&""!==n.search.text?n.showSearchCancel=!0:n.showSearchCancel=!1},n.cancelSearch=function(){n.search.text=""},n.uiState=i.getState(),n.types=i.getSearchTypes(),n.search={text:""};var y=o.instant("DL_STOCK_FIND_SIMILAR_PLACEHOLDER");n.setSearchType=function(e,t){n.search.type=e,t||i.setSearchType(n.search.type),p(),v()},n.setSearchType(i.getSearchType()||n.types[0],!0),n.$watch("uiState.modeParams",function(e){"search"===n.uiState.mode&&h()}),n.$watch("uiState.mode",function(e){"search"!==e?(n.search.text="",n.search.findSimilarId=void 0,n.search.findSimilarUrl=void 0):h()}),n.$watch("search.type",function(e){u(),n.search.text?i.notifySearchRequest():n.setFocus(!0,!1),d()}),n.$watch("search.text",function(){u(),s.clearSelection(),clearTimeout(n.searchAttemptTimeout),n.search.text&&(n.searchAttemptTimeout=setTimeout(function(){i.notifySearchRequest(),clearTimeout(n.searchAttemptTimeout)},i.isStockSearchMode()?1e3:m)),p()}),n.searchRequested=function(){u(),n.search.text?i.notifySearchRequest():n.setFocus(!1,!1)},s.addScopedListener(n,"selectionChanged",function(){n.search.text||n.setFocus(!1,!1)})}}}];t.attach=function(e){i.module(e).directive("edgeccSearch",r)}}),define("directives/insert",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$window","configuration","designLibraryManager","csInterface","designLibraryElements","menuManager","$translate","digestUtils","designLibrarySelection","layerSelectionManager","designLibraryViewState","localSettings","metrics",function(e,t,n,i,r,o,a,s,l,c,u,d,p){return{restrict:"E",replace:!0,transclude:!0,templateUrl:"directives/templates/insert.tmpl.html",scope:{disabled:"=",library:"="},link:function(a,h,f){function g(e){var t=n.getPrivateLibraryCollection();t&&d.setValue(t.userId+"#"+t.cloudId+"#insertMenuSelectionState",e)}function m(){var e=n.getPrivateLibraryCollection();return e?d.getValue(e.userId+"#"+e.cloudId+"#insertMenuSelectionState")||{}:{}}function v(){var e=m();a.layerOperations.forEach(function(t){t.disabled||(e[t.name]=t.checked)}),g(e)}function _(){return a.layerOperations.filter(function(e){return!e.disabled}).length}function y(){return a.layerOperations.filter(function(e){return!e.checked}).length}function E(e,t){p.reportPanelEvent("insertMenu",{opType:e,libraryID:a.library&&a.library.id,totalElements:_(),checkedElements:y(),menuItem:t})}function b(){var t=c.getLayerInfo();a.layerOperations=r.getAddOperations(t,a.library);var n=e.innerHeight-32,i=47,o=0,l=!1,u=m();a.layerOperations.forEach(function(e){e.checked=!e.disabled&&u[e.name]!==!1,e.checked&&o++,e.disabled||(l=!0),i=e.disabled?i:i+24}),0===o&&a.layerOperations.forEach(function(e){e.checked=!e.disabled}),v();var d=e.innerWidth-12;return i<n?a.menuStyle={overflow:"hidden","max-width":d}:a.menuStyle={"overflow-y":"scroll","overflow-x":"hidden",height:n,"max-width":d},s.triggerDigest(),l}function T(){var e=b();E("update"),e||S()}var S;a.isWindowsOS=i.isWindowsOS(),a.showMenu=function(){a.menuShown=b(),a.menuShown&&(E("render"),e.addEventListener("click",S,!0),e.addEventListener("contextmenu",S,!0),e.addEventListener("resize",S,!0),e.addEventListener("scroll",S,!0),c.addListener("layerSelectionChanged",T),o.addListener("flyoutMenuClicked",S),o.addListener("flyoutMenuOpened",S))},a.menuStyle={"max-height":500};var L=function(){e.removeEventListener("click",S,!0),e.removeEventListener("contextmenu",S,!0),e.removeEventListener("resize",S,!0),e.removeEventListener("scroll",S,!0),c.removeListener("layerSelectionChanged",T),o.removeListener("flyoutMenuClicked",S),o.removeListener("flyoutMenuOpened",S),a.menuShown=!1,s.triggerDigest()};a.toggleMenu=function(){a.menuShown?a.hideMenu():a.showMenu()},a.insertSelection=function(){if(L(),a.library){l.clearSelection();var e=a.layerOperations.filter(function(e){return e.checked}),n=function(){e.forEach(function(e){e.apply(a.library,"addButton").then(function(e){u.resetMode(),l.toggleSelectedItem(e)})}),E("add")},i=t.currentProduct.confirmAddOperation;if(i)return void i(e).then(n);n()}},a.selectionChanged=function(e){v(),E(e.checked?"checked":"unchecked",e.name)},a.isAddDisabled=function(){return!a.layerOperations.reduce(function(e,t){return e.checked?e:t}).checked},a.hideMenu=function(){L(),E("cancel")},a.layerOperations=[],S=function(e){e&&a.isAddMenuTarget(e)||(L(),E("quit"))},a.menuShown=!1}}}];t.attach=function(e){i.module(e).directive("edgeccInsert",r)}}),define("directives/main",["require","exports","module","./core/main","./designlibrary/main","./disclosureTriangle","./edgeccTooltip","./modalDialog","./select","./selectItem","./search","./insert"],function(e,t,n){"use strict";t.attach=function(t){e("./core/main").attach(t),e("./designlibrary/main").attach(t),e("./disclosureTriangle").attach(t),e("./edgeccTooltip").attach(t),e("./modalDialog").attach(t),e("./select").attach(t),e("./selectItem").attach(t),e("./search").attach(t),e("./insert").attach(t)}}),define("controllers/purchaseCtrl",["require","exports","module"],function(e,t,n){"use strict";var i=["$scope","$rootScope","$document","$window","$translate","csInterface","designLibraryManager","adobeStockLicenseUtils","configuration","adobeStockUtils","metrics","debugLog","designLibraryViewState","$sce","linkUtils",function(e,t,n,i,r,o,a,s,l,c,u,d,p,h,f){var g=360,m=360,v=600,_=140,y=180,E=30;e.lang=o.getLocale(),e.cssClasses={windows:o.isWindowsOS()},e.cssClasses["locale_"+e.lang]=!0,e.showSpinner=!0,d.log("Loading Purchase Dialog extention");var b=r.instant("DL_CANCEL"),T=r.instant("DL_SEARCH_STOCK");o.setWindowTitle(T),e.stockPurchaseDialog={title:T,text:" ",cancelText:b},e.isErrorMode=!1,e.showStockDialog=function(t,n,i,r,a,s,l){if(e.showSpinner=!1,e.stockPurchaseDialog.title=t,e.stockPurchaseDialog.okCallback=i,e.stockPurchaseDialog.okText=a||"DL_OK",e.stockPurchaseDialog.secondaryOkText=s,e.stockPurchaseDialog.agencyForm=l,"string"==typeof n?e.stockPurchaseDialog.message=[{text:n}]:e.stockPurchaseDialog.message=n,e.launchLicenseURL=function(e){f.launchLicenseURL(e)},l){e.formContainer={},e.mandatoryFormFields=[],e.optionalFormFields=[],e.maxCharacters=64,e.placeholderCharacters=40;var c=4;l.forEach(function(t){t.value=void 0,e.placeholderCharacters=Math.max(t.text.length+c,e.placeholderCharacters),t.required?e.mandatoryFormFields.push(t):e.optionalFormFields.push(t)})}var u=m,d=_;if(l){e.mandatoryFormFields.length>0&&e.optionalFormFields.length>0?u=v:0!==e.mandatoryFormFields.length&&0!==e.optionalFormFields.length||(u=m);var p=27,h=Math.max(e.mandatoryFormFields.length,e.optionalFormFields.length);d=p*h+200}n.length>1&&(d+=E),o.resizeContent(u,d),e.isErrorMode=!i&&!r,e.isErrorMode?(e.stockPurchaseDialog.okCallback=e.cancelStockPurchase,e.stockPurchaseDialog.cancelText=void 0):e.stockPurchaseDialog.cancelText=b},s.addScopedListener(e,"showStockPurchaseDialog",function(t,n,i,r,o,a,s){e.showStockDialog(t,n,i,r,o,a,s)});var S,L,A=function(e,t){u.flush(),e.createdElementRef&&(L=e.createdElementRef);var n=o.createEvent("com.adobe.inapp.purchase.closed","APPLICATION","AdobeStockPurchaseDialog",o.getExtensionID());n.data={data:e,didFinish:t,initiatedBy:S,elementRef:L},o.dispatchEvent(n),d.log("SENT : com.adobe.inapp.purchase.closed event"),d.log(JSON.stringify(n.data)),o.closeExtension()};e.cancelStockPurchase=function(){A("CANCELLED",!1)};var C=function(){e.chooseLibraryMode=!1,e.showSpinner=!0,e.stockPurchaseDialog.text=" ",e.stockPurchaseDialog.okText=void 0,e.stockPurchaseDialog.secondaryOkText=void 0},w=function(t){e.showStockDialog("DL_STOCK_PURCHASE_CHOOSE_LIB_TITLE",r.instant("DL_STOCK_PURCHASE_CHOOSE_LIB_MSG"),t),e.stockPurchaseDialog.cancelText=void 0,o.resizeContent(g,y),e.uiState=p.getState(),e.library=a.getCurrentLibrary(),e.libraries=a.getLibraries(),e.showSpinner=!1,e.chooseLibraryMode=!0};e.okCallback=function(t){C(),e.stockPurchaseDialog.okCallback&&e.stockPurchaseDialog.okCallback(t)};var x=function(t){e.stockPurchaseDialog.title=r.instant("DL_STOCK_PURCHASE_DIALOG_TITLE"+c.getLocalizationSuffix({type:t}))},O=function(e){return e&&""!==e?e:void 0},D=function(t){d.log("RECEIVED : com.adobe.inapp.purchase.perform event, event.appId="+t.appId),d.log(JSON.stringify(t.data)),S=t.appId,u.setEnvironment({consumer:S}),L=O(t.data.elementRef);var n=O(t.data.elementType),i=O(t.data.elementName),r=O(t.data.contentId),o=O(t.data.skipQuotaCheck),p=O(t.data.licenseType),h=O(t.data.addToLibraryID),f=O(t.data.metadata),g=O(t.data.renditionDetails),m=O(t.data.stockSearchAsset);f||(f={method:t.appId}),a.waitForInitialLoad().then(function(){d.log("designLibraryManager initialized");var t,u=a.getPrivateLibraryCollection().userId;if(L&&(t=a.resolveElementReference(L),t&&(d.log("Resolved elementRef with elementType = "+t.type),n=t.type,i=t.name,r=c.getStockId(t),o=c.isLicensed(t)))){var v=c.getStockDataForElement(t);v&&v.license&&(p=v.license)}if(!n||!u||!r)return void A("INSUFFICIENT_DETAILS",!1);t||(t={type:n,name:i}),x(n);var _,y=function(e){A(e,!0)},E=function(n){return n&&"LIBRARY_NOT_WRITEABLE"===n.code?void w(function(){C(),t.hasOwnProperty("_library")?t.getThumbnailPath(l.IMAGE_RENDITION_SIZE,function(t,i){i&&(g={path:i,width:l.IMAGE_RENDITION_SIZE,height:l.IMAGE_RENDITION_SIZE}),_(!0,n.licenseType,e.library.id)}):_(!0,n.licenseType,e.library.id)}):void(e.isErrorMode||A(n,!1))};(_=function(e,n,i){s.doLicense(t,u,r,e,n,i,g,m,f).then(y,E)})(o,p,h)})};o.addEventListener("com.adobe.inapp.purchase.perform",D);var R=o.createEvent("com.adobe.inapp.purchase.init","APPLICATION","AdobeStockPurchaseDialog",o.getExtensionID());R.data="",o.dispatchEvent(R),d.log("SENT : com.adobe.inapp.purchase.init event")}];t.attach=function(e){angular.module(e).controller("purchaseCtrl",i)}}),define("controllers/mainCtrl",["require","exports","module"],function(e,t,n){"use strict";var i=["$scope","$rootScope","$document","$window","csInterface","designLibraryManager",function(e,t,n,i,r,o){var a=r.getLocale();e.lang=a.split("-")[0],"zh-TW"===a?e.lang="zh-Hant":"zh-CN"===a&&(e.lang="zh-Hans"),e.cssClasses={windows:r.isWindowsOS()},e.cssClasses["locale_"+a]=!0,n.on("click",function(){o.sync(!0,!0)}),i.addEventListener("online",function(){o.sync()}),i.addEventListener("offline",function(){o.sync()}),n.on("mouseenter",function(){t.globalHovering=!0,t.$apply()}),n.on("mouseleave",function(){t.globalHovering=!1,t.$apply()})}];t.attach=function(e){angular.module(e).controller("mainCtrl",i)}}),define("controllers/main",["require","exports","module","environment","./purchaseCtrl","./mainCtrl"],function(e,t,n){"use strict";t.attach=function(t){var n=e("environment");n.isLibrariesPanel?e("./mainCtrl").attach(t):e("./purchaseCtrl").attach(t)}}),define("filters/timeago",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=function(){return function(e){return moment(e).from(moment())}};t.attach=function(e){i.module(e).filter("timeago",r)}}),define("filters/localeOrderBy",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=["$parse","csInterface",function(e,t){var n=new Intl.Collator(t.getLocale(),{numeric:!0});return function(t,r,o,a){var s=function(e,t,n){var r=[];return i.forEach(e,function(e,i,o){r.push(t.call(n,e,i,o))}),r},l=function(e,t){var n,i;for(n=0;n<r.length;n++)if(i=r[n](e,t),0!==i)return i;return 0},c=function(e,t){return t?function(t,n){return e(n,t)}:e},u=function(e,t){if(e===t)return 0;var r=typeof e,o=typeof t;return r===o?"string"===r?n.compare(e,t):(i.isDate(e)&&i.isDate(t)&&(e=e.valueOf(),t=t.valueOf()),e<t?-1:1):r<o?-1:1};if(!i.isArray(t))return t;if(!r)return t;r=i.isArray(r)?r:[r],r=s(r,function(t){var n=!1,r=t||identity;if(i.isString(t)&&("+"!==t.charAt(0)&&"-"!==t.charAt(0)||(n="-"===t.charAt(0),t=t.substring(1)),r=e(t),r.constant)){var o=r();return c(function(e,t){return u(e[o],t[o])},n)}return c(function(e,t){return u(r(e),r(t))},n)});var d;if(o)d=t;else{d=[];var p;for(p=0;p<t.length;p++)d.push(t[p])}return d.sort(c(l,a))}}];t.attach=function(e){i.module(e).filter("localeOrderBy",r)}}),define("filters/searchKeyword",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=[function(){return function(e,t,n){if(!t)return e;if(t=t.trim().toLowerCase(),0===t.length)return e;var i;i=t.length>1&&'"'===t.charAt(0)&&'"'===t.charAt(t.length-1)?[t.substring(1,t.length-1)]:t.indexOf(" ")>-1?t.split(/[ ]+/):[t];var r=[];return e.forEach(function(e){n?n(e,i)&&r.push(e):i.every(function(t){return e.name.toLowerCase().indexOf(t)>-1})&&r.push(e)}),r}}];t.attach=function(e){i.module(e).filter("searchKeyword",r)}}),define("filters/main",["require","exports","module","./timeago","./localeOrderBy","./searchKeyword"],function(e,t,n){"use strict";function i(t){e("./timeago").attach(t),e("./localeOrderBy").attach(t),e("./searchKeyword").attach(t)}return{attach:i}}),define("configuration/designlibrary/brush/config",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r={"application/vnd.adobe.scatter.brush+zip":"DL_BRUSHTYPE_SCATTER","application/vnd.adobe.vector.brush+zip":"DL_BRUSHTYPE_VECTOR","application/vnd.adobe.ribbon.brush+zip":"DL_BRUSHTYPE_RIBBON","image/x-adobe-photoshop-brush":"DL_BRUSHTYPE_SCATTER"},o=function(e){i.module(e).run(["designLibraryElements","configuration","imageUtils",function(e,t,n){e.register({type:t.BRUSH_ELEMENT_TYPE,directive:"dl-brush",displayName:"DL_TYPE_BRUSH",tooltipTemplateUrl:"configuration/designlibrary/brush/tooltip.tmpl.html",renditionSize:t.BRUSH_RENDITION_SIZE,getAddOperations:function(e){return[]},width:103,height:43,listHeight:32,listExpandOnHover:!0,backgroundColor:16777215,getAdditionalTooltipData:function(n){var i={},o=n.getPrimaryRepresentation();return o&&o.type&&(i.brushType=r[o.type]),e.isElementUsable(n)||(i.disabledMessage="DL_ERROR_BRUSH_NOT_SUPPORTED_"+t.currentProduct.config.translationSuffix),i}})}])};return{attach:o}}),define("configuration/designlibrary/brush/renderer",["require","exports","module","angular"],function(e,t,n){"use strict";function i(e){r.module(e).directive("dlBrush",a)}var r=e("angular"),o={"application/vnd.adobe.scatter.brush+zip":"DL_BRUSHTYPE_SCATTER","application/vnd.adobe.vector.brush+zip":"DL_BRUSHTYPE_VECTOR","application/vnd.adobe.ribbon.brush+zip":"DL_BRUSHTYPE_RIBBON","image/x-adobe-photoshop-brush":"DL_BRUSHTYPE_SCATTER"},a=["fileUtils",function(e){return{restrict:"E",replace:!1,templateUrl:"configuration/designlibrary/brush/view.tmpl.html",scope:{component:"="},link:function(e,t,n){e.scrollIntoView=function(){t[0].scrollIntoView(!0)}},controller:["$scope","$window","designLibrarySelection","configuration","designLibraryElements","designLibraryViewState","digestUtils",function(t,n,i,a,s,l,c){function u(){t.tooltip.name=s.getTruncatedElementName(t.component);var n=!1;s.setLoadingTimeout(function(){if(!n)return t.imageUrl=void 0,t.loadedRenditionUrl=!1,!0}),s.getRenditionUrl(t.component).then(function(e){n=!0,t.imageUrl=e,t.loadedRenditionUrl=!0},function(e){n=!0,t.imageUrl=void 0,t.loadedRenditionUrl=!0});var i=t.component.getPrimaryRepresentation();if(i){var r=i.type;r&&(t.tooltip.brushType=o[i.type])}var c=e.getUsableTypes(t.component.type),u=t.component.representations.filter(function(e){var t="rendition"===e.relationship,n=s.isRepresentationCompatible(e,c);return!t&&n});t.disabled=0===u.length,t.disabled&&(t.tooltip.disabledMessage="DL_ERROR_BRUSH_NOT_SUPPORTED_"+a.currentProduct.config.translationSuffix),l.isLibrariesSearchMode()&&(t.tooltip.libraryName=t.component.library.name)}function d(){u(),c.triggerDigest()}function p(){t.selected=i.isSelected(t.component),i.isPendingScrollToItem(t.component)&&(i.clearPendingScrollToItem(),n.setTimeout(function(){t.scrollIntoView()}))}t.uiState=l.getState(),t.tooltip={},i.addScopedListener(t,"selectionChanged",p),u(),p(),t.component.addChangeListener(d),t.$on("$destroy",function(){t.component&&t.component.removeChangeListener(d),t.scrollIntoView=r.identity})}]}}];return{attach:i}}),define("configuration/designlibrary/brush/main",["require","exports","module","./config","./renderer"],function(e,t){"use strict";t.attach=function(t){e("./config").attach(t),e("./renderer").attach(t)}}),define("configuration/designlibrary/color/config",["require","exports","module","angular","pixi"],function(e,t,n){"use strict";var i=e("angular"),r=e("pixi"),o=function(e){i.module(e).run(["$q","designLibraryElements","designLibraryUtils","colorUtils","pngUtils","configuration",function(e,t,n,i,o,a){t.register({type:a.COLOR_ELEMENT_TYPE,directive:"dl-color",displayName:"DL_TYPE_COLOR",tooltipTemplateUrl:"configuration/designlibrary/color/tooltip.tmpl.html",getAddOperations:function(t){var r=function(t){return{apply:function(i,r){var o=e.defer(),s=t.name;s||(t.data[0]&&t.data[0].type&&"spot"===t.data[0].type&&(s=t.data[0].spotColorName),s=s||"");var l=n.createElementExtraMetrics(i,s,a.COLOR_ELEMENT_TYPE,{opType:r});return t.data.forEach(function(e,t){var n=0===t?"primary":"rendition",i=l.createRepresentation(a.COLOR_REPRESENTATION_TYPE,n);i.setValue(a.COLOR_NAMESPACE,a.COLOR_DATA_KEY,e)}),l.endOperation(),o.resolve(l),o.promise}}},o=[];return t&&t.colors&&t.colors.length>0?(t.colors.forEach(function(e){var t=e.data;if(t&&""!==t){var n=r(e);o.push({name:"DL_ADD_COLOR_NAME_"+e.colorType,order:4,toolTipData:{primaryValue:Array.isArray(t)?i.getStringColorValue(t[0]):null,hexValue:i.colorDataToHexValue(t).toUpperCase(),name:t.name},toolTipTemplate:"configuration/designlibrary/color/tooltip.tmpl.html",style:{"background-color":i.colorDataToHexValue(t),border:"1px solid",width:"14px",height:"14px",margin:"1px 1px 1px 0px"},apply:n.apply,displayIcon:!0})}}),o):[{name:"DL_ADD_COLOR_NAME",order:4,style:{border:"1px solid",width:"14px",height:"14px",margin:"1px 1px 1px 0px"},disabled:!0,displayIcon:!0}]},getDisplayText:function(e){if(e.name&&""!==e.name)return e.name;var t=e.representations.filter(function(e){var t=e.getValue("color","data");return"RGB"===t.mode}),n=t.length>0?t[0]:void 0,r=n&&n.getValue("color","data");return r?i.colorDataToHexValue(r).toUpperCase():""},elementFilter:function(e,t){var n,r=e.representations.filter(function(e){var t=e.getValue("color","data");return"RGB"===t.mode}),o=r.length>0?r[0]:void 0,a=o&&o.getValue("color","data");return a&&(n=i.colorDataToHexValue(a).toLowerCase()),t.every(function(t){return e.name.toLowerCase().indexOf(t)>-1||!!n&&n.indexOf(t)>-1})},getRenditionUrl:function(t){var n=e.defer(),i=t.representations.filter(function(e){var t=e.getValue("color","data");return"RGB"===t.mode}),r=i[0]&&i[0].getValue("color","data");if(r){var a=o.createPNG(200,200,256);a.color(Math.round(r.value.r),Math.round(r.value.g),Math.round(r.value.b),255);var s="data:image/png;base64,"+a.getBase64();n.resolve(s)}else n.reject();return n.promise},allowBlankName:!0,width:68,height:45,listHeight:20,listThumbHeight:16,disableDefaultRender:!0,render:function(e,t){e._colorGraphics||(e._colorGraphics=new r.Graphics,e.sprite.addChildAt(e._colorGraphics,t),e.onDestroy(function(){e._colorGraphics.destroy()})),e._colorGraphics.clear();var n=e.element.representations.filter(function(e){var t=e.getValue("color","data");return"RGB"===t.mode}),o=n[0]&&n[0].getValue("color","data");if(o){var a=i.colorDataToHexNumber(o);e._colorGraphics.beginFill(a),e._colorGraphics.drawRect(e.border+e.thumbnailOffsetX,e.border+e.thumbnailOffsetY,e.thumbnailWidth-2*e.border,e.thumbnailHeight-2*e.border),e._colorGraphics.endFill()}},getAdditionalTooltipData:function(e){var t={},n=e.getPrimaryRepresentation(),r=n&&n.getValue("color","data");r&&(t.primaryValue=i.getStringColorValue(r));var o=e.representations.filter(function(e){var t=e.getValue("color","data");return"RGB"===t.mode});if(n=o.length>0?o[0]:void 0,r=n&&n.getValue("color","data")){var a=i.colorDataToHexValue([r]).toUpperCase();t.hexValue=a}return t}})}])};return{attach:o}}),define("configuration/designlibrary/color/renderer",["require","exports","module","angular"],function(e,t,n){"use strict";function i(e){r.module(e).directive("dlColor",o)}var r=e("angular"),o=["fileUtils",function(e){return{restrict:"E",replace:!1,templateUrl:"configuration/designlibrary/color/view.tmpl.html",scope:{component:"="},link:function(e,t,n){e.scrollIntoView=function(){t[0].scrollIntoView(!0)}},controller:["$scope","$window","designLibrarySelection","colorUtils","themeManager","configuration","designLibraryElements","designLibraryViewState","digestUtils",function(t,n,i,o,a,s,l,c,u){function d(){t.tooltip.name=l.getTruncatedElementName(t.component),t.tooltip.hexValue=void 0,t.tooltip.primaryValue=void 0;var n=t.component.getPrimaryRepresentation();t.disabled=!n||!l.isRepresentationCompatible(n,e.getUsableTypes(s.COLOR_ELEMENT_TYPE));var i=n&&n.getValue("color","data");i&&(t.tooltip.primaryValue=o.getStringColorValue(i));var r=t.component.representations.filter(function(e){var t=e.getValue("color","data");return"RGB"===t.mode});if(n=r.length>0?r[0]:void 0,i=n&&n.getValue("color","data")){var a=o.colorDataToHexValue([i]).toUpperCase();t.colorStyle={backgroundColor:o.colorDataToRGBA([i],t.disabled?f:g)},t.tooltip.hexValue=a,t.defaultName=a}c.isLibrariesSearchMode()&&(t.tooltip.libraryName=t.component.library.name)}function p(){d(),u.triggerDigest()}function h(){t.selected=i.isSelected(t.component),i.isPendingScrollToItem(t.component)&&(i.clearPendingScrollToItem(),n.setTimeout(function(){t.scrollIntoView()}))}var f=.2,g=1;t.uiState=c.getState(),t.tooltip={},i.addScopedListener(t,"selectionChanged",h),d(),h(),t.component.addChangeListener(p),t.$on("$destroy",function(){t.component&&t.component.removeChangeListener(p),t.scrollIntoView=r.identity}),a.addScopedListener(t,"colorThemeChanged",d)}]}}];return{attach:i}}),define("configuration/designlibrary/color/main",["require","exports","module","./config","./renderer"],function(e,t,n){"use strict";t.attach=function(t){e("./config").attach(t),e("./renderer").attach(t)}}),define("configuration/designlibrary/colortheme/config",["require","exports","module","angular","pixi"],function(e,t,n){"use strict";var i=e("angular"),r=e("pixi"),o=function(e){i.module(e).run(["$q","designLibraryElements","designLibraryUtils","fileUtils","colorUtils","configuration","pngUtils",function(e,t,n,i,o,a,s){t.register({type:a.COLOR_THEME_ELEMENT_TYPE,directive:"dl-colortheme",displayName:"DL_TYPE_COLOR_THEME",subElementTooltipTemplateUrl:"configuration/designlibrary/colortheme/tooltip.tmpl.html",getApplyOperations:function(e,r,o){if(!e||!o)return[];var s=[],l=t.getApplyOperations({type:a.COLOR_ELEMENT_TYPE},r);return l.forEach(function(r){s.push({name:r.name,icon:r.icon,displayInMenu:r.displayInMenu,onClick:r.onClick,apply:function(){r.apply(o,function(r){var o=t.findRepresentation(e,i.getUsableTypes(a.COLOR_THEME_ELEMENT_TYPE));o&&n.reportApplyMetric(o,r)})}})}),s},getAddOperations:function(e){return[]},elementFilter:function(e,n){var r=t.findRepresentation(e,i.getUsableTypes(a.COLOR_THEME_ELEMENT_TYPE)),s=r&&r.getValue("colortheme","data"),l=[];return s&&Array.isArray(s.swatches)&&s.swatches.forEach(function(e){l.push(o.colorDataToHexValue(e).toLowerCase())}),n.every(function(t){return e.name.toLowerCase().indexOf(t)>-1||l.some(function(e){return e.indexOf(t)>-1})})},getRenditionUrl:function(n){var r=e.defer(),l=t.findRepresentation(n,i.getUsableTypes(a.COLOR_THEME_ELEMENT_TYPE)),c=l&&l.getValue("colortheme","data");if(c&&Array.isArray(c.swatches)){var u=200,d=s.createPNG(u,u,256);d.color(0,0,0,0),c.swatches.forEach(function(e,t){var n,i,r=o.getRGBRepresentation(e),a=d.color(Math.round(r.value.r),Math.round(r.value.g),Math.round(r.value.b)),s=u/5,l=s*t,c=(u-2*s)/2;for(n=0;n<s;n++)for(i=0;i<2*s;i++)d.buffer[d.index(n+l,i+c)]=a});var p="data:image/png;base64,"+d.getBase64();r.resolve(p)}else r.reject();return r.promise},width:205,height:45,listHeight:20,listThumbHeight:16,listExpandOnHover:!0,disableDefaultRender:!0,render:function(e,n){e._colorGraphics||(e._colorGraphics=new r.Graphics,e.sprite.addChildAt(e._colorGraphics,n),e.onDestroy(function(){e._colorGraphics.destroy()})),e._colorGraphics.clear();var s=t.findRepresentation(e.element,i.getUsableTypes(a.COLOR_THEME_ELEMENT_TYPE)),l=s&&s.getValue("colortheme","data");if(l&&Array.isArray(l.swatches)){var c=e.thumbnailWidth/5,u=[];l.swatches.forEach(function(t,n){var i=o.colorDataToHexNumber(t),r={data:t,x:c*n+e.thumbnailOffsetX,y:e.border+e.thumbnailOffsetY,width:c,height:e.thumbnailHeight-2*e.border};u.push(r),e._colorGraphics.beginFill(i),e._colorGraphics.drawRect(r.x,r.y,r.width,r.height),e._colorGraphics.endFill()}),e.subElements=u}},getAdditionalTooltipData:function(e,t){return t?{hexValue:o.colorDataToHexValue(t).toUpperCase(),primaryValue:o.getStringColorValue(t[0])}:{}}})}])};return{attach:o}}),define("configuration/designlibrary/colortheme/renderer",["require","exports","module","angular"],function(e,t,n){"use strict";function i(e){r.module(e).directive("dlColortheme",a)}var r=e("angular"),o="application/vnd.adobe.element.colortheme+dcx",a=["fileUtils",function(e){return{restrict:"E",replace:!1,templateUrl:function(e,t){return"configuration/designlibrary/colortheme/view.tmpl.html"},scope:{component:"="},link:function(e,t,n){e.scrollIntoView=function(){t[0].scrollIntoView(!0)}},controller:["$scope","$window","designLibrarySelection","colorUtils","themeManager","configuration","designLibraryElements","designLibraryViewState","csInterface","designLibraryUtils","layerSelectionManager","digestUtils",function(t,n,i,a,s,l,c,u,d,p,h,f){function g(){var n=c.findRepresentation(t.component,e.getUsableTypes(o));t.disabled=!n,t.useColor=function(e){_=c.getApplyOperations({type:"application/vnd.adobe.element.color+dcx"},{});var t;_.forEach(function(e){e.onClick&&(t=e)}),t&&t.apply(e,function(e){n&&p.reportApplyMetric(n,e)})};var i=n&&n.getValue("colortheme","data");i&&Array.isArray(i.swatches)&&(t.values=i.swatches.map(function(e){var t=a.colorDataToHexValue(e).toUpperCase(),n=a.getStringColorValue(e[0]);return{colorData:e,hexValue:t,primaryValue:n,style:{background:t}}}),u.isLibrariesSearchMode()&&(t.tooltip.libraryName=t.component.library.name))}function m(){g(),f.triggerDigest()}function v(){t.selected=i.isSelected(t.component),i.isPendingScrollToItem(t.component)&&(i.clearPendingScrollToItem(),n.setTimeout(function(){t.scrollIntoView()}))}t.uiState=u.getState(),t.tooltip={};var _=[];g(),t.component.addChangeListener(m),t.$on("$destroy",function(){t.component&&t.component.removeChangeListener(m),t.scrollIntoView=r.identity}),s.addScopedListener(t,"colorThemeChanged",g),i.addScopedListener(t,"selectionChanged",v),v()}]}}];return{attach:i}}),define("configuration/designlibrary/colortheme/main",["require","exports","module","./config","./renderer"],function(e,t,n){"use strict";t.attach=function(t){e("./config").attach(t),e("./renderer").attach(t)}}),define("configuration/designlibrary/image/config",["require","exports","module","angular"],function(e,t,n){
"use strict";var i=e("angular"),r=function(e){i.module(e).run(["$q","designLibraryElements","configuration","fileUtils","imageUtils","designLibraryUtils","designLibraryElementUtils","adobeStockUtils",function(e,t,n,i,r,o,a,s){t.register({type:n.IMAGE_ELEMENT_TYPE,directive:"dl-image",displayName:"DL_TYPE_IMAGE",tooltipTemplateUrl:"configuration/designlibrary/image/tooltip.tmpl.html",renditionSize:n.IMAGE_RENDITION_SIZE,isDraggable:!0,dragType:"image",allowDragWithoutUsableRepresentation:!0,fullRenditionConfig:function(){var e=i.getUsableTypes(n.IMAGE_ELEMENT_TYPE);return 0===e.length?[]:[{id:n.currentProduct.config.code,condition:"IF_NO_MATCHING_REPRESENTATION",types:e}]},getAddOperations:function(t){var n=function(t,n,i){var r=e.defer();return o.generatePreview(!0,i).then(function(e){var o={documentId:e.documentId,layerIds:e.layerIds,dragAssetId:i};r.resolve(a.addGraphicElement(e.layerName,e.files,e.rendition,t,n,o))},function(){r.reject("Could not extract asset.")}),r.promise};return[{name:"DL_ADD_IMAGE_NAME",order:1,toolTipTemplate:"configuration/designlibrary/image/tooltip.tmpl.html",toolTipData:{name:t&&t.name},icon:"newimage",dropSupport:!0,apply:n,disabled:!t||t.hasOwnProperty("selectionExists")&&!t.selectionExists,displayIcon:!0}]},getEditOperations:function(e){var n=t.getDefaultEditOperation(e);return n?[n]:[]},elementFilter:function(e,t){var n=s.getStockSearchQuery(e);return t.every(function(t){return e.name.toLowerCase().indexOf(t)>-1||!!(n&&n.toLowerCase().indexOf(t)>-1)})},getDragData:function(e){if(e){var n,i=t.getCommonDragData(e),r=t.findUsableRepresentation(e);return r?r.getContentPath(function(e,t){n=t}):e&&e.getThumbnailPath(void 0,function(t,i){n=i,r={type:"image/png",_element:e}}),n?(i.data=[n],i.usedRepresentationForAnalytics=r,i):void 0}},width:103,height:78,listHeight:32,showTransparencyGrid:!0,getBadgeText:function(e){var t=e.getPrimaryRepresentation();if(t){var r=i.mimeLookup(n.IMAGE_ELEMENT_TYPE,t.type);return r&&r.badge}}})}])};return{attach:r}}),define("configuration/designlibrary/image/renderer",["require","exports","module","angular"],function(e,t,n){"use strict";function i(e){r.module(e).directive("dlImage",o)}var r=e("angular"),o=[function(){return{restrict:"E",replace:!1,templateUrl:"configuration/designlibrary/image/view.tmpl.html",scope:{component:"="},link:function(e,t,n){e.scrollIntoView=function(){t[0].scrollIntoView(!0)}},controller:["$scope","$window","$translate","designLibrarySelection","fileUtils","designLibraryManager","designLibraryElements","configuration","designLibraryViewState","adobeStockRendererUtils","digestUtils","unitUtils",function(e,t,n,i,o,a,s,l,c,u,d,p){function h(){var t=!1;s.setLoadingTimeout(function(){if(!t)return e.loadedRenditionUrl=!1,e.imageUrl=void 0,e.imgStyle={},!0}),s.getRenditionUrl(e.component).then(function(n){t=!0,e.loadedRenditionUrl=!0,e.imageUrl=n},function(n){t=!0,e.loadedRenditionUrl=!0,e.imageUrl=void 0,e.imgStyle={}});var n="content";e.tooltip={},m();var i,r=e.component.getPrimaryRepresentation();r&&(i=o.mimeLookup(l.IMAGE_ELEMENT_TYPE,r.type),i?(e.badgeText=i.badge,i.createdIn?e.tooltip.createdIn=i.createdIn:e.tooltip.type=i.name):e.tooltip.type=r.type,r.width&&r.height&&(e.tooltip.dimensions=p.dimensionsToString(r.width,r.height)),r.contentLength&&(e.tooltip.filesize=p.bytesToString(r.contentLength))),e.imgStyle["background-size"]=n,e.tooltip.name=s.getTruncatedElementName(e.component),c.isLibrariesSearchMode()&&(e.tooltip.libraryName=e.component.library.name)}function f(){h(),d.triggerDigest()}function g(){e.selected=i.isSelected(e.component),e.selected&&e.downloadProgress===-1&&(s.retryElementDownload(e.component),h()),i.isPendingScrollToItem(e.component)&&(i.clearPendingScrollToItem(),t.setTimeout(function(){e.scrollIntoView()}))}e.uiState=c.getState();var m=u.bindStockInfoToScope(e);e.imgStyle={},e.tooltip={},i.addScopedListener(e,"selectionChanged",g),h(),g(),e.component.addChangeListener(f),e.$watch("uiState.view",function(){e.imgStyle={}}),e.$on("$destroy",function(){e.component&&e.component.removeChangeListener(f),e.scrollIntoView=r.identity}),e.onElementDragStart=function(){e.selected||i.setSelection(e.component,!1)}}]}}];return{attach:i}}),define("configuration/designlibrary/image/main",["require","exports","module","./config","./renderer"],function(e,t,n){"use strict";t.attach=function(t){e("./config").attach(t),e("./renderer").attach(t)}}),define("configuration/designlibrary/layerstyle/config",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=function(e){i.module(e).run(["$q","designLibraryElements","configuration","fileUtils","imageUtils","csInterface","designLibraryUtils",function(e,t,n,i,r,o,a){t.register({type:n.LAYER_STYLE_ELEMENT_TYPE,directive:"dl-layer-style",displayName:"DL_TYPE_LAYER_STYLE",tooltipTemplateUrl:"configuration/designlibrary/layerstyle/tooltip.tmpl.html",renditionSize:n.LAYER_STYLE_RENDITION_SIZE,getAddOperations:function(t){if("PHXS"!==n.currentProduct.config.code)return[];var r=function(t,r){var s=e.defer();return o.execApp("saveLayerStyle").then(function(o){var l=JSON.parse(o)||{},c=l.layerName||"",u=a.createElementExtraMetrics(t,c,n.LAYER_STYLE_ELEMENT_TYPE,{opType:r}),d=[],p=l.files||[];if(p.forEach(function(e,t){var r=i.fileNameToContentType(e,n.LAYER_STYLE_ELEMENT_TYPE);if(r){var o=0===t?"primary":"alternate",a=u.createRepresentation(r,o),s=a.setContentFromPath(e).then(function(){i.deleteFile(e)});d.push(s)}else console.log("Could not create representation: path cannot end with '.': "+e)}),l.rendition){var h=u.createRepresentation("image/png","rendition"),f=h.setContentFromPath(l.rendition);d.push(f)}e.all(d).then(function(){l.rendition&&u.setThumbnailCache(n.LAYER_STYLE_RENDITION_SIZE,l.rendition,function(){i.deleteFile(l.rendition)}),u.endOperation(),s.resolve(u)},function(){t.removeElement(u,!0),s.reject("Could not create element.")})},function(){s.reject("Could not save layer style.")}),s.promise};return[{name:"DL_ADD_LAYER_STYLE",icon:"newlayerstyle",order:3,dropSupport:!1,apply:r,disabled:!t||!t.hasLayerStyles,displayIcon:!0}]},width:68,height:45,listHeight:32,backgroundColor:11711154})}])};return{attach:r}}),define("configuration/designlibrary/layerstyle/renderer",["require","exports","module","angular"],function(e,t,n){"use strict";function i(e){r.module(e).directive("dlLayerStyle",o)}var r=e("angular"),o=["fileUtils",function(e){return{restrict:"E",replace:!1,templateUrl:"configuration/designlibrary/layerstyle/view.tmpl.html",scope:{component:"="},link:function(e,t,n){e.scrollIntoView=function(){t[0].scrollIntoView(!0)}},controller:["$scope","$window","designLibrarySelection","themeManager","configuration","designLibraryElements","designLibraryViewState","digestUtils",function(e,t,n,i,o,a,s,l){function c(){e.tooltip.name=a.getTruncatedElementName(e.component);var t=!1;a.setLoadingTimeout(function(){if(!t)return e.imageUrl=void 0,e.loadedRenditionUrl=!1,!0}),a.getRenditionUrl(e.component).then(function(n){t=!0,e.imageUrl=n,e.loadedRenditionUrl=!0},function(n){t=!0,e.imageUrl=void 0,e.loadedRenditionUrl=!0}),s.isLibrariesSearchMode()&&(e.tooltip.libraryName=e.component.library.name)}function u(){c(),l.triggerDigest()}function d(){e.selected=n.isSelected(e.component),n.isPendingScrollToItem(e.component)&&(n.clearPendingScrollToItem(),t.setTimeout(function(){e.scrollIntoView()}))}e.uiState=s.getState(),e.tooltip={},e.disabled="PHXS"!==o.currentProduct.config.code,n.addScopedListener(e,"selectionChanged",d),c(),d(),e.component.addChangeListener(u),e.$on("$destroy",function(){e.component&&e.component.removeChangeListener(u),e.scrollIntoView=r.identity})}]}}];return{attach:i}}),define("configuration/designlibrary/layerstyle/main",["require","exports","module","./config","./renderer"],function(e,t,n){"use strict";t.attach=function(t){e("./config").attach(t),e("./renderer").attach(t)}}),define("configuration/designlibrary/look/config",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=function(e){i.module(e).run(["$q","designLibraryElements","configuration","fileUtils","imageUtils","csInterface","designLibraryUtils",function(e,t,n,i,r,o,a){t.register({type:n.LOOK_ELEMENT_TYPE,directive:"dl-look",displayName:"DL_TYPE_LOOK",tooltipTemplateUrl:"configuration/designlibrary/look/tooltip.tmpl.html",renditionSize:n.LOOK_RENDITION_SIZE,getAddOperations:function(e){return[]},getDragData:function(e){if(e){var n,i=t.getCommonDragData(e),r=t.findUsableRepresentation(e);return r&&r.getContentPath(function(e,t){n=t}),n?(i.data=[n],i.usedRepresentationForAnalytics=r,i):void 0}},width:103,height:78,listHeight:32})}])};return{attach:r}}),define("configuration/designlibrary/look/renderer",["require","exports","module","angular"],function(e,t,n){"use strict";function i(e){r.module(e).directive("dlLook",o)}var r=e("angular"),o=["fileUtils",function(e){return{restrict:"E",replace:!1,templateUrl:"configuration/designlibrary/look/view.tmpl.html",scope:{component:"="},link:function(e,t,n){e.scrollIntoView=function(){t[0].scrollIntoView(!0)}},controller:["$scope","$window","designLibrarySelection","themeManager","configuration","designLibraryElements","designLibraryViewState","digestUtils",function(t,n,i,o,a,s,l,c){function u(){t.tooltip.name=s.getTruncatedElementName(t.component);var n=!1;s.setLoadingTimeout(function(){if(!n)return t.imageUrl=void 0,t.loadedRenditionUrl=!1,!0});var i=s.findRepresentation(t.component,e.getUsableTypes(a.LOOK_ELEMENT_TYPE));i||(t.disabled=!0),s.getRenditionUrl(t.component).then(function(e){n=!0,t.imageUrl=e,t.loadedRenditionUrl=!0},function(e){n=!0,t.imageUrl=void 0,t.loadedRenditionUrl=!0}),l.isLibrariesSearchMode()&&(t.tooltip.libraryName=t.component.library.name)}function d(){u(),c.triggerDigest()}function p(){t.selected=i.isSelected(t.component),i.isPendingScrollToItem(t.component)&&(i.clearPendingScrollToItem(),n.setTimeout(function(){t.scrollIntoView()}))}t.uiState=l.getState(),t.tooltip={},i.addScopedListener(t,"selectionChanged",p),u(),p(),t.component.addChangeListener(d),t.$on("$destroy",function(){t.component&&t.component.removeChangeListener(d),t.scrollIntoView=r.identity}),t.onElementDragStart=function(){t.selected||i.setSelection(t.component,!1)}}]}}];return{attach:i}}),define("configuration/designlibrary/look/main",["require","exports","module","./config","./renderer"],function(e,t,n){"use strict";t.attach=function(t){e("./config").attach(t),e("./renderer").attach(t)}}),define("configuration/designlibrary/capsule/config",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=function(e){i.module(e).run(["designLibraryElements","configuration",function(e,t){e.register({type:t.CAPSULE_ELEMENT_TYPE,directive:"dl-capsule",displayName:"DL_TYPE_CAPSULE",tooltipTemplateUrl:"configuration/designlibrary/capsule/tooltip.tmpl.html",renditionSize:t.CAPSULE_RENDITION_SIZE,isDraggable:!0,dragType:"capsule",getAddOperations:function(e){return[]},getDragData:function(n){if(n){var i,r=e.getCommonDragData(n),o=e.findUsableRepresentation(n);o&&o.getContentPath(function(e,t){i=t});var a,s=e.findRepresentation(n,t.CAPSULE_DEFINITION_REPRESENTATION_TYPE);return s&&s.getContentPath(function(e,t){a=t}),i?(r.data=[i],a&&(r.json=[a]),r.usedRepresentationForAnalytics=o,r):void 0}},width:103,height:78,listHeight:32,getAdditionalTooltipData:function(n){var i={};return e.isElementUsable(n)||(i.disabledMessage="DL_ERROR_CAPSULE_NOT_SUPPORTED_"+t.currentProduct.config.translationSuffix),i}})}])};return{attach:r}}),define("configuration/designlibrary/capsule/renderer",["require","exports","module","angular"],function(e,t,n){"use strict";function i(e){r.module(e).directive("dlCapsule",o)}var r=e("angular"),o=[function(){return{restrict:"E",replace:!1,templateUrl:"configuration/designlibrary/capsule/view.tmpl.html",scope:{component:"="},link:function(e,t,n){e.scrollIntoView=function(){t[0].scrollIntoView(!0)}},controller:["$scope","$window","$translate","designLibrarySelection","fileUtils","designLibraryManager","designLibraryElements","configuration","designLibraryViewState","digestUtils","unitUtils",function(e,t,n,i,o,a,s,l,c,u,d){function p(){var t=!1;s.setLoadingTimeout(function(){if(!t)return e.loadedRenditionUrl=!1,e.imageUrl=void 0,e.imgStyle={},!0}),s.getRenditionUrl(e.component).then(function(n){t=!0,e.loadedRenditionUrl=!0,e.imageUrl=n},function(n){t=!0,e.loadedRenditionUrl=!0,e.imageUrl=void 0,e.imgStyle={}});var n="content";e.tooltip={},e.tooltip.name=s.getTruncatedElementName(e.component);var i,r=e.component.getPrimaryRepresentation();if(r){i=o.mimeLookup(l.CAPSULE_ELEMENT_TYPE,r.type),i?i.createdIn?e.tooltip.createdIn=i.createdIn:e.tooltip.type=i.name:e.tooltip.type=r.type,r.contentLength&&(e.tooltip.filesize=d.bytesToString(r.contentLength));var a=r.getValue(l.CAPSULE_NAMESPACE,l.CAPSULE_DATA_KEY)||{};a.duration&&(e.tooltip.duration=d.msToString(a.duration)),e.disabled=!s.isRepresentationCompatible(r,o.getUsableTypes(l.CAPSULE_ELEMENT_TYPE))}else e.disabled=!0;e.disabled&&(e.tooltip.disabledMessage="DL_ERROR_CAPSULE_NOT_SUPPORTED_"+l.currentProduct.config.translationSuffix),e.imgStyle["background-size"]=n,e.tooltip.name=s.getTruncatedElementName(e.component),c.isLibrariesSearchMode()&&(e.tooltip.libraryName=e.component.library.name)}function h(){p(),u.triggerDigest()}function f(){e.selected=i.isSelected(e.component),i.isPendingScrollToItem(e.component)&&(i.clearPendingScrollToItem(),t.setTimeout(function(){e.scrollIntoView()}))}e.uiState=c.getState(),e.imgStyle={},e.tooltip={},i.addScopedListener(e,"selectionChanged",f),p(),f(),e.component.addChangeListener(h),e.$watch("uiState.view",function(){e.imgStyle={}}),e.$on("$destroy",function(){e.component&&e.component.removeChangeListener(h),e.scrollIntoView=r.identity}),e.onElementDragStart=function(){e.selected||i.setSelection(e.component,!1)}}]}}];return{attach:i}}),define("configuration/designlibrary/capsule/main",["require","exports","module","./config","./renderer"],function(e,t,n){"use strict";t.attach=function(t){e("./config").attach(t),e("./renderer").attach(t)}}),define("configuration/designlibrary/textstyle/config",["require","exports","module","angular","pixi"],function(e,t,n){"use strict";var i=e("angular"),r=e("pixi"),o="characterstyle",a="data",s="application/vnd.adobe.characterstyle+json",l=function(e){i.module(e).run(["$q","designLibraryElements","designLibraryUtils","layerSelectionManager","csInterface","fileUtils","colorUtils","configuration","textstyleUtils","fontManager",function(e,t,n,i,l,c,u,d,p,h){t.register({type:d.CHARACTER_STYLE_ELEMENT_TYPE,directive:"dl-text-style",displayName:"DL_TYPE_TEXT_STYLE",tooltipTemplateUrl:"configuration/designlibrary/textstyle/tooltip.tmpl.html",renditionSize:d.CHARACTER_STYLE_RENDITION_SIZE,getAddOperations:function(t){var r=function(t,r){function u(i){i&&"LayerKind.TEXT"===i.kind&&l.execApp("saveTextStylePreview",[i.fontInfo]).then(function(l){if(void 0!==l&&"undefined"!==l){var u=n.createElementExtraMetrics(t,"",d.CHARACTER_STYLE_ELEMENT_TYPE,{opType:r}),h=[],f=u.createRepresentation(s,"primary");if(f.setValue(o,a,i.fontInfo),l){var g=u.createRepresentation("image/png","rendition"),m=g.setContentFromPath(l);h.push(m)}e.all(h).then(function(){l&&u.setThumbnailCache(d.CHARACTER_STYLE_RENDITION_SIZE,l,function(){c.deleteFile(l)}),u.endOperation(),p.resolve(u)},function(){t.removeElement(u,!0),p.reject("Could not create element.")})}},function(){p.reject("Could not save text style preview.")})}var p=e.defer();return i.requestUpdate(),i.addListener("layerSelectionChanged",u,!0),p.promise};return[{name:"DL_ADD_TEXT_STYLE_NAME",order:2,toolTipTemplate:"configuration/designlibrary/textstyle/tooltip.tmpl.html",toolTipData:{properties:t&&t.fontInfo&&p.getStyleProperties(t.fontInfo).join(", ")},icon:"newcharacterstyle",apply:r,disabled:!t||!t.text||!t.fontInfo,displayIcon:!0}]},getDisplayText:function(e){if(e.name&&""!==e.name)return e.name;var n=t.findRepresentation(e,s),i=n&&n.getValue(o,a);if(i){var r=i.fontFamily;return i.adbeFont.style.toLowerCase().indexOf("normal")===-1&&i.adbeFont.style.toLowerCase().indexOf("regular")&&(r+=" "+i.adbeFont.style),r}return""},elementFilter:function(e,n){var i=t.findRepresentation(e,s),r=i&&i.getValue(o,a);return n.every(function(t){return e.name.toLowerCase().indexOf(t)>-1||!(!r||!(r.fontFamily&&r.fontFamily.toLowerCase().indexOf(t)>-1||r.adbeFont&&r.adbeFont.style&&r.adbeFont.style.toLowerCase().indexOf(t)>-1||r.fontSize&&r.fontSize.value&&r.fontSize.value.toString().toLowerCase().indexOf(t)>-1))})},allowBlankName:!0,width:68,height:45,listHeight:32,thumbnailMaxWidthGrid:41,thumbnailMaxWidthList:27,backgroundColor:16777215,render:function(e,n){e._styleGraphics||(e._styleGraphics=new r.Graphics,e.sprite.addChildAt(e._styleGraphics,n),e.onDestroy(function(){e._styleGraphics.destroy()})),e._styleGraphics.clear();var i=t.findRepresentation(e.element,s),l=i&&i.getValue(o,a);if(l){var c=p.getStyleProperties(l);if(e.setDescription(c.join(", ")),h.isFontAvailable(l))e.clearMissingFontIcon();else{var d=e.isListView?10:14,f=e.setMissingFontIcon(d,n+1);f.position.x=3,f.position.y=3}if(l.color){var g=e.isListView,m=g?8:10,v=g?8:6,_=g?Math.floor((e.height-v)/2):3,y=g?6:3,E=u.colorDataToHexNumber(l.color);e._styleGraphics.beginFill(E),e._styleGraphics.drawRect(e.width-m-y,_,m,v),e._styleGraphics.endFill(),g&&e.setRightMargin(m+y)}}},getAdditionalTooltipData:function(e){var n={},i=t.findRepresentation(e,s),r=i&&i.getValue(o,a);if(r){var l=p.getStyleProperties(r);n.properties=l.join(", "),n.missingFont=!h.isFontAvailable(r)}return n}})}])};return{attach:l}}),define("configuration/designlibrary/textstyle/renderer",["require","exports","module","angular"],function(e,t,n){"use strict";function i(e){r.module(e).directive("dlTextStyle",l)}var r=e("angular"),o="characterstyle",a="data",s="application/vnd.adobe.characterstyle+json",l=function(){return{restrict:"E",replace:!1,templateUrl:"configuration/designlibrary/textstyle/view.tmpl.html",scope:{component:"="},link:function(e,t,n){e.scrollIntoView=function(){t[0].scrollIntoView(!0)}},controller:["$scope","$q","$window","fileUtils","designLibrarySelection","designLibraryElements","designLibraryViewState","colorUtils","configuration","csInterface","mediator","textstyleUtils","digestUtils",function(e,t,n,i,l,c,u,d,p,h,f,g,m){function v(){var t=c.findRepresentation(e.component,s);e.tooltip.name=c.getTruncatedElementName(e.component);var n=!1;c.setLoadingTimeout(function(){if(!n)return e.imageUrl=void 0,e.loadedRenditionUrl=!1,!0}),c.getRenditionUrl(e.component).then(function(t){n=!0,e.imageUrl=t,e.loadedRenditionUrl=!0},function(t){n=!0,e.imageUrl=void 0,e.loadedRenditionUrl=!0});var r=t&&t.getValue(o,a);if(e.disabled=!c.isRepresentationCompatible(t,i.getUsableTypes(p.CHARACTER_STYLE_ELEMENT_TYPE)),r){var l=function(t){e.missingFont=t,e.tooltip.missingFont=e.missingFont};b(r).then(function(e){l(!e)}),E.on("fontListChanged",function(){b(r).then(function(e){l(!e)})});var h=g.getStyleProperties(r);if(e.styleDescription=h.join(", "),e.tooltip.properties=e.styleDescription,r.color&&(e.colorStyle={"background-color":d.colorDataToHexValue(r.color)}),e.fontDescription={},e.fontDescription.font=r.fontFamily,e.fontDescription.style="",r.adbeFont&&r.adbeFont.style){var f=r.adbeFont.style.toLowerCase();f.indexOf("normal")===-1&&f.indexOf("regular")&&(e.fontDescription.style=r.adbeFont.style)}e.fontDescription.fullFont=e.fontDescription.font+" "+e.fontDescription.style,u.isLibrariesSearchMode()&&(e.tooltip.libraryName=e.component.library.name)}}function _(){v(),m.triggerDigest()}function y(){e.selected=l.isSelected(e.component),l.isPendingScrollToItem(e.component)&&(l.clearPendingScrollToItem(),n.setTimeout(function(){e.scrollIntoView()}))}e.uiState=u.getState();var E=f.register(e);e.tooltip={},e.renderStyle={},e.renderStyleFull={},e.isPreviewAvailable=!1,e.previewURL="";var b=function(n){var i=c.findUsableRepresentation(e.component);if(!i)return t.when(!0);if(!n.adbeFont&&!n.fontFamily)return t.when(!0);var r=t.defer();return h.execApp("isFontAvailable",[n]).then(function(e){r.resolve("false"!==e)}),r.promise};l.addScopedListener(e,"selectionChanged",y),v(),y(),e.component.addChangeListener(_),e.$on("$destroy",function(){e.component&&e.component.removeChangeListener(_),e.scrollIntoView=r.identity})}]}};return{attach:i}}),define("configuration/designlibrary/textstyle/main",["require","exports","module","./config","./renderer"],function(e,t,n){"use strict";t.attach=function(t){e("./config").attach(t),e("./renderer").attach(t)}}),define("configuration/designlibrary/parastyle/config",["require","exports","module","angular","pixi"],function(e,t,n){"use strict";var i=e("angular"),r=e("pixi"),o="paragraphstyle",a="data",s="application/vnd.adobe.paragraphstyle+json",l="application/vnd.adobe.paragraphstyle+snippet",c=function(e){i.module(e).run(["$q","$translate","designLibraryElements","designLibraryUtils","layerSelectionManager","csInterface","fileUtils","colorUtils","textstyleUtils","configuration","fontManager",function(e,t,n,i,c,u,d,p,h,f,g){n.register({type:f.PARAGRAPH_STYLE_ELEMENT_TYPE,directive:"dl-para-style",displayName:"DL_TYPE_PARA_STYLE",tooltipTemplateUrl:"configuration/designlibrary/parastyle/tooltip.tmpl.html",renditionSize:f.PARAGRAPH_STYLE_RENDITION_SIZE,getAddOperations:function(n){var r=function(n,r){function p(c){c&&"LayerKind.TEXT"===c.kind&&u.execApp("getParaStyleInfo").then(function(c){var u=JSON.parse(c);u.styleName||(u.styleName=t.instant("DL_TYPE_NEW_PARA_STYLE"));var p,g,m=i.createElementExtraMetrics(n,u.styleName,f.PARAGRAPH_STYLE_ELEMENT_TYPE,{opType:r}),v=[];if(u.idmsPath){var _=m.createRepresentation(l,"primary");g=_.setContentFromPath(u.idmsPath).then(function(){d.deleteFile(u.idmsPath)}),v.push(g),p=m.createRepresentation(s,"rendition"),p.setValue(o,a,u.styleInfo)}else p=m.createRepresentation(s,"primary"),p.setValue(o,a,u.styleInfo);if(u.previewPath){var y=m.createRepresentation("image/png","rendition");g=y.setContentFromPath(u.previewPath),v.push(g)}e.all(v).then(function(){u.previewPath&&m.setThumbnailCache(f.PARAGRAPH_STYLE_RENDITION_SIZE,u.previewPath,function(){d.deleteFile(u.previewPath)}),m.endOperation(),h.resolve(m)},function(){n.removeElement(m,!0),h.reject("Could not create element.")})},function(){h.reject("Could not save paragraph style preview.")})}var h=e.defer();return c.requestUpdate(),c.addListener("layerSelectionChanged",p,!0),h.promise};return[{name:"DL_ADD_PARA_STYLE_NAME",order:3,icon:"newparagraphstyle",apply:r,disabled:!n||!n.text||n.isAppliedParaStyleSupported===!1,displayIcon:!0}]},getDisplayText:function(e){if(e.name&&""!==e.name)return e.name;var t=n.findRepresentation(e,s),i=t&&t.getValue(o,a);if(i){var r=i.fontFamily;return i.adbeFont.style.toLowerCase().indexOf("normal")===-1&&i.adbeFont.style.toLowerCase().indexOf("regular")&&(r+=" "+i.adbeFont.style),r}return""},elementFilter:function(e,t){var i=n.findRepresentation(e,s),r=i&&i.getValue(o,a);return t.every(function(t){return e.name.toLowerCase().indexOf(t)>-1||!(!r||!(r.fontFamily&&r.fontFamily.toLowerCase().indexOf(t)>-1||r.adbeFont&&r.adbeFont.style&&r.adbeFont.style.toLowerCase().indexOf(t)>-1||r.fontSize&&r.fontSize.value&&r.fontSize.value.toString().toLowerCase().indexOf(t)>-1))})},allowBlankName:!0,width:68,height:45,listHeight:32,thumbnailMaxWidthGrid:41,thumbnailMaxWidthList:27,backgroundColor:16777215,render:function(e,t){e._styleGraphics||(e._styleGraphics=new r.Graphics,e.sprite.addChildAt(e._styleGraphics,t),e.onDestroy(function(){e._styleGraphics.destroy()})),e._styleGraphics.clear();var i=n.findRepresentation(e.element,s),l=i&&i.getValue(o,a);if(l){var c=h.getStyleProperties(l);if(e.setDescription(c.join(", ")),g.isFontAvailable(l))e.clearMissingFontIcon();else{var u=e.isListView?10:14,d=e.setMissingFontIcon(u,t+1);d.position.x=3,d.position.y=3}if(l.color){var f=e.isListView,m=f?8:10,v=f?8:6,_=f?Math.floor((e.height-v)/2):3,y=f?6:3,E=p.colorDataToHexNumber(l.color);e._styleGraphics.beginFill(E),e._styleGraphics.drawRect(e.width-m-y,_,m,v),e._styleGraphics.endFill(),f&&e.setRightMargin(m+y)}}},getAdditionalTooltipData:function(e){var t={},i=n.findRepresentation(e,s),r=i&&i.getValue(o,a);if(r){var l=h.getStyleProperties(r);t.properties=l.join(", "),t.missingFont=!g.isFontAvailable(r)}return t}})}])};return{attach:c}}),define("configuration/designlibrary/parastyle/renderer",["require","exports","module","angular"],function(e,t,n){"use strict";function i(e){r.module(e).directive("dlParaStyle",c)}var r=e("angular"),o="paragraphstyle",a="data",s="application/vnd.adobe.paragraphstyle+json",l={},c=function(){return{restrict:"E",replace:!1,templateUrl:"configuration/designlibrary/parastyle/view.tmpl.html",scope:{component:"="},link:function(e,t,n){e.scrollIntoView=function(){t[0].scrollIntoView(!0)}},controller:["$scope","$q","$window","fileUtils","designLibrarySelection","designLibraryElements","designLibraryViewState","colorUtils","configuration","csInterface","mediator","$translate","digestUtils",function(e,t,n,i,c,u,d,p,h,f,g,m,v){function _(){var t=u.findRepresentation(e.component,s);e.tooltip.name=u.getTruncatedElementName(e.component);var n=!1;u.setLoadingTimeout(function(){if(!n)return e.imageUrl=void 0,e.loadedRenditionUrl=!1,!0}),u.getRenditionUrl(e.component).then(function(t){n=!0,e.imageUrl=t,e.loadedRenditionUrl=!0},function(t){n=!0,e.imageUrl=void 0,e.loadedRenditionUrl=!0});var r=t&&t.getValue(o,a);if(e.disabled=!t||!u.isRepresentationCompatible(t,i.getUsableTypes(h.PARAGRAPH_STYLE_ELEMENT_TYPE)),r){var l=function(t){e.missingFont=t,e.tooltip.missingFont=e.missingFont};T(r).then(function(e){l(!e)}),b.on("fontListChanged",function(){T(r).then(function(e){l(!e)})});var c=L(r);if(e.styleDescription=c.join(", "),e.tooltip.properties=e.styleDescription,r.color&&(e.colorStyle={"background-color":p.colorDataToHexValue(r.color)}),e.fontDescription={},e.fontDescription.font=r.fontFamily,e.fontDescription.style="",r.adbeFont&&r.adbeFont.style){var f=r.adbeFont.style.toLowerCase();f.indexOf("normal")===-1&&f.indexOf("regular")&&(e.fontDescription.style=r.adbeFont.style)}e.fontDescription.fullFont=e.fontDescription.font+" "+e.fontDescription.style,d.isLibrariesSearchMode()&&(e.tooltip.libraryName=e.component.library.name)}}function y(){_(),v.triggerDigest()}function E(){e.selected=c.isSelected(e.component),c.isPendingScrollToItem(e.component)&&(c.clearPendingScrollToItem(),n.setTimeout(function(){e.scrollIntoView()}))}e.uiState=d.getState();var b=g.register(e);e.tooltip={},e.renderStyle={},e.renderStyleFull={},e.isPreviewAvailable=!1,e.previewURL="";var T=function(n){var i=u.findUsableRepresentation(e.component);if(!i)return t.when(!0);if(!n.adbeFont&&!n.fontFamily)return t.when(!0);var r=t.defer();return f.execApp("isFontAvailable",[n]).then(function(e){r.resolve("false"!==e)}),r.promise},S=function(){l.Underline||(l.Underline=m.instant("DL_TEXT_ATTRIBUTE_UNDERLINE"),l.Strikethrough=m.instant("DL_TEXT_ATTRIBUTE_STRIKETHROUGH"),l.Leading=m.instant("DL_TEXT_ATTRIBUTE_LEADING"),l.Kerning=m.instant("DL_TEXT_ATTRIBUTE_KERNING"),l.Tracking=m.instant("DL_TEXT_ATTRIBUTE_TRACKING"),l.Alignment=m.instant("DL_TEXT_ATTRIBUTE_ALIGNMENT"),l.Hyphenate=m.instant("DL_TEXT_ATTRIBUTE_HYPHENATE"),l.LeadingAuto=m.instant("DL_TEXT_LEADING_AUTO"),l.KerningAuto=m.instant("DL_TEXT_KERNING_AUTO"),l.KerningOptical=m.instant("DL_TEXT_KERNING_OPTICAL"),l.KerningMetricsRomanOnly=m.instant("DL_TEXT_KERNING_METRICSROMANONLY"),l.LeftAlign=m.instant("DL_TEXT_ALIGNMENT_LEFT"),l.CenterAlign=m.instant("DL_TEXT_ALIGNMENT_CENTER"),l.RightAlign=m.instant("DL_TEXT_ALIGNMENT_RIGHT"),l.LeftJustify=m.instant("DL_TEXT_ALIGNMENT_LEFT_JUSTIFY"),l.CenterJustify=m.instant("DL_TEXT_ALIGNMENT_CENTER_JUSTIFY"),l.RightJustify=m.instant("DL_TEXT_ALIGNMENT_RIGHT_JUSTIFY"),l.FullJustify=m.instant("DL_TEXT_ALIGNMENT_FULL_JUSTIFY"))},L=function(e){var t=[];if(S(),e.adbeFont?t.push(e.adbeFont.family):e.fontFamily&&t.push(e.fontFamily),e.adbeFont&&e.adbeFont.style.toLowerCase().indexOf("normal")===-1&&e.adbeFont.style.toLowerCase().indexOf("regular")&&t.push(e.adbeFont.style),e.fontSize){var n=e.fontSize.value&&Math.round(100*e.fontSize.value)/100;t.push(n+e.fontSize.type)}if(e.textDecorationObject?(e.textDecorationObject.adbeUnderline&&t.push(l.Underline),e.textDecorationObject.adbeStrikethrough&&t.push(l.Strikethrough)):e.textDecoration&&(e.textDecoration.indexOf("underline")!==-1&&t.push(l.Underline),e.textDecoration.indexOf("line-through")!==-1&&t.push(l.Strikethrough)),e.adbeAutoLeading)t.push(l.Leading+":"+l.LeadingAuto);else if(e.lineHeight){var i=e.lineHeight.value&&Math.round(100*e.lineHeight.value)/100;t.push(l.Leading+":"+i+e.lineHeight.type)}switch(e.adbeIlstKerningMethod){case"AutoKernType.AUTO":t.push(l.Kerning+":"+l.KerningAuto);break;case"AutoKernType.OPTICAL":t.push(l.Kerning+":"+l.KerningOptical);break;case"AutoKernType.METRICSROMANONLY":t.push(l.Kerning+":"+l.KerningMetricsRomanOnly)}if(e.adbeTracking?t.push(l.Tracking+":"+e.adbeTracking):e.letterSpacing&&t.push(l.Tracking+":"+1e3*e.letterSpacing.value),e.adbeParaAlignment)switch(e.adbeParaAlignment){case"Alignment.LEFT_ALIGN":t.push(l.Alignment+":"+l.LeftAlign);break;case"Alignment.CENTER_ALIGN":t.push(l.Alignment+":"+l.CenterAlign);break;case"Alignment.RIGHT_ALIGN":t.push(l.Alignment+":"+l.RightAlign);break;case"Alignment.LEFT_JUSTIFIED":t.push(l.Alignment+":"+l.LeftJustify);break;case"Alignment.CENTER_JUSTIFIED":t.push(l.Alignment+":"+l.CenterJustify);break;case"Alignment.RIGHT_JUSTIFIED":t.push(l.Alignment+":"+l.RightJustify);break;case"Alignment.FULLY_JUSTIFIED":t.push(l.Alignment+":"+l.FullJustify)}return e.adbeHyphenation&&t.push(l.Hyphenate),t};c.addScopedListener(e,"selectionChanged",E),_(),E(),e.component.addChangeListener(y),e.$on("$destroy",function(){e.component&&e.component.removeChangeListener(y),e.scrollIntoView=r.identity})}]}};return{attach:i}}),define("configuration/designlibrary/parastyle/main",["require","exports","module","./config","./renderer"],function(e,t,n){"use strict";t.attach=function(t){e("./config").attach(t),e("./renderer").attach(t)}}),define("configuration/designlibrary/unsupported/config",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=82,o=function(e){i.module(e).run(["designLibraryElements","configuration","imageUtils",function(e,t,n){e.register({type:"*",directive:"dl-unsupported",displayName:"DL_TYPE_UNKNOWN",tooltipTemplateUrl:"configuration/designlibrary/unsupported/tooltip.tmpl.html",renditionSize:r,getApplyOperations:function(e,t){return[]},getAddOperations:function(e){return[]},width:82,height:54,listHeight:32,getAdditionalTooltipData:function(e){var n={disabledMessage:"DL_ERROR_UNSUPPORTED_"+t.currentProduct.config.translationSuffix};return n}})}])};return{attach:o}}),define("configuration/designlibrary/unsupported/renderer",["require","exports","module","angular"],function(e,t,n){"use strict";function i(e){r.module(e).directive("dlUnsupported",o)}var r=e("angular"),o=function(){return{restrict:"E",replace:!1,templateUrl:"configuration/designlibrary/unsupported/view.tmpl.html",scope:{component:"="},link:function(e,t,n){e.scrollIntoView=function(){t[0].scrollIntoView(!0)}},controller:["$scope","$window","designLibrarySelection","configuration","designLibraryElements","designLibraryViewState","digestUtils",function(e,t,n,i,o,a,s){function l(){var t=!1;o.setLoadingTimeout(function(){if(!t)return e.imageUrl=void 0,e.loadedRenditionUrl=!1,!0}),o.getRenditionUrl(e.component).then(function(n){t=!0,e.imageUrl=n,e.loadedRenditionUrl=!0},function(n){t=!0,e.imageUrl=void 0,e.loadedRenditionUrl=!0}),e.tooltip.disabledMessage="DL_ERROR_UNSUPPORTED_"+i.currentProduct.config.translationSuffix,a.isLibrariesSearchMode()&&(e.tooltip.libraryName=e.component.library.name)}function c(){l(),s.triggerDigest()}function u(){e.selected=n.isSelected(e.component),n.isPendingScrollToItem(e.component)&&(n.clearPendingScrollToItem(),
t.setTimeout(function(){e.scrollIntoView()}))}e.uiState=a.getState(),e.tooltip={},n.addScopedListener(e,"selectionChanged",u),l(),u(),e.component.addChangeListener(c),e.$on("$destroy",function(){e.component&&e.component.removeChangeListener(c),e.scrollIntoView=r.identity})}]}};return{attach:i}}),define("configuration/designlibrary/unsupported/main",["require","exports","module","./config","./renderer"],function(e,t,n){"use strict";t.attach=function(t){e("./config").attach(t),e("./renderer").attach(t)}}),define("configuration/designlibrary/video/config",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=function(e){i.module(e).run(["designLibraryElements","configuration","fileUtils","imageUtils","unitUtils","adobeStockUtils",function(e,t,n,i,r,o){e.register({type:t.VIDEO_ELEMENT_TYPE,directive:"dl-video",displayName:"DL_TYPE_VIDEO",tooltipTemplateUrl:"configuration/designlibrary/video/tooltip.tmpl.html",renditionSize:t.VIDEO_RENDITION_SIZE,autoDownloadExternalLinks:!1,ignorePendingDownload:!0,getAddOperations:function(e){return[]},elementFilter:function(e,t){var n=o.getStockSearchQuery(e);return t.every(function(t){return e.name.toLowerCase().indexOf(t)>-1||!!(n&&n.toLowerCase().indexOf(t)>-1)})},getDragData:function(t){if(t){var i,r=e.getCommonDragData(t),o=[],a=n.getUsableTypes(t.type);return t.representations.forEach(function(t){if(e.isRepresentationCompatible(t,a)){i=i||t;var n=t.getValue("video","data")||{};o.push({contentType:t.type,url:t.getContentURL(),width:t.width,height:t.height,contentLength:t.contentLength,framerate:n.framerate,duration:n.duration})}}),o.length>0?(r.data=o,r.usedRepresentationForAnalytics=i,r):void 0}},width:103,height:78,listHeight:32,getAdditionalTooltipData:function(t){var n={},i=t.getPrimaryRepresentation(),o=e.findUsableRepresentation(t),a=o||i;if(a){a.width&&a.height&&(n.dimensions=r.dimensionsToString(a.width,a.height)),a.contentLength&&(n.filesize=r.bytesToString(a.contentLength));var s=a.getValue("video","data")||{};s.framerate&&(n.framerate=r.fpsToString(s.framerate)),s.duration&&(n.duration=r.msToString(s.duration))}return n}})}])};return{attach:r}}),define("configuration/designlibrary/video/renderer",["require","exports","module","angular"],function(e,t,n){"use strict";function i(e){r.module(e).directive("dlVideo",o)}var r=e("angular"),o=["fileUtils",function(e){return{restrict:"E",replace:!1,templateUrl:"configuration/designlibrary/video/view.tmpl.html",scope:{component:"="},link:function(e,t,n){e.scrollIntoView=function(){t[0].scrollIntoView(!0)}},controller:["$scope","$window","designLibrarySelection","themeManager","configuration","designLibraryElements","designLibraryViewState","designLibraryManager","digestUtils","adobeStockRendererUtils","unitUtils",function(t,n,i,o,a,s,l,c,u,d,p){function h(){var n=!1;s.setLoadingTimeout(function(){if(!n)return t.imageUrl=void 0,t.loadedRenditionUrl=!1,!0}),t.tooltip={},m(),t.tooltip.name=s.getTruncatedElementName(t.component);var i=t.component.getPrimaryRepresentation(),r=s.findRepresentation(t.component,e.getUsableTypes(a.VIDEO_ELEMENT_TYPE));r||(t.disabled=!0);var o=r||i;if(o){o.width&&o.height&&(t.tooltip.dimensions=p.dimensionsToString(o.width,o.height)),o.contentLength&&(t.tooltip.filesize=p.bytesToString(o.contentLength));var c=o.getValue("video","data")||{};c.framerate&&(t.tooltip.framerate=p.fpsToString(c.framerate)),c.duration&&(t.tooltip.duration=p.msToString(c.duration))}s.getRenditionUrl(t.component).then(function(e){n=!0,t.imageUrl=e,t.loadedRenditionUrl=!0},function(e){n=!0,t.imageUrl=void 0,t.loadedRenditionUrl=!0}),l.isLibrariesSearchMode()&&(t.tooltip.libraryName=t.component.library.name)}function f(){h(),u.triggerDigest()}function g(){t.selected=i.isSelected(t.component),i.isPendingScrollToItem(t.component)&&(i.clearPendingScrollToItem(),n.setTimeout(function(){t.scrollIntoView()}))}t.uiState=l.getState();var m=d.bindStockInfoToScope(t);t.tooltip={},i.addScopedListener(t,"selectionChanged",g),h(),g(),t.component.addChangeListener(f),t.$on("$destroy",function(){t.component&&t.component.removeChangeListener(f),t.scrollIntoView=r.identity}),t.onElementDragStart=function(){t.selected||i.setSelection(t.component,!1)}}]}}];return{attach:i}}),define("configuration/designlibrary/video/main",["require","exports","module","./config","./renderer"],function(e,t,n){"use strict";t.attach=function(t){e("./config").attach(t),e("./renderer").attach(t)}}),define("configuration/designlibrary/3d/config",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=function(e){i.module(e).run(["$q","designLibraryElements","configuration","fileUtils","imageUtils","csInterface","designLibraryUtils",function(e,t,n,i,r,o,a){t.register({type:n.THREE_D_ELEMENT_TYPE,directive:"dl-3d",displayName:"DL_TYPE_3D",tooltipTemplateUrl:"configuration/designlibrary/3d/tooltip.tmpl.html",renditionSize:n.THREE_D_RENDITION_SIZE,dragType:"3d",getAddOperations:function(e){return[]},getEditOperations:function(e){var n=t.getDefaultEditOperation(e);return n?[n]:[]},getDragData:function(e){if(e){var n,i=t.getCommonDragData(e),r=t.findUsableRepresentation(e);return r&&r.getContentPath(function(e,t){n=t}),n?(i.data=[n],i.usedRepresentationForAnalytics=r,i):void 0}},width:103,height:78,listHeight:32})}])};return{attach:r}}),define("configuration/designlibrary/3d/renderer",["require","exports","module","angular"],function(e,t,n){"use strict";function i(e){r.module(e).directive("dl3d",o)}var r=e("angular"),o=["fileUtils",function(e){return{restrict:"E",replace:!1,templateUrl:"configuration/designlibrary/3d/view.tmpl.html",scope:{component:"="},link:function(e,t,n){e.scrollIntoView=function(){t[0].scrollIntoView(!0)}},controller:["$scope","$window","designLibrarySelection","themeManager","configuration","designLibraryElements","designLibraryViewState","digestUtils","adobeStockRendererUtils",function(t,n,i,o,a,s,l,c,u){function d(){var n=!1;s.setLoadingTimeout(function(){if(!n)return t.imageUrl=void 0,t.loadedRenditionUrl=!1,!0});var i=s.findRepresentation(t.component,e.getUsableTypes(a.THREE_D_ELEMENT_TYPE));t.disabled=!i||!s.isRepresentationCompatible(i,e.getUsableTypes(a.THREE_D_ELEMENT_TYPE)),s.getRenditionUrl(t.component).then(function(e){n=!0,t.imageUrl=e,t.loadedRenditionUrl=!0},function(e){n=!0,t.imageUrl=void 0,t.loadedRenditionUrl=!0}),i=t.component.getPrimaryRepresentation(),t.tooltip.name=s.getTruncatedElementName(t.component);var r;if(i){r=e.mimeLookup(a.THREE_D_ELEMENT_TYPE,i.type),r?(t.badgeText=r.badge,r.createdIn?t.tooltip.createdIn=r.createdIn:t.tooltip.type=r.name):t.tooltip.type=i.type;var o=i&&i.getValue(a.THREE_D_NAMESPACE,a.THREE_D_DATA_KEY);if(o&&o.type)switch(o.type){case"character":t.tooltip.threeDtype="DL_3D_CHARACTER"}}l.isLibrariesSearchMode()&&(t.tooltip.libraryName=t.component.library.name)}function p(){d(),c.triggerDigest()}function h(){t.selected=i.isSelected(t.component),i.isPendingScrollToItem(t.component)&&(i.clearPendingScrollToItem(),n.setTimeout(function(){t.scrollIntoView()}))}t.uiState=l.getState();var f=u.bindStockInfoToScope(t);t.tooltip={},f(),t.$watch("downloadPending",function(){p()}),i.addScopedListener(t,"selectionChanged",h),d(),h(),t.component.addChangeListener(p),t.$on("$destroy",function(){t.component&&t.component.removeChangeListener(p),t.scrollIntoView=r.identity}),t.onElementDragStart=function(){t.selected||i.setSelection(t.component,!1)}}]}}];return{attach:i}}),define("configuration/designlibrary/3d/main",["require","exports","module","./config","./renderer"],function(e,t,n){"use strict";t.attach=function(t){e("./config").attach(t),e("./renderer").attach(t)}}),define("configuration/designlibrary/light/config",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=function(e){i.module(e).run(["$q","designLibraryElements","configuration","fileUtils","imageUtils","csInterface","designLibraryUtils",function(e,t,n,i,r,o,a){t.register({type:n.LIGHT_ELEMENT_TYPE,directive:"dl-light",displayName:"DL_TYPE_LIGHT",tooltipTemplateUrl:"configuration/designlibrary/light/tooltip.tmpl.html",renditionSize:n.LIGHT_RENDITION_SIZE,dragType:"light",getAddOperations:function(e){return[]},getEditOperations:function(e){var n=t.getDefaultEditOperation(e);return n?[n]:[]},getDragData:function(e){if(e){var n,i=t.getCommonDragData(e),r=t.findUsableRepresentation(e);return r&&r.getContentPath(function(e,t){n=t}),n?(i.data=[n],i.usedRepresentationForAnalytics=r,i):void 0}},width:103,height:78,listHeight:32})}])};return{attach:r}}),define("configuration/designlibrary/light/renderer",["require","exports","module","angular"],function(e,t,n){"use strict";function i(e){r.module(e).directive("dlLight",o)}var r=e("angular"),o=["fileUtils",function(e){return{restrict:"E",replace:!1,templateUrl:"configuration/designlibrary/light/view.tmpl.html",scope:{component:"="},link:function(e,t,n){e.scrollIntoView=function(){t[0].scrollIntoView(!0)}},controller:["$scope","$window","designLibrarySelection","themeManager","configuration","designLibraryElements","designLibraryViewState","digestUtils","adobeStockRendererUtils",function(t,n,i,o,a,s,l,c,u){function d(){var n=!1;s.setLoadingTimeout(function(){if(!n)return t.imageUrl=void 0,t.loadedRenditionUrl=!1,!0});var i=s.findRepresentation(t.component,e.getUsableTypes(a.LIGHT_ELEMENT_TYPE));t.disabled=!i||!s.isRepresentationCompatible(i,e.getUsableTypes(a.LIGHT_ELEMENT_TYPE)),s.getRenditionUrl(t.component).then(function(e){n=!0,t.imageUrl=e,t.loadedRenditionUrl=!0},function(e){n=!0,t.imageUrl=void 0,t.loadedRenditionUrl=!0}),i=t.component.getPrimaryRepresentation(),t.tooltip.name=s.getTruncatedElementName(t.component);var r;i&&(r=e.mimeLookup(a.LIGHT_ELEMENT_TYPE,i.type),r?(t.badgeText=r.badge,r.createdIn?t.tooltip.createdIn=r.createdIn:t.tooltip.type=r.name):t.tooltip.type=i.type),l.isLibrariesSearchMode()&&(t.tooltip.libraryName=t.component.library.name)}function p(){d(),c.triggerDigest()}function h(){t.selected=i.isSelected(t.component),i.isPendingScrollToItem(t.component)&&(i.clearPendingScrollToItem(),n.setTimeout(function(){t.scrollIntoView()}))}t.uiState=l.getState();var f=u.bindStockInfoToScope(t);t.tooltip={},f(),t.$watch("downloadPending",function(){p()}),i.addScopedListener(t,"selectionChanged",h),d(),h(),t.component.addChangeListener(p),t.$on("$destroy",function(){t.component&&t.component.removeChangeListener(p),t.scrollIntoView=r.identity}),t.onElementDragStart=function(){t.selected||i.setSelection(t.component,!1)}}]}}];return{attach:i}}),define("configuration/designlibrary/light/main",["require","exports","module","./config","./renderer"],function(e,t,n){"use strict";t.attach=function(t){e("./config").attach(t),e("./renderer").attach(t)}}),define("configuration/designlibrary/material/config",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=function(e){i.module(e).run(["$q","designLibraryElements","configuration","fileUtils","imageUtils","csInterface","designLibraryUtils",function(e,t,n,i,r,o,a){t.register({type:n.MATERIAL_ELEMENT_TYPE,directive:"dl-material",displayName:"DL_TYPE_MATERIAL",tooltipTemplateUrl:"configuration/designlibrary/material/tooltip.tmpl.html",renditionSize:n.MATERIAL_RENDITION_SIZE,dragType:"material",getAddOperations:function(e){return[]},getEditOperations:function(e){var n=t.getDefaultEditOperation(e);return n?[n]:[]},getDragData:function(e){if(e){var n,i=t.getCommonDragData(e),r=t.findUsableRepresentation(e);return r&&r.getContentPath(function(e,t){n=t}),n?(i.data=[n],i.usedRepresentationForAnalytics=r,i):void 0}},width:103,height:78,listHeight:32})}])};return{attach:r}}),define("configuration/designlibrary/material/renderer",["require","exports","module","angular"],function(e,t,n){"use strict";function i(e){r.module(e).directive("dlMaterial",o)}var r=e("angular"),o=["fileUtils",function(e){return{restrict:"E",replace:!1,templateUrl:"configuration/designlibrary/material/view.tmpl.html",scope:{component:"="},link:function(e,t,n){e.scrollIntoView=function(){t[0].scrollIntoView(!0)}},controller:["$scope","$window","designLibrarySelection","themeManager","configuration","designLibraryElements","designLibraryViewState","digestUtils","adobeStockRendererUtils",function(t,n,i,o,a,s,l,c,u){function d(){var n=!1;s.setLoadingTimeout(function(){if(!n)return t.imageUrl=void 0,t.loadedRenditionUrl=!1,!0});var i=s.findRepresentation(t.component,e.getUsableTypes(a.MATERIAL_ELEMENT_TYPE));t.disabled=!i||!s.isRepresentationCompatible(i,e.getUsableTypes(a.MATERIAL_ELEMENT_TYPE)),s.getRenditionUrl(t.component).then(function(e){n=!0,t.imageUrl=e,t.loadedRenditionUrl=!0},function(e){n=!0,t.imageUrl=void 0,t.loadedRenditionUrl=!0}),i=t.component.getPrimaryRepresentation(),t.tooltip.name=s.getTruncatedElementName(t.component);var r;i&&(r=e.mimeLookup(a.MATERIAL_ELEMENT_TYPE,i.type),r?(t.badgeText=r.badge,r.createdIn?t.tooltip.createdIn=r.createdIn:t.tooltip.type=r.name):t.tooltip.type=i.type),l.isLibrariesSearchMode()&&(t.tooltip.libraryName=t.component.library.name)}function p(){d(),c.triggerDigest()}function h(){t.selected=i.isSelected(t.component),i.isPendingScrollToItem(t.component)&&(i.clearPendingScrollToItem(),n.setTimeout(function(){t.scrollIntoView()}))}t.uiState=l.getState();var f=u.bindStockInfoToScope(t);t.tooltip={},f(),t.$watch("downloadPending",function(){p()}),i.addScopedListener(t,"selectionChanged",h),d(),h(),t.component.addChangeListener(p),t.$on("$destroy",function(){t.component&&t.component.removeChangeListener(p),t.scrollIntoView=r.identity}),t.onElementDragStart=function(){t.selected||i.setSelection(t.component,!1)}}]}}];return{attach:i}}),define("configuration/designlibrary/material/main",["require","exports","module","./config","./renderer"],function(e,t,n){"use strict";t.attach=function(t){e("./config").attach(t),e("./renderer").attach(t)}}),define("configuration/designlibrary/pattern/config",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=function(e){i.module(e).run(["designLibraryElements","configuration","imageUtils",function(e,t,n){e.register({type:t.PATTERN_ELEMENT_TYPE,directive:"dl-pattern",displayName:"DL_TYPE_PATTERN",tooltipTemplateUrl:"configuration/designlibrary/pattern/tooltip.tmpl.html",renditionSize:t.PATTERN_RENDITION_SIZE,getAddOperations:function(e){return[]},getDragData:function(t){if(t){var n,i=e.getCommonDragData(t),r=e.findUsableRepresentation(t);return r&&r.getContentPath(function(e,t){n=t}),n?(i.data=[n],i.usedRepresentationForAnalytics=r,i):void 0}},width:103,height:78,listHeight:32})}])};return{attach:r}}),define("configuration/designlibrary/pattern/renderer",["require","exports","module","angular"],function(e,t,n){"use strict";function i(e){r.module(e).directive("dlPattern",o)}var r=e("angular"),o=["fileUtils",function(e){return{restrict:"E",replace:!1,templateUrl:"configuration/designlibrary/pattern/view.tmpl.html",scope:{component:"="},link:function(e,t,n){e.scrollIntoView=function(){t[0].scrollIntoView(!0)}},controller:["$scope","$window","designLibrarySelection","themeManager","configuration","designLibraryElements","designLibraryViewState","digestUtils",function(t,n,i,o,a,s,l,c){function u(){t.tooltip.name=s.getTruncatedElementName(t.component);var n=!1;s.setLoadingTimeout(function(){if(!n)return t.imageUrl=void 0,t.loadedRenditionUrl=!1,!0});var i=s.findRepresentation(t.component,e.getUsableTypes(a.PATTERN_ELEMENT_TYPE));i||(t.disabled=!0),s.getRenditionUrl(t.component).then(function(e){n=!0,t.imageUrl=e,t.loadedRenditionUrl=!0},function(e){n=!0,t.imageUrl=void 0,t.loadedRenditionUrl=!0}),l.isLibrariesSearchMode()&&(t.tooltip.libraryName=t.component.library.name)}function d(){u(),c.triggerDigest()}function p(){t.selected=i.isSelected(t.component),i.isPendingScrollToItem(t.component)&&(i.clearPendingScrollToItem(),n.setTimeout(function(){t.scrollIntoView()}))}t.uiState=l.getState(),t.tooltip={},i.addScopedListener(t,"selectionChanged",p),u(),p(),t.component.addChangeListener(d),t.$on("$destroy",function(){t.component&&t.component.removeChangeListener(d),t.scrollIntoView=r.identity}),t.onElementDragStart=function(e){var t=i.isSelected(e);if(!t){var n=!s.isDraggable(e);i.setSelection(e,!1,n)}}}]}}];return{attach:i}}),define("configuration/designlibrary/pattern/main",["require","exports","module","./config","./renderer"],function(e,t){"use strict";t.attach=function(t){e("./config").attach(t),e("./renderer").attach(t)}}),define("configuration/designlibrary/template/config",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=function(e){i.module(e).run(["designLibraryElements","configuration","adobeStockUtils","imageUtils",function(e,t,n,i){e.register({type:t.TEMPLATE_ELEMENT_TYPE,directive:"dl-template",displayName:"DL_TYPE_TEMPLATE",tooltipTemplateUrl:"configuration/designlibrary/template/tooltip.tmpl.html",renditionSize:t.IMAGE_RENDITION_SIZE,isDraggable:!1,getAddOperations:function(e){return[]},elementFilter:function(e,t){var i=n.getStockSearchQuery(e);return t.every(function(t){return e.name.toLowerCase().indexOf(t)>-1||!!(i&&i.toLowerCase().indexOf(t)>-1)})},width:103,height:78,listHeight:32,getAdditionalTooltipData:function(n){var i={};return e.isElementUsable(n)||(i.disabledMessage="DL_ERROR_TEMPLATE_NOT_SUPPORTED_"+t.currentProduct.config.translationSuffix),i}})}])};return{attach:r}}),define("configuration/designlibrary/template/renderer",["require","exports","module","angular"],function(e,t,n){"use strict";function i(e){r.module(e).directive("dlTemplate",o)}var r=e("angular"),o=[function(){return{restrict:"E",replace:!1,templateUrl:"configuration/designlibrary/template/view.tmpl.html",scope:{component:"="},link:function(e,t,n){e.scrollIntoView=function(){t[0].scrollIntoView(!0)}},controller:["$scope","$window","$translate","designLibrarySelection","fileUtils","designLibraryManager","designLibraryElements","configuration","designLibraryViewState","adobeStockRendererUtils","digestUtils","unitUtils",function(e,t,n,i,o,a,s,l,c,u,d,p){function h(){var t=!1;s.setLoadingTimeout(function(){if(!t)return e.loadedRenditionUrl=!1,e.imageUrl=void 0,e.imgStyle={},!0}),s.getRenditionUrl(e.component).then(function(n){t=!0,e.loadedRenditionUrl=!0,e.imageUrl=n},function(n){t=!0,e.loadedRenditionUrl=!0,e.imageUrl=void 0,e.imgStyle={}});var n="content";e.tooltip={},m();var i,r=e.component.getPrimaryRepresentation();r&&(i=o.mimeLookup(l.TEMPLATE_ELEMENT_TYPE,r.type),i?(e.badgeText=i.badge,i.createdIn?e.tooltip.createdIn=i.createdIn:e.tooltip.type=i.name):e.tooltip.type=r.type,r.contentLength&&(e.tooltip.filesize=p.bytesToString(r.contentLength)));var a=o.getUsableTypes(e.component.type),u=e.component.representations.filter(function(e){var t="rendition"===e.relationship,n=s.isRepresentationCompatible(e,a,!0);return!t&&n});e.disabled=0===u.length,e.disabled&&(e.tooltip.disabledMessage="DL_ERROR_TEMPLATE_NOT_SUPPORTED_"+l.currentProduct.config.translationSuffix),e.imgStyle["background-size"]=n,e.tooltip.name=s.getTruncatedElementName(e.component),c.isLibrariesSearchMode()&&(e.tooltip.libraryName=e.component.library.name)}function f(){h(),d.triggerDigest()}function g(){e.selected=i.isSelected(e.component),e.selected&&e.downloadProgress===-1&&(s.retryElementDownload(e.component),h()),i.isPendingScrollToItem(e.component)&&(i.clearPendingScrollToItem(),t.setTimeout(function(){e.scrollIntoView()}))}e.uiState=c.getState();var m=u.bindStockInfoToScope(e);e.imgStyle={},e.tooltip={},i.addScopedListener(e,"selectionChanged",g),h(),g(),e.component.addChangeListener(f),e.$watch("uiState.view",function(){e.imgStyle={}}),e.$on("$destroy",function(){e.component&&e.component.removeChangeListener(f),e.scrollIntoView=r.identity}),e.onElementDragStart=function(){e.selected||i.setSelection(e.component,!1)}}]}}];return{attach:i}}),define("configuration/designlibrary/template/main",["require","exports","module","./config","./renderer"],function(e,t){"use strict";t.attach=function(t){e("./config").attach(t),e("./renderer").attach(t)}}),define("configuration/designlibrary/text/config",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=function(e){i.module(e).run(["$q","designLibraryElements","designLibraryUtils","layerSelectionManager","csInterface","fileUtils","imageUtils","configuration","designLibraryManager",function(e,t,n,i,r,o,a,s,l){t.register({type:s.TEXT_ELEMENT_TYPE,directive:"dl-text",displayName:"DL_TYPE_TEXT",tooltipTemplateUrl:"configuration/designlibrary/text/tooltip.tmpl.html",renditionSize:s.TEXT_RENDITION_SIZE,isDraggable:!0,dragType:"text",allowDragWithoutUsableRepresentation:!1,getAddOperations:function(t){var a=function(t,a){function l(i){i&&i.canAddTextAsset&&r.execApp("getTextInfo").then(function(r){var l=JSON.parse(r);if(!l||!l.textInfo)return void c.reject("Could not create element.");var u=i.textAssetName||l.name,d=n.getCuratedName(t,u,"DL_TEXT_LABEL"),p="";p=i.textSelectionExists===!0?"textSelection":i.insertionPointExists===!0?"insertionPoint":"textFrame";var h,f,g=n.createElementExtraMetrics(t,d,s.TEXT_ELEMENT_TYPE,{opType:a,selectionType:p}),m=[];if(l.primaryRepresentation){var v=g.createRepresentation(l.primaryRepresentation.representationType,"primary");l.primaryRepresentation.isFile?f=v.setContentFromPath(l.primaryRepresentation.filePath).then(function(){o.deleteFile(l.primaryRepresentation.filePath),m.push(f)}):v.setValue(s.TEXT_NAMESPACE,s.TEXT_DATA_KEY,l.primaryRepresentation.data),h=g.createRepresentation(s.TEXT_REPRESENTATION_JSON_TYPE,"rendition"),h.setValue(s.TEXT_NAMESPACE,s.TEXT_DATA_KEY,l.textInfo)}else h=g.createRepresentation(s.TEXT_REPRESENTATION_JSON_TYPE,"primary"),h.setValue(s.TEXT_NAMESPACE,s.TEXT_DATA_KEY,l.textInfo);if(l.previewPath){var _=g.createRepresentation("image/png","rendition");_.isPreferredThumbnail=!0,f=_.setContentFromPath(l.previewPath),m.push(f)}e.all(m).then(function(){l.previewPath&&g.setThumbnailCache(s.TEXT_RENDITION_SIZE,l.previewPath,function(){o.deleteFile(l.previewPath)}),g.endOperation(),c.resolve(g)},function(){t.removeElement(g),c.reject("Could not create element.")})},function(){c.reject("Could not save text preview.")})}var c=e.defer();return i.requestUpdate(),i.addListener("layerSelectionChanged",l,!0),c.promise},c=function(e){var i=l.getCurrentLibrary(),r=n.getCuratedName(i,t.textAssetName,"DL_TEXT_LABEL");return r};return[{name:"DL_ADD_TEXT_NAME",order:2,toolTipTemplate:"configuration/designlibrary/text/toolTip.tmpl.html",toolTipData:{name:t&&t.text},icon:"text",dropSupport:!0,getDropLabel:c,apply:a,disabled:!t||!t.canAddTextAsset,displayIcon:!0}]},getEditOperations:function(e){var n=t.getDefaultEditOperation(e);return n?[n]:[]},getDisplayText:function(e){return e.name&&""!==e.name?e.name:""},elementFilter:function(e,i){var r=6e3,o=t.findRepresentation(e,s.TEXT_REPRESENTATION_JSON_TYPE),a=o&&o.getValue(s.TEXT_NAMESPACE,s.TEXT_DATA_KEY);return i.every(function(t){if(e.name.toLowerCase().indexOf(t)>-1)return!0;var i,o,s=0;for(i=0;i<a.paragraphs.length&&!(s>=r);i++){if(o=n.truncateName(a.paragraphs[i].text,r-s),o.toLowerCase().indexOf(t)>-1)return!0;s+=o.length}return!1})},getDragData:function(e){if(e){var n=t.getCommonDragData(e),i=t.findUsableRepresentation(e);return i?n:void 0}},width:103,height:78,listHeight:32,getAdditionalTooltipData:function(e){var i={},r=160,o=t.findRepresentation(e,s.TEXT_REPRESENTATION_JSON_TYPE),a=o&&o.getValue(s.TEXT_NAMESPACE,s.TEXT_DATA_KEY);if(a&&a.paragraphs[0]&&a.paragraphs[0].text){i.paragraphText={},i.paragraphText.firstPara=n.truncateName(a.paragraphs[0].text,r);var l=a.paragraphs[0].text.length;l<=r&&a.paragraphs[1]&&a.paragraphs[1].text&&(i.paragraphText.secondPara=n.truncateName(a.paragraphs[1].text,r-l))}}})}])};return{attach:r}}),define("configuration/designlibrary/text/renderer",["require","exports","module","angular"],function(e,t,n){"use strict";function i(e){r.module(e).directive("dlText",o)}var r=e("angular"),o=function(){return{restrict:"E",replace:!1,templateUrl:"configuration/designlibrary/text/view.tmpl.html",scope:{component:"="},link:function(e,t,n){e.scrollIntoView=function(){t[0].scrollIntoView(!0)}},controller:["$scope","$q","$window","fileUtils","designLibrarySelection","designLibraryElements","designLibraryUtils","designLibraryViewState","colorUtils","configuration","csInterface","mediator","$translate","digestUtils",function(e,t,n,i,o,a,s,l,c,u,d,p,h,f){function g(){var t=160,n=a.findRepresentation(e.component,u.TEXT_REPRESENTATION_JSON_TYPE);e.tooltip.name=a.getTruncatedElementName(e.component);var r=!1;a.setLoadingTimeout(function(){if(!r)return e.imageUrl=void 0,e.loadedRenditionUrl=!1,!0}),a.getRenditionUrl(e.component).then(function(t){r=!0,e.imageUrl=t,e.loadedRenditionUrl=!0},function(t){r=!0,e.imageUrl=void 0,e.loadedRenditionUrl=!0}),e.disabled=!n||!a.isRepresentationCompatible(n,i.getUsableTypes(u.TEXT_ELEMENT_TYPE));var o=n&&n.getValue(u.TEXT_NAMESPACE,u.TEXT_DATA_KEY);if(o){e.paragraphText="",e.tooltip={},e.tooltip.paragraphText={};var l;for(l=0;l<o.paragraphs.length;l++)"undefined"!==o.paragraphs[l].text&&(e.paragraphText+=o.paragraphs[l].text,e.paragraphText+=" ");if(o.paragraphs[0]&&o.paragraphs[0].text){e.tooltip={},e.tooltip.paragraphText={},e.tooltip.paragraphText.firstPara=s.truncateName(o.paragraphs[0].text,t);var c=o.paragraphs[0].text.length;c<=t&&o.paragraphs[1]&&o.paragraphs[1].text&&(e.tooltip.paragraphText.secondPara=s.truncateName(o.paragraphs[1].text,t-c))}}var d=e.component.getPrimaryRepresentation();if(d){var p=i.mimeLookup(u.TEXT_ELEMENT_TYPE,d.type);p&&(e.badgeText=p.badge)}}function m(){g(),f.triggerDigest()}function v(){e.selected=o.isSelected(e.component),o.isPendingScrollToItem(e.component)&&(o.clearPendingScrollToItem(),n.setTimeout(function(){e.scrollIntoView()}))}e.uiState=l.getState(),e.tooltip={},e.renderStyle={},e.renderStyleFull={},e.isPreviewAvailable=!1,e.previewURL="",o.addScopedListener(e,"selectionChanged",v),g(),v(),e.component.addChangeListener(m),e.$on("$destroy",function(){e.component&&e.component.removeChangeListener(m),e.scrollIntoView=r.identity})}]}};return{attach:i}}),define("configuration/designlibrary/text/main",["require","exports","module","./config","./renderer"],function(e,t,n){"use strict";t.attach=function(t){e("./config").attach(t),e("./renderer").attach(t)}}),define("configuration/designlibrary/animation/config",["require","exports","module","angular"],function(e,t,n){"use strict";var i=e("angular"),r=function(e){i.module(e).run(["$q","designLibraryElements","configuration","fileUtils","imageUtils","designLibraryUtils","designLibraryElementUtils","adobeStockUtils",function(e,t,n,i,r,o,a,s){t.register({type:n.ANIMATION_ELEMENT_TYPE,directive:"dl-animation",displayName:"DL_TYPE_ANIMATION",tooltipTemplateUrl:"configuration/designlibrary/animation/tooltip.tmpl.html",renditionSize:n.ANIMATION_RENDITION_SIZE,isDraggable:!0,dragType:"animation",enableEditOriginal:!0,fullRenditionConfig:function(){var e=i.getUsableTypes(n.ANIMATION_ELEMENT_TYPE);return 0===e.length?[]:[{id:n.currentProduct.config.code,condition:"IF_NO_MATCHING_REPRESENTATION",types:e}]},getAddOperations:function(e){return[]},getEditOperations:function(e){var n=t.getDefaultEditOperation(e);return n?[n]:[]},elementFilter:function(e,t){var n=s.getStockSearchQuery(e);return t.every(function(t){return e.name.toLowerCase().indexOf(t)>-1||!!(n&&n.toLowerCase().indexOf(t)>-1)})},getDragData:function(e){if(e){var n,i=t.getCommonDragData(e),r=t.findUsableRepresentation(e);return r?r.getContentPath(function(e,t){n=t}):e&&e.getThumbnailPath(void 0,function(t,i){n=i,r={type:"image/png",_element:e}}),n?(i.data=[n],i.usedRepresentationForAnalytics=r,i):void 0}},width:103,height:78,listHeight:32,getBadgeText:function(e){var t=e.getPrimaryRepresentation();if(t){var r=i.mimeLookup(n.ANIMATION_ELEMENT_TYPE,t.type);return r&&r.badge}}})}])};return{attach:r}}),define("configuration/designlibrary/animation/renderer",["require","exports","module","angular"],function(e,t,n){"use strict";function i(e){r.module(e).directive("dlAnimation",o)}var r=e("angular"),o=[function(){return{restrict:"E",replace:!1,templateUrl:"configuration/designlibrary/animation/view.tmpl.html",scope:{component:"="},link:function(e,t,n){e.scrollIntoView=function(){t[0].scrollIntoView(!0)}},controller:["$scope","$window","$translate","designLibrarySelection","fileUtils","designLibraryManager","designLibraryElements","configuration","designLibraryViewState","adobeStockRendererUtils","digestUtils","unitUtils",function(e,t,n,i,o,a,s,l,c,u,d,p){function h(){var t=!1;s.setLoadingTimeout(function(){if(!t)return e.loadedRenditionUrl=!1,e.imageUrl=void 0,e.imgStyle={},!0}),s.getRenditionUrl(e.component).then(function(n){t=!0,e.loadedRenditionUrl=!0,e.imageUrl=n},function(n){t=!0,e.loadedRenditionUrl=!0,e.imageUrl=void 0,e.imgStyle={}});var n="content";e.tooltip={},m();var i,r=e.component.getPrimaryRepresentation();r?(i=o.mimeLookup(l.ANIMATION_ELEMENT_TYPE,r.type),i?(e.badgeText=i.badge,i.createdIn?e.tooltip.createdIn=i.createdIn:e.tooltip.type=i.name):e.tooltip.type=r.type,r.contentLength&&(e.tooltip.filesize=p.bytesToString(r.contentLength)),e.disabled=!s.isRepresentationCompatible(r,o.getUsableTypes(l.ANIMATION_ELEMENT_TYPE))):e.disabled=!0,e.imgStyle["background-size"]=n,e.tooltip.name=s.getTruncatedElementName(e.component),c.isLibrariesSearchMode()&&(e.tooltip.libraryName=e.component.library.name)}function f(){h(),d.triggerDigest()}function g(){e.selected=i.isSelected(e.component),e.selected&&e.downloadProgress===-1&&(s.retryElementDownload(e.component),h()),i.isPendingScrollToItem(e.component)&&(i.clearPendingScrollToItem(),t.setTimeout(function(){e.scrollIntoView()}))}e.uiState=c.getState();var m=u.bindStockInfoToScope(e);e.imgStyle={},e.tooltip={},i.addScopedListener(e,"selectionChanged",g),h(),g(),e.component.addChangeListener(f),e.$watch("uiState.view",function(){e.imgStyle={}}),e.$on("$destroy",function(){e.component&&e.component.removeChangeListener(f),e.scrollIntoView=r.identity}),e.onElementDragStart=function(){e.selected||i.setSelection(e.component,!1)}}]}}];return{attach:i}}),define("configuration/designlibrary/animation/main",["require","exports","module","./config","./renderer"],function(e,t,n){"use strict";t.attach=function(t){e("./config").attach(t),e("./renderer").attach(t)}}),define("configuration/designlibrary/main",["require","exports","module","./brush/main","./color/main","./colortheme/main","./image/main","./layerstyle/main","./look/main","./capsule/main","./textstyle/main","./parastyle/main","./unsupported/main","./video/main","./3d/main","./light/main","./material/main","./pattern/main","./template/main","./text/main","./animation/main"],function(e,t,n){"use strict";t.attach=function(t){e("./brush/main").attach(t),e("./color/main").attach(t),e("./colortheme/main").attach(t),e("./image/main").attach(t),e("./layerstyle/main").attach(t),e("./look/main").attach(t),e("./capsule/main").attach(t),e("./textstyle/main").attach(t),e("./parastyle/main").attach(t),e("./unsupported/main").attach(t),e("./video/main").attach(t),e("./3d/main").attach(t),e("./light/main").attach(t),e("./material/main").attach(t),e("./pattern/main").attach(t),e("./template/main").attach(t),e("./text/main").attach(t),e("./animation/main").attach(t)}}),define("configuration/main",["require","exports","module","./designlibrary/main"],function(e,t,n){"use strict";t.attach=function(t){e("./designlibrary/main").attach(t)}}),define("app",["require","environment","jquery","angular","angular-sanitize","angular-animate","angular-translate","angular-cc-libraries-api-js","tether","visitor-api","app-measurement","libs/CSInterface","libs/IMSInterface","libs/Vulcan","services/main","directives/main","controllers/main","filters/main","configuration/main"],function(e,t){"use strict";t.init(function(){function n(){angular.element(document).ready(function(){angular.bootstrap(document,["designLibraries"])})}var i=angular.module("designLibraries",["ngSanitize","ngAnimate","pascalprecht.translate","adobe.ccLibraries"]);
if(i.config(["$provide",function(e){e.decorator("$exceptionHandler",["$delegate","$injector",function(e,t){return function(n,i){e(n,i);var r=t.get("metrics");r&&r.reportError(i||"",n.stack||n.message||n)}}])}]),i.config(["$provide",function(e){e.decorator("inputDirective",["$delegate",function(e){var t=e[0];return angular.extend(t.link,{post:function(e,t,n,i){t.on("compositionupdate",function(e){t.triggerHandler("compositionend")})}}),e}])}]),!e.toUrl){var r=e("edgeccTemplates");i.run(["$rootScope","$templateCache",function(e,t){r(t)}]),angular.BUILT=!0}var o=t.hostEnvironment.appUILocale;i.config(["$translateProvider",function(e){e.translations(o,t.resourceBundle),e.preferredLanguage(o),e.fallbackLanguage(o),e.useSanitizeValueStrategy(null),t.clearResourceBundle&&t.clearResourceBundle()}]),e("services/main").attach("designLibraries"),e("directives/main").attach("designLibraries"),e("controllers/main").attach("designLibraries"),e("filters/main").attach("designLibraries"),e("configuration/main").attach("designLibraries"),i.run(["$animate","csInterface","debugLog","designLibraryManager","versionManager","layerSelectionManager","configuration","metrics","products","themeManager","designLibraryCEPEventHandlers","designLibraryFlyoutMenu",function(e,n,i,r,o,a,s,l,c,u,d,p){function h(){if(i.init(),r.init(),window.alert=n.showError.bind(n),n.isLibrariesPanel()){i.log("Panel Initialised: "+(angular.BUILT?"v"+o.getPluginVersion():"DEV")),a.startListening(),p.updateMenu(),d.startListening();var e=n.createEvent("dlPanelInitialized","APPLICATION");n.dispatchEvent(e)}}if(e.enabled(!1),t.isCEP){var f=n.getPluginPath()+"/jsx/",g=f+"shims.jsx",m=f+"core.jsx",v=f+"json2.jsx",_=n.getPluginPath()+"/applications/"+s.currentProduct.config.code+"/jsx/main.jsx";n.evalScript('$.evalFile("'+g+'")'),n.evalScript('$.evalFile("'+m+'")'),n.evalScript('$.evalFile("'+v+'")'),n.evalScript('$.evalFile("'+_+'")')}n.exec("CORE","getTempFolder",[]).then(function(e){s.strTempFolder=e}),n.exec("CORE","getHostAppPathViaBridgeTalk",[]).then(function(e){s.currentProduct.config.debugHostAppPath=e});var y=s.currentProduct.init();y?y.then(h,h):h()}]),n()})}),define("applications/AEFT/js/index",["require","exports","angular"],function(e,t){"use strict";var n=e("angular"),i=["$injector","colorUtils","fileUtils","ccLibraries","adobeStockUtils","designLibraryElements","designLibraryManager","designLibraryUtils","imsInterface","csInterface","$q","configuration","designLibraryElementUtils",function(e,t,n,i,r,o,a,s,l,c,u,d,p){var h=function(e){var t,n;for(t=0;t<arguments.length-1;++t)n=new RegExp("\\{"+t+"\\}","gm"),e=e.replace(n,arguments[t+1]);return e},f=function(e){return e=h.apply(null,arguments),c.execApp("log",[e,"cc-libraries-panel"])};this.getScaleColor=function(e){var n=38,i=.51,r=n,o=e,a=o*i+r;return t.rgbToHex({red:a,green:a,blue:a})},this.cssThemeBGScale=function(){var e,t,n={},i=function(e){switch(e){case 0:return"darker";case 100:return"dark";default:return e.toString()}};for(e=0;e<=100;e++)t=this.getScaleColor(e).slice(1),(!n.hasOwnProperty(t)||n.hasOwnProperty(t)&&i(e)!==e.toString())&&(n[t]=i(e));return n},this.config={},this.config.code="AEFT",this.config.fullName="After Effects",this.config.translationSuffix="AE",this.config.dragDropSource="com.adobe.aftereffects",this.config.isDrover=!0,this.config.isReadOnly=!0,this.config.themes=this.cssThemeBGScale(),this.config.elementOrder=[d.COLOR_ELEMENT_TYPE,d.COLOR_THEME_ELEMENT_TYPE,d.IMAGE_ELEMENT_TYPE,d.VIDEO_ELEMENT_TYPE,d.LOOK_ELEMENT_TYPE,d.CAPSULE_ELEMENT_TYPE,d.CHARACTER_STYLE_ELEMENT_TYPE,d.PARAGRAPH_STYLE_ELEMENT_TYPE,d.LAYER_STYLE_ELEMENT_TYPE,d.BRUSH_ELEMENT_TYPE,d.THREE_D_ELEMENT_TYPE,d.PATTERN_ELEMENT_TYPE,d.TEMPLATE_ELEMENT_TYPE,d.TEXT_ELEMENT_TYPE,d.ANIMATION_ELEMENT_TYPE,d.LIGHT_ELEMENT_TYPE,d.MATERIAL_ELEMENT_TYPE,"*"],this.config.analytics={namespace:"ae",prodId:"adbemaftereffects.rebootprod2",devId:"adbemaftereffects.rebootdev2"},this.init=function(){n.extendUsableTypes(d.IMAGE_ELEMENT_TYPE,["application/pdf","application/illustrator","application/photoshop","application/photoshop.large","image/vnd.adobe.photoshop","image/png","image/jpeg","image/jpg"]),n.extendUsableTypes(d.COLOR_ELEMENT_TYPE,["application/vnd.adobe.color+json"]),n.extendUsableTypes(d.COLOR_THEME_ELEMENT_TYPE,["application/vnd.adobe.colortheme+json"]),n.extendUsableTypes(d.LOOK_ELEMENT_TYPE,["application/vnd.adobe.cube+txt","application/vnd.adobe.look+xml"]),n.extendUsableTypes(d.VIDEO_ELEMENT_TYPE,["video/mp4","video/quicktime"]),c.execApp("getTooltipState").then(function(t){e.get("configuration").showTooltips=t}),this.startEventListener()},this.reportEvent=function(e,t){},this.getUserData=function(e){c.execApp("getUserData").then(function(t){return t&&"undefined"!==t?void e(JSON.parse(t)):e()})};var g=function(e,t){t=void 0!==t&&t,f("addOrUpdateElementInProject(element:{0}({1}), addingElement:{2})",e.name,e.id,t);var p={name:e.name,id:e.id,libraryName:e.library.name,reference:e.getReference(),modified:e.modified,created:e.created,adobeStockId:r.getStockId(e)};p.licensed=p.adobeStockId?r.isLicensed(e):null;var h,g=o.findRepresentation(e,n.getUsableTypes(d.IMAGE_ELEMENT_TYPE));g?(h=g.getContentPath(),f("NOTE: Still representation FOUND for '{0}'",e.name)):(f("WARNING: Still representation not found for {0}({1})",e.name,e.id),h=u.defer().resolve(null)),h.then(function(e){e?f("NOTE: Still path was '{0}'.",e):f("WARNING: Still path was null.")}).finally(function(){if(f("assetPath.finally"),g){var r=o.findRepresentation(e,n.getUsableTypes(d.VIDEO_ELEMENT_TYPE));r&&(g=r)}if(f("Representation: {0}",g),g){p.width=g.width,p.height=g.height,p.contentLength=g.contentLength,p.url=g.getContentURL(),p.trackingdata=g.getValue("adobestock","trackingdata"),p.contentType=g.type,p.assetPath=g.getContentPath();var u=i.utils.mimeTypeToExtensions(g.type);p.extension=u[u.length-1];var h=g.getValue("video","data");p.is_videoB=!!h,h?(p.framerate=Number(h.framerate),p.duration=h.duration):(p.framerate=1,p.duration=1),t&&s.reportApplyMetric(g,"placeAsset");var m=t?"com.adobe.DesignLibraries.events.CreateLibrariesFootage":"com.adobe.DesignLibraries.events.UpdateLibrariesFootage",v=a.getPrivateLibraryCollection(),_=v?v.userId:"";return f("Retrieving IMS access token."),l.getAccessToken(_).then(function(e){f("IMS access token: {0}",e),p.imsToken=e;var t=c.createEvent(m,"APPLICATION");t.data=JSON.stringify(p),f("Dispatching event to application: {0}: {1}",t.name,t.data),c.dispatchEvent(t)}).fail(function(e){f("WARNING: Failed to get IMS access token: {0}",JSON.stringify(e));var t=c.createEvent(m,"APPLICATION");t.data=JSON.stringify(p),f("Dispatching event to application: {0}: {1}",t.name,t.data),c.dispatchEvent(t)})}f("WARNING: No assetRep found.")})};this.addOrUpdateElementInProject=g;var m=function(e){f("onFootageNeedsUpdate event.data.element.reference={0}",e.data.element.reference);var t=i.resolveElementReference(e.data.element.reference),n=!!e.data.element.addingElement;if(!t)throw f("Cound not resolve element."),"Element not found";g(t,n)},v=function(e){var t={NO_ERROR:0,UPLOAD_FAILED:1,PRIMARY_FILE_MISSING:2,SECONDARY_FILE_MISSING:3,THUMBNAIL_FILE_MISSING:4,LIBRARY_NOT_FOUND:5,LIBRARY_READ_ONLY:6},i="com.adobe.DesignLibraries.events.UploadCapsuleResponse",r=c.createEvent(i,"APPLICATION"),o={code:t.NO_ERROR},l=e.data,h=a.getLibraryById(l.libraryId),f=t.NO_ERROR;if(n.existsFile(l.primaryPath)||(f=t.PRIMARY_FILE_MISSING),f!==t.NO_ERROR||n.existsFile(l.secondaryPath)||(f=t.SECONDARY_FILE_MISSING),f!==t.NO_ERROR||n.existsFile(l.thumbnailPath)||(f=t.THUMBNAIL_FILE_MISSING),f!==t.NO_ERROR||h||(f=t.LIBRARY_NOT_FOUND),f!==t.NO_ERROR||h.isWritable||(f=t.LIBRARY_READ_ONLY),f===t.NO_ERROR){var g,m,v=function(e,t){var n=c.createEvent("com.adobe.DesignLibraries.events.UploadCapsuleProgress","APPLICATION");n.data=JSON.stringify({current:e,total:t}),c.dispatchEvent(n)},_=[],y=3,E=0;v(E,y);var b=s.createElementExtraMetrics(h,l.capsuleName,d.CAPSULE_ELEMENT_TYPE,{});if(l.primaryPath){if(g=b.createRepresentation("application/vnd.adobe.ae.graphic+zip","primary"),l.metadata){var T=JSON.parse(l.metadata);g.setValue(d.CAPSULE_NAMESPACE,d.CAPSULE_DATA_KEY,T)}m=g.setContentFromPath(l.primaryPath).then(function(){E+=1,v(E,y),n.deleteFile(l.primaryPath)}),_.push(m)}l.secondaryPath&&(g=b.createRepresentation("application/vnd.adobe.graphic+json","alternate"),m=g.setContentFromPath(l.secondaryPath).then(function(){E+=1,v(E,y),n.deleteFile(l.secondaryPath)}),_.push(m)),l.thumbnailPath&&(g=b.createRepresentation("image/png","rendition"),m=g.setContentFromPath(l.thumbnailPath).then(function(){E+=1,v(E,y)}),_.push(m));var S=function(){b.setThumbnailCache(d.CAPSULE_RENDITION_SIZE,l.thumbnailPath,function(){n.deleteFile(l.thumbnailPath)}),b.endOperation(),p.revealElement(b),r.data=JSON.stringify(o),c.dispatchEvent(r)},L=function(e){h.removeElement(b,!0),o.code=t.UPLOAD_FAILED,r.data=JSON.stringify(o),c.dispatchEvent(r)};u.all(_).then(S,L)}else o.code=f,r.data=JSON.stringify(o),c.dispatchEvent(r)};this.startEventListener=function(){c.addEventListener("com.adobe.csxs.events.ShouldUpdateFootage",m),c.addEventListener("uploadCapsuleEvent",v)},this.stopEventListener=function(){c.removeEventListener("com.adobe.csxs.events.ShouldUpdateFootage",m),c.removeEventListener("uploadCapsuleEvent",v)}}];t.attach=function(e){n.module(e).service("AEFT",i)}}),define("applications/DRWV/js/index",["require","exports","angular"],function(e,t){"use strict";var n=e("angular"),i=["$q","$injector","colorUtils","configuration","fileUtils","designLibraryManager","$translate","designLibraryElements","imsInterface","$http","adobeStockUtils","csInterface",function(e,t,n,i,r,o,a,s,l,c,u,d){this.config={},this.config.code="DRWV",this.config.fullName="Dreamweaver",this.config.translationSuffix="DW",this.config.dragDropSource="com.adobe.dreamweaver",this.config.isDrover=!0,this.config.themes={323232:"darker",484848:"dark",cacaca:"light",f0f0f0:"lighter"},this.config.defaultTheme="dark",this.config.isDocumentOpen=!1,this.config.createAGCURL={staging:"https://cc-api-image-stage.adobe.io/createagc",production:"https://cc-api-image.adobe.io/createagc"},this.config.svgomgURL={staging:"https://cc-api-image-x-stage.adobe.io/agctosvg",production:"https://cc-api-image-x.adobe.io/agctosvg"},this.config.isReadOnly=!0,this.config.elementOrder=[i.IMAGE_ELEMENT_TYPE,i.COLOR_ELEMENT_TYPE,i.COLOR_THEME_ELEMENT_TYPE,i.CHARACTER_STYLE_ELEMENT_TYPE,i.PARAGRAPH_STYLE_ELEMENT_TYPE,i.VIDEO_ELEMENT_TYPE,i.LAYER_STYLE_ELEMENT_TYPE,i.LOOK_ELEMENT_TYPE,i.CAPSULE_ELEMENT_TYPE,i.BRUSH_ELEMENT_TYPE,i.THREE_D_ELEMENT_TYPE,i.PATTERN_ELEMENT_TYPE,i.TEMPLATE_ELEMENT_TYPE,i.TEXT_ELEMENT_TYPE,i.ANIMATION_ELEMENT_TYPE,i.LIGHT_ELEMENT_TYPE,i.MATERIAL_ELEMENT_TYPE,"*"],this.config.analytics={namespace:"dw",prodId:"adbemdreamweaver.rebootprod2",devId:"adbemdreamweaver.rebootdev2"};var p=function(){var e=[];o.getLibraries().forEach(function(t){t.isDeletedFromServer||e.push({name:t.name,id:t.id})}),e.sort(function(e,t){return e.name<t.name?-1:e.name>t.name?1:0});var t={};t.libraryNames=e,t.libraries=[];var r={},a=[],l=-1,c=o.getCurrentLibrary();if(c){var p;for(p=0;p<e.length;++p)if(e[p].id===c.id){l=p;break}t.currentLibrary=l;var h,f,g,m,v,_,y,E,b,T,S;i.currentProduct.config.lastImageIndex=0,o.getLibraries().forEach(function(e){var r={};for(r.name=e.name,r.id=e.id,r.images=[],r.colors=[],r.imageElements=[],h=0;h<e.elements.length;h++)if(g={},y=e.elements[h],y.type===i.IMAGE_ELEMENT_TYPE)_=y.getPrimaryRepresentation(),g.elementRef=y.getReference(),_?g.primaryType=_.type:g.primaryType="",g.elementName=y.name,g.adobeStockID=u.getStockId(y)||"",g.isUnlicensedStockAsset=!!g.adobeStockID&&!u.isLicensed(y),g.thumbnail="",r.images.push(g),r.imageElements.push(y);else if(y.type===i.COLOR_ELEMENT_TYPE)for(f=0;f<y.representations.length;f++)"RGB"===y.representations[f].getValue("color","data").mode&&(E={},m=y.representations[f].getValue("color","data"),v=n.colorDataToHexValue(m),E.hexValue=v,E.source="color",E.colorAliasName=y.name&&""!==y.name?y.name:v,r.colors.push(E));else if(y.type===i.COLOR_THEME_ELEMENT_TYPE)for(S=y.representations[0].getValue("colortheme","data").swatches,b=0;b<S.length;b++)for(f=0;f<S[b].length;f++)"RGB"===S[b][f].mode&&(T={},m=S[b][f],v=n.colorDataToHexValue(m),T.hexValue=v,T.source="colorTheme",r.colors.push(T));i.currentProduct.config.lastImageIndex=i.currentProduct.config.lastImageIndex+r.images.length,t.libraries.push(r)}),t.libraries.sort(function(e,t){return e.name<t.name?-1:e.name>t.name?1:0}),t.libraries.forEach(function(e){e.imageElements.forEach(function(n,o){n.getThumbnailPath(s.getRenditionSize(n)).then(function(n){var s=n;if(e.images[o].thumbnail=s,i.currentProduct.config.lastImageIndex--,0===i.currentProduct.config.lastImageIndex){t.libraries.forEach(function(e){delete e.imageElements});var c=t.libraries[l];c&&c.images&&c.images.forEach(function(e){s={},s.path=e.thumbnail,a.push(s)}),r.images=c.images,r.colors=c.colors,t.thumbnails=a,t.currentLibrary=l,t.currentLibraryItemList=r,d.execApp("setLibraryCollection",[JSON.stringify(t)])}},function(e){i.currentProduct.config.lastImageIndex--,console.log(e)})})})}0===i.currentProduct.config.lastImageIndex&&d.execApp("setLibraryCollection",[JSON.stringify(t)])};this.init=function(){r.extendUsableTypes(i.IMAGE_ELEMENT_TYPE,["image/png","image/jpeg","image/jpg","image/gif","image/bmp","image/svg+xml"]),r.extendUsableTypes(i.COLOR_ELEMENT_TYPE,["application/vnd.adobe.color+json"]),r.extendUsableTypes(i.COLOR_THEME_ELEMENT_TYPE,["application/vnd.adobe.colortheme+json"]),r.extendUsableTypes(i.PARAGRAPH_STYLE_ELEMENT_TYPE,[]),r.extendUsableTypes(i.CHARACTER_STYLE_ELEMENT_TYPE,[]),r.extendUsableTypes(i.LAYER_STYLE_ELEMENT_TYPE,[]),r.extendUsableTypes(i.BRUSH_ELEMENT_TYPE,[]),r.extendUsableTypes(i.LOOK_ELEMENT_TYPE,[]),d.execApp("getTooltipState").then(function(e){t.get("configuration").showTooltips=e}),this.startEventListener(),o.addListener("libraryList",function(){p()}),o.addListener("currentLibrary",function(){p()}),o.addListener("libraryStatus",function(){p()})},this.reportEvent=function(e,t){var n=d.createEvent("com.adobe.DesignLibraries.events.LOGPIP","APPLICATION"),i=function(e){return e||"N/A"},r={eventName:i(e),libraryID:i(t.libraryID),elementType:i(t.elementType),opType:i(t.opType)};n.data=JSON.stringify(r),d.dispatchEvent(n)},this.getUserData=function(e){d.execApp("getUserData").then(function(t){return t&&"undefined"!==t?void e(JSON.parse(t)):e()})};var h=function(){var e=t.get("layerSelectionManager");e.handleSelectionChange()},f=function(e){},g=function(e){"open"===e.data.documentStatus?i.currentProduct.config.isDocumentOpen=!0:i.currentProduct.config.isDocumentOpen=!1},m=function(e){if(e&&e.data){var t=e.data,n=t.elementRef,r=t.SVGConversionOptions||{},a=o.resolveElementReference(n),s="",u="",p="",h=!0,f={},g=function(){d.execApp("notifyFetchSVGRenditionComplete",[JSON.stringify(f)])};if(f.svgData="",f.errorMessage="",f.requestRef=t.requestRef,a){var m=a.getPrimaryRepresentation();if(m&&"application/illustrator"===m.type){var v=o.getPrivateLibraryCollection();p=v?v.userId:"",s=i.currentProduct.config.createAGCURL[l.getEnvironment().label.toLowerCase()],u=i.currentProduct.config.svgomgURL[l.getEnvironment().label.toLowerCase()]}else f.errorMessage="Element is not an Ai asset"}else f.errorMessage="Element not found in the Libraries";n&&p&&s&&u?(h=!1,l.getAccessToken(p).then(function(e){var i={inputs:{application_file:{href:n}},outputs:{agc:{disposition:"location"}}},o={headers:{"Content-Type":"application/vnd.adobe.image-operation+json",Authorization:"Bearer "+e,"X-api-key":l.getEnvironment().clientId,"x-request-id":t.requestRef}};c.post(s,i,o).then(function(n){if(n&&n.data&&n.data.outputs&&n.data.outputs.agc&&n.data.outputs.agc.location){var i={inputs:{href:n.data.outputs.agc.location},options:r},o={headers:{"Content-Type":"application/vnd.adobe.dwbedrockservice-operation+json",Authorization:"Bearer "+e,"X-api-key":l.getEnvironment().clientId,"X-request-id":t.requestRef}};c.post(u,i,o).then(function(e){f.svgData=e.data,g()},function(e){f.errorMessage="Could not Fetch SVG DATA. STATUS: "+e.status+". Response Data: "+e.data,g()})}else f.errorMessage="Could not Fetch AGC DATA. Incorrect Data",g()},function(e){f.errorMessage="Could not Fetch AGC DATA. STATUS: "+e.status+". Response Data: "+e.data,g()})},function(e){f.errorMessage="Error Generating Access Token",g()})):f.errorMessage="Internal Error, could not fetch user detail/asset detail",h&&g()}};this.startEventListener=function(){d.addEventListener("selectionChanged",h),d.addEventListener("addAssetToLibrary",f),d.addEventListener("requestSVGRenditionForAi",m),d.addEventListener("requestContextRebuild",p),d.addEventListener("documentChanged",g)},this.stopEventListener=function(){d.removeEventListener("selectionChanged",h),d.removeEventListener("addAssetToLibrary",f),d.removeEventListener("requestSVGRenditionForAi",m),d.removeEventListener("requestContextRebuild",p),d.removeEventListener("documentChanged",g)}}];t.attach=function(e){n.module(e).service("DRWV",i)}}),define("applications/ESHR/js/index",["require","exports","angular"],function(e,t){"use strict";var n=e("angular"),i=["$injector","$translate","colorUtils","configuration","fileUtils","csInterface","adobeStockUtils","designLibraryManager","designLibraryElements",function(e,t,n,i,r,o,a,s,l){this.config={},this.config.code="ESHR",this.config.fullName="Dimension",this.config.translationSuffix="FE",this.config.dragDropSource="com.adobe.dimension",this.config.isDrover=!1,this.config.themes={323232:"darker",f5f5f5:"lighter"},this.config.defaultTheme="darker",this.config.elementOrder=[i.THREE_D_ELEMENT_TYPE,i.LIGHT_ELEMENT_TYPE,i.MATERIAL_ELEMENT_TYPE,i.IMAGE_ELEMENT_TYPE,i.COLOR_ELEMENT_TYPE,i.COLOR_THEME_ELEMENT_TYPE,i.CHARACTER_STYLE_ELEMENT_TYPE,i.PARAGRAPH_STYLE_ELEMENT_TYPE,i.LAYER_STYLE_ELEMENT_TYPE,i.BRUSH_ELEMENT_TYPE,i.VIDEO_ELEMENT_TYPE,i.LOOK_ELEMENT_TYPE,i.CAPSULE_ELEMENT_TYPE,i.PATTERN_ELEMENT_TYPE,i.TEMPLATE_ELEMENT_TYPE,i.ANIMATION_ELEMENT_TYPE,"*"],this.config.collapsedTypes=["*"],this.config.analytics={namespace:"<TODO>",prodId:"<TODO>",devId:"<TODO>"},this.config.STOCK_SEARCH_UI_OPTIONS=[i.STOCK_SEARCH_SUB_FILTER_MODEL,i.STOCK_SEARCH_SUB_FILTER_LIGHT,i.STOCK_SEARCH_SUB_FILTER_MATERIAL,i.STOCK_SEARCH_OPTION_PHOTO],this.init=function(){r.extendUsableTypes(i.THREE_D_ELEMENT_TYPE,["application/vnd.adobe.obj.3d+zip"]),r.extendUsableTypes(i.LIGHT_ELEMENT_TYPE,["application/vnd.adobe.ibl.light+zip"]),r.extendUsableTypes(i.MATERIAL_ELEMENT_TYPE,["application/vnd.adobe.mdl.material+zip"]),r.extendUsableTypes(i.IMAGE_ELEMENT_TYPE,["image/png","image/jpeg","image/jpg","image/gif"]),e.get("configuration").showTooltips=!0,s.addListener("currentLibrary",function(){var e=s.getCurrentLibrary();o.execApp("currentLibraryChanged",{name:e?e.name:null})}),this.startEventListener()},this.reportEvent=function(e,t){return!1};var c=function(){var t=e.get("layerSelectionManager");t.handleSelectionChange()},u=function(e){if(e.data&&void 0!==e.data.elementRef){var n=s.resolveElementReference(e.data.elementRef),c=a.getStockId(n),u=[i.THREE_D_ELEMENT_TYPE,i.LIGHT_ELEMENT_TYPE,i.MATERIAL_ELEMENT_TYPE,i.IMAGE_ELEMENT_TYPE];if(!u.includes(n.type))return void o.showError(t.instant("DL_ERROR_UNSUPPORTED_FE"));var d=l.findRepresentation(n,r.getUsableTypes(n.type));if(d)return d.getContentPath().then(function(e){return o.execApp("placeAsset",[e,n.library.name,n.name,n.getReference(),l.getElementModifiedTime(n),n.created,c,c?a.isLicensed(n):null])})}};this.startEventListener=function(){o.addEventListener("selectionChanged",c),o.addEventListener("openStock",u)},this.stopEventListener=function(){o.removeEventListener("selectionChanged",c)}}];t.attach=function(e){n.module(e).service("ESHR",i)}}),define("applications/FLPR/js/events",["require","exports","module"],function(e,t){"use strict";var n=["csInterface","mediator","layerSelectionManager","designLibraryManager","FLPRPushUtils","adobeStockUtils","designLibraryElements","fileUtils","configuration",function(e,t,n,i,r,o,a,s,l){var c=function(){n.handleSelectionChange()};this.listen=function(){e.addEventListener("com.adobe.events.flash.selectionChanged",c),e.addEventListener("com.adobe.events.flash.attachRendition",r.onUpdateElement),e.addEventListener("com.adobe.events.flash.editElement",r.onEditElement)},this.stop=function(){e.removeEventListener("com.adobe.events.flash.selectionChanged",c),e.removeEventListener("com.adobe.events.flash.attachRendition",r.onUpdateElement),e.removeEventListener("com.adobe.events.flash.editElement",r.onEditElement)}}];t.attach=function(e){angular.module(e).service("FLPREvents",n)}}),define("applications/FLPR/js/pushUtils",["require","exports","module"],function(e,t){"use strict";var n=["csInterface","$window","ccLibraries","designLibraryManager","configuration","designLibraryUtils","$q","fileUtils","designLibraryCEPEventEmitters","linkUtils","designLibraryStatus","designLibraryElements","designLibraryElementUtils","FLPRAnimationUtils",function(e,t,n,i,r,o,a,s,l,c,u,d,p,h){var f=function(t,n){if(t){var i=t.element,r=i.getReference();t.getContentPath().then(function(t){var o=e.createEvent("com.adobe.DesignLibraries.events.attachRenditionCompleted","APPLICATION");o.data=JSON.stringify({requestRef:n,elementRef:r,name:i.name,libraryName:i.library.name,modifiedTime:d.getElementModifiedTime(i),creationTime:i.created,data:[t]}),e.dispatchEvent(o)})}},g=function(e,t,n){var i,r,o,a,l=t&&t.files||[],c=0;for(c=0;c<l.length;c++)i=l[c],s.existsFile(i.path)&&(r=s.fileNameToContentType(i.path,n.type),o=n.createRepresentation(r,i.relationship),a=o.setContentFromPath(i.path),e.push(a))},m=function(e){e&&s.existsFile(e)&&s.deleteFile(e)},v=function(e){var t=0;for(t=0;t<e.length;t++)m(e[t].path)},_=function(e,t,n){if(!e)throw"No current library";if(!t||!t.files||!n)throw"event data invalid"};this.onUpdateElement=function(e){var t=a.defer(),i=e.data.fileData,s=e.data.elementType,l=e.data.elementRef;try{if(!l)throw"elementRef missing";var c=n.resolveElementReference(l);if(!c)throw"Element not found";p.revealElement(c);var u=c.library;if(!o.checkLibraryWritable(u))return;_(u,i,s),c.isDeletedLocally?c=u.createElement(c.name,c.type):(c.beginOperation(),c.removeAllRepresentations());var d=[];return g(d,i,c),a.all(d).then(function(){i.rendition&&c.setThumbnailCache(r.IMAGE_RENDITION_SIZE,i.rendition).then(function(){m(i.rendition.path)}),v(i.files),c.endOperation(),f(c.getPrimaryRepresentation(),e.data.requestRef),t.resolve(c)},function(){t.reject("Could not update element")}),t.promise}catch(e){t.reject("Could not update element: "+e)}},this.onEditElement=function(e){try{var t=e.data.elementRef;if(!t)throw"elementRef missing";var i=n.resolveElementReference(t);if(!i)throw"Element not found";var r=i.library;if(!o.checkLibraryWritable(r))return;var a="application/vnd.adobe.animate-xfl+zip",s="application/vnd.adobe.animate-sym+zip",l=i.getPrimaryRepresentation(),c=l&&l.type===s,u=l&&l.type===a;if(u||c)return h.editElement(i)}catch(e){return}}}];t.attach=function(e){angular.module(e).service("FLPRPushUtils",n)}}),define("applications/FLPR/js/animationUtils",["require","exports","module"],function(e,t){"use strict";var n=["csInterface","$window","ccLibraries","designLibraryManager","configuration","designLibraryUtils","$q","fileUtils","designLibraryCEPEventEmitters","linkUtils","designLibraryStatus","designLibraryElements","designLibraryElementUtils","documentWatcher","tempFileManager","metrics","lockUtils","designLibraryCEPEventHandlers","$translate",function(e,t,n,i,r,o,a,s,l,c,u,d,p,h,f,g,m,v,_){this.editElement=function(t){var n,c,u=d.findRepresentation(t,s.getEditableTypes(r.ANIMATION_ELEMENT_TYPE)),y=!1,E=!1,b="documentLock_"+t.id,T=t.library&&t.library.name;return!!u&&(g.reportPanelEvent("editElement",{libraryID:t.library&&t.library.id,elementID:t.id,elementType:"animation"}),void f.createTempFile(t,u).then(function(t){return n=t,c=s.getFileNameWithoutExtension(n)+".png",e.execApp("openAssetForEdit",[t,c])}).then(function(u){var g=h.startListening(u,n,function(u){switch(u){case"closed":m.obtainLock(b,function(){h.stopListening(g),y=!0,E||f.deleteTempFile(t,n),v.elementEditCompleted(t),m.releaseLock(b)});break;case"saved":if(!o.checkFileSize(n))return;var S,L=t.library,A=!L||L.isDeletedLocally;if(A||!L.isWritable){if(L=i.getRecoveryLibrary(T),!L)return;S=!0}var C=[];m.obtainLock(b,function(){E=!0,t.isDeletedLocally||S?t=L.createElement(t.name,t.type):(t.beginOperation(),t.removeAllRepresentations());var i=s.fileNameToContentType(n,t.type),o=t.createRepresentation(i,"primary");if(C.push(o.setContentFromPath(n)),c&&s.existsFile(c)){var u=d.setRendition(t,r.IMAGE_RENDITION_SIZE,c);C.push(u)}E=!1,t.endOperation();var h=function(){l.sendElementUpdated(o),y?f.deleteTempFile(t,n):f.updateTempFile(t,o,n),m.releaseLock(b),S&&(p.revealElement(t),A?e.showError(_.instant("DL_WARNING_RECOVERED_FROM_DELETED",{recoveryLibraryName:L.name})):e.showError(_.instant("DL_WARNING_RECOVERED_FROM_READONLY",{recoveryLibraryName:L.name,originalLibraryName:T})))};a.all(C).then(h,h)})}})}))}}];t.attach=function(e){angular.module(e).service("FLPRAnimationUtils",n)}}),define("applications/FLPR/js/index",["require","exports","./events","./pushUtils","./animationUtils","angular"],function(e,t){"use strict";var n=e("angular"),i=e("./events"),r=e("./pushUtils"),o=e("./animationUtils"),a=["$q","$injector","colorUtils","configuration","FLPREvents","fileUtils","csInterface","designLibraryManager",function(e,t,n,i,r,o,a,s){this.config={},this.config.code="FLPR",this.config.fullName="FlashPro",this.config.translationSuffix="FP",this.config.dragDropSource="com.adobe.flashpro",this.config.isDrover=!0,this.config.isReadOnly=!0,this.config.themes={444444:"dark",dbdbdb:"lighter"},this.config.elementOrder=[i.COLOR_ELEMENT_TYPE,i.COLOR_THEME_ELEMENT_TYPE,i.BRUSH_ELEMENT_TYPE,i.ANIMATION_ELEMENT_TYPE,i.IMAGE_ELEMENT_TYPE,i.VIDEO_ELEMENT_TYPE,i.CHARACTER_STYLE_ELEMENT_TYPE,i.PARAGRAPH_STYLE_ELEMENT_TYPE,i.LAYER_STYLE_ELEMENT_TYPE,i.LOOK_ELEMENT_TYPE,i.CAPSULE_ELEMENT_TYPE,i.THREE_D_ELEMENT_TYPE,i.PATTERN_ELEMENT_TYPE,i.TEMPLATE_ELEMENT_TYPE,i.LIGHT_ELEMENT_TYPE,i.MATERIAL_ELEMENT_TYPE,i.TEXT_ELEMENT_TYPE,"*"],this.config.analytics={namespace:"fl",prodId:"adbemflashpro.rebootprod2",devId:"adbemflashpro.rebootdev2"},this.startEventListener=function(){r.listen()},this.stopEventListener=function(){r.stop()},this.init=function(){o.extendUsableTypes(i.COLOR_ELEMENT_TYPE,["application/vnd.adobe.color+json"]),o.extendUsableTypes(i.COLOR_THEME_ELEMENT_TYPE,["application/vnd.adobe.colortheme+json"]),o.extendUsableTypes(i.BRUSH_ELEMENT_TYPE,["application/vnd.adobe.vector.brush+zip"]),o.extendUsableTypes(i.IMAGE_ELEMENT_TYPE,["image/svg+xml","image/png","image/jpeg","image/jpg","image/gif","image/bmp","application/photoshop","image/vnd.adobe.photoshop","application/photoshop.large","application/illustrator"]),o.extendUsableTypes(i.VIDEO_ELEMENT_TYPE,[]),o.extendUsableTypes(i.CHARACTER_STYLE_ELEMENT_TYPE,[]),o.extendUsableTypes(i.PARAGRAPH_STYLE_ELEMENT_TYPE,[]),o.extendUsableTypes(i.LAYER_STYLE_ELEMENT_TYPE,[]),o.extendUsableTypes(i.LOOK_ELEMENT_TYPE,[]),o.extendUsableTypes(i.THREE_D_ELEMENT_TYPE,[]),o.extendEditableTypes(i.ANIMATION_ELEMENT_TYPE,["application/vnd.adobe.animate-xfl+zip","application/vnd.adobe.animate-sym+zip"]),a.execApp("getTooltipState").then(function(e){t.get("configuration").showTooltips=e}),this.startEventListener(),s.waitForInitialLoad().then(function(){var e=a.createEvent("com.adobe.events.flash.extensionLoaded","APPLICATION");e.data="",e.extensionId="com.adobe.DesignLibraries.angular",a.dispatchEvent(e)})},this.reportEvent=function(e,t){a.execApp("reportEvent",[e,t]).then(function(t){var n=JSON.parse(t);n&&console.log(e+" metric reported to FL")})},this.getUserData=function(e){a.execApp("getUserData").then(function(t){return t&&"undefined"!==t?void e(JSON.parse(t)):e()})},this.confirmAddOperation=function(t){var n,i=e.defer(),r=!1;if(!(t instanceof Array))return i.reject(),i.promise;for(n=0;n<t.length;n++)if("DL_ADD_ENTIRE_ANIMATION_TO_LIBRARY"===t[n].name){r=!0;break}return r?a.execApp("saveCurrentDoc",[]).then(function(e){"true"===e.toLowerCase()?i.resolve():i.reject()},function(e){i.reject()}):i.resolve(),i.promise}}];t.attach=function(e){i.attach(e),r.attach(e),o.attach(e),n.module(e).service("FLPR",a)}}),define("applications/IDSN/js/graphicUtils",["require","exports","module"],function(e,t){"use strict";var n=["$q","designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration","adobeStockUtils",function(e,t,n,i,r,o,a,s){var l={};l[a.IMAGE_ELEMENT_TYPE]={ANALYTICS_OP_TYPE:"addImageToDocument",ANALYTICS_ELEMENT_TYPE:"image",ALLOW_PNG_FALLBACK:!0},l[a.ANIMATION_ELEMENT_TYPE]={ANALYTICS_OP_TYPE:"addAnimationToDocument",ANALYTICS_ELEMENT_TYPE:"animation",ALLOW_PNG_FALLBACK:!1},this.getApplyOperations=function(e,r,c,u,d,p){var h=n.getLayerInfo();if(!h||h.noDocState===!0)return[];var f=l[e.type],g=t.findUsableRepresentation(e);if(!g&&!f.ALLOW_PNG_FALLBACK)return[];var m=function(n,r){var l=u===d;if(l===!0){var c="addElement",p={opType:f.ANALYTICS_OP_TYPE,elementType:f.ANALYTICS_ELEMENT_TYPE,numElements:d};a.currentProduct.reportEvent(c,p)}var h=s.getStockId(e);return g?(o.reportApplyMetric(g,"placeAsset",n),g.getContentPath().then(function(o){return i.execApp("placeAsset",[o,e.library.name,e.name,e.getReference(),t.getElementModifiedTime(e),e.created,h,h?s.isLicensed(e):null,n,r])})):e.getThumbnailPath().then(function(a){return o.reportApplyMetric({type:"image/png",_element:e},"placeAsset",n),i.execApp("placeAsset",[a,e.library.name,e.name,e.getReference(),t.getElementModifiedTime(e),e.created,h,h?s.isLicensed(e):null,n,r])},function(e){console.log(e)})},v="application/vnd.adobe.indesign-idms",_=g&&g.type===v;if(a.IS_APP_IN_TOUCH_MODE)return[{name:"DL_ADD_IMAGE_TO_DOC_AS_LINKED",icon:"download",allowMultiple:!1,apply:function(){m(!0)},displayInMenu:!0,onClick:!0}];var y=d>1;return[{name:"DL_ADD_IMAGE_TO_DOC_AS_LINKED",icon:"download",allowMultiple:!0,apply:function(){m(!0,y)},displayInMenu:!_},{name:"DL_ADD_IMAGE_TO_DOC_AS_COPY",icon:"download",allowMultiple:!0,apply:function(){m(!1,y)},displayInMenu:!0}]}}];t.attach=function(e){angular.module(e).service("idsnGraphicUtils",n)}}),define("applications/IDSN/js/index",["require","exports","angular","./graphicUtils"],function(e,t){"use strict";var n=e("angular"),i=e("./graphicUtils"),r=["$q","$rootScope","configuration","csInterface","layerSelectionManager","fontManager","colorUtils","idsnGraphicUtils","designLibraryManager","designLibraryElements","designLibraryUtils","fileUtils","$translate","mediator","designLibraryFlyoutMenu","localSettings","designLibraryViewState","adobeStockUtils","vulcan",function(e,t,n,i,r,o,a,s,l,c,u,d,p,h,f,g,m,v,_){this.config={},this.config.code="IDSN",this.config.fullName="InDesign",this.config.translationSuffix="ID",this.config.dragDropSource="com.adobe.indesign",this.config.isDrover=!0,this.config.offsetSelectMenu=!0,this.config.stateMethod="getCurrentStates",this.config.themes={323232:"darker",535353:"dark",b8b8b8:"light",f0f0f0:"lighter"},this.config.defaultTheme="dark",this.config.elementOrder=[n.COLOR_ELEMENT_TYPE,n.COLOR_THEME_ELEMENT_TYPE,n.TEXT_ELEMENT_TYPE,n.CHARACTER_STYLE_ELEMENT_TYPE,n.PARAGRAPH_STYLE_ELEMENT_TYPE,n.IMAGE_ELEMENT_TYPE,n.TEMPLATE_ELEMENT_TYPE,n.PATTERN_ELEMENT_TYPE,n.BRUSH_ELEMENT_TYPE,n.VIDEO_ELEMENT_TYPE,n.LOOK_ELEMENT_TYPE,n.CAPSULE_ELEMENT_TYPE,n.THREE_D_ELEMENT_TYPE,n.LAYER_STYLE_ELEMENT_TYPE,n.ANIMATION_ELEMENT_TYPE,n.LIGHT_ELEMENT_TYPE,n.MATERIAL_ELEMENT_TYPE,"*"],this.config.analytics={namespace:"id",prodId:"adbemindesign.rebootprod2",devId:"adbemindesign.rebootdev2"};var y=function(){m.isRelinkMode()&&m.resetMode()},E=function(){i.execApp("isAppInTouchMode").then(function(e){"true"===e?(n.CONTEXT_MENUS_ENABLED=!1,n.IS_APP_IN_TOUCH_MODE=!0):(n.CONTEXT_MENUS_ENABLED=!0,
n.IS_APP_IN_TOUCH_MODE=!1)}),y()},b=function(){var e=[];l.getLibraries().forEach(function(t){t.isDeletedFromServer||e.push({name:t.name,id:t.id,writable:t.isWritable})}),e.sort(function(e,t){return e.name<t.name?-1:e.name>t.name?1:0});var t=-1,n=l.getCurrentLibrary();if(n){var r;for(r=0;r<e.length;++r)if(e[r].id===n.id){t=r;break}}var o={};o.names=e,o.current=t,i.execApp("setLibraryCollection",[JSON.stringify(o)])};this.init=function(){d.extendUsableTypes(n.IMAGE_ELEMENT_TYPE,["application/vnd.adobe.indesign-idms","image/png","image/jpeg","image/jpg","image/gif","image/bmp","application/photoshop","application/photoshop.large","image/vnd.adobe.photoshop","application/illustrator","application/pdf"]),d.extendUsableTypes(n.COLOR_THEME_ELEMENT_TYPE,["application/vnd.adobe.colortheme+json"]),d.extendUsableTypes(n.PARAGRAPH_STYLE_ELEMENT_TYPE,["application/vnd.adobe.paragraphstyle+json","application/vnd.adobe.paragraphstyle+snippet"]),d.extendUsableTypes(n.CHARACTER_STYLE_ELEMENT_TYPE,["application/vnd.adobe.characterstyle+json","application/vnd.adobe.characterstyle+snippet"]),d.extendUsableTypes(n.TEMPLATE_ELEMENT_TYPE,["application/vnd.adobe.indesign.template"]),d.extendUsableTypes(n.TEXT_ELEMENT_TYPE,["application/vnd.adobe.text+json","application/vnd.adobe.indesign-idms-text"]),d.extendUsableTypes(n.ANIMATION_ELEMENT_TYPE,["application/vnd.adobe.animate-xfl+zip","application/vnd.adobe.indesign-idms"]),d.extendEditableTypes(n.COLOR_ELEMENT_TYPE,["application/vnd.adobe.color+json"]),d.extendEditableTypes(n.IMAGE_ELEMENT_TYPE,["application/vnd.adobe.indesign-idms"]),d.extendEditableTypes(n.TEXT_ELEMENT_TYPE,["application/vnd.adobe.indesign-idms-text"]),i.execApp("setThumbnailExportOptions"),i.execApp("getTooltipState").then(function(e){n.showTooltips=e}),this.startEventListener(),l.waitForInitialLoad().then(function(){E();var e=i.createEvent("com.adobe.DesignLibraries.events.READY","APPLICATION");i.dispatchEvent(e)}),l.addListener("libraryList",function(){b()}),l.addListener("currentLibrary",function(){b()});var e=i.getGlobalRoot();_.isAppInstalled("indesign-10")||_.isAppInstalled("indesign-10.032")||_.isAppInstalled("indesign-10.064")||d.removeRecursive(e+"IDSN")};var T,S=function(e){T=void 0,e instanceof Object&&e.hasOwnProperty("exportContext")?T=e.exportContext:e instanceof String&&(T=e)},L=function(){T=void 0},A=function(){return void 0!==T?T:""};this.reportEvent=function(e,t){console.log("Metric reported to ID"),t.event=e,"createElement"===e&&(t.creationContext=A());var n=i.createEvent("com.adobe.DesignLibraries.events.LOGPIP","APPLICATION");n.data=JSON.stringify(t),i.dispatchEvent(n),delete t.event,"createElement"===e&&delete t.creationContext},this.getUserData=function(e){i.execApp("getUserData").then(function(t){return t&&"undefined"!==t?void e(JSON.parse(t)):e()})},this.setFocusToCanvas=function(){};var C=function(){r.handleSelectionChange()},w=function(){i.execApp("getTooltipState").then(function(e){n.showTooltips=e})},x=function(){o.invalidateFontList(),h.emit("fontListChanged")},O=function(){o.invalidateFontList(),h.emit("fontListChanged")},D=function(){y()},R=function(e){var t=e.data;if(""!==t&&void 0!==t){var n=l.getLibraryById(t);n&&l.setCurrentLibrary(n)}},I=function(t){var i=t.data,r=i.idmsPath,o=i.pdfPath,a=i.pngPath;if(d.existsFile(r)&&d.existsFile(o)){var s;if(i.hasOwnProperty("libraryId")?""!==i.libraryId&&(s=l.getLibraryById(i.libraryId),s&&l.setCurrentLibrary(s)):s=l.getCurrentLibrary(),!s){var h=i.libraryName;h||(h=p.instant("DL_DEFAULT_LIBRARY_NAME"));var f=l.createLibrary(h);if(!f)return;l.setCurrentLibrary(f),s=l.getCurrentLibrary()}if(u.checkLibraryWritable(s)){var g=s.createElement(i.assetName,n.IMAGE_ELEMENT_TYPE),m=[],v=d.fileNameToContentType(r,n.IMAGE_ELEMENT_TYPE),_=g.createRepresentation(v,"primary");m.push(_.setContentFromPath(r)),v=d.fileNameToContentType(o,n.IMAGE_ELEMENT_TYPE);var y=g.createRepresentation(v,"rendition");if(m.push(y.setContentFromPath(o)),a&&d.existsFile(a)){var E=c.setRendition(g,n.IMAGE_RENDITION_SIZE,a);m.push(E)}e.all(m).then(function(){g.endOperation()},function(){s.removeElement(g,!0)})}}},P=function(e){t.$apply(function(){f.invokeCreateLibrary()})},N=function(e,t){var n;if(e&&(n=l.getLibraryById(e)),n||t||(n=l.getCurrentLibrary()),!n){var i=p.instant("DL_DEFAULT_LIBRARY_NAME");n=l.createLibrary(i)}if(n&&u.checkLibraryWritable(n))return l.setCurrentLibrary(n),n=l.getCurrentLibrary()},M="data",k="colortheme",U="application/vnd.adobe.colortheme+json",F=function(t){var r=N();if(r){var o=t.data,a={},s=o.themeName;o.hasOwnProperty("rule")&&(a.rule=o.rule,a.baseSwatchIndex=o.baseColorIndex),o.hasOwnProperty("mood")&&(a.mood=o.mood),a.swatches=[];var l=[],c=o.assetList;c.forEach(function(e,t){l.push(i.execApp("getColorDataFromJSON",[JSON.stringify(e)]).then(function(e){var t=JSON.parse(e);a.swatches.push(t)}))}),e.all(l).then(function(){S(o);var e=r.createElement(s,n.COLOR_THEME_ELEMENT_TYPE),t=e.createRepresentation(U,"primary");t.setValue(k,M,a),L(),e.endOperation()})}},$=function(t){var r;t.data.hasOwnProperty("libraryID")&&(r=t.data.libraryID);var o=!1;t.data.hasOwnProperty("createNewLibrary")&&(o=t.data.createNewLibrary);var a=N(r,o);if(a){var s=[],l=[],c=t.data.colorList;c.forEach(function(e,t){l.push(i.execApp("getColorDataFromJSON",[JSON.stringify(e)]).then(function(t){s.push({name:e.colorName,data:JSON.parse(t)})}))}),e.all(l).then(function(){var e,i=function(e){var t=a.createElement(e.name,n.COLOR_ELEMENT_TYPE);e.data.forEach(function(e,i){var r=0===i?"primary":"rendition",o=t.createRepresentation(n.COLOR_REPRESENTATION_TYPE,r);o.setValue(n.COLOR_NAMESPACE,n.COLOR_DATA_KEY,e)}),t.endOperation()};for(S(t.data),e=0;e<s.length;++e)i(s[e]);L()})}},B="data",j="characterstyle",Y="application/vnd.adobe.characterstyle+json",V="application/vnd.adobe.characterstyle+snippet",H="data",G="paragraphstyle",W="application/vnd.adobe.paragraphstyle+json",q="application/vnd.adobe.paragraphstyle+snippet",X=104,z=function(t,r){var o;t.data.hasOwnProperty("libraryID")&&(o=t.data.libraryID);var a=!1;t.data.hasOwnProperty("createNewLibrary")&&(a=t.data.createNewLibrary);var s=N(o,a);if(s){var l,c,u,p,h;r?(l=B,c=j,u=n.CHARACTER_STYLE_ELEMENT_TYPE,p=Y,h=V):(l=H,c=G,u=n.PARAGRAPH_STYLE_ELEMENT_TYPE,p=W,h=q);var f;f=t.data.documentID?t.data.documentID:-1;var g=t.data.styleUIDList;g.forEach(function(n,o){var a=r?"getCharStyleInfoByID":"getParaStyleInfoByID";i.execApp(a,[f,n]).then(function(n){var i=JSON.parse(n);S(t.data);var r=s.createElement(i.styleName,u);L();var o=[],a=r.createRepresentation(h,"primary"),f=a.setContentFromPath(i.idmsPath).then(function(){d.deleteFile(i.idmsPath)});o.push(f);var g=r.createRepresentation(p,"rendition");if(g.setValue(c,l,i.styleInfo),i.previewPath){var m=r.createRepresentation("image/png","rendition");f=m.setContentFromPath(i.previewPath),o.push(f)}e.all(o).then(function(){i.previewPath&&r.setThumbnailCache(X,i.previewPath,function(){d.deleteFile(i.previewPath)}),r.endOperation()})})})}},K=function(e){z(e,!1)},J=function(e){z(e,!0)},Z=function(e){e.data&&R(e),E()},Q=function(e){if(e.data&&void 0!==e.data.elementRef){var t=l.resolveElementReference(e.data.elementRef),r=v.getStockId(t),o=c.findRepresentation(t,d.getUsableTypes(n.IMAGE_ELEMENT_TYPE));return o?o.getContentPath().then(function(e){return i.execApp("placeAsset",[e,t.library.name,t.name,t.getReference(),c.getElementModifiedTime(t),t.created,r,r?v.isLicensed(t):null,!0,!1,!0])}):t.getThumbnailPath().then(function(e){return i.execApp("placeAsset",[e,t.library.name,t.name,t.getReference(),c.getElementModifiedTime(t),t.created,r,r?v.isLicensed(t):null,!0,!1])},function(e){console.log(e)})}},ee=function(e){if(e.data&&void 0!==e.data.elementRef){var t=l.resolveElementReference(e.data.elementRef),r=c.findRepresentation(t,d.getUsableTypes(n.TEMPLATE_ELEMENT_TYPE));if(r)return r.getContentPath().then(function(e){return i.execApp("openDocumentFromTemplate",[e])})}},te=function(e){var t=function(t){var n={},r=i.createEvent("com.adobe.DesignLibraries.events.SnippetCreated","APPLICATION");t?n.idmsPath=t:n.idmsPath="",e.data.elementRef&&(n.elementRef=e.data.elementRef),e.data.guid&&(n.guid=e.data.guid),r.data=JSON.stringify(n),i.dispatchEvent(r)};if(e.data&&void 0!==e.data.elementRef){var r=l.resolveElementReference(e.data.elementRef);if(r.type===n.TEXT_ELEMENT_TYPE){var o=c.findRepresentation(r,d.getUsableTypes(n.TEXT_ELEMENT_TYPE));if(o){var a;o.type===n.TEXT_REPRESENTATION_JSON_TYPE?(a=o.getValue(n.TEXT_NAMESPACE,n.TEXT_DATA_KEY),a.id=r.id+";"+r.modified,a.type="text",i.execApp("getSnippetForText",[a,!e.data.stripStyles]).then(function(e){t(e)},function(){t()})):o.type===n.TEXT_REPRESENTATION_ID_SNIPPET_TYPE&&o.getContentPath().then(function(e){t(e)})}}}else t()};this.startEventListener=function(){i.addEventListener("afterSelectionChanged",C),i.addEventListener("afterSelectionAttributeChanged",C),i.addEventListener("colorChanged",C),i.addEventListener("colorTransformChanged",C),i.addEventListener("uiPreferencesChanged",w),i.addEventListener("fontListChanged",x),i.addEventListener("documentAfterActivate",O),i.addEventListener("newAssetToMigrate",I),i.addEventListener("createNewCloudLibrary",P),i.addEventListener("createNewColorTheme",F),i.addEventListener("createNewColors",$),i.addEventListener("createNewParaStyles",K),i.addEventListener("createNewCharStyles",J),i.addEventListener("documentAfterDeactivate",D),i.addEventListener("afterWorkspaceChanged",Z),i.addEventListener("openStock",Q),i.addEventListener("openStockTemplate",ee),i.addEventListener("createSnippetForElement",te)},this.stopEventListener=function(){i.removeEventListener("afterSelectionChanged",C),i.removeEventListener("afterSelectionAttributeChanged",C),i.removeEventListener("colorChanged",C),i.removeEventListener("colorTransformChanged",C),i.removeEventListener("uiPreferencesChanged",w),i.removeEventListener("fontListChanged",x),i.removeEventListener("documentAfterActivate",O),i.removeEventListener("newAssetToMigrate",I),i.removeEventListener("createNewCloudLibrary",P),i.removeEventListener("createNewColorTheme",F),i.removeEventListener("createNewColors",$),i.removeEventListener("createNewParaStyles",K),i.removeEventListener("createNewCharStyles",J),i.removeEventListener("documentAfterDeactivate",D),i.removeEventListener("afterWorkspaceChanged",Z),i.removeEventListener("openStock",Q),i.removeEventListener("openStockTemplate",ee),i.removeEventListener("createSnippetForElement",te)},this.dropHandler=function(e){return console.log("InDesign app is handling",e),e.keys.metaKey!==!0&&e.keys.ctrlKey!==!0||"text"===e.data.assetList[0].type&&(e.data.assetList[0].type="image"),!1},this.customDropMessage=function(e){if("text"===e.data.assetList[0].type){var t,n;if(i.isWindowsOS()?(t="DL_CUSTOM_DROP_MESSAGE_ID_TEXT_WIN",n=e.keys.ctrlKey===!0):(t="DL_CUSTOM_DROP_MESSAGE_ID_TEXT_MAC",n=e.keys.metaKey===!0),!n)return p.instant(t);e.data.assetList[0].type="image"}},this.customOverlayMessage=function(e,t){var n="";return"place"===e?n="DL_CUSTOM_PLACE_OVERLAY_MESSAGE_ID":"relink"===e&&(n=1===t.length&&"text"===t[0]?"DL_CUSTOM_RELINK_TEXT_OVERLAY_MESSAGE_ID":"DL_RELINK_RELINK_OVERLAY_MESSAGE"),n.length>0&&(n=p.instant(n)),n},this.allowCmdDrag=!0}];t.attach=function(e){n.module(e).service("IDSN",r),i.attach(e)}}),define("applications/ILST/js/events",["require","exports","module"],function(e,t){"use strict";var n=["csInterface","mediator","layerSelectionManager","designLibraryManager","fontManager","ILSTColorUtils","ILSTPushUtils","ILSTTextUtils","ILSTUtils","adobeStockUtils","designLibraryElements","fileUtils","configuration","designLibraryViewState",function(e,t,n,i,r,o,a,s,l,c,u,d,p,h){var f="application/illustrator-text";this.setFocusToCanvas=function(){};var g=function(e){r.invalidateFontList(),t.emit("fontListChanged")},m=function(){n.handleSelectionChange()};this.alertSpotMismatch=function(){var t=e.createEvent("ILST.SpotMismtached","APPLICATION");e.dispatchEvent(t)};var v=function(){h.isStockSearchMode()||h.resetMode()},_=function(){v()};this.updateLibrariesInfo=function(){var t=[];i.getLibraries().forEach(function(e){e.isDeletedFromServer||t.push({name:e.name,id:e.id,writable:e.isWritable})}),t.sort(function(e,t){return e.name<t.name?-1:e.name>t.name?1:0});var n=-1,r=i.getCurrentLibrary();if(r){var o;for(o=0;o<t.length;++o)if(t[o].id===r.id){n=o;break}}var a=e.createEvent("ILST.libraryListUpdated","APPLICATION");a.data={names:t,current:n},e.dispatchEvent(a)};var y=function(e){i.sync(!1,!1)},E=function(e){l.getLibraryFromEventData(e.data)},b=function(t){if(t.data&&void 0!==t.data.elementRef){var n=i.resolveElementReference(t.data.elementRef),r=c.getStockId(n),o=u.findRepresentation(n,d.getUsableTypes(p.IMAGE_ELEMENT_TYPE));return o?o.getContentPath().then(function(t){return e.execApp("placeAsset",[t,n.library.name,n.name,n.getReference(),u.getElementModifiedTime(n),n.created,r,r?c.isLicensed(n):null,!0,!0])}):n.getThumbnailPath().then(function(t){return e.execApp("placeAsset",[t,n.library.name,n.name,n.getReference(),u.getElementModifiedTime(n),n.created,r,r?c.isLicensed(n):null,!0,!0])},function(e){console.log(e)})}},T=function(t){if(t.data&&void 0!==t.data.elementRef){var n=i.resolveElementReference(t.data.elementRef),r=u.findRepresentation(n,d.getUsableTypes(p.TEMPLATE_ELEMENT_TYPE));if(r)return r.getContentPath().then(function(t){return e.execApp("openDocumentFromTemplate",[t])})}},S=function(t){var n=function(t,n,i){var r=e.createEvent("ILST.textFileCreated","APPLICATION"),o={};t&&(o.stripStyle=n,o.path=t,o.usingContextMenu=!1,o.placeInline=!1,o.contextData=i),r.data=JSON.stringify(o),e.dispatchEvent(r)};if(t.data&&void 0!==t.data.elementRef){var r=i.resolveElementReference(t.data.elementRef);if(r.type===p.TEXT_ELEMENT_TYPE){var o=u.findRepresentation(r,d.getUsableTypes(p.TEXT_ELEMENT_TYPE));if(o){var a;o.type===p.TEXT_REPRESENTATION_JSON_TYPE?(a=o.getValue(p.TEXT_NAMESPACE,p.TEXT_DATA_KEY),a.id=r.id+";"+r.modified,a.type="text",e.execApp("getAiFileForText",[a]).then(function(e){n(e,t.data.stripStyle,t.data.contextData)},function(){n()})):o.type===f&&o.getContentPath().then(function(e){n(e,t.data.stripStyle,t.data.contextData)})}}}else n()};this.listen=function(){e.addEventListener("documentAfterDeactivate",_),e.addEventListener("artSelectionChanged",m),e.addEventListener("fontListChanged",g),e.addEventListener("ILST.addElementToLibrary",a.onAddElementToLibrary),e.addEventListener("ILST.updateElement",a.onUpdateElement),e.addEventListener("ILST.forceSyncLibrary",y),e.addEventListener("ILST.pushColorsToLibrary",o.pushColorsToLibrary),e.addEventListener("ILST.pushCharStyleToLibrary",s.addTextStyle),e.addEventListener("ILST.pushParaStyleToLibrary",s.addParaStyle),e.addEventListener("ILST.addSelectionToLibrary",a.onAddSelectionToLibrary),e.addEventListener("ILST.workspaceChanged",E),e.addEventListener("ILST.openStock",b),e.addEventListener("ILST.openStockTemplate",T),e.addEventListener("ILST.getTextAsAiFile",S)},this.stop=function(){e.removeEventListener("documentAfterDeactivate",_),e.removeEventListener("artSelectionChanged",m),e.removeEventListener("fontListChanged",g),e.removeEventListener("ILST.addElementToLibrary",a.onAddElementToLibrary),e.removeEventListener("ILST.updateElement",a.onUpdateElement),e.removeEventListener("ILST.forceSyncLibrary",y),e.removeEventListener("ILST.pushColorsToLibrary",o.pushColorsToLibrary),e.removeEventListener("ILST.pushCharStyleToLibrary",s.addTextStyle),e.removeEventListener("ILST.pushParaStyleToLibrary",s.addParaStyle),e.removeEventListener("ILST.addSelectionToLibrary",a.onAddSelectionToLibrary),e.removeEventListener("ILST.workspaceChanged",E),e.removeEventListener("ILST.openStock",b),e.removeEventListener("ILST.openStockTemplate",T),e.removeEventListener("ILST.getTextAsAiFile",S)}}];t.attach=function(e){angular.module(e).service("ILSTEvents",n)}}),define("applications/ILST/js/pushUtils",["require","exports","module"],function(e,t){"use strict";var n=["csInterface","$window","ccLibraries","designLibraryManager","configuration","layerSelectionManager","designLibraryUtils","$q","fileUtils","designLibraryCEPEventEmitters","linkUtils","designLibraryStatus","designLibraryElements","designLibraryElementUtils",function(e,t,n,i,r,o,a,s,l,c,u,d,p,h){var f=function(t,n){if(t){var i=t.element,r=i.getReference();t.getContentPath().then(function(t){var o=e.createEvent("com.adobe.DesignLibraries.events.ElementUpdated","APPLICATION");o.data=JSON.stringify({requestRef:n,elementRef:r,name:i.name,libraryName:i.library.name,modifiedTime:p.getElementModifiedTime(i),creationTime:i.created,data:[t]}),e.dispatchEvent(o)})}},g=function(e,t,n){var i,r,o,a,s=t&&t.files||[],c=0;for(c=0;c<s.length;c++)i=s[c],r=l.fileNameToContentType(i.path,n.type),o=n.createRepresentation(r,i.relationship),a=o.setContentFromPath(i.path),e.push(a)},m=function(t){var n=e.createEvent("ILST.InitialCommunicationError","APPLICATION"),i=d.getStatus();n.data={elementIdentifier:t,status:"error",error:i&&i.errorType||"kError"},e.dispatchEvent(n)},v=function(n,r,o,a){var s=!1,l=!1,c=function(i){var r=e.createEvent("ILST.elementUploaded","APPLICATION"),o=i||{errorType:"kNoErr",state:"ok"},a=t.navigator.onLine;a||(o.state="error",o.errorType="kNoInternet"),r.data={elementRef:n.getReference(),status:o.state,error:o.errorType||"kNoErr"},e.dispatchEvent(r)},p=function(){var e=d.getStatus();l||"ok"!==e.state&&"error"!==e.state||(c(e),l=!0,r&&"ok"===e.state&&!s&&("kAIChart"===a?u.openElementURL(n,"charts",o):"kAIArt"===a&&u.openElementURL(n,"details",o),s=!0),i.removeListener("libraryStatus",p))};i.syncingEnabled()?i.addListener("libraryStatus",p):c(d.getStatus())},_=function(e){e&&l.existsFile(e)&&l.deleteFile(e)},y=function(e){var t=0;for(t=0;t<e.length;t++)_(e[t].path)},E=function(e,t,n){if(!e)throw"No current library";if(!t||!t.files||!n)throw"event data invalid"};this.onAddElementToLibrary=function(e){var t=s.defer(),n=e.data.fileData,o=e.data.elementType,l=null,u=i.getCurrentLibrary(),d=e.data.additionalQueryParameters,p=e.data.openBrowserAfterOperation;if(a.checkLibraryWritable(u))try{if(E(u,n,o),null===n.layerIds||null===n.documentId)throw"layer Ids Or documentId cannot be null";if("kAIArt"!==o&&"kAIChart"!==o)throw"Element not supported yet";l=r.IMAGE_ELEMENT_TYPE,"kAIChart"===o?n.layerName=a.getCuratedName(u,n.layerName,"DL_CHART_LABEL"):n.layerName=a.getCuratedName(u,n.layerName);var f=u.createElement(n.layerName,l),b=[];return g(b,n,f),s.all(b).then(function(){n.rendition&&f.setThumbnailCache(r.IMAGE_RENDITION_SIZE,n.rendition).then(function(){y(n.files),_(n.rendition.path)}),f.endOperation(),h.revealElement(f);var e={documentId:n.documentId,layerIds:n.layerIds};c.sendElementCreated(f,e).then(function(){v(f,p,d,o),t.resolve(f)})},function(){t.reject("Could not add element")}),t.promise}catch(e){m(n.layerIds&&n.layerIds[0]||null),t.reject("Could not add element: "+e)}},this.onUpdateElement=function(e){var t=s.defer(),i=e.data.fileData,o=e.data.elementType,l=e.data.elementRef,c=e.data.additionalQueryParameters,u=e.data.openBrowserAfterOperation;try{if(!l)throw"elementRef missing";var d=n.resolveElementReference(l);if(!d)throw"Element not found";h.revealElement(d);var p=d.library;if(!a.checkLibraryWritable(p))return;E(p,i,o),d.isDeletedLocally?d=p.createElement(d.name,d.type):(d.beginOperation(),d.removeAllRepresentations());var b=[];return g(b,i,d),s.all(b).then(function(){i.rendition&&d.setThumbnailCache(r.IMAGE_RENDITION_SIZE,i.rendition).then(function(){y(i.files),_(i.rendition.path)}),d.endOperation(),f(d.getPrimaryRepresentation(),e.data.requestRef),v(d,u,c,o),t.resolve(d)},function(){t.reject("Could not update element")}),t.promise}catch(n){m(e.data.requestRef),t.reject("Could not update element: "+n)}};var b=function(t,n){var i=s.defer();return e.execApp("getTextInfo").then(function(e){var o=JSON.parse(e);if(!o||!o.textInfo)return void i.reject("Could not create element.");var c,u,d=n.textAssetName||o.name,p=a.getCuratedName(t,d,"DL_TEXT_LABEL"),h=t.createElement(p,r.TEXT_ELEMENT_TYPE),f=[];if(o.primaryRepresentation){var g=h.createRepresentation(o.primaryRepresentation.representationType,"primary");o.primaryRepresentation.isFile?u=g.setContentFromPath(o.primaryRepresentation.filePath).then(function(){l.deleteFile(o.primaryRepresentation.filePath),f.push(u)}):g.setValue(r.TEXT_NAMESPACE,r.TEXT_DATA_KEY,o.primaryRepresentation.data),c=h.createRepresentation(r.TEXT_REPRESENTATION_JSON_TYPE,"rendition"),c.setValue(r.TEXT_NAMESPACE,r.TEXT_DATA_KEY,o.textInfo)}else c=h.createRepresentation(r.TEXT_REPRESENTATION_JSON_TYPE,"primary"),c.setValue(r.TEXT_NAMESPACE,r.TEXT_DATA_KEY,o.textInfo);if(o.previewPath){var m=h.createRepresentation("image/png","rendition");m.isPreferredThumbnail=!0,u=m.setContentFromPath(o.previewPath),f.push(u)}s.all(f).then(function(){o.previewPath&&h.setThumbnailCache(r.TEXT_RENDITION_SIZE,o.previewPath,function(){l.deleteFile(o.previewPath)}),h.endOperation(),i.resolve(h)},function(){t.removeElement(h),i.reject("Could not create element.")})},function(){i.reject("Could not save text preview.")}),i.promise},T=function(e,t){var n=s.defer();return a.generatePreview(!0,t).then(function(i){var r={documentId:i.documentId,layerIds:i.layerIds,dragAssetId:t};n.resolve(h.addGraphicElement(i.layerName,i.files,i.rendition,e,r))},function(){n.reject("Could not extract asset.")}),n.promise},S=function(e){if(e&&(void 0===e.canAddTextAsset||e.canAddTextAsset!==!1))return void 0!==e.canAddTextAsset?b(i.getCurrentLibrary(),e):T(i.getCurrentLibrary(),void 0,void 0)};this.onAddSelectionToLibrary=function(e){o.requestUpdate(),o.addListener("layerSelectionChanged",S,!0)}}];t.attach=function(e){angular.module(e).service("ILSTPushUtils",n)}}),define("applications/ILST/js/colorUtils",["require","exports","module"],function(e,t){"use strict";var n=["csInterface","$q","designLibraryManager","configuration","ILSTUtils","designLibraryElementUtils","designLibraryUtils",function(e,t,n,i,r,o,a){var s=function(n){var s=t.defer(),l=r.getLibraryFromEventData(n.data);if(l||s.defer("Library Error"),a.checkLibraryWritable(l)){var c=function(e){var t=e.name;t||(e.data&&e.data[0]&&e.data[0].type&&"spot"===e.data[0].type&&(t=e.data[0].spotColorName),t=t||"");var n=l.createElement(t,i.COLOR_ELEMENT_TYPE);return e.data.forEach(function(e,t){var r=0===t?"primary":"rendition",o=n.createRepresentation(i.COLOR_REPRESENTATION_TYPE,r);o.setValue(i.COLOR_NAMESPACE,i.COLOR_DATA_KEY,e)}),n.endOperation(),n};return e.execApp("getSelectedSwatchList").then(function(e){e||s.reject("err");var t;try{e=JSON.parse(e),e.forEach(function(e,n){e.data&&(t=c(e))})}catch(e){s.reject("err")}t&&o.revealElement(t),s.resolve()},function(){s.reject("err")}),s.promise}},l="data",c="colortheme",u="application/vnd.adobe.colortheme+json",d=function(n){var s=t.defer(),d=r.getLibraryFromEventData(n.data);if(d&&a.checkLibraryWritable(d)){var p=function(e){var t,n=e.mood,r=0;if(n||(n=""),e.swatches&&e.swatches.length<=5&&e.swatches.length>0){var o=e.swatches[e.swatches.length-1]||[];for(r=e.swatches.length;r<5;r++)e.swatches.push(o);t=d.createElement(n,i.COLOR_THEME_ELEMENT_TYPE);var a=t.createRepresentation(u,"primary");a.setValue(c,l,e),t.endOperation()}return t};return e.execApp("getSelectedSwatchGroupList").then(function(e){e||s.reject("err");var t;e=JSON.parse(e),e.length>0&&(e.forEach(function(e,n){t=p(e)}),t&&o.revealElement(t)),s.resolve()},function(){s.reject("err")}),s.promise}};this.pushColorsToLibrary=function(e){var n=e.data,i=t.defer(),r=[];return n&&(n.uploadSwatch&&r.push(s(e)),n.uploadSwatchGroup&&r.push(d(e))),t.all(r).then(function(){i.resolve()},function(){i.reject()}),i.promise}}];t.attach=function(e){angular.module(e).service("ILSTColorUtils",n)}}),define("applications/ILST/js/utils",["require","exports","module"],function(e,t){"use strict";var n=["$translate","designLibraryManager","configuration",function(e,t,n){this.PIPGlobals={},this.PIPGlobals.DLtoAI="DL_To_Ai",this.PIPGlobals.CharacterStyle="Character_Style",this.PIPGlobals.ParagraphStyle="Paragraph_Style",this.PIPGlobals.Color="Color",this.PIPGlobals.SwatchGroups="Swatch_Groups",this.PIPGlobals.Added="Added",this.PIPGlobals.Applied="Applied",this.getDefaultLibrary=function(){var n=t.getCurrentLibrary();if(!n){var i=e.instant("DL_DEFAULT_LIBRARY_NAME"),r=t.createLibrary(i);if(!r)throw"Could not create new library";t.setCurrentLibrary(r),n=t.getCurrentLibrary()}return n},this.acquireLibrary=function(n,i){var r;if(n&&(r=t.getLibraryById(n)),r||i||(r=t.getCurrentLibrary()),!r){var o=e.instant("DL_DEFAULT_LIBRARY_NAME");r=t.createLibrary(o)}return r&&(t.setCurrentLibrary(r),r=t.getCurrentLibrary()),r},this.getLibraryFromEventData=function(e){var t;e.hasOwnProperty("libraryID")&&(t=e.libraryID);var n=!1;return e.hasOwnProperty("createNewLibrary")&&(n=JSON.parse(e.createNewLibrary)),this.acquireLibrary(t,n)},this.logPIPEvent=function(e,t,i){if(angular.isFunction(n.currentProduct.reportEvent)){var r={category:e,subcategory:t,eventname:i};n.currentProduct.reportEvent("event",r)}}}];t.attach=function(e){angular.module(e).service("ILSTUtils",n)}}),define("applications/ILST/js/textUtils",["require","exports","module"],function(e,t){"use strict";var n=["csInterface","$q","designLibraryManager","configuration","ILSTUtils","fileUtils","designLibraryElementUtils","designLibraryUtils",function(e,t,n,i,r,o,a,s){var l=function(n,l){var c=r.getLibraryFromEventData(n.data);if(c&&s.checkLibraryWritable(c)){var u,d,p,h;l?(u="data",d="characterstyle",p=i.CHARACTER_STYLE_ELEMENT_TYPE,h="application/vnd.adobe.characterstyle+json"):(u="data",d="paragraphstyle",p=i.PARAGRAPH_STYLE_ELEMENT_TYPE,h="application/vnd.adobe.paragraphstyle+json");var f=n.data.styleNames,g=l?"addCharStyleById":"addParaStyleById";f.forEach(function(n,r){e.execApp(g,[n]).then(function(e){var n,r,s=JSON.parse(e),l=c.createElement(s.styleName,p),f=[];if(n=l.createRepresentation(h,"primary"),n.setValue(d,u,s.styleInfo),s.previewPath){var g=l.createRepresentation("image/png","rendition");r=g.setContentFromPath(s.previewPath),f.push(r)}t.all(f).then(function(){s.previewPath&&l.setThumbnailCache(i.CHARACTER_STYLE_RENDITION_SIZE,s.previewPath,function(){o.deleteFile(s.previewPath)}),l.endOperation(),a.revealElement(l)})})})}};this.addTextStyle=function(e){l(e,!0)},this.addParaStyle=function(e){l(e,!1)}}];t.attach=function(e){angular.module(e).service("ILSTTextUtils",n)}}),define("applications/ILST/js/index",["require","exports","angular","./events","./pushUtils","./colorUtils","./utils","./textUtils"],function(e,t){"use strict";var n=e("angular"),i=e("./events"),r=e("./pushUtils"),o=e("./colorUtils"),a=e("./utils"),s=e("./textUtils"),l=["configuration","csInterface","ILSTEvents","colorUtils","localSettings","fileUtils","designLibraryManager","vulcan","$translate",function(e,t,n,i,r,o,a,s,l){this.config={},this.config.code="ILST",this.config.fullName="Illustrator",this.config.translationSuffix="AI",this.config.dragDropSource="com.adobe.illustrator",this.config.isDrover=!0,this.config.offsetSelectMenu=!0,this.config.themes={323232:"darker",535353:"dark",b8b8b8:"light",f0f0f0:"lighter"},this.config.defaultTheme="dark",this.config.elementOrder=[e.COLOR_ELEMENT_TYPE,e.COLOR_THEME_ELEMENT_TYPE,e.TEXT_ELEMENT_TYPE,e.CHARACTER_STYLE_ELEMENT_TYPE,e.PARAGRAPH_STYLE_ELEMENT_TYPE,e.IMAGE_ELEMENT_TYPE,e.BRUSH_ELEMENT_TYPE,e.TEMPLATE_ELEMENT_TYPE,e.PATTERN_ELEMENT_TYPE,e.VIDEO_ELEMENT_TYPE,e.LOOK_ELEMENT_TYPE,e.CAPSULE_ELEMENT_TYPE,e.THREE_D_ELEMENT_TYPE,e.LAYER_STYLE_ELEMENT_TYPE,e.ANIMATION_ELEMENT_TYPE,e.LIGHT_ELEMENT_TYPE,e.MATERIAL_ELEMENT_TYPE,"*"],this.config.analytics={namespace:"ai",prodId:"adbemillustrator.rebootprod2",devId:"adbemillustrator.rebootdev2"},this.startEventListener=function(){n.listen()},this.stopEventListener=function(){n.stop()},this.init=function(){o.extendUsableTypes(e.IMAGE_ELEMENT_TYPE,["image/png","image/jpeg","image/jpg","image/svg+xml","application/photoshop","application/photoshop.large","image/vnd.adobe.photoshop","application/illustrator","application/pdf"]),o.extendUsableTypes(e.COLOR_THEME_ELEMENT_TYPE,["application/vnd.adobe.colortheme+json"]),o.extendUsableTypes(e.BRUSH_ELEMENT_TYPE,["application/vnd.adobe.vector.brush+zip"]),o.extendUsableTypes(e.CHARACTER_STYLE_ELEMENT_TYPE,["application/vnd.adobe.characterstyle+json"]),o.extendUsableTypes(e.PARAGRAPH_STYLE_ELEMENT_TYPE,["application/vnd.adobe.paragraphstyle+json"]),o.extendUsableTypes(e.TEMPLATE_ELEMENT_TYPE,["application/illustrator.template"]),o.extendUsableTypes(e.PATTERN_ELEMENT_TYPE,["image/vnd.adobe.pattern+png"]),o.extendUsableTypes(e.TEXT_ELEMENT_TYPE,["application/vnd.adobe.text+json","application/illustrator-text"]),o.extendEditableTypes(e.COLOR_ELEMENT_TYPE,["application/vnd.adobe.color+json"]),o.extendEditableTypes(e.IMAGE_ELEMENT_TYPE,["image/svg+xml","application/illustrator"]),o.extendEditableTypes(e.TEXT_ELEMENT_TYPE,["application/illustrator-text"]),t.execApp("setThumbnailExportOptions"),t.execApp("getTooltipState").then(function(t){e.showTooltips=t}),this.startEventListener();var i=t.getGlobalRoot();s.isAppInstalled("illustrator-18")||s.isAppInstalled("illustrator-18.032")||s.isAppInstalled("illustrator-18.064")||o.removeRecursive(i+"ILST"),a.waitForInitialLoad().then(function(){var e=t.createEvent("com.adobe.DesignLibraries.events.READY","APPLICATION");t.dispatchEvent(e)}),a.addListener("libraryList",function(){n.updateLibrariesInfo()}),a.addListener("currentLibrary",function(){n.updateLibrariesInfo()})},this.reportEvent=function(e,n){console.log("Metric reported to AI"),n.event=e;var i=t.createEvent("com.adobe.illustrator.LOGPIP","APPLICATION");i.data=JSON.stringify(n),t.dispatchEvent(i),delete n.event},this.getUserData=function(e){t.execApp("getUserData").then(function(t){return t&&"undefined"!==t?void e(JSON.parse(t)):e()})},this.dropHandler=function(e){return console.log("Illustrator app is handling",e),e.keys.metaKey!==!0&&e.keys.ctrlKey!==!0||"text"===e.data.assetList[0].type&&(e.data.assetList[0].type="image"),!1},this.customDropMessage=function(e){if("text"===e.data.assetList[0].type){var n,i;if(t.isWindowsOS()?(i=e.keys.ctrlKey===!0,i===!1&&(n="DL_CUSTOM_DROP_MESSAGE_ID_TEXT_WIN")):(i=e.keys.metaKey===!0,i===!1&&(n="DL_CUSTOM_DROP_MESSAGE_ID_TEXT_MAC")),!i)return l.instant(n);e.data.assetList[0].type="image"}},this.allowCmdDrag=!0}];t.attach=function(e){i.attach(e),r.attach(e),o.attach(e),s.attach(e),a.attach(e),n.module(e).service("ILST",l)}}),define("applications/MUSE/js/index",["require","exports","angular"],function(e,t){"use strict";var n=e("angular"),i=["$injector","colorUtils","configuration","fileUtils","csInterface","layerSelectionManager","designLibraryManager","designLibrarySelection","designLibraryElements","versionManager","$timeout",function(e,t,n,i,r,o,a,s,l,c,u){this.config={},this.config.code="MUSE",this.config.fullName="Muse",this.config.translationSuffix="MU",this.config.dragDropSource="com.adobe.muse",this.config.isDrover=!0,this.config.useMouseEventToDetectDrop=!0,this.config.themes={343434:"darker",484848:"dark",c2c2c2:"light",d6d6d6:"lighter"},this.config.defaultTheme="dark",this.config.elementOrder=[n.COLOR_ELEMENT_TYPE,n.COLOR_THEME_ELEMENT_TYPE,n.IMAGE_ELEMENT_TYPE,n.CHARACTER_STYLE_ELEMENT_TYPE,n.PARAGRAPH_STYLE_ELEMENT_TYPE,n.LAYER_STYLE_ELEMENT_TYPE,n.BRUSH_ELEMENT_TYPE,n.VIDEO_ELEMENT_TYPE,n.LOOK_ELEMENT_TYPE,n.CAPSULE_ELEMENT_TYPE,n.THREE_D_ELEMENT_TYPE,n.PATTERN_ELEMENT_TYPE,n.TEMPLATE_ELEMENT_TYPE,n.TEXT_ELEMENT_TYPE,n.ANIMATION_ELEMENT_TYPE,n.LIGHT_ELEMENT_TYPE,n.MATERIAL_ELEMENT_TYPE,"*"],this.config.analytics={namespace:"mu",prodId:"adbemmuse.rebootprod2",devId:"adbemmuse.rebootdev2"},this.init=function(){i.extendUsableTypes(n.IMAGE_ELEMENT_TYPE,["application/vnd.adobe.muse-collection","image/svg+xml","application/illustrator","image/png","image/jpeg","image/jpg","image/gif"]),i.extendUsableTypes(n.ANIMATION_ELEMENT_TYPE,["application/vnd.adobe.animate-xfl+zip"]),i.extendUsableTypes(n.COLOR_THEME_ELEMENT_TYPE,["application/vnd.adobe.colortheme+json"]),
i.extendUsableTypes(n.PARAGRAPH_STYLE_ELEMENT_TYPE,[]),i.extendUsableTypes(n.CHARACTER_STYLE_ELEMENT_TYPE,[]),i.extendEditableTypes(n.COLOR_ELEMENT_TYPE,["application/vnd.adobe.color+json"]),r.execApp("getTooltipState").then(function(e){n.showTooltips=e}),this.startEventListener(),a.waitForInitialLoad().then(function(){var e=r.createEvent("com.adobe.DesignLibraries.events.READY","APPLICATION");r.dispatchEvent(e)})},this.reportEvent=function(e,t){console.log("Metric reported to Mu"),t.event=e;var n=r.createEvent("com.adobe.muse.LOGPIP","APPLICATION");n.data=JSON.stringify(t),r.dispatchEvent(n),delete t.event},this.getUserData=function(e){r.execApp("getUserData").then(function(t){return t&&"undefined"!==t?void e(JSON.parse(t)):e()})},this.setFocusToCanvas=function(){};var d=function(){o.handleSelectionChange()};this.startEventListener=function(){r.addEventListener("afterSelectionChanged",d)},this.stopEventListener=function(){r.removeEventListener("afterSelectionChanged",d)};var p=function(e){if(l.isDraggable(e))return!0;var t=e.getPrimaryRepresentation();return!(!t||"image/vnd.adobe.photoshop"!==t.type&&"application/vnd.adobe.indesign-idms"!==t.type)};this.onDragStartHandler=function(e,t,o){var a,d=s.getSelection(),h=e.originalEvent,f=h.clientX,g=h.clientY,m=h.timeStamp,v=function(t,i){u(function(){r.execApp("startDragHandler",[t,i,f,g,m])},o?500:0);var a={source:n.DRAGDROP_SOURCE,version:c.getPluginVersion(),assetList:i};e.originalEvent&&e.originalEvent.dataTransfer&&e.originalEvent.dataTransfer.setData("Text",JSON.stringify(a))};if(o)return void v("image",t);var _=[];d.forEach(function(e){if(void 0===a||a===e.type)if(void 0===a&&(a=e.type),n.COLOR_ELEMENT_TYPE===a){var t,r,o,s=i.getUsableTypes(n.COLOR_ELEMENT_TYPE);for(t=0;t<e.representations.length;t++)r=e.representations[t],l.isRepresentationCompatible(r,s)&&(o=r.getValue(n.COLOR_NAMESPACE,n.COLOR_DATA_KEY),"RGB"===o.mode&&_.push(o))}else if(p(e)){var c=l.getDragData(e);_.push({path:c.data[0],displayName:e.displayName,elementRef:e.getReference()})}}),n.COLOR_ELEMENT_TYPE===a?v("color",_):n.IMAGE_ELEMENT_TYPE===a?v("image",_):n.ANIMATION_ELEMENT_TYPE===a&&v("animation",_)},this.log=function(e){r.execApp("museLog",[e])}}];t.attach=function(e){n.module(e).service("MUSE",i)}}),define("applications/PHXS/js/colorUtils",["require","exports","module"],function(e,t){"use strict";var n=["$q","descriptor","configuration","designLibraryElementUtils","designLibraryManager","designLibraryUtils",function(e,t,n,i,r,o){this.transformPSColorToLibraryColor=function(e){var n={type:"process"},i=t.detype(e);switch(i){case"CMYKColorClass":n.mode="CMYK",n.value={c:e.cyan,m:e.magenta,y:e.yellowColor,k:e.black};break;case"RGBColor":n.mode="RGB",n.value={r:e.red,g:e.grain,b:e.blue};break;case"HSBColorClass":n.mode="HSB",n.value={h:e.hue._value,s:e.saturation,b:e.brightness};break;case"labColor":n.mode="Lab",n.value={l:e.luminance,a:e.a,b:e.b};break;case"grayscale":n.mode="Gray",n.value=e.gray;break;default:n.mode=i,n.value=e}return n},this.addPSColor=function(t,a,s,l){t=t||"";var c=e.defer();try{var u=r.getDefaultLibrary();if(!u)throw"No library";if(!o.checkLibraryWritable(u))return;var d="application/vnd.adobe.color+json",p=o.createElementExtraMetrics(u,t,n.COLOR_ELEMENT_TYPE,{opType:l});a&&p.createRepresentation(d,"primary").setValue("color","data",this.transformPSColorToLibraryColor(a)),s&&p.createRepresentation(d,"rendition").setValue("color","data",this.transformPSColorToLibraryColor(s)),p.endOperation(),i.revealElement(p),c.resolve(p)}catch(e){c.reject("Could not add color: "+e)}return c.promise}}];t.attach=function(e){angular.module(e).service("phxsColorUtils",n)}}),define("applications/PHXS/js/descriptor",["require","exports","module"],function(e,t){"use strict";var n=["$q","$translate","fileUtils","csInterface","mediator","configuration","designLibraryManager","designLibraryElements",function(e,t,n,i,r,o,a,s){this.detype=function(e){return e._obj},this.deref=function(e){return e._value},this.ify=function(e){var t,n,i={},r=Object.keys(e),o=r.length;for(t=0;t<o;++t)n=r[t],"object"==typeof e[n]?i[n]={_obj:"",_value:this.ify(e[n])}:i[n]=e[n];return i}}];t.attach=function(e){angular.module(e).service("descriptor",n)}}),define("applications/PHXS/js/events",["require","exports","module"],function(e,t){"use strict";var n=["csInterface","mediator","configuration","designLibraryManager","layerSelectionManager","fontManager","phxsPush",function(e,t,n,i,r,o,a){var s,l=function(e){return r.handleSelectionChange(),e.documentID!==s&&(n.currentProduct.handleActiveDocChanged(e.documentID),s=e.documentID),!1},c=function(e){return r.handleSelectionChange(),!1},u=function(e){return r.handleSelectionChange(),!1},d=function(n){return e.execApp("refreshFonts").then(function(){o.invalidateFontList(),t.emit("fontListChanged")}),!1},p=function(t){e.execApp("getTooltipState").then(function(e){n.showTooltips=e})},h=[{id:"1684816969",name:"dlDocInfoChanged",callback:l,dynamic:!1},{id:null,name:"foregroundColorChanged",callback:c,dynamic:!0},{id:null,name:"fontListChanged",callback:d,dynamic:!0},{id:null,name:"convertMode",callback:u,dynamic:!0},{id:null,name:"preferencesChanged",callback:p,dynamic:!0}],f="",g=function(e){e&&e.data&&a.pushAssetToLibrary(e.data)},m=function(e){if(e){var t={},n=e.data.indexOf("{");if(n!==-1){var i=e.data.substr(n);t=JSON.parse(i)}var r=String(t.eventID),o=h.filter(function(e){return r===e.id});1===o.length?o[0].callback(t.eventData):console.log("Expected exactly one handler per event id: "+r)}};this.listen=function(){var t=h.reduce(function(e,t){return t.dynamic&&e.push(t.name),e},[]);e.exec("PHXS","getStringID",[t]).then(function(t){var r=t.split(","),o=0;h.forEach(function(e){e.dynamic&&(e.id=r[o],o++)}),f=h.map(function(e){return e.id}).join(",");var a=e.createEvent("com.adobe.PhotoshopRegisterEvent","APPLICATION");a.data=f,e.dispatchEvent(a),e.addEventListener("com.adobe.PhotoshopJSONCallback"+n.EXTENSION_ID,m),i.waitForInitialLoad().then(function(){var t=e.createEvent("com.adobe.DesignLibraries.events.READY","APPLICATION");e.dispatchEvent(t)})}),e.addEventListener("pushAssetToLibrary",g),p()},this.stop=function(){var t=e.createEvent("com.adobe.PhotoshopUnRegisterEvent","APPLICATION");t.data=f,e.dispatchEvent(t),e.removeEventListener("PhotoshopCallback",m),e.removeEventListener("pushAssetToLibrary",g),f=""}}];t.attach=function(e){angular.module(e).service("phxsEvents",n)}}),define("applications/PHXS/js/imageUtils",["require","exports","module"],function(e,t){"use strict";var n=["$q","$translate","adobeStockUtils","configuration","csInterface","fileUtils","lockUtils","documentWatcher","tempFileManager","designLibraryElements","designLibraryManager","designLibraryUtils","designLibraryElementUtils","designLibraryCEPEventEmitters","designLibraryCEPEventHandlers","metrics",function(e,t,n,i,r,o,a,s,l,c,u,d,p,h,f,g){this.primaryRepIsTemplateFormat=function(e){var t=e.getPrimaryRepresentation();return!(!t||"image/vnd.adobe.photoshop.template"!==t.type&&"application/x-adobe-libraries-psdt"!==t.type)},this.editImageOr3DElement=function(m){if(this.primaryRepIsTemplateFormat(m))return!1;if(!c.isElementEditable(m))return!1;g.reportPanelEvent("editElement",{libraryID:m.library&&m.library.id,elementID:m.id,elementType:m.type===i.THREE_D_ELEMENT_TYPE?"3d":"image"});var v,_,y=m.getPrimaryRepresentation(),E=!1,b=!1,T="documentLock_"+m.id,S=m.library&&m.library.name;l.createTempFile(m,y).then(function(e){return v=e,_=o.getFileNameWithoutExtension(v)+"p.png",r.execApp("openAssetForEdit",[e,_,m.getReference()])}).then(function(i){r.exec("CORE","isDocumentOpen",[v]).then(function(g){var y=!1;if(void 0!==g&&"undefined"!==g&&(y=JSON.parse(g)),!y)return l.deleteTempFile(m,v),void f.elementEditCompleted(m);var L=s.startListening(i,v,function(i){if("closed"===i)a.obtainLock(T,function(){s.stopListening(L),E=!0,b===!1&&l.deleteTempFile(m,v),f.elementEditCompleted(m),a.releaseLock(T)});else if("saved"===i){if(!d.checkFileSize(v))return;b=!0;var g,y=m.library,A=!y||y.isDeletedLocally;if(A||!y.isWritable){if(y=u.getRecoveryLibrary(S),!y)return;g=!0}a.obtainLock(T,function(){var i=n.getStockDataForElement(m);m.isDeletedLocally||g?m=y.createElement(m.name,m.type):(m.beginOperation(),m.removeAllRepresentations());var s=o.fileNameToContentType(v,m.type),u=m.createRepresentation(s,"primary");i&&n.setStockData(u,i);var d=[];if(d.push(u.setContentFromPath(v)),_&&o.existsFile(_)){var f=c.setRendition(m,c.getRenditionSize(m),_);d.push(f)}var L=function(){E?l.deleteTempFile(m,v):l.updateTempFile(m,u,v),b=!1,m.endOperation(),a.releaseLock(T),g&&(p.revealElement(m),A?r.showError(t.instant("DL_WARNING_RECOVERED_FROM_DELETED",{recoveryLibraryName:y.name})):r.showError(t.instant("DL_WARNING_RECOVERED_FROM_READONLY",{recoveryLibraryName:y.name,originalLibraryName:S}))),h.sendElementUpdated(u)};e.all(d).then(L,L)})}})})})}}];t.attach=function(e){angular.module(e).service("phxsImageUtils",n)}}),define("applications/PHXS/js/push",["require","exports","module"],function(e,t){"use strict";var n=["$q","csInterface","configuration","designLibraryUtils","designLibraryElementUtils","designLibraryManager","phxsColorUtils","phxsTextUtils",function(e,t,n,i,r,o,a,s){var l=function(e){if(!e)return{};var t={elementID:e.id,elementType:function(e){if(e.type){var t=e.type.match(/application\/vnd\.adobe\.element\.(.*)\+dcx/);return t&&2===t.length?t[1]:e.type}return null}(e)},n=e.library;return n&&(t.libraryID=n.id,t.libraryElementCount=n._elements.length,n.collaboration&&(t.libraryShared=n.collaboration)),t},c=function(e,t){angular.isFunction(n.currentProduct.reportEvent)?n.currentProduct.reportEvent(e,t,!0):console.error("Highbeam analytics not available.")},u=function(e,t){var n={};n.path=e.abrPath,e.brushOptions.color&&(e.brushOptions.color=a.transformPSColorToLibraryColor(e.brushOptions.color)),r.addBrushElement(e.name,n,e.pngPath,o.getDefaultLibrary(),e.opType,e.brushOptions).then(function(e){r.revealElement(e)})},d=function(e,t){var n={};return n.path=e.aslPath,r.addLayerStyleElement(e.name,n,e.pngPath,o.getDefaultLibrary(),e.opType).then(function(e){r.revealElement(e)})},p=function(e,t){return s.addPSCharacterStyleWithDescID(e.name,e.descriptorID,e.previewPath,e.opType).then(function(e){r.revealElement(e)})},h=function(e,t){return a.addPSColor(e.name,e.primary,e.secondary,e.opType)},f=function(t,n){var a=e.defer(),s=t.assetPath;if(!i.checkFileSize(s,!t.moveFile))return a.reject("Could not create element: one or more files exceed 1GB limit"),a.promise;var l={path:s,relationship:"primary",dimensions:{width:t.exportInfo.pixelWidth,height:t.exportInfo.pixelHeight}},c={};return c.layerIds=t.exportInfo.layerIDs,c.documentId=t.exportInfo.documentID,c.pushEventMetadata=n,l.dimensions.width=Number(l.dimensions.width),l.dimensions.height=Number(l.dimensions.height),c.documentId=Number(c.documentId),"string"==typeof c.layerIds&&(c.layerIds=JSON.parse(c.layerIds)),a.resolve(r.addGraphicElement(t.name,[l],t.previewPath,o.getDefaultLibrary(),t.opType,c).then(function(e){r.revealElement(e)})),a.promise},g=[{type:"brush",callback:u},{type:"characterStyle",callback:p},{type:"color",callback:h},{type:"layerStyle",callback:d},{type:"graphic",callback:f}];this.pushAssetToLibrary=function(n){var i=e.defer(),r=[],o=n.event_metadata;r.push(i.promise);var a=function(e){var n=t.createEvent("pushAssetToLibraryResponse","APPLICATION"),i={appMetadata:{pushEventMetadata:o},response:e};n.data=JSON.stringify(i),t.dispatchEvent(n)},s=function(e){a({status:"ok"}),c("pushAssetToLibrary",l(e))},u=function(e){a({status:"error",details:e})};try{if(!n||!o)throw"parameter error";var d=n.assetType;if(!d)throw"asset type not defined";var p=g.filter(function(e){return d===e.type});if(!(p.length>0))throw"No asset handler found for "+d;p.forEach(function(e){r.push(e.callback(n,o).then(s,u))}),i.resolve()}catch(e){i.reject("pushAssetToLibrary failed: "+e)}return e.all(r)}}];t.attach=function(e){angular.module(e).service("phxsPush",n)}}),define("applications/PHXS/js/textUtils",["require","exports","module"],function(e,t){"use strict";var n=["$q","csInterface","descriptor","configuration","fileUtils","designLibraryElementUtils","designLibraryManager","designLibraryUtils",function(e,t,n,i,r,o,a,s){this.addPSCharacterStyleWithDescID=function(n,o,l,c){n=n||"";var u=e.defer();return t.execApp("makeTextItemObjectJSONFromPushDescID",[o]).then(function(t){var o,d,p=JSON.parse(t||"");try{if(!p)throw"makeTextItemObjectJSONFromPushDescID returned false";if(o=a.getDefaultLibrary(),!o)throw"No library";if(!s.checkLibraryWritable(o))return;var h="application/vnd.adobe.characterstyle+json",f="characterstyle",g="data";d=s.createElementExtraMetrics(o,n,i.CHARACTER_STYLE_ELEMENT_TYPE,{opType:c}),p&&d.createRepresentation(h,"primary").setValue(f,g,p);var m=[];if(l){var v=d.createRepresentation("image/png","rendition"),_=v.setContentFromPath(l);m.push(_)}e.all(m).then(function(){l&&d.setThumbnailCache(i.CHARACTER_STYLE_RENDITION_SIZE,l,function(){r.deleteFile(l)}),d.endOperation(),u.resolve(d)},function(){o.removeElement(d,!0),u.reject("Could not create element.")})}catch(e){o&&d&&o.removeElement(d,!0),u.reject("Could not add character style: "+e)}},function(e){u.reject("Could not makeTextItemObjectJSONFromPushDescID: "+e)}),u.promise}}];t.attach=function(e){angular.module(e).service("phxsTextUtils",n)}}),define("applications/PHXS/js/index",["require","exports","./colorUtils","./descriptor","./events","./imageUtils","./push","./textUtils","angular"],function(e,t){"use strict";var n=e("angular"),i=e("./colorUtils"),r=e("./descriptor"),o=e("./events"),a=e("./imageUtils"),s=e("./push"),l=e("./textUtils"),c=["$q","$translate","phxsColorUtils","phxsEvents","csInterface","fileUtils","configuration","menuManager","metrics","layerSelectionManager","designLibraryElementUtils","designLibraryManager","designLibraryViewState","vulcan",function(e,t,n,i,r,o,a,s,l,c,u,d,p,h){function f(e,t){var n=-1;return e.some(function(i,r){var o=!1;return t(i,r,e)&&(n=r,o=!0),o}),n}function g(e){var t,i;for(t=0;t<e.assetList.length;++t)i=e.assetList[t].data[0],n.addPSColor(e.assetList[t].name,i.primary,i.secondary,"dragToPanel")}function m(e){function t(e,t){r.execApp("saveLayerStyleByIndex",[e]).then(function(e){var n=JSON.parse(e)||{},i={};i.path=n.aslPath,u.addLayerStyleElement(t,i,n.previewPath,d.getDefaultLibrary(),"dragToPanel").then(function(e){u.revealElement(e)})})}var n,i;for(n=0;n<e.assetList.length;++n)i=e.assetList[n].data[0],t(i,e.assetList[n].name)}function v(e){function t(e,t){r.execApp("saveBrushByIndex",[e]).then(function(e){var n=JSON.parse(e)||{},i={};i.path=n.abrPath,u.addBrushElement(t,i,n.previewPath,d.getDefaultLibrary(),"dragToPanel").then(function(e){u.revealElement(e)})})}var n,i;for(n=0;n<e.assetList.length;++n)i=e.assetList[n].data[0],t(i,e.assetList[n].name)}function _(e){var t=!!d.isConnected(),n=d.getPrivateLibraryCollection();return void 0!==n&&t&&e}this.config={},this.config.code="PHXS",this.config.translationSuffix="PS",this.config.fullName="Photoshop",this.config.dragDropSource="com.adobe.photoshop",this.config.themes={323232:"darker",535353:"dark",b8b8b8:"light",f0f0f0:"lighter"},this.config.defaultTheme="dark",this.config.deleteIcon="psdelete",this.config.elementOrder=[a.COLOR_ELEMENT_TYPE,a.COLOR_THEME_ELEMENT_TYPE,a.CHARACTER_STYLE_ELEMENT_TYPE,a.LAYER_STYLE_ELEMENT_TYPE,a.BRUSH_ELEMENT_TYPE,a.IMAGE_ELEMENT_TYPE,a.THREE_D_ELEMENT_TYPE,a.PATTERN_ELEMENT_TYPE,a.TEMPLATE_ELEMENT_TYPE,a.VIDEO_ELEMENT_TYPE,a.LOOK_ELEMENT_TYPE,a.CAPSULE_ELEMENT_TYPE,a.PARAGRAPH_STYLE_ELEMENT_TYPE,a.TEXT_ELEMENT_TYPE,a.ANIMATION_ELEMENT_TYPE,a.LIGHT_ELEMENT_TYPE,a.MATERIAL_ELEMENT_TYPE,"*"],this.config.analytics={namespace:"ps",prodId:"adbemphotoshop.rebootprod2",devId:"adbemphotoshop.rebootdev2"},this.config.enablePatternDragging=!1,this.config.useMouseEventToDetectDrop=!0,this.transformFlyoutMenuItems=function(e){var t={label:"DL_FLYOUT_ADD_DOC_CONTENT",enableMenu:_(c.hasDocumentOpen()),onClick:function(){a.currentProduct.addDocContent()}},n=f(e,function(e,t,n){return"DL_MENU_CREATE_LIB"===e.label});if(n===-1)console.log("Could not find create lib menu item, revisit placement of add doc contents menu item"),e.splice(e.length,0,t);else{var i=n+2;e.splice(i,0,{divider:!0}),e.splice(i,0,t)}},this.addDocContent=function(){p.hideDialogs(),p.resetMode();var e=r.createEvent("com.adobe.DesignLibraries.events.AddDocContent","APPLICATION");r.dispatchEvent(e)},this.getAddDocContentOperation=function(){return{buttonName:"DL_ADD_DOC_CONTENT_BUTTON",buttonToolTip:"DL_ADD_DOC_CONTENT_BUTTON_TOOLTIP",iconToolTip:"DL_ADD_DOC_CONTENT_ICON_TOOLTIP",icon:"importdocassets",apply:function(){a.currentProduct.addDocContent()},enabled:_(c.hasDocumentOpen())}},this.setFocusToCanvas=function(){var e=r.createEvent("com.adobe.PhotoshopLoseFocus","APPLICATION");r.dispatchEvent(e)},this.handleActiveDocChanged=function(e){var n=0!==e;s.updateFlyoutMenuItem(t.instant("DL_FLYOUT_ADD_DOC_CONTENT"),_(n),!1)},this.dropHandler=function(e){var t=e.data,n=!1;return t&&t.assetList&&t.assetList.length>0&&("color"===t.assetList[0].type?(g(t),n=!0):"style"===t.assetList[0].type?(m(t),n=!0):"brush"===t.assetList[0].type&&(v(t),n=!0)),n},this.init=function(){var t=e.defer();r.execApp("getConfigInfoFromPS").then(function(e){var t=JSON.parse(e)||{};a.currentProduct.config.enablePatternDragging=t.enablePatternDragging}),o.extendUsableTypes(a.COLOR_THEME_ELEMENT_TYPE,["application/vnd.adobe.colortheme+json"]),o.extendUsableTypes(a.BRUSH_ELEMENT_TYPE,["image/x-adobe-photoshop-brush"]),o.extendUsableTypes(a.CHARACTER_STYLE_ELEMENT_TYPE,["application/vnd.adobe.characterstyle+json"]),o.extendUsableTypes(a.LAYER_STYLE_ELEMENT_TYPE,["application/vnd.adobe.layerstyle"]),o.extendUsableTypes(a.THREE_D_ELEMENT_TYPE,["image/vnd.adobe.photoshop"]),o.extendUsableTypes(a.PATTERN_ELEMENT_TYPE,["image/vnd.adobe.pattern+png"]),o.extendUsableTypes(a.LOOK_ELEMENT_TYPE,["application/vnd.adobe.cube+txt"]),o.extendUsableTypes(a.TEMPLATE_ELEMENT_TYPE,["image/vnd.adobe.photoshop.template"]),o.extendEditableTypes(a.COLOR_ELEMENT_TYPE,["application/vnd.adobe.color+json"]),o.extendEditableTypes(a.THREE_D_ELEMENT_TYPE,["image/vnd.adobe.photoshop"]),r.execApp("getReadableFileExtensions").then(function(e){var n=JSON.parse(e)||[],i=n.indexOf("PSDT");i!==-1&&n.splice(i,1),o.extendUsableTypes(a.IMAGE_ELEMENT_TYPE,["image/vnd.adobe.photoshop.template","application/x-adobe-libraries-psdt"]);var r=["AI","SVG","SVGZ","PDF"];n.length>0?(r.forEach(function(e){var t=n.indexOf(e);t!==-1&&n.splice(t,1)}),o.extendUsableTypesWithExtensions(a.IMAGE_ELEMENT_TYPE,r),o.extendEditableTypesWithExtensions(a.IMAGE_ELEMENT_TYPE,n)):(console.log("Failed to get readable file extensions from PHXS, using short default list."),o.extendUsableTypes(a.IMAGE_ELEMENT_TYPE,["application/illustrator","image/svg+xml","application/pdf"]),o.extendEditableTypes(a.IMAGE_ELEMENT_TYPE,["image/png","image/jpeg","image/jpg","image/gif","image/bmp","application/photoshop","image/vnd.adobe.photoshop","application/photoshop.large"])),t.resolve()},function(){t.reject()});var n=r.createEvent("com.adobe.PhotoshopPersistent","APPLICATION");r.dispatchEvent(n),this.startEventListener();var i=r.getGlobalRoot();return h.isAppInstalled("photoshop-15")||h.isAppInstalled("photoshop-15.032")||h.isAppInstalled("photoshop-15.064")||o.removeRecursive(i+"PHXS"),t.promise},this.startEventListener=function(){i.listen()},this.stopEventListener=function(){i.stop()},this.reportEvent=function(e,t,n){if("createElement"===e&&!t.opType){var i=l.getExtraEventMetrics(e);i&&(t.opType=i.opType)}r.execApp("reportEvent",[e,t,n]).then(function(t){var n=JSON.parse(t);n&&console.log(e+" metric reported to PS")})},this.getUserData=function(e){r.execApp("getUserData").then(function(t){return t&&"undefined"!==t?void e(JSON.parse(t)):e()})}}];t.attach=function(e,t){i.attach(e),r.attach(e),o.attach(e),a.attach(e),s.attach(e),l.attach(e),n.module(e).service("PHXS",c)}}),define("applications/PPRO/js/index",["require","exports","angular"],function(e,t){"use strict";var n=e("angular"),i=["$q","$injector","colorUtils","fileUtils","ccLibraries","adobeStockUtils","configuration","designLibraryElements","designLibraryManager","imsInterface","csInterface","designLibraryUtils","designLibraryElementUtils",function(e,t,n,i,r,o,a,s,l,c,u,d,p){this.getScaleColor=function(e){var t=38,i=.51,r=t,o=e,a=o*i+r;return n.rgbToHex({red:a,green:a,blue:a})},this.cssThemeBGScale=function(){var e,t,n={},i=function(e){switch(e){case 0:return"darker";case 100:return"dark";default:return e.toString()}};for(e=0;e<=100;e++)t=this.getScaleColor(e).slice(1),(!n.hasOwnProperty(t)||n.hasOwnProperty(t)&&i(e)!==e.toString())&&(n[t]=i(e));return n},this.config={},this.config.code="PPRO",this.config.fullName="Premiere Pro",this.config.translationSuffix="PR",this.config.dragDropSource="com.adobe.premiere",this.config.isDrover=!0,this.config.isReadOnly=!0,this.config.themes=this.cssThemeBGScale(),this.config.elementOrder=[a.IMAGE_ELEMENT_TYPE,a.VIDEO_ELEMENT_TYPE,a.LOOK_ELEMENT_TYPE,a.CAPSULE_ELEMENT_TYPE,a.COLOR_ELEMENT_TYPE,a.BRUSH_ELEMENT_TYPE,a.LAYER_STYLE_ELEMENT_TYPE,a.PARAGRAPH_STYLE_ELEMENT_TYPE,a.CHARACTER_STYLE_ELEMENT_TYPE,a.COLOR_THEME_ELEMENT_TYPE,a.THREE_D_ELEMENT_TYPE,a.PATTERN_ELEMENT_TYPE,a.TEMPLATE_ELEMENT_TYPE,a.TEXT_ELEMENT_TYPE,a.ANIMATION_ELEMENT_TYPE,a.LIGHT_ELEMENT_TYPE,a.MATERIAL_ELEMENT_TYPE,"*"],this.config.analytics={namespace:"pr",prodId:"adbempremierepro.rebootprod2",devId:"adbempremierepro.rebootdev2"},this.init=function(){i.extendUsableTypes(a.IMAGE_ELEMENT_TYPE,["application/pdf","application/illustrator","application/photoshop","application/photoshop.large","image/vnd.adobe.photoshop","image/png","image/jpeg","image/jpg"]),i.extendUsableTypes(a.LOOK_ELEMENT_TYPE,["application/vnd.adobe.cube+txt","application/vnd.adobe.look+xml"]),i.extendUsableTypes(a.VIDEO_ELEMENT_TYPE,["video/mp4","video/quicktime"]),i.extendUsableTypes(a.CAPSULE_ELEMENT_TYPE,["application/vnd.adobe.ppro.graphic+zip","application/vnd.adobe.ae.graphic+zip"]),u.execApp("getTooltipState").then(function(e){t.get("configuration").showTooltips=e}),this.startEventListener(),l.waitForInitialLoad().then(function(){var e=u.createEvent("com.adobe.DesignLibraries.events.READY","APPLICATION");u.dispatchEvent(e)})},this.reportEvent=function(e,t){},this.getUserData=function(e){u.execApp("getUserData").then(function(t){return t&&"undefined"!==t?void e(JSON.parse(t)):e()})};var h=function(){var e=t.get("layerSelectionManager");e.handleSelectionChange()},f=function(){var e=l.getPrivateLibraryCollection(),t=e?e.userId:"",n={clientId:c.getEnvironment().clientId,imsToken:""},i="com.adobe.DesignLibraries.events.UserAccessToken";return c.getAccessToken(t).then(function(e){n.imsToken=e;var t=u.createEvent(i,"APPLICATION");t.data=JSON.stringify(n),u.dispatchEvent(t)},function(){var e=u.createEvent(i,"APPLICATION");e.data=JSON.stringify(n),u.dispatchEvent(e)})},g=function(e){var t=e.data,n=r.resolveElementReference(t),l={elementRef:t};if(n){l.name=n.name,l.id=n.id,l.libraryName=n.library.name,l.reference=n.getReference(),l.modified=n.modified,l.created=n.created,l.adobeStockId=o.getStockId(n),l.licensed=l.adobeStockId?o.isLicensed(n):null;var c=s.findRepresentation(n,i.getUsableTypes(a.VIDEO_ELEMENT_TYPE));if(c){l.width=c.width,l.height=c.height,l.contentLength=c.contentLength,l.url=c.getContentURL(),l.trackingdata=c.getValue("adobestock","trackingdata"),l.contentType=c.type;var d=r.utils.mimeTypeToExtensions(c.type);l.extension=d[d.length-1];var p=c.getValue("video","data")||!1;p&&(l.framerate=Number(p.framerate),l.duration=p.duration)}var h="com.adobe.DesignLibraries.events.VideoUpdate",f=u.createEvent(h,"APPLICATION");f.data=JSON.stringify(l),u.dispatchEvent(f)}else l.name=""},m=function(t){var n={NO_ERROR:0,UPLOAD_FAILED:1,PRIMARY_FILE_MISSING:2,SECONDARY_FILE_MISSING:3,THUMBNAIL_FILE_MISSING:4,LIBRARY_NOT_FOUND:5,LIBRARY_READ_ONLY:6},r="com.adobe.DesignLibraries.events.UploadCapsuleResponse",o=u.createEvent(r,"APPLICATION"),s={code:n.NO_ERROR},c=t.data,h=l.getLibraryById(c.libraryId),f=n.NO_ERROR;if(i.existsFile(c.primaryPath)||(f=n.PRIMARY_FILE_MISSING),f!==n.NO_ERROR||i.existsFile(c.secondaryPath)||(f=n.SECONDARY_FILE_MISSING),f!==n.NO_ERROR||i.existsFile(c.thumbnailPath)||(f=n.THUMBNAIL_FILE_MISSING),f!==n.NO_ERROR||h||(f=n.LIBRARY_NOT_FOUND),f!==n.NO_ERROR||h.isWritable||(f=n.LIBRARY_READ_ONLY),f===n.NO_ERROR){var g,m,v=function(e,t){var n=u.createEvent("com.adobe.DesignLibraries.events.UploadCapsuleProgress","APPLICATION");n.data=JSON.stringify({current:e,total:t}),u.dispatchEvent(n)},_=[],y=3,E=0;v(E,y);var b=d.createElementExtraMetrics(h,c.capsuleName,a.CAPSULE_ELEMENT_TYPE,{});if(c.primaryPath){if(g=b.createRepresentation("application/vnd.adobe.ppro.graphic+zip","primary"),c.metadata){var T=JSON.parse(c.metadata);g.setValue(a.CAPSULE_NAMESPACE,a.CAPSULE_DATA_KEY,T)}m=g.setContentFromPath(c.primaryPath).then(function(){E+=1,v(E,y),i.deleteFile(c.primaryPath)}),_.push(m)}c.secondaryPath&&(g=b.createRepresentation("application/vnd.adobe.graphic+json","alternate"),m=g.setContentFromPath(c.secondaryPath).then(function(){E+=1,v(E,y),i.deleteFile(c.secondaryPath)}),_.push(m)),c.thumbnailPath&&(g=b.createRepresentation("image/png","rendition"),m=g.setContentFromPath(c.thumbnailPath).then(function(){E+=1,v(E,y)}),_.push(m));var S=function(){b.setThumbnailCache(a.CAPSULE_RENDITION_SIZE,c.thumbnailPath,function(){i.deleteFile(c.thumbnailPath)}),b.endOperation(),p.revealElement(b),o.data=JSON.stringify(s),u.dispatchEvent(o)},L=function(e){h.removeElement(b,!0),s.code=n.UPLOAD_FAILED,o.data=JSON.stringify(s),u.dispatchEvent(o)};e.all(_).then(S,L)}else s.code=f,o.data=JSON.stringify(s),u.dispatchEvent(o)};this.startEventListener=function(){u.addEventListener("lookSelectionChanged",h),u.addEventListener("getIMSAccessToken",f),u.addEventListener("getVideoDownloadData",g),u.addEventListener("uploadCapsuleEvent",m)},this.stopEventListener=function(){u.removeEventListener("lookSelectionChanged",h),u.removeEventListener("getIMSAccessToken",f),u.removeEventListener("getVideoDownloadData",g),u.removeEventListener("uploadCapsuleEvent",m)}}];t.attach=function(e){n.module(e).service("PPRO",i)}}),define("applications/AEFT/js/configuration/color",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration",function(e,t,n,i,r,o){e.registerOverride({type:o.COLOR_ELEMENT_TYPE,getApplyOperations:function(e,i){var a=function(t){return function(i,a){return i||(i=[],e.representations.forEach(function(e){var t=e.getValue(o.COLOR_NAMESPACE,o.COLOR_DATA_KEY),n=e.getValue("library","rel");"primary"===n?i.unshift(t):i.push(t)}),e.representations.length>0&&r.reportApplyMetric(e.representations[0],t)),angular.isFunction(a)&&a(t),n.execApp(t,[i])}},s=t.getLayerInfo();return!s||s&&!s.selectionExists?[]:[{name:"DL_SET_COLOR_TOOLTIP",icon:"paintbucket",isDraggable:!1,apply:a("setColor"),displayInMenu:!0,onClick:!0}]}})}])}}),define("applications/AEFT/js/configuration/image",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","designLibraryManager","configuration","$translate","documentWatcher","tempFileManager","AEFT",function(e,t,n,i,r,o,a,s,l,c,u){e.registerOverride({type:a.IMAGE_ELEMENT_TYPE,getApplyOperations:function(e,t){var n=function(){u.addOrUpdateElementInProject(e,!0)};return[{name:"DL_ADD_IMAGE_TO_PROJECT",onClick:!1,isDraggable:!0,apply:n,displayInMenu:!0}]}})}])}}),define("applications/AEFT/js/configuration/textstyle",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration",function(e,t,n,i,r,o){e.registerOverride({type:o.CHARACTER_STYLE_ELEMENT_TYPE,getApplyOperations:function(e,t){var n=[];return n}})}])}}),define("applications/AEFT/js/configuration/layerstyle",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration","$translate",function(e,t,n,i,r,o,a){e.registerOverride({type:o.LAYER_STYLE_ELEMENT_TYPE,getApplyOperations:function(e,t){return[]}})}])}}),define("applications/AEFT/js/configuration/brush",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration",function(e,t,n,i,r,o){e.registerOverride({type:o.BRUSH_ELEMENT_TYPE,getApplyOperations:function(e,t){return[]}})}])}}),define("applications/AEFT/js/configuration/look",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration","$translate",function(e,t,n,i,r,o,a){e.registerOverride({type:o.LOOK_ELEMENT_TYPE,isDraggable:!0,getApplyOperations:function(t,a){var s=function(){var a=e.findRepresentation(t,i.getUsableTypes(o.LOOK_ELEMENT_TYPE));if(a)return r.reportApplyMetric(a,"placeAsset"),a.getContentPath().then(function(e){return n.execApp("placeAsset",[e,!1,t.name])})};return[{name:"DL_APPLY_LOOK",onClick:!1,isDraggable:!0,apply:s,displayInMenu:!0}]}})}])}}),define("applications/AEFT/js/configuration/parastyle",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration",function(e,t,n,i,r,o){e.registerOverride({type:o.PARAGRAPH_STYLE_ELEMENT_TYPE,getAddOperations:function(){return[]}})}])}}),define("applications/AEFT/js/configuration/text",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","configuration",function(e,t){e.registerOverride({type:t.TEXT_ELEMENT_TYPE,getAddOperations:function(){return[]}})}])}}),define("applications/AEFT/js/configuration/video",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","configuration","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","adobeStockUtils","imsInterface","designLibraryManager","AEFT",function(e,t,n,i,r,o,a,s,l,c){e.registerOverride({type:t.VIDEO_ELEMENT_TYPE,isDraggable:!0,getApplyOperations:function(e,t){var n=function(){c.addOrUpdateElementInProject(e,!0)};return[{name:"DL_ADD_VIDEO_TO_PROJECT",icon:"download",apply:n,displayInMenu:!0}]}})}])}}),define("applications/AEFT/js/configuration/main",["require","exports","./color","./image","./textstyle","./layerstyle","./brush","./look","./parastyle","./text","./video"],function(e,t){"use strict";t.attach=function(t){e("./color").attach(t),e("./image").attach(t),e("./textstyle").attach(t),e("./layerstyle").attach(t),e("./brush").attach(t),e("./look").attach(t),e("./parastyle").attach(t),e("./text").attach(t),e("./video").attach(t)}}),define("applications/DRWV/js/configuration/brush",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration",function(e,t,n,i,r,o){e.registerOverride({type:o.BRUSH_ELEMENT_TYPE,getApplyOperations:function(e,t){return[]}})}])}}),define("applications/DRWV/js/configuration/color",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration","colorUtils",function(e,t,n,i,r,o,a){
e.registerOverride({type:o.COLOR_ELEMENT_TYPE,getApplyOperations:function(e,t){var i=function(t){return function(i,s){i||(i=[],e.representations.forEach(function(e){var t=e.getValue(o.COLOR_NAMESPACE,o.COLOR_DATA_KEY);"primary"===e.relationship?i.unshift(t):i.push(t)}),e.representations.length>0&&r.reportApplyMetric(e.representations[0],t)),angular.isFunction(s)&&s(t);var l=a.getRGBRepresentation(i);if(l){if("copyRGB"===t)return n.execApp(t,[JSON.stringify(l.value)]);var c=a.colorDataToHexValue(l),u=!1;return event&&1===event.which&&(u=!0),n.execApp(t,[c.toUpperCase(),u])}}};return[{name:"DL_COPY_HEX_COLOR_TOOLTIP",icon:"paintbucket",apply:i("copyHex"),displayInMenu:!0,onClick:!0},{name:"DL_COPY_RGB_COLOR_TOOLTIP",icon:"paintbucket",apply:i("copyRGB"),displayInMenu:!0}]}})}])}});define("applications/DRWV/js/configuration/image",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["$q","designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","designLibraryManager","configuration","$translate","documentWatcher","tempFileManager","adobeStockUtils",function(e,t,n,i,r,o,a,s,l,c,u,d){t.registerOverride({type:s.IMAGE_ELEMENT_TYPE,getApplyOperations:function(e,n){var a=function(n,a){var l=d.getStockId(e),c=t.findRepresentation(e,r.getUsableTypes(s.IMAGE_ELEMENT_TYPE));return c?(o.reportApplyMetric(c,"placeAsset",n),c.getContentPath().then(function(o){var u=r.mimeLookup(s.IMAGE_ELEMENT_TYPE,c.type),p=u&&"Photoshop"===u.name;return i.execApp("placeAsset",[o,p,e.library.name,e.name,e.getReference(),t.getElementModifiedTime(e),e.created,l||"",l?d.isLicensed(e):null,n,a])})):e.getThumbnailPath().then(function(r){return o.reportApplyMetric({type:"image/png",_element:e},"placeAsset",n),i.execApp("placeAsset",[r,!1,e.library.name,e.name,e.getReference(),t.getElementModifiedTime(e),e.created,l||"",l?d.isLicensed(e):null,n,a])},function(e){console.log(e)})};return[{name:"DL_INSERT_IMAGE_TO_DOC_AS_LINKED",icon:"download",apply:function(){a(!0,!1)},displayInMenu:s.currentProduct.config.isDocumentOpen},{name:"DL_INSERT_IMAGE_TO_DOC_AS_COPY",icon:"download",apply:function(){a(!1,!1)},displayInMenu:s.currentProduct.config.isDocumentOpen},{name:"DL_DOWNLOAD_IMAGE_AS_LINKED",icon:"download",apply:function(){a(!0,!0)},displayInMenu:!0},{name:"DL_DOWNLOAD_IMAGE_AS_COPY",icon:"download",apply:function(){a(!1,!0)},displayInMenu:!0}]}})}])}});define("applications/DRWV/js/configuration/layerstyle",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration","$translate",function(e,t,n,i,r,o,a){e.registerOverride({type:o.LAYER_STYLE_ELEMENT_TYPE,getApplyOperations:function(e,t){return[]}})}])}}),define("applications/DRWV/js/configuration/look",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration","$translate",function(e,t,n,i,r,o,a){e.registerOverride({type:o.LOOK_ELEMENT_TYPE,getApplyOperations:function(e,t){return[]}})}])}}),define("applications/DRWV/js/configuration/parastyle",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration",function(e,t,n,i,r,o){e.registerOverride({type:o.PARAGRAPH_STYLE_ELEMENT_TYPE,getApplyOperations:function(e,t){return[]}})}])}}),define("applications/DRWV/js/configuration/colortheme",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration","colorUtils",function(e,t,n,i,r,o,a){e.registerOverride({type:o.COLOR_THEME_ELEMENT_TYPE,getApplyOperations:function(t,n,a){if(!t)return[];var s=[];if(a){var l=e.getApplyOperations({type:o.COLOR_ELEMENT_TYPE},n);l.forEach(function(n){s.push({name:n.name,icon:n.icon,displayInMenu:n.displayInMenu,onClick:n.onClick,apply:function(){n.apply(a,function(n){var a=e.findRepresentation(t,i.getUsableTypes(o.COLOR_THEME_ELEMENT_TYPE));a&&r.reportApplyMetric(a,n)})}})})}return s}})}])}}),define("applications/DRWV/js/configuration/text",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","configuration",function(e,t){e.registerOverride({type:t.TEXT_ELEMENT_TYPE,getAddOperations:function(){return[]}})}])}}),define("applications/DRWV/js/configuration/textstyle",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration",function(e,t,n,i,r,o){e.registerOverride({type:o.CHARACTER_STYLE_ELEMENT_TYPE,getApplyOperations:function(e,t){return[]}})}])}}),define("applications/DRWV/js/configuration/main",["require","exports","./brush","./color","./image","./layerstyle","./look","./parastyle","./colortheme","./text","./textstyle"],function(e,t){"use strict";t.attach=function(t){e("./brush").attach(t),e("./color").attach(t),e("./image").attach(t),e("./layerstyle").attach(t),e("./look").attach(t),e("./parastyle").attach(t),e("./colortheme").attach(t),e("./text").attach(t),e("./textstyle").attach(t)}}),define("applications/ESHR/js/configuration/3d",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["$q","designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","designLibraryManager","configuration","$translate","documentWatcher","tempFileManager","adobeStockUtils",function(e,t,n,i,r,o,a,s,l,c,u,d){t.registerOverride({type:s.THREE_D_ELEMENT_TYPE,isDraggable:!0,getApplyOperations:function(e,n){var o=function(){var n=t.findRepresentation(e,r.getUsableTypes(s.THREE_D_ELEMENT_TYPE));if(n){var o=d.getStockId(e);return n.getContentPath().then(function(n){return i.execApp("placeAsset",[n,e.library.name,e.name,e.getReference(),t.getElementModifiedTime(e),e.created,o,o?d.isLicensed(e):null])})}};return[{name:"DL_ADD_GENERIC_TO_DOC",apply:o,displayInMenu:!0,onClick:!0}]}})}])}}),define("applications/ESHR/js/configuration/light",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["$q","designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","designLibraryManager","configuration","$translate","documentWatcher","tempFileManager","adobeStockUtils",function(e,t,n,i,r,o,a,s,l,c,u,d){t.registerOverride({type:s.LIGHT_ELEMENT_TYPE,isDraggable:!0,getApplyOperations:function(e,n){var o=function(){var n=t.findRepresentation(e,r.getUsableTypes(s.LIGHT_ELEMENT_TYPE));if(n){var o=d.getStockId(e);return n.getContentPath().then(function(n){return i.execApp("placeAsset",[n,e.library.name,e.name,e.getReference(),t.getElementModifiedTime(e),e.created,o,o?d.isLicensed(e):null])})}};return[{name:"DL_ADD_GENERIC_TO_DOC",apply:o,displayInMenu:!0,onClick:!0}]}})}])}}),define("applications/ESHR/js/configuration/material",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["$q","designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","designLibraryManager","configuration","$translate","documentWatcher","tempFileManager","adobeStockUtils",function(e,t,n,i,r,o,a,s,l,c,u,d){t.registerOverride({type:s.MATERIAL_ELEMENT_TYPE,isDraggable:!0,getApplyOperations:function(e,n){var o=function(){var n=t.findRepresentation(e,r.getUsableTypes(s.MATERIAL_ELEMENT_TYPE));if(n){var o=d.getStockId(e);return n.getContentPath().then(function(n){return i.execApp("placeAsset",[n,e.library.name,e.name,e.getReference(),t.getElementModifiedTime(e),e.created,o,o?d.isLicensed(e):null])})}};return[{name:"DL_ADD_GENERIC_TO_DOC",apply:o,displayInMenu:!0,onClick:!0}]}})}])}}),define("applications/ESHR/js/configuration/brush",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration",function(e,t,n,i,r,o){e.registerOverride({type:o.BRUSH_ELEMENT_TYPE,getApplyOperations:function(e,t){return[]}})}])}}),define("applications/ESHR/js/configuration/color",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration",function(e,t,n,i,r,o){e.registerOverride({type:o.COLOR_ELEMENT_TYPE,getApplyOperations:function(e,t){return[]}})}])}}),define("applications/ESHR/js/configuration/image",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["$q","designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","designLibraryManager","configuration","$translate","documentWatcher","tempFileManager","adobeStockUtils",function(e,t,n,i,r,o,a,s,l,c,u,d){t.registerOverride({type:s.IMAGE_ELEMENT_TYPE,isDraggable:!0,getApplyOperations:function(e,n){var o=function(){var n=t.findRepresentation(e,r.getUsableTypes(s.IMAGE_ELEMENT_TYPE));if(n){var o=d.getStockId(e);return n.getContentPath().then(function(n){return i.execApp("placeAsset",[n,e.library.name,e.name,e.getReference(),t.getElementModifiedTime(e),e.created,o,o?d.isLicensed(e):null])})}};return[{name:"DL_ADD_GENERIC_TO_DOC",apply:o,displayInMenu:!0,onClick:!0}]}})}])}}),define("applications/ESHR/js/configuration/layerstyle",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration","$translate",function(e,t,n,i,r,o,a){e.registerOverride({type:o.LAYER_STYLE_ELEMENT_TYPE,getApplyOperations:function(e,t){return[]}})}])}}),define("applications/ESHR/js/configuration/look",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration","$translate",function(e,t,n,i,r,o,a){e.registerOverride({type:o.LOOK_ELEMENT_TYPE,getApplyOperations:function(e,t){return[]}})}])}}),define("applications/ESHR/js/configuration/pattern",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration",function(e,t,n,i,r,o){e.registerOverride({type:o.PATTERN_ELEMENT_TYPE,getApplyOperations:function(e,t){return[]}})}])}}),define("applications/ESHR/js/configuration/template",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","configuration",function(e,t){e.registerOverride({type:t.TEMPLATE_ELEMENT_TYPE,getApplyOperations:function(e,t){return[]}})}])}}),define("applications/ESHR/js/configuration/parastyle",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration",function(e,t,n,i,r,o){e.registerOverride({type:o.PARAGRAPH_STYLE_ELEMENT_TYPE,getApplyOperations:function(e,t){return[]}})}])}}),define("applications/ESHR/js/configuration/textstyle",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration",function(e,t,n,i,r,o){e.registerOverride({type:o.CHARACTER_STYLE_ELEMENT_TYPE,getApplyOperations:function(e,t){return[]}})}])}}),define("applications/ESHR/js/configuration/text",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration",function(e,t,n,i,r,o){e.registerOverride({type:o.TEXT_ELEMENT_TYPE,getApplyOperations:function(e,t){return[]}})}])}}),define("applications/ESHR/js/configuration/animation",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["$q","designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","designLibraryManager","configuration","$translate","documentWatcher","tempFileManager",function(e,t,n,i,r,o,a,s,l,c,u){t.registerOverride({type:s.ANIMATION_ELEMENT_TYPE,getApplyOperations:function(e,t){return[]}})}])}}),define("applications/ESHR/js/configuration/main",["require","exports","./3d","./light","./material","./brush","./color","./image","./layerstyle","./look","./pattern","./template","./parastyle","./textstyle","./text","./animation"],function(e,t){"use strict";t.attach=function(t){e("./3d").attach(t),e("./light").attach(t),e("./material").attach(t),e("./brush").attach(t),e("./color").attach(t),e("./image").attach(t),e("./layerstyle").attach(t),e("./look").attach(t),e("./pattern").attach(t),e("./template").attach(t),e("./parastyle").attach(t),e("./textstyle").attach(t),e("./text").attach(t),e("./animation").attach(t)}}),define("applications/FLPR/js/configuration/brush",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["$q","designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","designLibraryElementUtils","designLibraryManager","configuration",function(e,t,n,i,r,o,a,s,l){t.registerOverride({type:l.BRUSH_ELEMENT_TYPE,getApplyOperations:function(e,a){var s=r.getUsableTypes(e.type),l=e.representations.filter(function(e){var n="rendition"===e.relationship,i=t.isRepresentationCompatible(e,s);return!n&&i}),c=n.getLayerInfo(),u=0===l.length||!c;if(!u){var d=function(){var t=l[0];if(t)return o.reportApplyMetric(t,"useBrush"),t.getContentPath().then(function(t){return i.execApp("loadAndSelectBrush",[a.name,e.name,t])})};return[{name:"DL_ADD_BRUSH_TO_DOC",icon:"brush",onClick:!0,allowMultiple:!0,apply:d,displayInMenu:!0}]}return[]},getAddOperations:function(t){var n=function(){var t,n=e.defer(),r=[],o=s.getDefaultLibrary(),l="";return i.execApp("uploadBrushes",[o.name]).then(function(i){var s=JSON.parse(i);for(t=0;t<s.files.length;++t)r.push(a.addBrushElement(s.files[t].name,s.files[t].primary,s.files[t].rendition,o,l));e.all(r).then(function(e){0<e.length&&a.revealElement(e[0]),n.resolve(e)},function(){n.reject("Could not upload some brushes.")})},function(){n.reject("Could not extract brushes.")}),n.promise};return[{name:"DL_ADD_BRUSH_TO_LIBRARY",order:3,iconToolTip:"DL_ADD_BRUSH_TO_LIBRARY_ICON_TOOLTIP",icon:"brush",apply:n,disabled:!t||!t.hasOwnProperty("enableBrushUpload")||!t.enableBrushUpload,displayIcon:!0}]}})}])}}),define("applications/FLPR/js/configuration/color",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","colorUtils","designLibraryUtils","configuration",function(e,t,n,i,r,o){e.registerOverride({type:o.COLOR_ELEMENT_TYPE,getApplyOperations:function(e,a){var s=function(t){return function(a,s){a||(a=[],e.representations.forEach(function(e){var t=e.getValue(o.COLOR_NAMESPACE,o.COLOR_DATA_KEY);"primary"===e.relationship?a.unshift(t):a.push(t)}),e.representations.length>0&&r.reportApplyMetric(e.representations[0],t)),angular.isFunction(s)&&s(t);var l=i.getRGBRepresentation(a);if(l){var c=i.colorDataToHexValue(l);return n.execApp(t,[c.toUpperCase()])}}},l=t.getLayerInfo();return!l||l&&!l.selectionExists?[]:[{name:"DL_SET_COLOR_TOOLTIP",icon:"paintbucket",apply:s("setColor"),displayInMenu:!0,onClick:!0}]}})}])}}),define("applications/FLPR/js/configuration/image",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["$q","designLibraryElements","layerSelectionManager","csInterface","fileUtils","lockUtils","designLibraryUtils","designLibraryElementUtils","designLibraryManager","designLibraryCEPEventHandlers","configuration","$translate","documentWatcher","tempFileManager","metrics",function(e,t,n,i,r,o,a,s,l,c,u,d,p,h,f){t.registerOverride({type:u.IMAGE_ELEMENT_TYPE,getApplyOperations:function(e,o){var s=function(n){var o=t.findRepresentation(e,r.getUsableTypes(u.IMAGE_ELEMENT_TYPE));return o?(a.reportApplyMetric(o,"placeAsset"),o.getContentPath().then(function(r){return i.execApp("placeAsset",[r,e.library.name,e.name,e.getReference(),t.getElementModifiedTime(e),e.created,n])})):e.getThumbnailPath().then(function(r){return a.reportApplyMetric({type:"image/png",_element:e},"placeAsset"),i.execApp("placeAsset",[r,e.library.name,e.name,e.getReference(),t.getElementModifiedTime(e),e.created,n])},function(e){console.log(e)})},l=n.getLayerInfo();return l?[{name:"DL_ADD_IMAGE_TO_DOC",icon:"download",allowMultiple:!0,apply:function(){s(!1)},displayInMenu:!0}]:[]},getAddOperations:function(e){return[]}})}])}}),define("applications/FLPR/js/configuration/layerstyle",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration","$translate",function(e,t,n,i,r,o,a){e.registerOverride({type:o.LAYER_STYLE_ELEMENT_TYPE,getApplyOperations:function(e,t){return[]},getAddOperations:function(){return[]}})}])}}),define("applications/FLPR/js/configuration/look",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration","$translate",function(e,t,n,i,r,o,a){e.registerOverride({type:o.LOOK_ELEMENT_TYPE,getApplyOperations:function(e,t){return[]},getAddOperations:function(){return[]}})}])}}),define("applications/FLPR/js/configuration/parastyle",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration",function(e,t,n,i,r,o){e.registerOverride({type:o.PARAGRAPH_STYLE_ELEMENT_TYPE,getApplyOperations:function(e,t){return[]},getAddOperations:function(){return[]}})}])}}),define("applications/FLPR/js/configuration/text",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","configuration",function(e,t){e.registerOverride({type:t.TEXT_ELEMENT_TYPE,getAddOperations:function(){return[]}})}])}}),define("applications/FLPR/js/configuration/textstyle",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration",function(e,t,n,i,r,o){e.registerOverride({type:o.CHARACTER_STYLE_ELEMENT_TYPE,getApplyOperations:function(e,t){return[]},getAddOperations:function(){return[]}})}])}}),define("applications/FLPR/js/configuration/video",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","configuration",function(e,t){e.registerOverride({type:t.VIDEO_ELEMENT_TYPE,isDraggable:!0,getApplyOperations:function(e,t){return[]}})}])}}),define("applications/FLPR/js/configuration/animation",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["$q","designLibraryElements","layerSelectionManager","csInterface","fileUtils","FLPRAnimationUtils","lockUtils","designLibraryUtils","designLibraryElementUtils","designLibraryManager","designLibraryCEPEventHandlers","configuration","$translate","documentWatcher","tempFileManager","metrics","designLibraryCEPEventEmitters",function(e,t,n,i,r,o,a,s,l,c,u,d,p,h,f,g,m){t.registerOverride({type:d.ANIMATION_ELEMENT_TYPE,getApplyOperations:function(e,o){var a=function(n){var o=t.findRepresentation(e,r.getUsableTypes(d.ANIMATION_ELEMENT_TYPE));return o?(s.reportApplyMetric(o,"placeAsset"),o.getContentPath().then(function(r){return i.execApp("placeAsset",[r,e.library.name,e.name,e.getReference(),t.getElementModifiedTime(e),e.created,n,JSON.stringify(e.getValues())])})):e.getThumbnailPath().then(function(r){return s.reportApplyMetric({type:"application/vnd.adobe.element.animation+dcx",_element:e},"placeAsset"),i.execApp("placeAsset",[r,e.library.name,e.name,e.getReference(),t.getElementModifiedTime(e),e.created,n])},function(e){console.log(e)})},l=n.getLayerInfo();if(!l)return[];var c="application/vnd.adobe.animate-xfl+zip",u="application/vnd.adobe.animate-sym+zip",p=e.getPrimaryRepresentation(),h=p&&p.type===u,f=p&&p.type===c;return h?[{name:"DL_ADD_ANIMATION_TO_DOC_AS_LINKED",icon:"download",allowMultiple:!0,apply:function(){a(!0)},displayInMenu:!0},{name:"DL_ADD_ANIMATION_TO_DOC_AS_COPY",icon:"download",allowMultiple:!0,apply:function(){a(!1)},displayInMenu:!0}]:f?[{name:"DL_OPEN_IN_NEW_DOCUMENT",icon:"download",allowMultiple:!0,apply:function(){a(!1)},displayInMenu:!0}]:[]},getAddOperations:function(t){var n=function(){var t=e.defer(),n="",r=c.getDefaultLibrary(),o="";return i.execApp("uploadCurrentDoc",[]).then(function(e){var i=JSON.parse(e),a={documentId:i.documentId,layerIds:i.layerIds,dragAssetId:n};t.resolve(l.addAnimationElement(i.layerName,i.files,i.rendition,r,o,a,i.elementData).then(function(e){l.revealElement(e)}))},function(){t.reject("Could not extract asset.")}),t.promise},r=function(t,n,i){var r=e.defer(),o=[];return i=i||"",s.generatePreview(!0,i).then(function(e){e.forEach(function(e){var r={documentId:e.documentId,layerIds:e.layerIds,dragAssetId:i},a=l.addAnimationElement(e.layerName,e.files,e.rendition,t,n,r,e.elementData);o.push(a)})},function(){r.reject("Could not extract asset.")}),e.all(o).then(function(e){r.resolve(e)},function(){r.reject("Could not upload files")}),r.promise};return[{name:"DL_ADD_ENTIRE_ANIMATION_TO_LIBRARY",order:1,icon:"animation",apply:n,disabled:!t||!t.hasOwnProperty("enableDocumentUpload")||!t.enableDocumentUpload,displayIcon:!0},{name:"DL_ADD_SYMBOL_TO_LIBRARY",order:2,icon:"animation",dropSupport:!0,apply:r,disabled:!t||!t.hasOwnProperty("enableAnimationUpload")||!t.enableAnimationUpload,displayIcon:!0}]},defaultEditOperation:function(e){return o.editElement(e)},getDragData:function(e){if(e){var n,i=t.getCommonDragData(e),r=t.findUsableRepresentation(e);return r?r.getContentPath(function(e,t){n=t}):e&&e.getThumbnailPath(void 0,function(t,i){n=i,r={type:"image/png",element:e}}),n?(i.data=[n],i.usedRepresentationForAnalytics=r,i.metaData=e.getValue("FLPR","assetInfo"),i):void 0}}})}])}}),define("applications/FLPR/js/configuration/main",["require","exports","./brush","./color","./image","./layerstyle","./look","./parastyle","./text","./textstyle","./video","./animation"],function(e,t){"use strict";t.attach=function(t){e("./brush").attach(t),e("./color").attach(t),e("./image").attach(t),e("./layerstyle").attach(t),e("./look").attach(t),e("./parastyle").attach(t),e("./text").attach(t),e("./textstyle").attach(t),e("./video").attach(t),e("./animation").attach(t)}}),define("applications/IDSN/js/configuration/color",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration",function(e,t,n,i,r,o){e.registerOverride({type:o.COLOR_ELEMENT_TYPE,getApplyOperations:function(e,i,a,s,l,c){var u=t.getLayerInfo(),d=1===s,p=s===l,h=function(t){return function(i,a){if(!i&&(i=[],e.representations.forEach(function(t){var n=t.getValue(o.COLOR_NAMESPACE,o.COLOR_DATA_KEY);void 0!==e.name&&(n.name=e.name),"primary"===t.relationship?i.unshift(n):i.push(n)}),e.representations.length>0&&(r.reportApplyMetric(e.representations[0],t),"addColor"===t&&p===!0))){var s="addElement",c={opType:"addColor",elementType:"color",numElements:l};o.currentProduct.reportEvent(s,c)}return angular.isFunction(a)&&a(t),n.execApp(t,[i,d,p])}};if(!u||!u.selectionExists&&!u.textSelectionExists&&!u.insertionPointExists)return[{name:"DL_ID_ADD_COLORS_TOOLTIP",icon:"paintbucket",allowMultiple:!0,apply:h("addColor"),displayInMenu:!0}];var f=l>1;return[{name:"DL_SET_COLOR_TOOLTIP",icon:"paintbucket",apply:h("setColor"),displayInMenu:!0,onClick:!0},{name:"DL_ID_ADD_COLORS_TOOLTIP",icon:"paintbucket",allowMultiple:!0,apply:h("addColor"),displayInMenu:f}]},defaultEditOperation:function(t){if(!o.IS_APP_IN_TOUCH_MODE){var r,a=e.findRepresentation(t,i.getUsableTypes(o.COLOR_ELEMENT_TYPE));a&&(r=a.getValue(o.COLOR_NAMESPACE,o.COLOR_DATA_KEY));var s;return n.execApp("replaceColor",[r]).then(function(e){return s=JSON.parse(e),n.execApp("getLayerColor",[])}).then(function(e){if(s){var n=JSON.parse(e);t.beginOperation(),t.removeAllRepresentations(),n.forEach(function(e,n){var i=0===n?"primary":"rendition",r=t.createRepresentation(o.COLOR_REPRESENTATION_TYPE,i);r.setValue(o.COLOR_NAMESPACE,o.COLOR_DATA_KEY,e)}),t.endOperation()}})}}})}])}}),define("applications/IDSN/js/configuration/image",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["$q","designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","idsnGraphicUtils","configuration","$translate","documentWatcher","designLibraryManager","tempFileManager","adobeStockUtils","designLibraryElementUtils","designLibraryCEPEventHandlers","designLibraryCEPEventEmitters","lockUtils","metrics",function(e,t,n,i,r,o,a,s,l,c,u,d,p,h,f,g,m,v){t.registerOverride({type:s.IMAGE_ELEMENT_TYPE,getApplyOperations:function(e,t,n,i,r,o){return a.getApplyOperations(e,t,n,i,r,o)},defaultEditOperation:function(n){if(s.IS_APP_IN_TOUCH_MODE!==!0){if(!t.isElementEditable(n))return!1;v.reportPanelEvent("editElement",{libraryID:n.library&&n.library.id,elementID:n.id,elementType:"image"});var a,_=n.getPrimaryRepresentation(),y=!1,E=!1,b="documentLock_"+n.id,T=n.library&&n.library.name;d.createTempFile(n,_).then(function(e){return a=e,i.execApp("openAssetForEdit",[e,"image",n.getReference()])}).then(function(v){var _=a.lastIndexOf("."),S=a.substring(0,_),L=c.startListening(v,S,function(v){if("closed"===v)m.obtainLock(b,function(){c.stopListening(L),y=!0,E===!1&&(d.deleteTempFile(n,a),r.deleteFile(S)),f.elementEditCompleted(n),m.releaseLock(b)});else if("saved"===v){if(!o.checkFileSize(a))return;E=!0;var _=a.lastIndexOf("."),A=a.substring(0,_),C=A+".pdf",w=A+".png";if(!r.existsFile(a)||!r.existsFile(C))return void(E=!1);var x,O=n.library,D=!O||O.isDeletedLocally;if(D||!O.isWritable){if(O=u.getRecoveryLibrary(T),!O)return;x=!0}m.obtainLock(b,function(){var o=p.getStockDataForElement(n);n.isDeletedLocally||x?n=O.createElement(n.name,n.type):(n.beginOperation(),n.removeAllRepresentations());var c=[],u=r.fileNameToContentType(a,n.type),f=n.createRepresentation(u,"primary");o&&p.setStockData(f,o),c.push(f.setContentFromPath(a)),u=r.fileNameToContentType(C,n.type);var v=n.createRepresentation(u,"rendition");if(c.push(v.setContentFromPath(C)),w&&r.existsFile(w)){var _=t.setRendition(n,s.IMAGE_RENDITION_SIZE,w);c.push(_)}var S=function(){g.sendElementUpdated(f),y?d.deleteTempFile(n,a):d.updateTempFile(n,f,a),E=!1,n.endOperation(),m.releaseLock(b),x&&(h.revealElement(n),D?i.showError(l.instant("DL_WARNING_RECOVERED_FROM_DELETED",{recoveryLibraryName:O.name})):i.showError(l.instant("DL_WARNING_RECOVERED_FROM_READONLY",{recoveryLibraryName:O.name,originalLibraryName:T})))};e.all(c).then(S,S)})}})})}}})}])}}),define("applications/IDSN/js/configuration/textstyle",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["$q","designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration",function(e,t,n,i,r,o,a){var s="application/vnd.adobe.characterstyle+json",l="application/vnd.adobe.characterstyle+snippet",c="characterstyle",u="data";t.registerOverride({type:a.CHARACTER_STYLE_ELEMENT_TYPE,getApplyOperations:function(e,d,p,h,f,g){var m=n.getLayerInfo(),v=function(e,t,n){e.type="charstyle",e.name=t,e.id=n},_=1===h,y=h===f,E=function(n){var d=t.findRepresentation(e,r.getUsableTypes(a.CHARACTER_STYLE_ELEMENT_TYPE));if(d){o.reportApplyMetric(d,n);var p,h,f=t.getDisplayText(e),g=e.id+";"+e.modified;return d.type===s?(h=d.getValue(c,u),v(h,f,g),p=i.execApp(n,[h,_,y])):d.type===l&&(p=d.getContentPath().then(function(r){h={},v(h,f,g),h.idmsPath=r;var o=t.findRepresentation(e,s),a=o.getValue(c,u);return h.adbeFont=a.adbeFont,h.fontFamily=a.fontFamily,i.execApp(n,[h,_,y])})),p}},b=function(){return E("setFont")},T=function(){if(y===!0){var e="addElement",t={opType:"addTextStyle",elementType:"characterstyle",numElements:f};a.currentProduct.reportEvent(e,t)}return E("addTextStyle")},S=[];return m?(m&&"LayerKind.TEXT"===m.kind&&S.push({name:"DL_SET_TEXT_STYLE_TOOLTIP",icon:"text",onClick:!0,apply:b,displayInMenu:!0}),S.push({name:"DL_ADD_AS_TEXT_STYLE_TOOLTIP",icon:"pastetext",allowMultiple:!0,apply:T,displayInMenu:!0}),S):[]},getAddOperations:function(t){var d=function(t,d){function p(n){n&&"LayerKind.TEXT"===n.kind&&i.execApp("getCharStyleInfo").then(function(n){var i,p,f=JSON.parse(n),g=o.createElementExtraMetrics(t,f.styleName,a.CHARACTER_STYLE_ELEMENT_TYPE,{opType:d}),m=[];if(f.idmsPath){var v=g.createRepresentation(l,"primary");p=v.setContentFromPath(f.idmsPath).then(function(){r.deleteFile(f.idmsPath)}),m.push(p),i=g.createRepresentation(s,"rendition"),i.setValue(c,u,f.styleInfo)}else i=g.createRepresentation(s,"primary"),i.setValue(c,u,f.styleInfo);if(f.previewPath){var _=g.createRepresentation("image/png","rendition");p=_.setContentFromPath(f.previewPath),m.push(p)}e.all(m).then(function(){f.previewPath&&g.setThumbnailCache(a.CHARACTER_STYLE_RENDITION_SIZE,f.previewPath,function(){r.deleteFile(f.previewPath)}),g.endOperation()}),h.resolve(g)})}var h=e.defer();return n.requestUpdate(),n.addListener("layerSelectionChanged",p,!0),h.promise};return[{name:"DL_ADD_TEXT_STYLE_NAME",order:2,icon:"newcharacterstyle",apply:d,disabled:!t||!t.text||t.isAppliedCharStyleSupported===!1,displayIcon:!0}]}})}])}}),define("applications/IDSN/js/configuration/parastyle",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration",function(e,t,n,i,r,o){var a="application/vnd.adobe.paragraphstyle+json",s="application/vnd.adobe.paragraphstyle+snippet",l="paragraphstyle",c="data";e.registerOverride({type:o.PARAGRAPH_STYLE_ELEMENT_TYPE,getApplyOperations:function(u,d,p,h,f,g){var m=t.getLayerInfo(),v=1===h,_=h===f,y=function(e,t,n){e.type="parastyle",e.name=t,e.id=n},E=function(t){var d=e.findRepresentation(u,i.getUsableTypes(o.PARAGRAPH_STYLE_ELEMENT_TYPE));if(d){r.reportApplyMetric(d,t);var p,h,f=e.getDisplayText(u),g=u.id+";"+u.modified;return d.type===a?(h=d.getValue(l,c),y(h,f,g),p=n.execApp(t,[h,v,_])):d.type===s&&(p=d.getContentPath().then(function(i){h={},y(h,f,g),h.idmsPath=i;var r=e.findRepresentation(u,a),o=r.getValue(l,c);return h.adbeFont=o.adbeFont,h.fontFamily=o.fontFamily,n.execApp(t,[h,v,_])})),p}},b=function(){return E("setFont")},T=function(){if(_===!0){var e="addElement",t={opType:"addTextStyle",elementType:"paragraphstyle",numElements:f};o.currentProduct.reportEvent(e,t)}return E("addTextStyle")},S=[];return m?(m&&"LayerKind.TEXT"===m.kind&&S.push({
name:"DL_SET_PARA_STYLE_TOOLTIP",icon:"text",onClick:!0,apply:b,displayInMenu:!0}),S.push({name:"DL_ADD_AS_PARA_STYLE_TOOLTIP",icon:"pastetext",allowMultiple:!0,apply:T,displayInMenu:!0}),S):[]}})}])}}),define("applications/IDSN/js/configuration/layerstyle",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration","$translate",function(e,t,n,i,r,o,a){e.registerOverride({type:o.LAYER_STYLE_ELEMENT_TYPE,getApplyOperations:function(e,t){return[]}})}])}}),define("applications/IDSN/js/configuration/brush",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration","$translate",function(e,t,n,i,r,o,a){e.registerOverride({type:o.BRUSH_ELEMENT_TYPE,getApplyOperations:function(e,t){var i=function(){a("DL_ERROR_BRUSH_NOT_SUPPORTED_ID").then(function(e){n.showError(e)})};return[{name:"DL_ADD_BRUSH_TO_DOC",icon:"brush",onClick:!0,apply:i,displayInMenu:!0}]}})}])}}),define("applications/IDSN/js/configuration/colortheme",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","designLibraryUtils","fileUtils","configuration","csInterface",function(e,t,n,i,r){e.registerOverride({type:i.COLOR_THEME_ELEMENT_TYPE,getApplyOperations:function(o,a,s,l,c,u){if(!o)return[];var d=1===l,p=l===c,h="data",f="colortheme",g=function(){var a=e.findRepresentation(o,n.getUsableTypes(i.COLOR_THEME_ELEMENT_TYPE)),s=a.getValue(f,h);if(s.name=o.name,t.reportApplyMetric(a,"createColorGroup"),p===!0){var l="addElement",u={opType:"createColorGroup",elementType:"colortheme",numElements:c};i.currentProduct.reportEvent(l,u)}return r.execApp("createColorGroup",[s,d,p])},m=[];if(s){var v=e.getApplyOperations({type:i.COLOR_ELEMENT_TYPE},a);v.forEach(function(r){m.push({name:r.name,icon:r.icon,displayInMenu:r.displayInMenu,onClick:r.onClick,apply:function(){r.apply(s,function(r){var a=e.findRepresentation(o,n.getUsableTypes(i.COLOR_THEME_ELEMENT_TYPE));a&&t.reportApplyMetric(a,r)})}})})}return m.push({name:"DL_ID_ADD_COLORTHEME_TOOLTIP",icon:"paintbucket",apply:g,displayInMenu:!0,allowMultiple:!0}),m}})}])}}),define("applications/IDSN/js/configuration/template",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["$translate","designLibraryElements","csInterface","fileUtils","designLibraryUtils","adobeStockUtils","configuration",function(e,t,n,i,r,o,a){t.registerOverride({type:a.TEMPLATE_ELEMENT_TYPE,getApplyOperations:function(a,s){var l,c=i.getUsableTypes(a.type),u=a.representations.filter(function(e){var n="rendition"===e.relationship,i=t.isRepresentationCompatible(e,c);return!n&&i}),d=0===u.length;if(d&&t.isRepresentationCompatible(a.getPrimaryRepresentation(),c,!0)&&(l=o.getStockTemplateUseError(a)),!d||l){var p=function(){if(l)return n.showError(e.instant(l));var t=u[0];return t?(r.reportApplyMetric(t,"useTemplate"),t.getContentPath().then(function(e){return n.execApp("openDocumentFromTemplate",[e,a.name])})):void 0};return[{name:"DL_OPEN_DOC_FROM_TEMPLATE",icon:"template",onDoubleClick:!0,apply:p,displayInMenu:!0}]}return[]}})}])}}),define("applications/IDSN/js/configuration/text",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["$q","designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration","metrics","tempFileManager","designLibraryCEPEventHandlers","designLibraryCEPEventEmitters","lockUtils","documentWatcher","designLibraryManager","designLibraryElementUtils","$translate",function(e,t,n,i,r,o,a,s,l,c,u,d,p,h,f,g){t.registerOverride({type:a.TEXT_ELEMENT_TYPE,getApplyOperations:function(e,s,l,c,u,d){var p=n.getLayerInfo(),h=1===c,f=c===u,g=function(n,s,l){var c=t.findRepresentation(e,r.getUsableTypes(a.TEXT_ELEMENT_TYPE));if(c){l?o.reportApplyMetric(c,"InlineText"):n&&s?o.reportApplyMetric(c,"LinkedTextWithStyles"):s?o.reportApplyMetric(c,"TextWithStyles"):o.reportApplyMetric(c,"TextWithoutStyles");var u,d,p=e.id+";"+e.modified;return c.type===a.TEXT_REPRESENTATION_JSON_TYPE?(d=c.getValue(a.TEXT_NAMESPACE,a.TEXT_DATA_KEY),d.id=p,d.type="text",u=i.execApp("placeText",[d,e.getReference(),n,s,l,h,f])):c.type===a.TEXT_REPRESENTATION_ID_SNIPPET_TYPE&&(u=c.getContentPath().then(function(r){d={},d.id=p,d.type="text",d.idmsPath=r,d.fonts=[];var o,c,u,g=t.findRepresentation(e,a.TEXT_REPRESENTATION_JSON_TYPE),m=g.getValue(a.TEXT_NAMESPACE,a.TEXT_DATA_KEY),v=m.styles;for(o in v)v.hasOwnProperty(o)&&(c=v[o],c.value.adbeFont&&(u=d.fonts.push({})-1,d.fonts[u].adbeFont=c.value.adbeFont,d.fonts[u].fontFamily=c.value.fontFamily));return i.execApp("placeText",[d,e.getReference(),n,s,l,h,f])})),u}},m=function(){return g(!0,!0,!1)},v=function(){return g(!1,!0,!1)},_=function(){return g(!1,!1,!1)},y=function(){return g(!1,!0,!0)},E=[];if(!p)return[];if(p)if(p.canBringTextInline===!0)E.push({name:"DL_ADD_TEXT_INLINE_ID",icon:"text",onClick:!1,apply:y,displayInMenu:!0});else if(!p.noDocState){var b="DL_ADD_TEXT_UNLINKED_ID_MAC";i.isWindowsOS()&&(b="DL_ADD_TEXT_UNLINKED_ID_WIN"),E.push({name:"DL_ADD_TEXT_LINKED_ID",icon:"text",onClick:!1,apply:m,displayInMenu:!0,allowMultiple:!0}),E.push({name:b,icon:"text",onClick:!1,apply:v,displayInMenu:!0,allowMultiple:!0}),E.push({name:"DL_ADD_TEXT_UNLINKED_NOSTYLES",icon:"text",onClick:!1,apply:_,displayInMenu:!0,allowMultiple:!0})}return E},defaultEditOperation:function(n){if(a.IS_APP_IN_TOUCH_MODE!==!0){if(!t.isElementEditable(n))return!1;s.reportPanelEvent("editElement",{libraryID:n.library&&n.library.id,elementID:n.id,elementType:"text"});var m,v=n.getPrimaryRepresentation(),_=!1,y=!1,E="documentLock_"+n.id,b=n.library&&n.library.name;l.createTempFile(n,v).then(function(e){m=e;var r,o,s,l=[],c=t.findRepresentation(n,a.TEXT_REPRESENTATION_JSON_TYPE),u=c.getValue(a.TEXT_NAMESPACE,a.TEXT_DATA_KEY),d=u.styles;for(r in d)d.hasOwnProperty(r)&&(o=d[r],o.value.adbeFont&&(s=l.push({})-1,l[s].adbeFont=o.value.adbeFont,l[s].fontFamily=o.value.fontFamily));return i.execApp("openAssetForEdit",[e,"text",n.getReference(),l])}).then(function(s){var v=m.lastIndexOf("."),T=m.substring(0,v),S=p.startListening(s,T,function(s){if("closed"===s)d.obtainLock(E,function(){p.stopListening(S),_=!0,y===!1&&(l.deleteTempFile(n,m),r.deleteFile(T)),c.elementEditCompleted(n),d.releaseLock(E)});else if("saved"===s){if(!o.checkFileSize(m))return;y=!0;var v=m.lastIndexOf("."),L=m.substring(0,v),A=L+".png";if(!r.existsFile(m)||!r.existsFile(A))return void(y=!1);var C,w=n.library,x=!w||w.isDeletedLocally;if(x||!w.isWritable){if(w=h.getRecoveryLibrary(b),!w)return;C=!0}d.obtainLock(E,function(){n.isDeletedLocally||C?n=w.createElement(n.name,n.type):(n.beginOperation(),n.removeAllRepresentations());var o,s,c,p=[];r.existsFile(T)?(s="getTextInfoFromDocument",c=T):(s="getTextInfoFromSnippet",c=m);var h=i.execApp(s,[c]).then(function(s){var c=r.fileNameToContentType(m,n.type);o=n.createRepresentation(c,"primary"),p.push(o.setContentFromPath(m));var h=JSON.parse(s),v=n.createRepresentation(a.TEXT_REPRESENTATION_JSON_TYPE,"rendition");if(v.setValue(a.TEXT_NAMESPACE,a.TEXT_DATA_KEY,h.textInfo),A&&r.existsFile(A)){var T=t.setRendition(n,a.IMAGE_RENDITION_SIZE,A);p.push(T)}var S=function(){u.sendElementUpdated(o),_?l.deleteTempFile(n,m):l.updateTempFile(n,o,m),y=!1,n.endOperation(),d.releaseLock(E),C&&(f.revealElement(n),x?i.showError(g.instant("DL_WARNING_RECOVERED_FROM_DELETED",{recoveryLibraryName:w.name})):i.showError(g.instant("DL_WARNING_RECOVERED_FROM_READONLY",{recoveryLibraryName:w.name,originalLibraryName:b})))};e.all(p).then(S,S)});p.push(h)})}})})}},getDragData:function(e){if(e){var n=t.getCommonDragData(e),i=t.findUsableRepresentation(e);if(i){if(i.type===a.TEXT_REPRESENTATION_ID_SNIPPET_TYPE){n.fonts=[];var r,o,s,l=t.findRepresentation(e,a.TEXT_REPRESENTATION_JSON_TYPE),c=l.getValue(a.TEXT_NAMESPACE,a.TEXT_DATA_KEY),u=c.styles;for(r in u)u.hasOwnProperty(r)&&(o=u[r],o.value.adbeFont&&(s=n.fonts.push({})-1,n.fonts[s].adbeFont=o.value.adbeFont,n.fonts[s].fontFamily=o.value.fontFamily))}return n}}}})}])}}),define("applications/IDSN/js/configuration/animation",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["$q","designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","idsnGraphicUtils","configuration","$translate","documentWatcher","designLibraryManager","tempFileManager","adobeStockUtils","designLibraryElementUtils","designLibraryCEPEventHandlers","designLibraryCEPEventEmitters","lockUtils","metrics",function(e,t,n,i,r,o,a,s,l,c,u,d,p,h,f,g,m,v){t.registerOverride({type:s.ANIMATION_ELEMENT_TYPE,getApplyOperations:function(e,t,n,i,r,o){return a.getApplyOperations(e,t,n,i,r,o)},defaultEditOperation:function(e){return!1}})}])}}),define("applications/IDSN/js/configuration/main",["require","exports","./color","./image","./textstyle","./parastyle","./layerstyle","./brush","./colortheme","./template","./text","./animation"],function(e,t){"use strict";t.attach=function(t){e("./color").attach(t),e("./image").attach(t),e("./textstyle").attach(t),e("./parastyle").attach(t),e("./layerstyle").attach(t),e("./brush").attach(t),e("./colortheme").attach(t),e("./template").attach(t),e("./text").attach(t),e("./animation").attach(t)}}),define("applications/ILST/js/configuration/color",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration","ILSTUtils","ILSTEvents",function(e,t,n,i,r,o,a,s){e.registerOverride({type:o.COLOR_ELEMENT_TYPE,getApplyOperations:function(i,l){var c=function(t){return function(l,c){return l||(l=[],i.representations.forEach(function(t){var n=t.getValue(o.COLOR_NAMESPACE,o.COLOR_DATA_KEY),r=e.getDisplayText(i);n.name=r,"primary"===t.relationship?l.unshift(n):l.push(n)}),i.representations.length>0&&(a.logPIPEvent(a.PIPGlobals.DLtoAI,a.PIPGlobals.Color,a.PIPGlobals.Added),r.reportApplyMetric(i.representations[0],t))),angular.isFunction(c)&&c(t),n.execApp(t,[l]).then(function(e){"true"===e&&s.alertSpotMismatch()})}},u=t.getLayerInfo();return u?u.selectionExists||u.textSelectionExists||u.insertionPointExists?[{name:"DL_SET_COLOR_TOOLTIP",icon:"paintbucket",apply:c("setColor"),displayInMenu:!0,onClick:!0},{name:"DL_ID_ADD_COLORS_TOOLTIP",icon:"paintbucket",allowMultiple:!0,apply:c("addColor"),displayInMenu:!0}]:[{name:"DL_ID_ADD_COLORS_TOOLTIP",icon:"paintbucket",allowMultiple:!0,apply:c("addColor"),displayInMenu:!0}]:[]},defaultEditOperation:function(t){var r,a=e.findRepresentation(t,i.getUsableTypes(o.COLOR_ELEMENT_TYPE));a&&(r=a.getValue(o.COLOR_NAMESPACE,o.COLOR_DATA_KEY));var s;return n.execApp("replaceColor",[r]).then(function(e){return s=JSON.parse(e),n.execApp("getLayerColor",[])}).then(function(e){if(s){var n=JSON.parse(e);t.beginOperation(),t.removeAllRepresentations(),n.forEach(function(e,n){var i=0===n?"primary":"rendition",r=t.createRepresentation(o.COLOR_REPRESENTATION_TYPE,i);r.setValue(o.COLOR_NAMESPACE,o.COLOR_DATA_KEY,e)}),t.endOperation()}})}})}])}}),define("applications/ILST/js/configuration/image",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["$q","designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","designLibraryManager","configuration","$translate","documentWatcher","tempFileManager","adobeStockUtils","designLibraryElementUtils","designLibraryCEPEventHandlers","designLibraryCEPEventEmitters","lockUtils","metrics",function(e,t,n,i,r,o,a,s,l,c,u,d,p,h,f,g,m){t.registerOverride({type:s.IMAGE_ELEMENT_TYPE,getApplyOperations:function(e,a){var l=function(n){var a=d.getStockId(e),l=t.findRepresentation(e,r.getUsableTypes(s.IMAGE_ELEMENT_TYPE));return l?(o.reportApplyMetric(l,"placeAsset",n),l.getContentPath().then(function(r){return i.execApp("placeAsset",[r,e.library.name,e.name,e.getReference(),t.getElementModifiedTime(e),e.created,a,a?d.isLicensed(e):null,n])})):e.getThumbnailPath().then(function(r){return o.reportApplyMetric({type:"image/png",_element:e},"placeAsset",n),i.execApp("placeAsset",[r,e.library.name,e.name,e.getReference(),t.getElementModifiedTime(e),e.created,a,a?d.isLicensed(e):null,n])},function(e){console.log(e)})},c=n.getLayerInfo();return c?[{name:"DL_ADD_IMAGE_TO_DOC_AS_LINKED",icon:"download",apply:function(){l(!0)},displayInMenu:!0},{name:"DL_ADD_IMAGE_TO_DOC_AS_COPY",icon:"download",apply:function(){l(!1)},displayInMenu:!0}]:[]},defaultEditOperation:function(n){if(!t.isElementEditable(n))return!1;m.reportPanelEvent("editElement",{libraryID:n.library&&n.library.id,elementID:n.id,elementType:"image"});var v,_,y=n.getPrimaryRepresentation(),E=!1,b=!1,T="documentLock_"+n.id,S=n.library&&n.library.name;u.createTempFile(n,y).then(function(e){return v=e,_=r.getFileNameWithoutExtension(v)+".png",i.execApp("openAssetForEdit",[e,_,"Image"])}).then(function(m){var y=i.createEvent("com.adobe.illustrator.FitCurrentDocumentViewToActiveArtboard","APPLICATION");i.dispatchEvent(y);var L=c.startListening(m,v,function(m){if("closed"===m)g.obtainLock(T,function(){c.stopListening(L),E=!0,b===!1&&u.deleteTempFile(n,v),h.elementEditCompleted(n),g.releaseLock(T)});else if("saved"===m){if(!o.checkFileSize(v))return;b=!0;var y,A=n.library,C=!A||A.isDeletedLocally;if(C||!A.isWritable){if(A=a.getRecoveryLibrary(S),!A)return;y=!0}g.obtainLock(T,function(){var o=d.getStockDataForElement(n);n.isDeletedLocally||y?n=A.createElement(n.name,n.type):(n.beginOperation(),n.removeAllRepresentations());var a=r.fileNameToContentType(v,n.type),c=n.createRepresentation(a,"primary");o&&d.setStockData(c,o);var h=[];if(h.push(c.setContentFromPath(v)),_&&r.existsFile(_)){var m=t.setRendition(n,s.IMAGE_RENDITION_SIZE,_);h.push(m)}var L=function(){f.sendElementUpdated(c),E?u.deleteTempFile(n,v):u.updateTempFile(n,c,v),b=!1,n.endOperation(),g.releaseLock(T),y&&(p.revealElement(n),C?i.showError(l.instant("DL_WARNING_RECOVERED_FROM_DELETED",{recoveryLibraryName:A.name})):i.showError(l.instant("DL_WARNING_RECOVERED_FROM_READONLY",{recoveryLibraryName:A.name,originalLibraryName:S})))};e.all(h).then(L,L)})}})})}})}])}}),define("applications/ILST/js/configuration/textstyle",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["$q","$translate","designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration","ILSTUtils",function(e,t,n,i,r,o,a,s,l){var c="application/vnd.adobe.characterstyle+json",u="characterstyle",d="data";n.registerOverride({type:s.CHARACTER_STYLE_ELEMENT_TYPE,getApplyOperations:function(e,t,p,h,f,g){var m=i.getLayerInfo(),v=function(e,t,n){e.type="charstyle",e.name=t,e.id=n},_=function(t){var i=n.findRepresentation(e,o.getUsableTypes(s.CHARACTER_STYLE_ELEMENT_TYPE));if(i){a.reportApplyMetric(i,t);var l,p=n.getDisplayText(e),g=e.id+";"+e.modified,m=1===h,_=h===f;if(i.type===c){var y=i.getValue(u,d);v(y,p,g),l=r.execApp(t,[y,m,_])}return l}},y=function(){return l.logPIPEvent(l.PIPGlobals.DLtoAI,l.PIPGlobals.CharacterStyle,l.PIPGlobals.Applied),_("setFont")},E=function(){return l.logPIPEvent(l.PIPGlobals.DLtoAI,l.PIPGlobals.CharacterStyle,l.PIPGlobals.Added),_("createTextLayer")},b=[];return m?(m&&"LayerKind.TEXT"===m.kind&&b.push({name:"DL_SET_TEXT_STYLE_TOOLTIP",icon:"text",onClick:!0,apply:y,displayInMenu:!0}),b.push({name:"DL_ADD_AS_TEXT_STYLE_TOOLTIP",icon:"pastetext",apply:E,displayInMenu:!0,allowMultiple:!0}),b):[]},getAddOperations:function(n){var l=function(e){return!1},p=function(n,l){function p(i){i&&"LayerKind.TEXT"===i.kind&&r.execApp("getCharStyleInfo").then(function(i){function r(){p.previewPath&&m.setThumbnailCache(s.CHARACTER_STYLE_RENDITION_SIZE,p.previewPath,function(){o.deleteFile(p.previewPath)}),m.endOperation()}var p=JSON.parse(i);p.styleName||(p.styleName=t.instant("DL_TYPE_NEW_CHAR_STYLE"));var f,g,m=a.createElementExtraMetrics(n,p.styleName,s.CHARACTER_STYLE_ELEMENT_TYPE,{opType:l}),v=[];if(f=m.createRepresentation(c,"primary"),f.setValue(u,d,p.styleInfo),p.previewPath){var _=m.createRepresentation("image/png","rendition");g=_.setContentFromPath(p.previewPath),v.push(g)}e.all(v).then(r,r),h.resolve(m)})}var h=e.defer();return i.requestUpdate(),i.addListener("layerSelectionChanged",p,!0),h.promise};return[{name:"DL_ADD_TEXT_STYLE_NAME",order:2,icon:"newcharacterstyle",apply:p,checkDuplicates:l,disabled:!n||!n.text||n.isAppliedCharStyleSupported===!1,displayIcon:!0}]}})}])}}),define("applications/ILST/js/configuration/layerstyle",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration","$translate",function(e,t,n,i,r,o,a){e.registerOverride({type:o.LAYER_STYLE_ELEMENT_TYPE,getApplyOperations:function(e,t){return[]}})}])}}),define("applications/ILST/js/configuration/brush",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration",function(e,t,n,i,r,o){e.registerOverride({type:o.BRUSH_ELEMENT_TYPE,getApplyOperations:function(o,a){var s=i.getUsableTypes(o.type),l=o.representations.filter(function(t){var n="rendition"===t.relationship,i=e.isRepresentationCompatible(t,s);return!n&&i}),c=t.getLayerInfo(),u=0===l.length||!c;if(!u){var d=function(){var e=l[0];if(e)return r.reportApplyMetric(e,"useBrush"),e.getContentPath().then(function(e){return n.execApp("loadAndSelectBrush",[e,o.name])})};return[{name:"DL_ADD_BRUSH_TO_DOC",icon:"brush",onClick:!0,apply:d,displayInMenu:!0}]}return[]}})}])}}),define("applications/ILST/js/configuration/parastyle",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration","ILSTUtils",function(e,t,n,i,r,o,a){var s="application/vnd.adobe.paragraphstyle+json",l="paragraphstyle",c="data";e.registerOverride({type:o.PARAGRAPH_STYLE_ELEMENT_TYPE,getApplyOperations:function(u,d,p,h,f,g){var m=t.getLayerInfo(),v=function(e,t,n){e.type="parastyle",e.name=t,e.id=n},_=1===h,y=h===f,E=function(t){var a=e.findRepresentation(u,i.getUsableTypes(o.PARAGRAPH_STYLE_ELEMENT_TYPE));if(r.reportApplyMetric(a,t),a){var d,p=e.getDisplayText(u),h=u.id+";"+u.modified;if(a.type===s){var f=a.getValue(l,c);v(f,p,h),d=n.execApp(t,[f,_,y])}return d}},b=function(){return a.logPIPEvent(a.PIPGlobals.DLtoAI,a.PIPGlobals.ParagraphStyle,a.PIPGlobals.Applied),E("setFont")},T=function(){return a.logPIPEvent(a.PIPGlobals.DLtoAI,a.PIPGlobals.ParagraphStyle,a.PIPGlobals.Added),E("createTextLayer")},S=[];return m?(m&&"LayerKind.TEXT"===m.kind&&S.push({name:"DL_SET_PARA_STYLE_TOOLTIP",icon:"text",onClick:!0,apply:b,displayInMenu:!0}),S.push({name:"DL_ADD_AS_PARA_STYLE_TOOLTIP",icon:"pastetext",apply:T,displayInMenu:!0,allowMultiple:!0}),S):[]}})}])}}),define("applications/ILST/js/configuration/colortheme",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","designLibraryUtils","fileUtils","configuration","$translate","$q","csInterface","ILSTUtils","layerSelectionManager",function(e,t,n,i,r,o,a,s,l){e.registerOverride({type:i.COLOR_THEME_ELEMENT_TYPE,order:14,getApplyOperations:function(r,c,u){var d=[],p=function(){var e,t=o.defer();return r.representations.forEach(function(t){var n="data",i="colortheme",r=t.getValue(i,n);"primary"===t.relationship&&(e=r)}),a.execApp("addSwatchGroup",[e,r.name]).then(function(e){"undefined"===e&&(t.resolve(),s.logPIPEvent(s.PIPGlobals.DLtoAI,s.PIPGlobals.SwatchGroups,s.PIPGlobals.Added))}),t.promise},h=function(){if(!r||!u)return[];var o=[],a=e.getApplyOperations({type:"application/vnd.adobe.element.color+dcx"},c);return a.forEach(function(a){o.push({name:a.name,icon:a.icon,displayInMenu:a.displayInMenu,onClick:a.onClick,apply:function(){a.apply(u,function(o){var a=e.findRepresentation(r,n.getUsableTypes(i.COLOR_THEME_ELEMENT_TYPE));a&&t.reportApplyMetric(a,o)})}})}),o};d.push(h());var f=l.getLayerInfo();return f&&d.push({name:"DL_ADD_COLORTHEME_TO_SWATCHES",icon:"download",displayInMenu:!0,allowMultiple:!0,apply:function(){p().then(function(){var o=e.findRepresentation(r,n.getUsableTypes(i.COLOR_THEME_ELEMENT_TYPE));o&&t.reportApplyMetric(o,"AddColorTheme")})}}),d}})}])}}),define("applications/ILST/js/configuration/pattern",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["$q","designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","designLibraryManager","configuration","$translate","documentWatcher","tempFileManager","adobeStockUtils","designLibraryElementUtils","designLibraryCEPEventHandlers","designLibraryCEPEventEmitters","lockUtils","metrics",function(e,t,n,i,r,o,a,s,l,c,u,d,p,h,f,g,m){t.registerOverride({type:s.PATTERN_ELEMENT_TYPE,isDraggable:!0,dragType:"image",allowDragWithoutUsableRepresentation:!0,getApplyOperations:function(e,r){var a=function(){var n=t.findUsableRepresentation(e);return n?(o.reportApplyMetric(n,"applyPattern"),n.getContentPath().then(function(t){var n=i.createEvent("ILST.patternApplied","APPLICATION");return n.data={path:t,name:e.name},i.dispatchEvent(n)})):e.getThumbnailPath().then(function(t){o.reportApplyMetric({type:"image/png",_element:e},"applyPattern");var n=i.createEvent("ILST.patternApplied","APPLICATION");return n.data={path:t,name:e.name},i.dispatchEvent(n)},function(e){console.log(e)})},s=function(n){var r=d.getStockId(e),a=t.findUsableRepresentation(e);return a?(o.reportApplyMetric(a,"placeAsset",n),a.getContentPath().then(function(o){return i.execApp("placeAsset",[o,e.library.name,e.name,e.getReference(),t.getElementModifiedTime(e),e.created,r,r?d.isLicensed(e):null,n])})):e.getThumbnailPath().then(function(a){return o.reportApplyMetric({type:"image/png",_element:e},"placeAsset",n),i.execApp("placeAsset",[a,e.library.name,e.name,e.getReference(),t.getElementModifiedTime(e),e.created,r,r?d.isLicensed(e):null,n])},function(e){console.log(e)})},l=n.getLayerInfo();return l?[{name:"DL_APPLY_PATTERN",icon:"paintbucket",apply:a,displayInMenu:!0,onClick:!0},{name:"DL_ADD_PATTERN_TO_DOC_AS_IMAGE_AS_COPY",icon:"download",apply:function(){s(!1)},displayInMenu:!0}]:[]},getDragData:function(e){if(e){var n,i=t.getCommonDragData(e),r=t.findUsableRepresentation(e);return r&&r.getContentPath(function(e,t){n=t}),n?(i.data=[n],i.placeType="unlinked",i.usedRepresentationForAnalytics=r,i):void 0}}})}])}}),define("applications/ILST/js/configuration/text",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["$q","designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration","metrics","tempFileManager","designLibraryCEPEventHandlers","designLibraryCEPEventEmitters","lockUtils","documentWatcher","designLibraryManager","designLibraryElementUtils","$translate",function(e,t,n,i,r,o,a,s,l,c,u,d,p,h,f,g){var m="application/illustrator-text";t.registerOverride({type:a.TEXT_ELEMENT_TYPE,getApplyOperations:function(e,s,l,c,u,d){var p=n.getLayerInfo(),h=function(n,s,l){var c=function(e){var t=i.createEvent("ILST.textFileCreated","APPLICATION"),n={};e&&(n.stripStyle=s,n.placeInline=l,n.path=e,n.usingContextMenu=!0),t.data=JSON.stringify(n),i.dispatchEvent(t)},u=t.findRepresentation(e,r.getUsableTypes(a.TEXT_ELEMENT_TYPE));if(u){o.reportApplyMetric(u,n);var d,p,h=e.id+";"+e.modified;return u.type===a.TEXT_REPRESENTATION_JSON_TYPE?(p=u.getValue(a.TEXT_NAMESPACE,a.TEXT_DATA_KEY),p.id=h,p.type="text",d=i.execApp(n,[p]).then(function(e){c(e)})):u.type===m&&(d=u.getContentPath().then(function(e){c(e)})),d}},f=function(){return h("getAiFileForText",!1,!1)},g=function(){return h("getAiFileForText",!0,!1)},v=function(){return h("getAiFileForText",!1,!0)},_=[];return p?(p&&(p.textSelectionExists===!0||p.insertionPointExists===!0?_.push({name:"DL_ADD_TEXT_INLINE_AI",icon:"text",onClick:!1,apply:v,displayInMenu:!0}):(_.push({name:"DL_ADD_TEXT_UNLINKED_AI",icon:"text",onClick:!1,apply:f,displayInMenu:!0}),_.push({name:"DL_ADD_TEXT_UNLINKED_NOSTYLES",icon:"text",onClick:!1,apply:g,displayInMenu:!0}))),_):[]},defaultEditOperation:function(n){if(!t.isElementEditable(n))return!1;var s,m=n.getPrimaryRepresentation(),v=!1,_=!1,y=!1,E="documentLock_"+n.id,b=n.library&&n.library.name;l.createTempFile(n,m).then(function(e){s=e;var t=r.getFileNameWithoutExtension(s)+".png";return i.execApp("openAssetForEdit",[e,t,"text"])}).then(function(m){var T=p.startListening(m,s,function(m){if("closed"===m)d.obtainLock(E,function(){p.stopListening(T),v=!0,y===!1&&l.deleteTempFile(n,s),c.elementEditCompleted(n),d.releaseLock(E)});else if("saved"===m){if(!o.checkFileSize(s))return;y=!0;var S=s.lastIndexOf("."),L=s.substring(0,S),A=L+".png";if(!r.existsFile(s))return void(y=!1);var C,w=n.library,x=!w||w.isDeletedLocally;if(x||!w.isWritable){if(w=h.getRecoveryLibrary(b),!w)return;C=!0}d.obtainLock(E,function(){var o,c=[],p=i.execApp("getUpdatedTextInfo",[s]).then(function(p){var h=JSON.parse(p);if(_=h.isValidSave,_===!0){n.isDeletedLocally||C?n=w.createElement(n.name,n.type):(n.beginOperation(),n.removeAllRepresentations());var m=h.textData,T=r.fileNameToContentType(s,n.type);o=n.createRepresentation(T,"primary"),c.push(o.setContentFromPath(s));var S=n.createRepresentation(a.TEXT_REPRESENTATION_JSON_TYPE,"rendition");if(S.setValue(a.TEXT_NAMESPACE,a.TEXT_DATA_KEY,m.textInfo),A&&r.existsFile(A)){var L=t.setRendition(n,a.IMAGE_RENDITION_SIZE,A);c.push(L)}}var O=function(){_===!0&&(u.sendElementUpdated(o),v?l.deleteTempFile(n,s):l.updateTempFile(n,o,s)),y=!1,n.endOperation(),d.releaseLock(E),_===!0&&C&&(f.revealElement(n),x?i.showError(g.instant("DL_WARNING_RECOVERED_FROM_DELETED",{recoveryLibraryName:w.name})):i.showError(g.instant("DL_WARNING_RECOVERED_FROM_READONLY",{recoveryLibraryName:w.name,originalLibraryName:b})))};e.all(c).then(O,O)});c.push(p)})}})})}})}])}}),define("applications/ILST/js/configuration/template",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["$translate","designLibraryElements","csInterface","fileUtils","designLibraryUtils","adobeStockUtils","configuration",function(e,t,n,i,r,o,a){t.registerOverride({type:a.TEMPLATE_ELEMENT_TYPE,getApplyOperations:function(a,s){var l,c=i.getUsableTypes(a.type),u=a.representations.filter(function(e){var n="rendition"===e.relationship,i=t.isRepresentationCompatible(e,c);return!n&&i}),d=0===u.length;if(d&&t.isRepresentationCompatible(a.getPrimaryRepresentation(),c,!0)&&(l=o.getStockTemplateUseError(a)),!d||l){var p=function(){if(l)return n.showError(e.instant(l));var t=u[0];return t?(r.reportApplyMetric(t,"useTemplate"),t.getContentPath().then(function(e){return n.execApp("openDocumentFromTemplate",[e,a.name])})):void 0};return[{name:"DL_OPEN_DOC_FROM_TEMPLATE",icon:"template",onDoubleClick:!0,apply:p,displayInMenu:!0}]}return[]}})}])}}),define("applications/ILST/js/configuration/main",["require","exports","./color","./image","./textstyle","./layerstyle","./brush","./parastyle","./colortheme","./pattern","./text","./template"],function(e,t){"use strict";t.attach=function(t){e("./color").attach(t),e("./image").attach(t),e("./textstyle").attach(t),e("./parastyle").attach(t),e("./layerstyle").attach(t),e("./brush").attach(t),e("./colortheme").attach(t),e("./pattern").attach(t),e("./text").attach(t),e("./template").attach(t)}}),define("applications/MUSE/js/configuration/brush",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration",function(e,t,n,i,r,o){e.registerOverride({type:o.BRUSH_ELEMENT_TYPE,getApplyOperations:function(e,t){return[]}})}])}}),define("applications/MUSE/js/configuration/color",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration",function(e,t,n,i,r,o){e.registerOverride({type:o.COLOR_ELEMENT_TYPE,isDraggable:!0,getApplyOperations:function(e,i){var a=function(t){return function(i,a){return i||(i=[],e.representations.forEach(function(t){var n=t.getValue(o.COLOR_NAMESPACE,o.COLOR_DATA_KEY);void 0!==e.name&&(n.name=e.name),"primary"===t.relationship?i.unshift(n):i.push(n)}),e.representations.length>0&&r.reportApplyMetric(e.representations[0],t)),angular.isFunction(a)&&a(t),n.execApp(t,[i])}},s=t.getLayerInfo();if(!s)return[];if(void 0===s.canApplyColor){var l=0===s.numberOfSelectedPageItems,c=l===!0||s.canApplyItemBackgroundFill===!0;return c?[{name:"DL_SET_COLOR_TOOLTIP",icon:"paintbucket",apply:a("setColor"),displayInMenu:!0,onClick:!0}]:[]}return s.canApplyColor!==!0?[{name:"DL_MU_ADD_COLORS_TOOLTIP",icon:"paintbucket",allowMultiple:!0,apply:a("addSwatch"),displayInMenu:!0}]:0===s.numberOfSelectedPageItems?[{name:"DL_SET_PAGE_FILL_COLOR_MU",icon:"paintbucket",allowMultiple:!1,apply:a("setColor"),displayInMenu:!0},{name:"DL_SET_BROWSER_FILL_COLOR_MU",icon:"paintbucket",allowMultiple:!1,apply:a("setBrowserFillColor"),displayInMenu:!0},{name:"DL_MU_ADD_COLORS_TOOLTIP",icon:"paintbucket",allowMultiple:!0,apply:a("addSwatch"),displayInMenu:!0}]:s.isTextSelection===!0?[{name:"DL_SET_TEXT_COLOR_MU",icon:"paintbucket",allowMultiple:!1,apply:a("setColor"),displayInMenu:!0,onClick:!0},{name:"DL_MU_ADD_COLORS_TOOLTIP",icon:"paintbucket",allowMultiple:!0,apply:a("addSwatch"),displayInMenu:!0}]:[{name:"DL_SET_FILL_COLOR_MU",icon:"paintbucket",apply:a("setColor"),displayInMenu:!0,onClick:!0},{name:"DL_SET_STROKE_COLOR_MU",icon:"paintbucket",apply:a("setStrokeColor"),displayInMenu:!0},{name:"DL_MU_ADD_COLORS_TOOLTIP",icon:"paintbucket",allowMultiple:!0,apply:a("addSwatch"),displayInMenu:!0}]},defaultEditOperation:function(t){var r,a,s,l=[],c=i.getUsableTypes(o.COLOR_ELEMENT_TYPE);for(r=0;r<t.representations.length;r++)a=t.representations[r],e.isRepresentationCompatible(a,c)&&(s=a.getValue(o.COLOR_NAMESPACE,o.COLOR_DATA_KEY),l&&l.push(s));var u;return n.execApp("replaceColor",[l]).then(function(e){return u=JSON.parse(e),n.execApp("getLayerColor",[])}).then(function(e){if(u){var n=JSON.parse(e);t.beginOperation(),t.removeAllRepresentations(),n.forEach(function(e,n){var i=0===n?"primary":"rendition",r=t.createRepresentation(o.COLOR_REPRESENTATION_TYPE,i);r.setValue(o.COLOR_NAMESPACE,o.COLOR_DATA_KEY,e)}),t.endOperation()}})}})}])}}),define("applications/MUSE/js/configuration/animation",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["$q","designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration","$translate","documentWatcher","designLibraryManager","tempFileManager","adobeStockUtils","designLibraryCEPEventHandlers",function(e,t,n,i,r,o,a,s,l,c,u,d,p){t.registerOverride({type:a.ANIMATION_ELEMENT_TYPE,getApplyOperations:function(e,r){var a=function(t){return o.reportApplyMetric(t,"placeAsset"),t.getContentPath().then(function(t){return i.execApp("placeAsset",[t,e.name,e.getReference(),!0,"usePlaceGun"])})},s=n.getLayerInfo();if(!s||!s.isDesignMode)return[];var l=t.findUsableRepresentation(e);return l?[{name:"DL_ADD_IMAGE_TO_DOC_AS_LINKED",icon:"download",allowMultiple:!0,apply:function(){
a(l)},displayInMenu:!0}]:[]}})}])}}),define("applications/MUSE/js/configuration/image",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["$q","designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration","$translate","documentWatcher","designLibraryManager","tempFileManager","adobeStockUtils","designLibraryCEPEventHandlers",function(e,t,n,i,r,o,a,s,l,c,u,d,p){t.registerOverride({type:a.IMAGE_ELEMENT_TYPE,getApplyOperations:function(e,s){var l=function(n,s){var l="application/vnd.adobe.muse-collection",c=e.getPrimaryRepresentation(),u=c&&c.type===l;if(u)return o.reportApplyMetric(c,"placeAsset"),c.getContentPath().then(function(t){return i.execApp("placeAsset",[t,e.name,e.getReference(),n,s])});var d=t.findRepresentation(e,r.getUsableTypes(a.IMAGE_ELEMENT_TYPE));return d?(o.reportApplyMetric(d,"placeAsset"),d.getContentPath().then(function(t){return i.execApp("placeAsset",[t,e.name,e.getReference(),n,s])})):e.getThumbnailPath().then(function(t){return i.execApp("placeAsset",[t,e.name,e.getReference(),n,s])},function(e){console.log(e)})},c=n.getLayerInfo();if(!c||!c.isDesignMode)return[];var u="application/vnd.adobe.muse-collection",d=e.getPrimaryRepresentation(),p=d&&d.type===u,h=0===c.numberOfSelectedPageItems&&!p,f=h===!1&&c.canApplyItemBackgroundFill===!0&&p===!1;return[{name:"DL_ADD_IMAGE_TO_DOC_AS_LINKED",icon:"download",allowMultiple:!0,apply:function(){l(!0,"usePlaceGun")},displayInMenu:!p},{name:"DL_ADD_IMAGE_TO_DOC_AS_COPY",icon:"download",allowMultiple:!0,apply:function(){l(!1,"usePlaceGun")},displayInMenu:!0},{name:"DL_ADD_IMAGE_TO_ITEM_FILL_MU",icon:"download",allowMultiple:!1,apply:function(){l(!0,"setImageItemFill")},displayInMenu:f},{name:"DL_ADD_IMAGE_TO_PAGE_FILL_MU",icon:"download",allowMultiple:!1,apply:function(){l(!0,"setImagePageFill")},displayInMenu:h},{name:"DL_ADD_IMAGE_TO_BROWSER_FILL_MU",icon:"download",allowMultiple:!1,apply:function(){l(!0,"setImageBrowserFill")},displayInMenu:h}]}})}])}}),define("applications/MUSE/js/configuration/parastyle",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration",function(e,t,n,i,r,o){e.registerOverride({type:o.PARAGRAPH_STYLE_ELEMENT_TYPE,getApplyOperations:function(e,t){return[]},getAddOperations:function(e){return[]}})}])}}),define("applications/MUSE/js/configuration/text",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","configuration",function(e,t){e.registerOverride({type:t.TEXT_ELEMENT_TYPE,getAddOperations:function(){return[]}})}])}}),define("applications/MUSE/js/configuration/textstyle",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration",function(e,t,n,i,r,o){e.registerOverride({type:o.CHARACTER_STYLE_ELEMENT_TYPE,getApplyOperations:function(e,t){return[]},getAddOperations:function(e){return[]}})}])}}),define("applications/MUSE/js/configuration/main",["require","exports","./brush","./color","./animation","./image","./parastyle","./text","./textstyle"],function(e,t){"use strict";t.attach=function(t){e("./brush").attach(t),e("./color").attach(t),e("./animation").attach(t),e("./image").attach(t),e("./parastyle").attach(t),e("./text").attach(t),e("./textstyle").attach(t)}}),define("applications/PHXS/js/configuration/color",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration","$translate",function(e,t,n,i,r,o,a){e.registerOverride({type:o.COLOR_ELEMENT_TYPE,getApplyOperations:function(e,i){var s=function(t,i){return function(a,s){return a||(a=[],e.representations.forEach(function(e){var t=e.getValue(o.COLOR_NAMESPACE,o.COLOR_DATA_KEY);"primary"===e.relationship?a.unshift(t):a.push(t)}),e.representations.length>0&&r.reportApplyMetric(e.representations[0],t)),angular.isFunction(s)&&s(t),n.execApp(t,[a,i])}},l=t.getLayerInfo(),c={name:"DL_SET_COLOR_TOOLTIP",icon:"paintbucket",apply:s("setColor",a.instant("DL_SET_COLOR_TOOLTIP")),displayInMenu:!0},u=[];return l&&l.selectionExists?(l.enableShapeLayerApplyOperations?(u.push({name:"DL_SET_FILL_COLOR_TOOLTIP",icon:"paintbucket",apply:s("setFillColor",a.instant("DL_SET_FILL_COLOR_TOOLTIP")),displayInMenu:!0}),u.push({name:"DL_SET_STROKE_COLOR_TOOLTIP",icon:"brush",apply:s("setStrokeColor",a.instant("DL_SET_STROKE_COLOR_TOOLTIP")),displayInMenu:!0})):u.push(c),u.push({name:"DL_SET_COLOR_OVERLAY_TOOLTIP",icon:"brush",apply:s("setColorOverlay",a.instant("DL_SET_COLOR_OVERLAY_TOOLTIP")),displayInMenu:!0,disableClick:!0})):u.push(c),u[0].disableClick!==!0&&(u[0].onClick=!0),u},defaultEditOperation:function(t){var r,a=e.findRepresentation(t,i.getUsableTypes(o.COLOR_ELEMENT_TYPE));a&&(r=a.getValue(o.COLOR_NAMESPACE,o.COLOR_DATA_KEY));var s;return n.execApp("replaceColor",[r]).then(function(e){return s=JSON.parse(e),n.execApp("getLayerColor",[])}).then(function(e){if(s){var n=JSON.parse(e);t.beginOperation(),t.removeAllRepresentations(),n.forEach(function(e,n){var i=0===n?"primary":"rendition",r=t.createRepresentation(o.COLOR_REPRESENTATION_TYPE,i);r.setValue(o.COLOR_NAMESPACE,o.COLOR_DATA_KEY,e)}),t.endOperation()}})}})}])}}),define("applications/PHXS/js/configuration/image",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration","adobeStockUtils","phxsImageUtils",function(e,t,n,i,r,o,a,s){e.registerOverride({type:o.IMAGE_ELEMENT_TYPE,getApplyOperations:function(l,c){var u=function(t){return e.findRepresentation(t,i.getUsableTypes(o.IMAGE_ELEMENT_TYPE))},d=function(t){var i=a.getStockId(l),o=u(l);return o?(r.reportApplyMetric(o,"placeAsset",t),o.getContentPath().then(function(r){return n.execApp("placeAsset",[r,l.library.name,l.name,l.getReference(),e.getElementModifiedTime(l),l.created,i,i?a.isLicensed(l):null,t])})):l.getThumbnailPath().then(function(o){return r.reportApplyMetric({type:"image/png",_element:l},"placeAsset",t),n.execApp("placeAsset",[o,l.library.name,l.name,l.getReference(),e.getElementModifiedTime(l),l.created,i,i?a.isLicensed(l):null,t])},function(e){console.log(e)})};if(!t.hasDocumentOpen())return[];var p=!1,h=u(l);if(h){var f=["application/postscript","application/pdf","application/illustrator"];f.indexOf(h.type)!==-1&&(p=!0)}var g=[];return s.primaryRepIsTemplateFormat(l)||g.push({name:"DL_ADD_IMAGE_TO_DOC_AS_LINKED",icon:"download",apply:function(){d(!0)},displayInMenu:!0}),g.push({name:p?"DL_ADD_IMAGE_TO_DOC_AS_COPY":"DL_ADD_IMAGE_TO_DOC_AS_LAYERS",icon:"download",apply:function(){d(!1)},displayInMenu:!0}),g},defaultEditOperation:function(e){return s.editImageOr3DElement(e)},transformAddOperations:function(e,t){var n=t&&t.hasOwnProperty("libraryLinked")&&t.libraryLinked;return n&&e&&e.length>0&&"DL_ADD_IMAGE_NAME"===e[0].name&&(e[0].disabled=!0),e}})}])}}),define("applications/PHXS/js/configuration/layerstyle",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration",function(e,t,n,i,r,o){e.registerOverride({type:o.LAYER_STYLE_ELEMENT_TYPE,getApplyOperations:function(a,s){var l=t.getLayerInfo(),c=function(){var t=e.findRepresentation(a,i.getUsableTypes(o.LAYER_STYLE_ELEMENT_TYPE));if(t)return r.reportApplyMetric(t,"applyLayerStyle"),t.getContentPath().then(function(e){return n.execApp("applyLayerStyle",[e])})};return!l||l&&!l.enableApplyStyle?[]:[{name:"DL_APPLY_LAYER_STYLE",icon:"layerstyle",onClick:!0,apply:c,displayInMenu:!0}]}})}])}}),define("applications/PHXS/js/configuration/textstyle",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration","$translate",function(e,t,n,i,r,o,a){var s="characterstyle",l="data";e.registerOverride({type:o.CHARACTER_STYLE_ELEMENT_TYPE,getApplyOperations:function(c,u){var d=function(){var t=e.findRepresentation(c,i.getUsableTypes(o.CHARACTER_STYLE_ELEMENT_TYPE));if(t){r.reportApplyMetric(t,"setFont");var u=t.getValue(s,l);return n.execApp("setFont",[u,a.instant("DL_PHXS_HISTORY_ENTRY_SET_TEXT_STYLE")])}},p=function(){var t=e.findRepresentation(c,i.getUsableTypes(o.CHARACTER_STYLE_ELEMENT_TYPE));if(t){r.reportApplyMetric(t,"createTextLayer");var u=t.getValue(s,l);return n.execApp("createFontLayer",[u,a.instant("DL_PHXS_HISTORY_ENTRY_CREATE_TEXT_LAYER")])}},h=[],f=t.getLayerInfo();return!f||f&&!f.selectionExists?[]:(f&&f.enableApplyText&&h.push({name:"DL_SET_TEXT_STYLE_TOOLTIP",icon:"text",onClick:!0,apply:d,displayInMenu:!0}),h.push({name:"DL_CREATE_TEXT_LAYER_TOOLTIP",icon:"pastetext",apply:p,displayInMenu:!0}),h)}})}])}}),define("applications/PHXS/js/configuration/brush",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","csInterface","fileUtils","designLibraryUtils","configuration",function(e,t,n,i,r){e.registerOverride({type:r.BRUSH_ELEMENT_TYPE,getApplyOperations:function(r,o){var a=n.getUsableTypes(r.type),s=r.representations.filter(function(t){var n="rendition"===t.relationship,i=e.isRepresentationCompatible(t,a);return!n&&i}),l=0===s.length;if(!l){var c=function(){var e=s[0];if(e)return i.reportApplyMetric(e,"useBrush"),e.getContentPath().then(function(n){var i="photoshop",o={tool:e.getValue(i,"tool"),flow:e.getValue(i,"flow"),opacity:e.getValue(i,"opacity"),blendMode:e.getValue(i,"blendMode"),color:e.getValue(i,"color")};return t.execApp("loadAndSelectBrush",[n,r.name,o])})};return[{name:"DL_ADD_BRUSH_TO_DOC",icon:"brush",onClick:!0,apply:c,displayInMenu:!0}]}return[]}})}])}}),define("applications/PHXS/js/configuration/parastyle",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration",function(e,t,n,i,r,o){e.registerOverride({type:o.PARAGRAPH_STYLE_ELEMENT_TYPE,getAddOperations:function(){return[]}})}])}}),define("applications/PHXS/js/configuration/pattern",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration","localSettings","$translate",function(e,t,n,i,r,o,a,s){e.registerOverride({type:o.PATTERN_ELEMENT_TYPE,isDraggable:function(){return o.currentProduct.config.enablePatternDragging},getApplyOperations:function(a,l){var c=t.getLayerInfo();if(!c||c&&!c.selectionExists)return[];var u=function(){var t=e.findRepresentation(a,i.getUsableTypes(o.PATTERN_ELEMENT_TYPE));if(t)return r.reportApplyMetric(t,"applyPattern"),t.getContentPath().then(function(e){return n.execApp("makePatternLayerFromFile",[e,a.name,s.instant("DL_PHXS_HISTORY_ENTRY_APPLY_PATTERN")])})},d=function(){var t=e.findRepresentation(a,i.getUsableTypes(o.PATTERN_ELEMENT_TYPE));if(t)return r.reportApplyMetric(t,"definePatternPreset"),t.getContentPath().then(function(e){return n.execApp("definePatternFile",[e,a.name])})};return[{name:"DL_APPLY_PATTERN",onClick:!0,apply:u,displayInMenu:!0},{name:"DL_ADD_PATTERN_TO_PRESETS",icon:"brush",onClick:!1,apply:d,displayInMenu:!0}]}})}])}}),define("applications/PHXS/js/configuration/look",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration","$translate",function(e,t,n,i,r,o,a){e.registerOverride({type:o.LOOK_ELEMENT_TYPE,isDraggable:!1,getApplyOperations:function(s,l){var c=function(){var t=e.findRepresentation(s,i.getUsableTypes(o.LOOK_ELEMENT_TYPE));if(t)return r.reportApplyMetric(t,"makeColorLookupLayerFromFile"),t.getContentPath().then(function(e){return n.execApp("makeColorLookupLayerFromFile",[e,s.name])})},u=!0,d=function(e){n.execApp("frontDocIsRGB").then(function(t){"true"===t?c():e&&alert(a.instant("DL_APPLY_LOOK_REQUIRES_RGB"))})},p=t.getLayerInfo();return!p||p&&!p.enableApplyLook&&!u?[]:[{name:"DL_APPLY_LOOK",onClick:!0,isDraggable:!1,apply:function(){d(!1)},displayInMenu:!1},{name:"DL_APPLY_LOOK",onClick:!1,isDraggable:!1,apply:function(){d(!0)},displayInMenu:!0}]}})}])}}),define("applications/PHXS/js/configuration/3d",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["$q","designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","designLibraryManager","configuration","$translate","documentWatcher","tempFileManager","designLibraryCEPEventHandlers","designLibraryCEPEventEmitters","lockUtils","phxsImageUtils",function(e,t,n,i,r,o,a,s,l,c,u,d,p,h,f){t.registerOverride({type:s.THREE_D_ELEMENT_TYPE,isDraggable:!0,getApplyOperations:function(e,a){var l=function(e){return t.findRepresentation(e,r.getUsableTypes(s.THREE_D_ELEMENT_TYPE))},c=function(){var n=l(e);return n?(o.reportApplyMetric(n,"placeAsset",!1),n.getContentPath().then(function(n){return i.execApp("placeAsset",[n,e.library.name,e.name,e.getReference(),t.getElementModifiedTime(e),e.created,null,null,!1])})):e.getThumbnailPath().then(function(n){return o.reportApplyMetric({type:"image/png",_element:e},"placeAsset",!1),i.execApp("placeAsset",[n,e.library.name,e.name,e.getReference(),t.getElementModifiedTime(e),e.created,null,null,!1])},function(e){console.log(e)})};return n.hasDocumentOpen()?[{name:"DL_ADD_IMAGE_TO_DOC",icon:"download",apply:function(){c()},displayInMenu:!0}]:[]},defaultEditOperation:function(e){f.editImageOr3DElement(e)}})}])}}),define("applications/PHXS/js/configuration/template",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["$translate","designLibraryElements","csInterface","fileUtils","designLibraryUtils","adobeStockUtils","configuration",function(e,t,n,i,r,o,a){t.registerOverride({type:a.TEMPLATE_ELEMENT_TYPE,getApplyOperations:function(a,s){var l,c=i.getUsableTypes(a.type),u=a.representations.filter(function(e){var n="rendition"===e.relationship,i=t.isRepresentationCompatible(e,c);return!n&&i}),d=0===u.length;if(d&&t.isRepresentationCompatible(a.getPrimaryRepresentation(),c,!0)&&(l=o.getStockTemplateUseError(a)),!d||l){var p=function(){if(l)return n.showError(e.instant(l));var t=u[0];return t?(r.reportApplyMetric(t,"useTemplate"),t.getContentPath().then(function(e){return n.execApp("openDocumentFromTemplate",[e,a.name,a.getReference()])})):void 0};return[{name:"DL_OPEN_DOC_FROM_TEMPLATE",icon:"template",onDoubleClick:!0,apply:p,displayInMenu:!0}]}return[]}})}])}}),define("applications/PHXS/js/configuration/text",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","configuration",function(e,t){e.registerOverride({type:t.TEXT_ELEMENT_TYPE,getAddOperations:function(){return[]}})}])}}),define("applications/PHXS/js/configuration/main",["require","exports","./color","./image","./layerstyle","./textstyle","./brush","./parastyle","./pattern","./look","./3d","./template","./text"],function(e,t){"use strict";t.attach=function(t){e("./color").attach(t),e("./image").attach(t),e("./layerstyle").attach(t),e("./textstyle").attach(t),e("./brush").attach(t),e("./parastyle").attach(t),e("./pattern").attach(t),e("./look").attach(t),e("./3d").attach(t),e("./template").attach(t),e("./text").attach(t)}}),define("applications/PPRO/js/configuration/color",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration",function(e,t,n,i,r,o){e.registerOverride({type:o.COLOR_ELEMENT_TYPE,order:9,getApplyOperations:function(e,t){return[]}})}])}}),define("applications/PPRO/js/configuration/colortheme",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","designLibraryUtils","fileUtils","configuration",function(e,t,n,i){e.registerOverride({type:i.COLOR_THEME_ELEMENT_TYPE,order:14,getApplyOperations:function(e,t,n){return[]}})}])}}),define("applications/PPRO/js/configuration/image",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["$q","designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","designLibraryManager","configuration","$translate","documentWatcher","tempFileManager","adobeStockUtils",function(e,t,n,i,r,o,a,s,l,c,u,d){t.registerOverride({type:s.IMAGE_ELEMENT_TYPE,transformAddOperations:function(e,t){return e&&e.length>0&&"DL_ADD_IMAGE_NAME"===e[0].name&&(e[0].disabled=!0),e},getApplyOperations:function(e,a){var l=function(n){var a=d.getStockId(e),l=t.findRepresentation(e,r.getUsableTypes(s.IMAGE_ELEMENT_TYPE));return l?(o.reportApplyMetric(l,"placeAsset"),l.getContentPath().then(function(o){var c=r.mimeLookup(s.IMAGE_ELEMENT_TYPE,l.type),u=c&&"Photoshop"===c.name;return i.execApp("placeAsset",[o,u,e.library.name,e.name,e.getReference(),t.getElementModifiedTime(e),e.created,a,a?d.isLicensed(e):null,n])})):e.getThumbnailPath().then(function(r){return o.reportApplyMetric({type:"image/png",_element:e},"placeAsset"),i.execApp("placeAsset",[r,!1,e.library.name,e.name,e.getReference(),t.getElementModifiedTime(e),e.created,a,a?d.isLicensed(e):null,n])},function(e){console.log(e)})},c=n.getLayerInfo();return c?[{name:"DL_ADD_IMAGE_TO_PROJECT",icon:"download",apply:l,displayInMenu:!0}]:[]}})}])}}),define("applications/PPRO/js/configuration/textstyle",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration",function(e,t,n,i,r,o){e.registerOverride({type:o.CHARACTER_STYLE_ELEMENT_TYPE,order:13,getApplyOperations:function(e,t){return[]}})}])}}),define("applications/PPRO/js/configuration/layerstyle",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration","$translate",function(e,t,n,i,r,o,a){e.registerOverride({type:o.LAYER_STYLE_ELEMENT_TYPE,order:11,getApplyOperations:function(e,t){return[]}})}])}}),define("applications/PPRO/js/configuration/brush",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration",function(e,t,n,i,r,o){e.registerOverride({type:o.BRUSH_ELEMENT_TYPE,order:10,getApplyOperations:function(e,t){return[]}})}])}}),define("applications/PPRO/js/configuration/look",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["$q","designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration","$translate",function(e,t,n,i,r,o,a,s){t.registerOverride({type:a.LOOK_ELEMENT_TYPE,isDraggable:!0,getApplyOperations:function(e,n){var i=function(){var n=t.findRepresentation(e,r.getUsableTypes(a.LOOK_ELEMENT_TYPE));if(n)return n.getContentPath().then(function(e){})};return[{name:"DL_APPLY_LOOK",onClick:!0,isDraggable:!0,apply:i,displayInMenu:!1}]},getAddOperations:function(t){var n=function(t,n){var s=e.defer();return i.execApp("getSelectedLookData").then(function(i){var l,c,u=JSON.parse(i),d=o.createElementExtraMetrics(t,u.name,a.LOOK_ELEMENT_TYPE,{opType:n}),p=[];if(u.lookPath&&(l=d.createRepresentation("application/vnd.adobe.look+xml","primary"),c=l.setContentFromPath(u.lookPath).then(function(){r.deleteFile(u.lookPath)}),p.push(c)),u.cubePath){var h="primary";u.lookPath&&(h="alternate"),l=d.createRepresentation("application/vnd.adobe.cube+txt",h),c=l.setContentFromPath(u.cubePath).then(function(){r.deleteFile(u.cubePath)}),p.push(c)}if(u.previewPath){var f=d.createRepresentation("image/jpg","rendition");c=f.setContentFromPath(u.previewPath).then(function(){f.width=a.LOOK_RENDITION_SIZE,f.height=a.LOOK_RENDITION_SIZE,r.deleteFile(u.previewPath)}),p.push(c)}e.all(p).then(function(){d.endOperation(),s.resolve(d)},function(){t.removeElement(d,!0),s.reject("Could not create element.")})},function(){s.reject("Could not create element.")}),s.promise};return[{name:"DL_ADD_LOOK_NAME",order:0,icon:"newlook",apply:n,disabled:!t||!t.look,displayIcon:!0}]}})}])}}),define("applications/PPRO/js/configuration/parastyle",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","configuration",function(e,t,n,i,r,o){e.registerOverride({type:o.PARAGRAPH_STYLE_ELEMENT_TYPE,order:12,getApplyOperations:function(e,t){return[]},getAddOperations:function(){return[]}})}])}}),define("applications/PPRO/js/configuration/text",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","configuration",function(e,t){e.registerOverride({type:t.TEXT_ELEMENT_TYPE,getAddOperations:function(){return[]}})}])}}),define("applications/PPRO/js/configuration/video",["require","exports","module"],function(e,t){"use strict";t.attach=function(e){angular.module(e).run(["designLibraryElements","configuration","layerSelectionManager","csInterface","fileUtils","designLibraryUtils","adobeStockUtils",function(e,t,n,i,r,o,a){e.registerOverride({type:t.VIDEO_ELEMENT_TYPE,isDraggable:!0,getApplyOperations:function(s,l){var c=function(){var n=a.getStockId(s),l=e.findRepresentation(s,r.getUsableTypes(t.VIDEO_ELEMENT_TYPE));if(l){o.reportApplyMetric(l,"placeAsset");var c=[],u=r.getUsableTypes(s.type);return s.representations.forEach(function(t){e.isRepresentationCompatible(t,u)&&c.push({contentType:t.type,url:t.getContentURL()})}),i.execApp("placeAsset",[c,!1,s.library.name,s.name,s.getReference(),e.getElementModifiedTime(s),s.created,n,n?a.isLicensed(s):null,!1])}},u=n.getLayerInfo();return u?[{name:"DL_ADD_VIDEO_TO_PROJECT",icon:"download",apply:c,displayInMenu:!0}]:[]}})}])}}),define("applications/PPRO/js/configuration/main",["require","exports","./color","./colortheme","./image","./textstyle","./layerstyle","./brush","./look","./parastyle","./text","./video"],function(e,t){"use strict";t.attach=function(t){e("./color").attach(t),e("./colortheme").attach(t),e("./image").attach(t),e("./textstyle").attach(t),e("./layerstyle").attach(t),e("./brush").attach(t),e("./look").attach(t),e("./parastyle").attach(t),e("./text").attach(t),e("./video").attach(t)}}),define("edgeccTemplates",[],function(){return function(e){"use strict";e.put("directives/designlibrary/templates/designLibrary.tmpl.html",'<div class="panel-dl-container">\n\n    <div class="panel-dl-header">\n        <div class="panel-dl-header-library">\n            <edgecc-select class="panel-library-combo" ng-disabled="!libraries || libraries.length === 0" ng-model="library" ng-change="selectedLibraryChanged()" options-array="libraries" display-field="name" max-height="350">\n            </edgecc-select>\n\n            <button class="panel-dl-header-toggle-button edgecc-icon" ng-class="{selected: uiState.view === \'grid\'}" ng-click="setViewState(\'grid\')" ng-disabled="uiState.mode === \'search\' && uiState.modeParams.type === \'stock\'"\n                    edgecc-hover edgecc-tooltip tooltip-content="{{\'DL_SWITCH_TO_GRIDVIEW_TOOLTIP\' | translate}}">newgridview</button>\n\n            <button class="panel-dl-header-toggle-button edgecc-icon" ng-class="{selected: uiState.view === \'list\'}" ng-click="setViewState(\'list\')" ng-disabled="uiState.mode === \'search\' && uiState.modeParams.type === \'stock\'"\n                    edgecc-hover edgecc-tooltip tooltip-content="{{\'DL_SWITCH_TO_LISTVIEW_TOOLTIP\' | translate}}">newlistview</button>\n        </div>\n\n        <edgecc-search disable="!library" ng-show="uiState.mode !== \'relink\'"></edgecc-search>\n\n        <div ng-if="uiState.mode === \'relink\'" class="panel-relink-header">\n            <div class="panel-relink-header-image-missing" ng-if="uiState.modeParams.missing === true"></div>\n            <div class="panel-relink-header-image edgecc-icon" ng-if="uiState.modeParams.missing === false">cloud</div>\n            <div class="panel-relink-header-text">{{uiState.modeParams.message}}</div>\n        </div>\n    </div>\n\n    <edgecc-dl-undo></edgecc-dl-undo>\n\n    <edgecc-dl-no-libraries ng-show="!library" create-callback="showCreateDialog()"></edgecc-dl-no-libraries>\n\n    <edgecc-dl-stock ng-if="uiState.mode === \'search\' && uiState.modeParams.type === \'stock\'" library="library"></edgecc-dl-stock>\n\n    <edgecc-design-library-contents ng-hide="uiState.mode === \'search\' && uiState.modeParams.type === \'stock\'" library="library"></edgecc-design-library-contents>\n\n    <div ng-show="uiState.mode === \'relink\' && showRelinkOverlay" class="panel-relink-overlay" ng-mouseenter="onMouseEnter()">\n        <div class="panel-relink-overlay-message">{{uiState.modeParams.overlayMessage}}</div>\n    </div>\n\n    <edgecc-dl-footer library="library"></edgecc-dl-footer>\n\n    <edgecc-modal-dialog ng-if="createDialog.visible" disable-ok="!isValidName(newItem.name)" show-dialog="createDialog.visible" on-submit="createDesignLibrary()" title-text="DL_CREATE_DESIGN_LIBRARY" ok-text="DL_CREATE" cancel-text="DL_CANCEL">\n        <div class="panel-dialog-layout-group">\n            <div class="panel-dialog-layout-75">\n                <input ng-model="newItem.name" type="text" placeholder="{{\'DL_NAME_DESC\' | translate}}" style="width:100%" edgecc-set-focus="createDialog.setFocus" ng-keydown="onCreateLibKeyDown($event)" spellcheck="false"/>\n            </div>\n        </div>\n    </edgecc-modal-dialog>\n\n    <edgecc-modal-dialog ng-if="deleteDialog.visible" show-dialog="deleteDialog.visible" on-submit="deleteCurrentLibrary()" title-text="{{deleteDialog.title}}" ok-text="{{deleteDialog.btnTitle}}" cancel-text="DL_CANCEL">\n        <div class="panel-dialog-layout-100" ng-bind="deleteDialog.text"></div>\n    </edgecc-modal-dialog>\n\n    <edgecc-modal-dialog ng-if="stockPurchaseDialog.visible" show-dialog="stockPurchaseDialog.visible" on-submit="confirmStockPurchase" on-cancel="cancelStockPurchase()" title-text="{{stockPurchaseDialog.titleText}}" ok-text="{{stockPurchaseDialog.okText}}" cancel-text="{{stockPurchaseDialog.cancelText}}" secondary-ok-text="{{stockPurchaseDialog.secondaryOkText}}">\n        <div class="panel-dialog-layout-100" ng-bind-html="stockPurchaseDialog.text"></div>\n    </edgecc-modal-dialog>\n\n    <edgecc-modal-dialog ng-if="settingsDialog.visible" disable-ok="!isValidName(editItem.name)" show-dialog="settingsDialog.visible" on-submit="updateDesignLibrary()" title-text="{{ \'DL_RENAME_LIBRARY\' | translate:library }}" ok-text="DL_RENAME" cancel-text="DL_CANCEL">\n        <div class="panel-dialog-layout-group">\n            <input ng-model="editItem.name" type="text" placeholder="{{\'DL_NAME_DESC\' | translate}}" style="width:100%" edgecc-set-focus="settingsDialog.setFocus" ng-keydown="onRenameLibKeyDown($event)" spellcheck="false"/>\n        </div>\n    </edgecc-modal-dialog>\n</div>\n'),e.put("directives/designlibrary/templates/designLibraryArchive.tmpl.html",'<div class="panel-archive-window" ng-click="stopPropagation($event)">\n    <div class="panel-archive-contents">\n        <div class="panel-archive-header">\n            <div class="edgecc-icon panel-archive-header-icon">{{deleteIcon}}</div>\n            <div class="panel-archive-header-right">\n                <div class="panel-archive-header-title" ng-show="filterByCurrentLibrary">Deleted: {{currentLibrary.name}}</div>\n                <div ng-show="!filterByCurrentLibrary">Deleted</div>\n                <div ng-show="filterByCurrentLibrary"><a class="panel-archive-link" ng-click="toggleFilter()">all libraries</a></div>\n            </div>\n        </div>\n        <div class="panel-archive-item" ng-repeat="item in archiveList | orderBy:\'-time\' | limitTo:10">\n            <div class="panel-archive-time">\n                <div class="panel-archive-time-text"><span>{{item.time | date:\'MM/dd/yyyy @ h:mma\'}}</span><span ng-show="!filterByCurrentLibrary">&nbsp;&nbsp;({{item.library.name}})</span></div>\n                <div class="panel-archive-element-actions" ng-show="item.elements.length > 1">\n                    <div><a class="panel-archive-undo edgecc-icon" ng-class="{disabled: !item.library.isWritable || item.library.elements.length + item.elements.length > MAX_ELEMENTS}" ng-click="restoreElements(item.elements)" edgecc-tooltip tooltip-content="Restore All">refresh</a></div>\n                    <div><a class="panel-archive-delete edgecc-icon" ng-class="{disabled: !item.library.isWritable}" ng-click="deleteElements(item.elements)" edgecc-tooltip tooltip-content="Permanently Delete All">&nbsp;{{deleteIcon}}</a></div>\n                </div>\n            </div>\n            <div class="panel-archive-element" ng-repeat="element in item.elements | orderBy:displayName | limitTo:2">\n                <div class="panel-archive-element-details">\n                    <img class="panel-archive-thumbnail" ng-src="{{element.thumbnail}}" />\n                    <div class="panel-archive-element-name">{{element.displayName}}</div>\n                </div>\n                <div class="panel-archive-element-actions">\n                    <div><a class="panel-archive-undo edgecc-icon" ng-class="{disabled: !item.library.isWritable || item.library.elements.length + 1 > MAX_ELEMENTS}" ng-click="restoreElements([element])" edgecc-tooltip tooltip-content="Restore">refresh</a></div>\n                    <div><a class="panel-archive-delete edgecc-icon" ng-class="{disabled: !item.library.isWritable}" ng-click="deleteElements([element])" edgecc-tooltip tooltip-content="Permanently Delete">&nbsp;{{deleteIcon}}</a></div>\n                </div>\n            </div>\n            <div class="panel-archive-element" ng-show="item.elements.length > 2">... and {{item.elements.length - 2}} others</div>\n        </div>\n        <div class="panel-archive-none" ng-show="archiveList.length === 0">No recently-deleted items</div>\n    </div>\n</div>\n'),e.put("directives/designlibrary/templates/designLibraryContents.tmpl.html",'<div class="panel-dl-contents" ng-class="{\'panel-dl-contents-relink\': uiState.mode === \'relink\'}" ng-show="library" ng-click="clickOutsideComponent($data)"\n     edgecc-drop-files drop-types="{{allowedDropTypes}}" drop-sources="{{allowedDropSources}}" on-drop="onLayerDrop($data)"\n     on-drag-enter="onLayerDragEnter($data)" on-drag-leave="onLayerDragLeave($data)" ng-style="library.isDeletedFromServer ? {\'overflow\': \'hidden\'} : {}" edgecc-monitor-scroll-position>\n\n    <div class="panel-dl-contents-quota-message" ng-if="library.isQuotaExceeded">\n        <div class="panel-dl-contents-quota-message-icon edgecc-icon">alert</div>\n        <div>\n            <div class="panel-dl-contents-quota-message-text" translate>DL_QUOTA_EXCEEDED_LIBRARY_MESSAGE</div>\n            <div class="panel-dl-contents-quota-message-text" translate>DL_QUOTA_EXCEEDED_LIBRARY_TIP</div>\n        </div>\n    </div>\n\n    <div class="panel-dl-contents-area">\n        <edgecc-dl-category library="library" scroll-position="scrollPosition" set-scroll-position="setScrollPosition(position)"></edgecc-dl-category>\n    </div>\n\n    <div class="panel-deleted-message-container" ng-if="library.isDeletedFromServer">\n      <div class="panel-deleted-message">\n        <div class="panel-deleted-message-inner">\n            <div class="panel-deleted-message-icon edgecc-icon">creativecloudwarning</div>\n            <div ng-if="library.collaboration !== \'incoming\'" class="panel-deleted-message-description" translate>DL_DELETED_FROM_SERVER</div>\n            <div ng-if="library.collaboration === \'incoming\'" class="panel-deleted-message-description" translate>DL_UNSHARED</div>\n        </div>\n        <div class="panel-deleted-message-options">\n            <a class="panel-deleted-message-link" ng-click="deleteCurrentLibrary()" translate>DL_REMOVE_FROM_LIST</a>\n        </div>\n      </div>\n    </div>\n</div>\n\n<div ng-show="isDraggingLayer" class="panel-dl-contents-drop-area">\n    <div class="panel-dl-contents-drop-area-container">\n        <div ng-show="isDropAllowed && !isDraggingLayerToLink" class="panel-dl-contents-drop-area-icon edgecc-icon">addcopy</div>\n        <div ng-show="isDropAllowed && isDraggingLayerToLink" class="panel-dl-contents-drop-area-icon edgecc-icon">addlink</div>\n        <div ng-show="!isDropAllowed" class="panel-dl-contents-drop-area-smaller-icon edgecc-icon">alert</div>\n\n        <div ng-show="isDropAllowed" class="panel-dl-contents-drop-area-text">\n            <div ng-repeat="layerName in layerNames">{{layerName}}</div>\n        </div>\n        <div ng-show="!isDropAllowed && dropMessage" class="panel-dl-contents-drop-area-text">{{dropMessage}}</div>\n        <div ng-show="isDropAllowed && dropMessage" class="panel-dl-contents-drop-area-subtext">{{dropMessage}}</div>\n    </div>\n</div>\n'),
e.put("directives/designlibrary/templates/designLibraryEditableGridName.tmpl.html",'<div class="panel-grid-item-name-container" ng-class="{selected: selected, windowhover: globalHovering}" ng-dblclick="startEditName($event)">\n    <span class="panel-grid-item-name" ng-hide="editState.active">\n        {{component.name ? component.name.trim().split(" ").join("&nbsp;") : (defaultInformation || \'\')}}\n    </span>\n    <input class="panel-grid-item-edit-name" ng-if="editState.active" type="text"\n           ng-model="editState.name" placeholder="{{\'DL_EDIT_NAME_PLACEHOLDER\' | translate}}"\n           ng-keydown="handleKeyDown($event)" edgecc-set-focus="editState.setFocus" ng-blur="finishEditName()" spellcheck="false"/>\n</div>\n'),e.put("directives/designlibrary/templates/designLibraryEditableListName.tmpl.html",'<div class="panel-list-item-name-container" ng-class="{selected: selected, windowhover: globalHovering}" ng-dblclick="startEditName($event)">\n    <span class="panel-list-item-name" ng-hide="editState.active">\n        {{component.name ? component.name.trim().split(" ").join("&nbsp;") : (defaultInformation || \'\')}}\n    </span>\n    <input class="panel-list-item-edit-name" ng-if="editState.active" type="text"\n           ng-model="editState.name" placeholder="{{\'DL_EDIT_NAME_PLACEHOLDER\' | translate}}"\n           ng-keydown="handleKeyDown($event)" edgecc-set-focus="editState.setFocus" ng-blur="finishEditName()" spellcheck="false"/>\n</div>\n'),e.put("directives/designlibrary/templates/designLibraryFooter.tmpl.html",'<div class="panel-footer">\n    <div class="panel-footer-divider-container"><div class="panel-footer-divider"></div></div>\n    <div class="panel-footer-toolbar" ng-class="{windows: isWindowsOS}" ng-show="uiState.mode !== \'relink\'">\n        <div class="panel-footer-icon-read-only edgecc-icon" edgecc-tooltip tooltip-content="{{\'DL_DESIGN_LIBRARY_READ_ONLY\' | translate}}" ng-if="library && !library.isWritable">readonly</div>\n\n        <edgecc-insert disabled="insertDisabled" library="library" ng-if="library && library.isWritable && !library.isDeletedFromServer"></edgecc-insert>\n\n        <button ng-show="addDocContentOperation" ng-if="library && library.isWritable && !library.isDeletedFromServer"  class="panel-footer-icon shift-padding edgecc-icon" ng-class="{disabled: !addDocContentOperation.enabled}" ng-click="addDocContentOperation.enabled && addDocContentOperation.apply()" edgecc-tooltip tooltip-content="{{addDocContentOperation.iconToolTip | translate}}">{{ addDocContentOperation.icon }}</button>\n\n        <div class="panel-footer-toolbar-spacing"></div>\n\n        <div ng-switch="status.state" ng-mousedown="showNetworkStatus()" ng-mouseup="hideNetworkStatus()" ng-mouseleave="hideNetworkStatus()" ng-click="onStatusClick()">\n            <div ng-switch-when="ok" class="panel-footer-icon-ok edgecc-icon" edgecc-tooltip tooltip-content="{{\'DL_SYNC_OK\' | translate}}" disable="syncStatus.visible">newcreativecloud</div>\n            <div ng-switch-when="syncing" class="panel-footer-icon-syncing edgecc-icon" edgecc-tooltip tooltip-data="status" template-url="\'directives/designlibrary/templates/syncTooltip.tmpl.html\'" disable="syncStatus.visible">newsyncing</div>\n            <div ng-switch-when="error" class="panel-footer-icon-error edgecc-icon" edgecc-tooltip tooltip-data="tooltipData" template-url="\'directives/designlibrary/templates/syncErrorTooltip.tmpl.html\'" disable="syncStatus.visible || ccAppWarning.visible">\n                {{(status.errorType === \'loggedOut\' || status.errorType === \'syncDisabled\') ? \'newcreativecloudwarning\' : \'newcreativeclouderror\'}}\n            </div>\n        </div>\n\n        <div edgecc-drop-files on-drop="onDropDone($data)" drop-types="{{allowedDropTypes}}" drop-sources="{{allowedDropSources}}">\n            <button class="panel-footer-icon shift-padding edgecc-icon" ng-click="doDeleteItems()" ng-class="{disabled: (!hasSelection || uiState.modeParams.type === \'stock\' || !library || !library.isWritable || library.isDeletedFromServer)}" edgecc-tooltip tooltip-content="{{\'DL_FOOTER_DELETE_TOOLTIP\' | translate}}">{{ deleteIcon }}</button>\n        </div>\n    </div>\n\n    <div class="panel-ccapp-warning-container" ng-show="ccAppWarning.visible && uiState.mode !== \'relink\'" is-event-target="isEventTargetCCAppWarning">\n        <div class="panel-ccapp-warning-container-box">\n            <div class="panel-ccapp-warning-message" translate>DL_LAUNCH_CC_APP_MESSAGE</div>\n            <div class="panel-ccapp-warning-footer">\n                <div ng-if="!isWindowsOS" class="panel-ccapp-warning-button" ng-click="hideCCAppWarningMessage()" edgecc-hover>\n                    <span translate>DL_LAUNCH_CC_APP_CANCEL_BUTTON</span>\n                </div>\n                <div class="panel-ccapp-warning-button" ng-click="enableCCApp()" edgecc-hover>\n                    <span class="panel-ccapp-warning-button-icon edgecc-icon">newcreativecloud</span>\n                    <span translate>DL_LAUNCH_CC_APP_ENABLE_BUTTON</span>\n                </div>\n                <div ng-if="isWindowsOS" class="panel-ccapp-warning-button" ng-click="hideCCAppWarningMessage()" edgecc-hover>\n                    <span translate>DL_LAUNCH_CC_APP_CANCEL_BUTTON</span>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class="panel-sync-message-container" ng-if="syncStatus.visible && uiState.mode !== \'relink\'">\n        <div ng-switch="status.state">\n            <div ng-switch-when="ok" class="panel-sync-message" translate>DL_SYNC_OK</div>\n            <div ng-switch-when="syncing" class="panel-sync-message">\n                <span ng-show="status.syncingLibraries.length === 0 && status.syncProgress === undefined" translate>DL_SYNC_PROGRESS</span>\n                <span ng-show="status.syncingLibraries.length === 0 && status.syncProgress !== undefined" translate translate-values="{percent: status.syncProgress}">DL_SYNC_PROGRESS_PERCENT</span>\n\n                <span ng-show="status.syncingLibraries.length > 0" translate translate-values="{number: status.syncingLibraries.length}">DL_SYNC_PROGRESS_NUM_LIBRARIES</span>\n                <div ng-repeat="data in status.syncingLibraries">\n                    <span ng-show="data.library && data.progress !== undefined && data.state === \'downloading\'" translate translate-values="{name: data.truncatedName, percent: data.progress}">DL_DOWNLOAD_LIBRARY_PERCENT</span>\n                    <span ng-show="data.library && data.progress !== undefined && data.state === \'uploading\'" translate translate-values="{name: data.truncatedName, percent: data.progress}">DL_UPLOAD_LIBRARY_PERCENT</span>\n                    <span ng-show="!data.library && data.progress !== undefined" translate translate-values="{percent: data.progress}">DL_DOWNLOAD_NEW_LIBRARY_PERCENT</span>\n                </div>\n            </div>\n            <div ng-switch-when="error" class="panel-sync-message">\n                <span ng-bind-html="errorMessage"></span>\n\n                <br ng-show="status.retryDuration"/>\n                <span ng-show="status.retryDuration" translate translate-values="{duration: status.retryDuration}">DL_SYNC_RETRY</span>\n            </div>\n\n        </div>\n    </div>\n\n    <div class="panel-archive-container" ng-if="archiveVisible" ng-click="hideArchive()">\n        <edgecc-design-library-archive></edgecc-design-library-archive>\n    </div>\n\n    <div class="panel-relink-action" ng-class="{windows: isWindowsOS}" ng-if="uiState.mode === \'relink\'">\n        <button ng-if="!isWindowsOS" class="panel-relink-button-cancel" ng-mouseenter="cancelHover=true" ng-mouseleave="cancelHover=false" ng-class="{hover:cancelHover}" ng-click="cancelRelink()" translate>DL_CANCEL</button>\n        <button class="panel-relink-button-relink action" ng-class="{disabled: !hasSelection, hover:addHover}"  ng-mouseenter="addHover=true" ng-mouseleave="addHover=false" ng-click="relink()">{{uiState.modeParams.actionMessage}}</button>\n        <button ng-if="isWindowsOS" class="panel-relink-button-cancel" ng-mouseenter="cancelHover=true" ng-mouseleave="cancelHover=false" ng-class="{hover:cancelHover}" ng-click="cancelRelink()" translate>DL_CANCEL</button>\n    </div>\n</div>\n'),e.put("directives/designlibrary/templates/designLibraryShowMore.tmpl.html",'<div class="panel-item-showmore">\n    <div class="panel-item-showmore-content" edgecc-hover edgecc-tooltip tooltip-content="{{\'DL_SHOW_MORE_ITEMS_TOOLTIP\' | translate}}" ng-click="showMoreElements()">\n        <span ng-show="!loading" translate translate-values="{count: elementType.elements.length-elementType.limit}">\n            DL_SHOW_MORE_ITEMS\n        </span>\n        <span ng-show="loading" translate>\n            DL_LOADING\n        </span>\n    </div>\n</div>\n'),e.put("directives/designlibrary/templates/designLibraryUndo.tmpl.html",'<div class="panel-dl-undo-toast" ng-class="{hide: !undo.visible, fadeout: undo.timedout}" is-event-target="isEventTargetUndoWarning">\n    <span class="panel-dl-undo-toast-text">{{undo.message}}</span>\n    <span class="panel-dl-undo-toast-action" ng-click="undoDelete()" translate>DL_UNDO_DELETE</span>\n</div>\n'),e.put("directives/designlibrary/templates/dlCategory.tmpl.html",'<div class="panel-category">\n\n    <div ng-if="library.elements.length === 0 && uiState.mode !== \'search\'">\n        <edgecc-dl-empty library="library"></edgecc-dl-empty>\n    </div>\n\n    <div ng-if="webgl" ng-style="{height: scrollHeight + \'px\', position: \'relative\'}">\n        <pixi-overlay component="hoveringComponent"></pixi-overlay>\n    </div>\n\n    <div ng-if="webgl" class="panel-dl-scrollview">\n        <pixi-view scroll-position="scrollPosition" set-scroll-height="setScrollHeight(height)" set-scroll-position="onSetScrollPosition(position)" set-hovering="setHovering(component)"></pixi-view>\n    </div>\n\n    <div ng-if="!webgl" class="edgecc-project-dl-content-category">\n        <!-- Search header -->\n        <div ng-if="searchText && searchResultCount > 0 && !searchAllLibraries" class="panel-search-result-header" translate translate-values="{name: library.name, count: searchResultCount}">{{ searchResultCount === 1 ? \'DL_SEARCH_RESULT_LIBRARY\' : \'DL_SEARCH_RESULTS_LIBRARY\' }}</div>\n        <div ng-if="searchText && searchResultCount > 0 && searchAllLibraries" class="panel-search-result-header" translate translate-values="{count: searchResultCount}">{{ searchResultCount === 1 ? \'DL_SEARCH_RESULT_LIBRARIES\' : \'DL_SEARCH_RESULTS_LIBRARIES\' }}</div>\n\n        <!-- Library content or search results -->\n        <div class="panel-category-section" ng-hide="filteredElements.length === 0 || (uiState.elementTypeFilter && !uiState.elementTypeFilter[data.type])" ng-repeat="data in elementsByType">\n            <div class="panel-type-header" ng-if="!uiState.elementTypeFilter" ng-click="toggleCollapsed(data)">\n                <div class="panel-type-header-arrow" ng-class="{\'panel-type-header-arrow-rotated\': data.collapsed}"></div>\n                <div class="panel-type-header-text">{{::data.displayName}}</div>\n            </div>\n            <div class="panel-type-header-no-cursor" ng-if="uiState.elementTypeFilter && !uiState.modeParams.hideTypeHeader">\n                <div>{{::data.displayName}}</div>\n            </div>\n            <div ng-repeat="component in filteredElements = (data.elements | limitTo: data.limit) track by component.getReference()" ng-if="!data.collapsed || uiState.elementTypeFilter">\n                <!-- RENDERER based on content type -->\n                <div class="edgecc-project-dl-component-contents" ng-click="selectAndAddToDocument($event, component)" ng-dblclick="onDoubleClick($event, component)" ui-draggable="true" drag-channel="dlItem" on-drag="onElementDragStart(component)">\n                    <edgecc-design-library-component native-context-menu="component"></edgecc-design-library-component>\n                </div>\n            </div>\n\n            <!-- Show more items in category -->\n            <edgecc-design-library-show-more ng-if="!data.collapsed && (data.limit < data.elements.length)" element-type="data"></edgecc-design-library-show-more>\n\n            <div style="clear: both"></div>\n        </div>\n    </div>\n\n    <!-- No search result -->\n    <div class="panel-search-result-none-container" ng-if="(webgl ? uiState.mode === \'search\' && uiState.modeParams.text : searchText) && (webgl ? uiState.numResults : searchResultCount) === 0">\n        <div class="panel-search-info">\n            <span ng-click="searchAdobeStock()" translate>DL_SEARCH_LIBRARIES_NO_RESULT</span>\n        </div>\n    </div>\n</div>\n'),e.put("directives/designlibrary/templates/dlEmpty.tmpl.html",'<div class="panel-dl-empty-container" id="emptyPanelContainer">\n    <div class="panel-dl-empty-inner-container" ng-if="!library.isDeletedFromServer">\n        <div class="panel-dl-empty-add edgecc-icon">{{ isProductReadOnly ? \'libraryaccess\' : \'plusdrag\' }}</div>\n        <div class="panel-dl-empty-add-label" translate>{{ isProductReadOnly ? \'DL_EMPTY_LIB_ACCESS_TITLE\' : \'DL_EMPTY_LIB_DRAG_TITLE\' }}</div>\n        <div class="panel-dl-empty-add-instructions" translate>{{instructionMessage}}</div>\n        <div class="panel-dl-empty-help-icon edgecc-icon" edgecc-hover ng-click="howToUseInBrowser()" edgecc-tooltip tooltip-content="{{\'DL_EMPTY_LIB_LEARN_MORE\' | translate}}">question</div>\n        <div ng-hide="!addDocContentOperation || (addDocContentOperation && !addDocContentOperation.enabled)" class="panel-dl-empty-add-doc-content" edgecc-hover ng-click="addDocContentOperation.enabled && addDocContentOperation.apply()" edgecc-tooltip tooltip-content="{{addDocContentOperation.buttonToolTip | translate}}">\n            <span class="panel-dl-empty-add-doc-content-text" translate>{{ addDocContentOperation.buttonName }}</span>\n        </div>\n    </div>\n    <div class="panel-dl-empty-engagement-container" ng-if="!library.isDeletedFromServer && engagementCards.length > 0">\n        <div class="panel-dl-empty-engagement-title" translate>DL_EMPTY_LIB_ENGAGEMENT_TITLE</div>\n        <div class="panel-dl-empty-engagement-card-container">\n            <div class="panel-dl-empty-engagement-card" ng-repeat="engagementCard in engagementCards" ng-if="$index < engagementCardCount" id="emptyPanelEngagementCard" ng-style="getEngagementCardStyle(engagementCard)">\n                <div class="panel-dl-empty-engagement-card-dismiss-container">\n                    <div class="panel-dl-empty-engagement-card-dismiss edgecc-icon" edgecc-hover ng-click="!engagementCard.isProcessing && skipEngagementCard(engagementCard)" edgecc-tooltip tooltip-content="{{\'DL_DISMISS\' | translate}}" ng-class="{disabled: engagementCard.isProcessing}">editclear</div>\n                </div>\n                <div class="panel-dl-empty-engagement-card-info-container">\n                    <div class="panel-dl-empty-engagement-card-info">\n                        <div class="panel-dl-empty-engagement-card-title" edgecc-hover edgecc-tooltip tooltip-content="{{\'DL_EMPTY_LIB_ENGAGEMENT_VIEW_ON_WEBSITE\' | translate}}" ng-click="engagementCardInBrowser(engagementCard.actionURL)">{{engagementCard.bodyCopy}}</div>\n                        <div class="panel-dl-empty-engagement-card-owner" translate translate-values="{ name: engagementCard.author || \'Adobe\' }">DL_EMPTY_LIB_ENGAGEMENT_BY_OWNER</div>\n                    </div>\n                    <div ng-if="!engagementCard.isProcessing" class="panel-dl-empty-engagement-card-action edgecc-icon" edgecc-hover ng-click="processLibraryEngagementCard(engagementCard)" edgecc-tooltip tooltip-content="{{\'DL_FOLLOW\' | translate}}">cloudsync</div>\n                    <div ng-if="engagementCard.isProcessing" class="panel-dl-empty-engagement-card-action-syncing" edgecc-hover edgecc-tooltip tooltip-content="{{\'DL_SYNCING\' | translate}}"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'),e.put("directives/designlibrary/templates/dlNoLibraries.tmpl.html",'<div class="panel-dl-nolibs-container">\n\n    <div ng-if="status.state === \'ok\'" class="panel-dl-nolibs-middle">\n        <div class="panel-dl-nolibs-cc-icon edgecc-icon">creativecloud</div>\n        <div class="panel-dl-nolibs-message" translate>DL_NO_LIBS_MESSAGE</div>\n        <button class="panel-dl-nolibs-create-button hover-on-always" ng-click="showAddLibraryDialog()" translate>DL_NO_LIBS_CREATE_LIBRARY_BUTTON_TEXT</button>\n    </div>\n\n    <div ng-if="status.state === \'error\' && status.errorType === \'loggedOut\'" class="panel-dl-nolibs-middle">\n        <div class="panel-dl-nolibs-alert-icon edgecc-icon">creativecloudwarning</div>\n        <div class="panel-dl-nolibs-message" translate>DL_NO_LIBS_LOGGED_OUT</div>\n    </div>\n\n    <!-- TODO: hopefully this is temporary, until Photoshop can handle the modal JSX problem better -->\n    <div ng-if="status.state === \'error\' && status.errorType === \'jsx\'" class="panel-dl-nolibs-middle">\n        <div class="panel-dl-nolibs-alert-icon edgecc-icon">creativeclouderror</div>\n        <div class="panel-dl-nolibs-message" translate>DL_NO_LIBS_ERROR_INIT</div>\n\n        <button class="panel-dl-nolibs-retry-button hover-on-always" ng-click="reload()" translate>DL_NO_LIBS_RETRY_INIT</button>\n    </div>\n\n    <div ng-if="status.state === \'error\' && status.errorType === \'noService\'" class="panel-dl-nolibs-middle">\n        <div class="panel-dl-nolibs-alert-icon edgecc-icon">creativeclouderror</div>\n        <div class="panel-dl-nolibs-message" translate>DL_NO_LIBS_SERVICE_NOT_INSTALLED</div>\n\n        <a class="panel-dl-nolibs-link" ng-click="installCCApp()" translate>DL_NO_LIBS_GET_IT</a>\n    </div>\n\n    <div ng-if="status.state === \'error\' && status.errorType === \'serviceError\'" class="panel-dl-nolibs-middle">\n        <div class="panel-dl-nolibs-alert-icon edgecc-icon">creativeclouderror</div>\n        <div class="panel-dl-nolibs-message" translate>DL_NO_LIBS_SERVICE_NOT_RUNNING</div>\n\n        <a class="panel-dl-nolibs-link" ng-click="serviceErrorHelp()" translate>DL_NO_LIBS_MORE_INFO</a>\n    </div>\n\n    <div ng-if="status.state === \'error\' && [\'excludeHostnameOSX\', \'excludeHostnameWin\', \'excludeHostnameWin10\', \'verifyDnsSettings\'].indexOf(status.errorType) !== -1" class="panel-dl-nolibs-middle">\n        <div class="panel-dl-nolibs-alert-icon edgecc-icon">creativeclouderror</div>\n        <div class="panel-dl-nolibs-message" translate>DL_NO_LIBS_NETWORK_PROBLEM</div>\n        <a class="panel-dl-nolibs-link" ng-click="serviceErrorHelp(status.errorType)" translate>DL_TROUBLESHOOT_NETWORK_SETTINGS</a>\n\n        <button class="panel-dl-nolibs-retry-button hover-on-always" ng-class="{disabled: status.retryDuration}" ng-click="reconnect()" translate>DL_NO_LIBS_RETRY</button>\n    </div>\n\n    <div ng-if="status.state === \'error\' && status.errorType === \'verifySocketConnection\'" class="panel-dl-nolibs-middle">\n        <div class="panel-dl-nolibs-alert-icon edgecc-icon">creativeclouderror</div>\n        <div class="panel-dl-nolibs-message" translate>DL_NO_LIBS_SOCKET_BLOCKED</div>\n\n        <button class="panel-dl-nolibs-retry-button hover-on-always" ng-class="{disabled: status.retryDuration}" ng-click="reconnect()" translate>DL_NO_LIBS_RETRY</button>\n    </div>\n\n    <div ng-if="status.state === \'error\' && status.errorType === \'updateServer\'" class="panel-dl-nolibs-middle">\n        <div class="panel-dl-nolibs-alert-icon edgecc-icon">creativeclouderror</div>\n        <div class="panel-dl-nolibs-message" translate>DL_NO_LIBS_UPDATE_SERVER</div>\n\n        <a class="panel-dl-nolibs-link" ng-click="updateCCApp()" translate>DL_NO_LIBS_GET_IT</a>\n    </div>\n\n    <div ng-if="status.state === \'error\' && status.errorType === \'updateClient\'" class="panel-dl-nolibs-middle">\n        <div class="panel-dl-nolibs-alert-icon edgecc-icon">creativeclouderror</div>\n        <div class="panel-dl-nolibs-message" translate>DL_NO_LIBS_UPDATE_CLIENT</div>\n\n        <a class="panel-dl-nolibs-link" ng-click="updateCCLibraries()" translate>DL_NO_LIBS_GET_IT</a>\n    </div>\n\n    <div ng-if="status.state === \'error\' && status.errorType === \'syncDisabled\'" class="panel-dl-nolibs-middle">\n        <div class="panel-dl-nolibs-alert-icon edgecc-icon">creativecloudwarning</div>\n        <div class="panel-dl-nolibs-message" translate>DL_NO_LIBS_SYNC_DISABLED</div>\n\n        <button class="panel-dl-nolibs-retry-button hover-on-always" ng-click="enableCCApp()" translate>DL_LAUNCH_CC_APP_ENABLE_BUTTON</button>\n    </div>\n\n    <div ng-if="status.state === \'error\' && [\'noService\', \'serviceError\', \'updateClient\', \'updateServer\', \'loggedOut\', \'jsx\', \'syncDisabled\', \'excludeHostnameOSX\', \'excludeHostnameWin\', \'excludeHostnameWin10\', \'verifyDnsSettings\', \'verifySocketConnection\'].indexOf(status.errorType) === -1" class="panel-dl-nolibs-middle">\n        <div class="panel-dl-nolibs-alert-icon edgecc-icon">creativeclouderror</div>\n        <div class="panel-dl-nolibs-message" ng-bind-html="errorMessage"></div>\n\n        <div ng-show="status.retryDuration" class="panel-dl-nolibs-message" translate translate-values="{duration: status.retryDuration}">DL_SYNC_RETRY</div>\n        <button ng-show="status.errorType !== \'noAccess\'" class="panel-dl-nolibs-retry-button hover-on-always" ng-class="{disabled: status.retryDuration}" ng-click="retry()" translate>DL_NO_LIBS_RETRY</button>\n\n        <button class="panel-dl-nolibs-create-button hover-on-always" ng-click="showAddLibraryDialog()" translate>DL_NO_LIBS_CREATE_LIBRARY_BUTTON_TEXT</button>\n    </div>\n\n    <div ng-if="status.state === \'syncing\'" class="panel-dl-nolibs-middle">\n        <div class="panel-dl-nolibs-cc-icon-syncing edgecc-icon">creativecloud</div>\n        <div class="panel-dl-nolibs-message" translate>DL_NO_LIBS_SYNCING</div>\n        <div class="panel-dl-nolibs-progress-bar panel-progress-bar-large">\n            <div class="panel-progress-bar-inner-large" ng-style="{width: progressWidth}"></div>\n        </div>\n        <button class="panel-dl-nolibs-create-button-syncing hover-on-always" ng-click="showAddLibraryDialog()" translate>DL_NO_LIBS_CREATE_LIBRARY_BUTTON_TEXT</button>\n    </div>\n\n</div>\n'),e.put("directives/designlibrary/templates/dlStock.tmpl.html",'<div class="panel-dl-stock">\n    <div ng-style="searchOpionsStyle" ng-hide="error || !assets">\n        <div class="panel-stock-search-result-header" ng-click="toggleSearchOptions()">\n            <div class="panel-stock-search-result-arrow" ng-class="{\'panel-stock-search-result-arrow-rotated\': showSearchOptions}"><span class="edgecc-icon">next</span></div>\n            <span style="padding-left: 5px" translate> {{ findSimilarId || findSimilarUrl || findSimilarPath ? \'DL_SEARCH_SIMILAR_RESULTS_STOCK\' : \'DL_SEARCH_RESULTS_STOCK\' }}</span>\n        </div>\n        <div ng-show="showSearchOptions">\n            <label ng-repeat="option in searchOptions" class="panel-dl-stock-option-label">\n                <input type="checkbox" ng-model="searchOptionValues[option.id]" ng-value="searchOptionValues[option.id]" ng-click="doSearchOptionChanged()"><span style="padding-left: 5px" translate>{{option.label}}</span></input>\n            </label>\n        </div>\n    </div>\n    <div class="panel-dl-stock-loading" ng-show="isLoading">\n        <div class="panel-dl-stock-loading-icon"><img src="images/wait_32.gif"/></div>\n        <div class="panel-dl-stock-loading-message" translate>DL_STOCK_PANEL_SEARCHING_MESSAGE</div>\n    </div>\n\n    <div class="panel-dl-stock-error" ng-show="!isLoading && offline && (!assets || assets.length === 0)">\n        <div class="panel-dl-stock-no-connection-icon edgecc-icon">newcreativecloudwarning</div>\n        <div class="panel-dl-stock-message" translate>DL_STOCK_PANEL_NO_CONNECTION_MESSAGE</div>\n    </div>\n\n    <div class="panel-dl-stock-error" ng-show="!isLoading && !offline && error && assets && assets.length === 0">\n        <div class="panel-dl-stock-message" translate>DL_STOCK_PANEL_SEARCH_ERROR</div>\n    </div>\n\n    <div class="panel-dl-stock-noresult" ng-show="!isLoading && !offline && !error && assets && assets.length === 0">\n        <div class="panel-dl-stock-noresult-message" translate>DL_STOCK_PANEL_NO_RESULT_MESSAGE</div>\n        <div class="panel-search-info"><div class="panel-dl-stock-noresult-tips-message" translate>DL_STOCK_PANEL_RESULT_TIPS</div></div>\n    </div>\n    <div class="panel-dl-stock-content" ng-show="assets" id="stockContent">\n       <div ng-repeat="asset in assets" class="panel-dl-stock-content-item" ng-mouseenter="hoverEnter(asset)" ng-mouseleave="hoverLeave(asset)">\n            <div ui-draggable="true" drag-component="asset" drag-channel="dlItem" on-drag-start="onElementDragStart(asset)" drag-data="stockDragData" on-drop-end="onElementDrop(asset, didDropSucceed)" ng-dblclick="showAssetOnWeb(asset)" edgecc-tooltip tooltip-content="{{getTooltip(asset)}}">\n                <img ng-if="asset.media_type_id !== 4" id="stockSearchThumbnail{{asset.id}}" class="panel-dl-stock-content-item-img" ng-src="{{asset.thumbnail_url}}" ng-style="{width: asset.rowWidth + \'px\', height: asset.rowHeight + \'px\'}" native-context-menu="asset" context-menu-save-callback="addAssetToLibrary" context-menu-save-preview="canSaveComp(asset)"/>\n                <dl-video-preview ng-if="asset.media_type_id === 4" asset="asset" offline="offline" native-context-menu="asset" context-menu-save-callback="addAssetToLibrary" context-menu-save-preview="canSaveComp(asset)"></dl-video-preview >\n            </div>\n\n            <dl-stock-badge asset="asset"></dl-stock-badge>\n\n            <div ng-if="!asset.saving" ng-class="asset.isVerticalLayout ? \'panel-dl-stock-content-item-hover-vertical\' : \'panel-dl-stock-content-item-hover\'">\n               <!-- Asset already licensed -->\n                <div ng-if="asset.is_licensed" class="panel-dl-stock-content-item-licensed search-asset-icon" edgecc-tooltip tooltip-content="{{\'DL_STOCK_LICENSED_SEARCH_RESULT\' | translate}}"><div class="panel-dl-stock-content-item-icon-licensed edgecc-icon">checkmark</div></div>\n               <!-- License asset action -->\n               <div ng-if="asset.active && !asset.is_licensed" class="panel-dl-stock-content-item-action search-asset-icon" ng-class="{disabled: !library.isWritable}" edgecc-tooltip tooltip-content="{{library.isWritable ? \'DL_STOCK_LICENSE_THEN_SAVE_TO_TOOLTIP\' : \'DL_ERROR_EDIT_READ_ONLY_LIBRARY\' | translate:library}}" ng-click="library.isWritable && addToLibrary(asset, $event, true)" edgecc-hover><div class="panel-dl-stock-content-item-icon edgecc-icon" ng-class="{disabled: !library.isWritable}">shoppingcart</div></div>\n               <!-- Save/Save preview action (no save preview for templates) -->\n                <div ng-if="asset.active && (asset.is_licensed || canSaveComp(asset))" class="panel-dl-stock-content-item-action search-asset-icon" ng-class="{disabled: !library.isWritable}" edgecc-tooltip tooltip-content="{{library.isWritable ? (asset.is_licensed ? \'DL_STOCK_SAVE_TO_TOOLTIP\' : \'DL_STOCK_SAVE_PREVIEW_TO_TOOLTIP\') : \'DL_ERROR_EDIT_READ_ONLY_LIBRARY\' | translate:library}}" ng-click="(offline && asset.is_licensed && asset.is_licensed !== \'\') ? showOfflineErrorDialog(asset) : library.isWritable && addToLibrary(asset, $event, asset.is_licensed)" edgecc-hover><div class="panel-dl-stock-content-item-icon edgecc-icon" ng-class="{disabled: !library.isWritable}">cloudsync</div></div>\n            </div>\n        </div>\n        <div class="panel-dl-stock-view-on-web" ng-show="assets && assets.length > 0 && assets.length >= requestedResultSize && !findSimilarUrl && !findSimilarPath" ng-click="searchOnWeb()" edgecc-hover>\n            <div class="panel-dl-stock-view-on-web-message" translate>DL_STOCK_PANEL_SEARCH_ON_WEB</div>\n        </div>\n        <div class="panel-dl-stock-tips" ng-show="assets && assets.length > 0 && assets.length < requestedResultSize && !findSimilarId && !findSimilarUrl && !findSimilarPath">\n            <div>\n                <div translate translate-values="{count: assets.length}">DL_STOCK_PANEL_RESULT_COUNT</div>\n                <div translate>DL_STOCK_PANEL_RESULT_TIPS</div>\n            </div>\n        </div>\n    </div>\n</div>\n'),e.put("directives/designlibrary/templates/dlStockBadge.tmpl.html",'<div class="panel-dl-stock-content-footer-bar"\n     ng-class="{ \'panel-dl-stock-badge-video\': stockBadgeCtrl.isVideo() }">\n    <div ng-if="stockBadgeCtrl.isShown()" class="panel-dl-stock-content-footer-bar-rect">\n        <div class="panel-dl-stock-content-footer-bar-text"\n            ng-if="stockBadgeCtrl.isFreeAsset(asset)" translate>DL_STOCK_FOOTER_BAR_FREE</div>\n\n        <div class="panel-dl-stock-content-footer-bar-text"\n            ng-if="stockBadgeCtrl.isPremiumAsset()">\n            <span translate>DL_STOCK_FOOTER_BAR_PREMIUM</span>\n\n            <span ng-if="stockBadgeCtrl.assetHasPrice()">\n                ({{stockBadgeCtrl.asset.price}})\n            </span>\n        </div>\n\n        <div class="panel-dl-stock-content-footer-bar-text panel-dl-stock-content-footer-bar-text-editorial"\n            ng-if="stockBadgeCtrl.isEditorialAsset()">\n            <span translate>DL_STOCK_SEARCH_OPTION_EDITORIAL</span>\n        </div>\n    </div>\n</div>\n'),e.put("directives/designlibrary/templates/dlVideoPreview.tmpl.html",'<div ng-mousemove="scanVideo($event)">\n    <video class="panel-dl-stock-content-item-img" preload="none" ng-attr-poster="{{asset.thumbnail_url}}" muted="muted" ng-style="{width: asset.rowWidth + \'px\', height: asset.rowHeight + \'px\'}">\n        <source ng-src="{{asset.video_small_preview_url}}" type="video/mp4">\n    </video>\n    <img id="stockSearchThumbnail{{asset.id}}" ng-src="{{asset.thumbnail_url}}" ng-style="{width: asset.rowWidth + \'px\', height: asset.rowHeight + \'px\', display: \'none\'}"/>\n    <div class="edgecc-core-overlay-dimmed-top-right" ng-if="videoState === \'error\' && asset.active" edgecc-tooltip tooltip-content="{{ \'DL_OFFLINE_VIDEO_PREVIEW\' | translate }}">\n        <div class="panel-core-overlay-icon-warning edgecc-icon">alert</div>\n    </div>\n    <div class="panel-dl-stock-content-video-slider"><span class="panel-dl-stock-content-video-slider-handle"></span></div>\n    <div class="panel-dl-stock-content-video-bar" ng-style="asset.active ? {\'opacity\': \'0\'} : \'\'">\n        <div class="panel-dl-stock-content-footer-bar-rect">\n            <div class="panel-dl-stock-content-video-bar-duration">{{getRoundedDuration()}}</div>\n            <div ng-repeat="type in getLicenseTypes()" class="panel-dl-stock-content-video-bar-license">{{type}}</div>\n        </div>\n    </div>\n</div>'),e.put("directives/designlibrary/templates/pixiOverlay.tmpl.html",'<div>\n    <div id="pixi-overlay" class="panel-grid-item-overlay" ng-show="component.visible" ng-style="component.position"\n         ng-click="selectAndAddToDocument($event)" ng-dblclick="onDoubleClick($event)" native-context-menu="component.element"\n         drag-component="component.element" ui-draggable="true" drag-channel="dlItem" on-drag="onElementDragStart()"\n         edgecc-tooltip tooltip-data="component.resource.tooltipData" template-url="component.resource.tooltipTemplateUrl">\n\n         <div ng-repeat="subElement in component.resource.subElements" ng-style="subElement.position"\n              ng-click="selectAndAddToDocument($event, subElement.data)"\n              ng-dblclick="onDoubleClick($event, subElement.data)"\n              native-context-menu="component.element" context-menu-sub-element="subElement.data"\n              edgecc-tooltip tooltip-data="subElement.tooltipData" template-url="subElement.tooltipTemplateUrl">\n\n         </div>\n        <div ng-if="component.resource.showDownloadProgressTooltip" ng-style="component.resource.downloadingOverlayPosition" edgecc-tooltip tooltip-content="{{component.resource.downloadTooltip}}"></div>\n        <div class="panel-grid-item-overlay-name-container" ng-style="component.textPosition" ng-dblclick="startEditName($event)"></div>\n    </div>\n    <div class="panel-grid-item-overlay" ng-show="editState.active" ng-style="editState.position" ng-mouseover="mouseOverEditing($event)">\n        <div class="panel-grid-item-overlay-name-container editing" ng-style="editState.textPosition">\n            <input class="panel-grid-item-edit-name" ng-if="editState.active" type="text"\n                   ng-model="editState.name" placeholder="{{\'DL_EDIT_NAME_PLACEHOLDER\' | translate}}"\n                   ng-keydown="handleKeyDown($event)" edgecc-set-focus="editState.setFocus" ng-blur="finishEditName()" spellcheck="false"/>\n        </div>\n    </div>\n</div>\n'),
e.put("directives/designlibrary/templates/syncErrorTooltip.tmpl.html",'<div class="tooltip">\n    <span ng-bind-html="data.errorMessage"></span>\n    <br ng-show="data.status.retryDuration"/>\n    <span ng-show="data.status.retryDuration" translate translate-values="{duration: data.status.retryDuration}">DL_SYNC_RETRY</span>\n</div>\n'),e.put("directives/designlibrary/templates/syncTooltip.tmpl.html",'<div class="tooltip">\n    <span ng-show="data.syncingLibraries.length === 0 && data.syncProgress === undefined" translate>DL_SYNC_PROGRESS</span>\n    <span ng-show="data.syncingLibraries.length === 0 && data.syncProgress !== undefined" translate translate-values="{percent: data.syncProgress}">DL_SYNC_PROGRESS_PERCENT</span>\n\n    <span ng-show="data.syncingLibraries.length > 0" translate translate-values="{number: data.syncingLibraries.length}">DL_SYNC_PROGRESS_NUM_LIBRARIES</span>\n    <div ng-repeat="libData in data.syncingLibraries">\n        <span ng-show="libData.library && libData.progress !== undefined && libData.state === \'downloading\'" translate translate-values="{name: libData.truncatedName, percent: libData.progress}">DL_DOWNLOAD_LIBRARY_PERCENT</span>\n        <span ng-show="libData.library && libData.progress !== undefined && libData.state === \'uploading\'" translate translate-values="{name: libData.truncatedName, percent: libData.progress}">DL_UPLOAD_LIBRARY_PERCENT</span>\n        <span ng-show="!libData.library && libData.progress !== undefined" translate translate-values="{percent: libData.progress}">DL_DOWNLOAD_NEW_LIBRARY_PERCENT</span>\n    </div>\n</div>\n'),e.put("directives/templates/disclosureTriangle.tmpl.html",'<div>\n    <div ng-click="toggle($event)" ng-class="disclosureClass" edgecc-hover></div>\n</div>\n'),e.put("directives/templates/insert.tmpl.html",'<div class="insert-menu-container" is-event-target="isAddMenuTarget">\n    <button ng-class="{disabled: disabled, \'hover-on-always\': menuShown}" class="panel-footer-icon">\n        <div class="edgecc-icon" ng-mousedown="!disabled && toggleMenu()" edgecc-tooltip tooltip-content="{{\'DL_INSERT_TOOLTIP\' | translate}}" >add</div>\n    </button>\n    <div ng-if="menuShown && !disabled" class="panel-insert-menu" ng-style="menuStyle">\n        <div ng-repeat="op in layerOperations | orderBy:\'order\'" ng-class="{disabled: op.disabled}" class="panel-insert-menu-item" ng-if="library && library.isWritable && !library.isDeletedFromServer && !op.disabled" edgecc-tooltip tooltip-data="op.toolTipData" template-url="op.toolTipTemplate">\n            <label class="panel-insert-menu-input"><input type="checkbox" ng-model="op.checked" ng-value="op.checked" ng-click="selectionChanged(op)"><span class="panel-insert-menu-item-text">{{op.name | translate}}</span></input></label>\n            <span class="panel-insert-menu-item-icon edgecc-icon" ng-style="op.style">{{op.icon}}</span>\n        </div>\n        <div class="panel-insert-menu-item-buttons" ng-class="{isWindowsOS: isWindowsOS}">\n            <button class="panel-insert-menu-add-button" ng-mouseenter="addHover=true" ng-mouseleave="addHover=false" ng-class="{disabled: isAddDisabled(), hover:addHover}" ng-click="isAddDisabled() || insertSelection()">{{\'DL_INSERT_ADD\' | translate}}</button>\n            <button class="panel-insert-menu-cancel-button"  ng-mouseenter="cancelHover=true" ng-mouseleave="cancelHover=false" ng-class="{hover:cancelHover}" ng-click="hideMenu()">{{\'DL_INSERT_CANCEL\' | translate}}</button>\n        </div>\n    </div>\n</div>\n'),e.put("directives/templates/modalDialog.tmpl.html",'<div ng-show="showDialog" ng-class="dialogClass" ng-click="hideDialog()">\n\n    <div ng-class="fullScreen ? \'panel-dialog-window-fullscreen\' : \'panel-dialog-window\'" ng-click="stopPropagation($event)">\n\n        <div class="panel-dialog-divider-container"><div class="panel-dialog-divider"></div></div>\n\n        <div class="panel-dialog-header">\n           <div class="panel-dialog-title" ng-bind="titleText | translate" ng-class="errorMode ? \'panel-dialog-error-color\' : \'\'"></div>\n<!--            <a href ng-show="canCancel" ng-click="hideDialog()" class="panel-dialog-close-button edgecc-icon">cancel</a>-->\n        </div>\n\n        <div class="panel-dialog-contents" ng-class="fullScreen ? \'panel-dialog-contents-fullscreen\' : \'\'" ng-transclude></div>\n\n        <div style="clear:both"></div>\n        <div ng-class="fullScreen ? \'panel-dialog-footer-fullscreen\' : \'panel-dialog-footer\'">\n            <div ng-if="!isWindowsOS" class="panel-dialog-button" ng-show="cancelText">\n                <button class="hover-on-always" ng-click="hideDialog()" translate>{{cancelText}}</button>\n            </div>\n            <div ng-if="isWindowsOS" class="panel-dialog-button">\n                <button ng-show="okText" class="hover-on-always action" ng-class="{disabled: disableOk}" ng-click="!disableOk && onSubmit()(okText)" translate>{{okText}}</button>\n            </div>\n            <div class="panel-dialog-button" ng-if="secondaryOkText">\n                <button class="hover-on-always" ng-click="onSubmit()(secondaryOkText)" translate>{{secondaryOkText}}</button>\n            </div>\n            <div ng-if="!isWindowsOS" class="panel-dialog-button">\n                <button ng-show="okText" class="hover-on-always action" ng-class="{disabled: disableOk}" ng-click="!disableOk && onSubmit()(okText)" translate>{{okText}}</button>\n            </div>\n            <div ng-if="isWindowsOS" class="panel-dialog-button" ng-show="cancelText">\n                <button class="hover-on-always" ng-click="hideDialog()" translate>{{cancelText}}</button>\n            </div>\n        </div>\n    </div>\n\n</div>\n'),e.put("directives/templates/search.tmpl.html",'<div class="panel-search">\n    <input ng-model="search.text" ng-disabled="disable" class="panel-search-input" edgecc-tooltip tooltip-content="{{search.placeholder}}" type="search" results="0" edgecc-set-focus="setFocus" placeholder="{{search.placeholder}}" on-search="searchRequested()" ng-focus="searchFocused(\'focus\')" ng-blur="searchFocused(\'blur\')" onClick="this.select()" spellcheck="false">\n    <div class="edgecc-icon panel-search-cancel" ng-mouseenter="searchCancelHasFocus = true" ng-mouseleave="searchCancelHasFocus = false"  ng-show="showSearchCancel || searchCancelHasFocus" ng-click="cancelSearch()">editclear</div>\n    <div class="panel-search-toggle" ng-class="{\'panel-search-toggle-selected\': menuShown, \'panel-search-toggle-disabled\': disable}" ng-click="toggleMenu()"><div class="panel-search-toggle-triangle"></div></div>\n    <div ng-show="menuShown" class="panel-search-types" is-event-target="isSearchDropDownTarget">\n        <div ng-repeat="type in types" class="panel-select-menu-item" edgecc-hover ng-click="setSearchType(type)">\n            <div class="edgecc-icon panel-menu-icon" ng-show="search.type === type">checkmark</div>\n            <div class="edgecc-icon panel-menu-icon" ng-show="search.type !== type"></div>\n            <div class="panel-menu-label" ng-class="{\'panel-menu-label-selected\': search.type === type}" translate>{{\'DL_SEARCH_\' + type.toUpperCase()}}</div>\n        </div>\n    </div>\n</div>\n'),e.put("directives/templates/select.tmpl.html",'<div class="panel-select" ng-mousedown="toggleMenu($event)" edgecc-hover>\n    <div class="edgecc-icon" ng-show="selectedItem.collaboration && selectedItem.isWritable" edgecc-tooltip tooltip-content="{{\'DL_LIB_SHARED_TOOLTIP\' | translate}}">group</div>\n    <div class="edgecc-icon" ng-show="selectedItem.collaboration && !selectedItem.isWritable" edgecc-tooltip tooltip-content="{{\'DL_LIB_READONLY_TOOLTIP\' | translate}}">readonly</div>\n    <div class="edgecc-icon" ng-show="selectedItem.collection.isPublic" edgecc-tooltip tooltip-content="{{\'DL_LIB_FOLLOWED_TOOLTIP\' | translate}}">subscribed</div>\n    <div class="panel-select-menu-label">{{selectedItem[displayField].trim().split(" ").join("&nbsp;")}}</div>\n</div>\n'),e.put("directives/templates/selectItem.tmpl.html",' <div ng-class="{\'panel-select-menu-current\': (selectedItem && !recent), \'selected\': (selectedItem && recent)}" class="panel-select-menu-item" edgecc-hover>\n    <div class="edgecc-icon panel-menu-icon" ng-show="selectedItem">checkmark</div>\n    <div class="edgecc-icon panel-menu-icon" ng-show="item.collaboration && item.isWritable && !selectedItem" edgecc-tooltip tooltip-content="{{\'DL_LIB_SHARED_TOOLTIP\' | translate}}">group</div>\n    <div class="edgecc-icon panel-menu-icon" ng-show="item.collaboration && !item.isWritable && !selectedItem" edgecc-tooltip tooltip-content="{{\'DL_LIB_READONLY_TOOLTIP\' | translate}}">readonly</div>\n    <div class="edgecc-icon panel-menu-icon" ng-show="item.collection.isPublic && !selectedItem" edgecc-tooltip tooltip-content="{{\'DL_LIB_FOLLOWED_TOOLTIP\' | translate}}">subscribed</div>\n    <div class="edgecc-icon panel-menu-icon" ng-show="!item.collaboration && !item.collection.isPublic && !selectedItem"></div>\n\n    <div ng-class="{\'panel-menu-label-selected\': (selectedItem)}" class="panel-menu-label">{{item[displayField].trim().split(" ").join("&nbsp;")}}</div>\n</div>\n'),e.put("directives/templates/selectMenu.tmpl.html",'<div class="panel-select-menu" ng-style="menuStyle">\n    <div ng-show="(!isCreativeCloud || switchingEnabled) && !librarySelectionOnlyMode" class="panel-select-menu-item panel-select-header">\n        <div class="panel-menu-label panel-select-header-text">{{collectionName}}</div>\n        <button ng-show="switchingEnabled" class="edgecc-icon panel-select-cloud-switch-icon" edgecc-tooltip tooltip-content="{{\'DL_MENU_CHANGE_CLOUD_TOOLTIP\' | translate}}" ng-click="changeCloud()">changecloud</button>\n    </div>\n    <div ng-style="menuContainerStyle" edgecc-scroll-to-top="scrollPosition.scrollToTop">\n        <div ng-repeat="item in optionsArray | orderBy:orderByFunction:true | filter: limitToFilterFunction" class="most-recent-view">\n            <select-item item="item" selected-item="item === selectedItem" ng-click="select(item)" recent="true" display-field="{{displayField}}"></select-item>\n        </div>\n        <div ng-if="optionsArray.length > LIBRARY_MIN" class="panel-select-subdivider"></div>\n        <div ng-if="optionsArray.length > LIBRARY_MIN" ng-repeat="item in orderedLibraryList" class="list-view">\n            <select-item item="item" selected-item="item === selectedItem" ng-click="select(item)" recent="false" display-field="{{displayField}}"></select-item>\n        </div>\n    </div>\n    <div class="panel-select-divider" ng-hide="librarySelectionOnlyMode"></div>\n    <div ng-click="showCreateDialog()" class="panel-select-menu-item" ng-hide="librarySelectionOnlyMode" edgecc-hover>\n        <span class="edgecc-icon anel-menu-icon">plus</span>\n        <span class="panel-menu-label" translate>DL_MENU_CREATE_LIB</span>\n    </div>\n</div>\n'),e.put("configuration/designlibrary/3d/tooltip.tmpl.html",'<div class=\'tooltip\'>\n    <span ng-if="data.name" ng-bind-html="data.name"></span>\n    <br ng-if="data.name"/>\n    <span ng-if="data.createdIn"><span translate>DL_CREATED_IN</span> <span translate>{{data.createdIn}}</span></span>\n    <span ng-if="data.type"><span translate>DL_TYPE</span> <span>{{data.type}}</span> <span ng-if="data.threeDtype" translate>{{data.threeDtype}}</span></span>\n    <br ng-if="data.isStockAsset"/>\n    <span ng-if="data.isStockAsset"><span translate>DL_ADOBE_STOCK_MODEL</span></span>\n    <br ng-if="data.isStockAsset"/>\n    <span ng-if="data.isStockAsset && data.isLicensed"><span translate>DL_LICENSED</span></span>\n    <span ng-if="data.isStockAsset && !data.isLicensed"><span translate>DL_UNLICENSED</span></span>\n    <div ng-if="data.libraryName"><span translate translate-values="data">DL_ITEM_LIBRARY_TOOLTIP</span></div>\n</div>\n'),e.put("configuration/designlibrary/3d/view.tmpl.html",'<div ui-draggable="true" drag-component="component" drag-channel="dlItem" on-drag-start="onElementDragStart()" ng-if="uiState.view === \'grid\'" class="panel-3d-item" ng-class="{selected: selected, \'disabled-item\': disabled}" edgecc-hover edgecc-tooltip tooltip-data="tooltip" template-url="\'configuration/designlibrary/3d/tooltip.tmpl.html\'">\n    <div class="panel-3d-item-img" draggable="false" ng-class="{\'panel-thumbnail-disabled\': disabled}" ng-show="imageUrl && loadedRenditionUrl" ng-style="{\'background-image\': \'url(\\\'\' + imageUrl + \'\\\')\'}"></div>\n    <div ng-show="!imageUrl && loadedRenditionUrl" class="edgecc-icon panel-grid-icon-missing-rendition panel-no-rendition-holder missing-3d-rendition-icon">newcreativecloud</div>\n    <div class="edgecc-core-overlay-container" ng-hide="loadedRenditionUrl">\n        <div class="topcoat-spinner edgecc-core-overlay-center"></div>\n    </div>\n    <div class="edgecc-core-overlay-dimmed-top-right" ng-if="downloadPending && loadedRenditionUrl" edgecc-tooltip tooltip-content="{{downloadTooltip}}">\n        <div class="panel-core-overlay-icon-syncing edgecc-icon" ng-show="downloadProgress !== -1">newsyncing</div>\n        <div class="panel-core-overlay-icon-warning edgecc-icon" ng-show="downloadProgress === -1">alert</div>\n    </div>\n    <div class="panel-grid-selected-overlay" ng-class="{\'disabled-overlay\': disabled}"></div>\n    <design-library-editable-grid-name component="component" selected="selected"></design-library-editable-grid-name>\n    <div ng-if="tooltip.isLicensed" class="panel-dl-stock-content-item-licensed-mini" ng-class="{\'disabled\': disabled}" edgecc-tooltip tooltip-content="{{\'DL_LICENSED\' | translate}}">\n        <div class="panel-dl-stock-content-item-icon-licensed-mini edgecc-icon">checkmark</div>\n    </div>\n</div>\n<div ui-draggable="true" drag-component="component" drag-channel="dlItem" on-drag-start="onElementDragStart()" ng-if="uiState.view === \'list\'" class="panel-list-item" ng-class="{selected: selected, \'disabled-item\': disabled}" edgecc-hover edgecc-tooltip tooltip-data="tooltip" template-url="\'configuration/designlibrary/3d/tooltip.tmpl.html\'">\n    <div class="panel-list-3d-item-thumb">\n        <div class="panel-list-3d-item-img" ng-class="{\'panel-thumbnail-disabled\': disabled}" ng-style="{\'background-image\': \'url(\\\'\' + imageUrl + \'\\\')\'}" ng-show="imageUrl && loadedRenditionUrl"></div>\n        <div ng-show="!imageUrl && loadedRenditionUrl" class="edgecc-icon panel-list-icon-missing-rendition missing-3d-rendition-icon">newcreativecloud</div>\n        <div class="topcoat-spinner edgecc-core-overlay-center" ng-hide="loadedRenditionUrl"></div>\n        <div class="edgecc-core-overlay-dimmed-center" ng-if="downloadPending && loadedRenditionUrl" edgecc-tooltip tooltip-content="{{downloadTooltip}}">\n            <div class="panel-core-overlay-icon-syncing-list edgecc-icon" ng-show="downloadProgress !== -1">newsyncing</div>\n            <div class="panel-core-overlay-icon-warning-list edgecc-icon" ng-show="downloadProgress === -1">alert</div>\n        </div>\n    </div>\n    <design-library-editable-list-name component="component"></design-library-editable-list-name>\n</div>\n'),e.put("configuration/designlibrary/animation/tooltip.tmpl.html",'<div class=\'tooltip\'>\n    <span ng-if="data.name" ng-bind-html="data.name"></span>\n    <br ng-if="data.name"/>\n    <span ng-if="data.createdIn"><span translate>DL_CREATED_IN</span> <span translate>{{data.createdIn}}</span></span>\n    <span ng-if="data.type"><span translate>DL_TYPE</span> <span>{{data.type}}</span></span>\n    <br ng-if="data.createdIn || data.type"/>\n    <span ng-if="data.filesize">{{data.filesize}}</span>\n    <br ng-if="data.isStockAsset && data.filesize"/>\n    <span ng-if="data.isStockAsset"><span translate>DL_ADOBE_STOCK_PHOTO</span></span>\n    <br ng-if="data.isStockAsset"/>\n    <span ng-if="data.isStockAsset && data.isLicensed"><span translate>DL_LICENSED</span></span>\n    <span ng-if="data.isStockAsset && !data.isLicensed"><span translate>DL_UNLICENSED</span></span>\n    <div ng-if="data.libraryName"><span translate translate-values="data">DL_ITEM_LIBRARY_TOOLTIP</span></div>\n</div>\n'),e.put("configuration/designlibrary/animation/view.tmpl.html",'<div ng-if="uiState.view === \'grid\'" class="panel-animation-item" ng-class="{selected: selected, \'disabled-item\': disabled}" img-size edgecc-hover edgecc-tooltip tooltip-data="tooltip" template-url="\'configuration/designlibrary/animation/tooltip.tmpl.html\'" ui-draggable="true" drag-component="component" drag-channel="dlItem" on-drag="onElementDragStart()">\n    <div class="panel-animation-item-img-holder" ng-class="{\'panel-thumbnail-disabled\': disabled}" ng-show="loadedRenditionUrl && imageUrl" ng-style="imgStyle">\n        <img class="panel-animation-item-img" image-on-load ng-src="{{imageUrl}}" style="display: none">\n    </div>\n    <div class="panel-no-rendition-holder" ng-show="loadedRenditionUrl && !imageUrl">\n        <span class="edgecc-icon panel-grid-icon-missing-rendition panel-animation-no-rendition-icon">newcreativecloud</span>\n    </div>\n    <div class="edgecc-core-overlay-container" ng-show="!loadedRenditionUrl">\n        <div class="topcoat-spinner edgecc-core-overlay-center"></div>\n    </div>\n    <div class="edgecc-core-overlay-dimmed-top-right" ng-if="downloadPending && loadedRenditionUrl" edgecc-tooltip tooltip-content="{{downloadTooltip}}">\n        <div class="panel-core-overlay-icon-syncing edgecc-icon" ng-show="downloadProgress !== -1">newsyncing</div>\n        <div class="panel-core-overlay-icon-warning edgecc-icon" ng-show="downloadProgress === -1">alert</div>\n    </div>\n    <div class="panel-grid-selected-overlay" ng-class="{\'disabled-overlay\': disabled}"></div>\n    <design-library-editable-grid-name component="component" selected="selected"></design-library-editable-grid-name>\n    <div ng-if="tooltip.isLicensed" class="panel-dl-stock-content-item-licensed-mini" ng-class="{\'disabled\': disabled}" edgecc-tooltip tooltip-content="{{\'DL_LICENSED\' | translate}}">\n        <div class="panel-dl-stock-content-item-icon-licensed-mini edgecc-icon">checkmark</div>\n    </div>\n</div>\n<div ng-if="uiState.view === \'list\'" class="panel-list-item" ng-class="{selected: selected, \'disabled-item\': disabled}" edgecc-hover edgecc-tooltip tooltip-data="tooltip" template-url="\'configuration/designlibrary/animation/tooltip.tmpl.html\'" ui-draggable="true" drag-component="component" drag-channel="dlItem" on-drag="onElementDragStart()">\n    <div class="panel-list-animation-item-thumb" img-size>\n        <div class="panel-animation-item-img-holder" ng-class="{\'panel-thumbnail-disabled\': disabled}" ng-show="loadedRenditionUrl && imageUrl" ng-style="imgStyle">\n            <img class="panel-animation-item-img" image-on-load ng-src="{{imageUrl}}" style="display: none">\n        </div>\n        <div class="panel-no-rendition-holder" ng-show="loadedRenditionUrl && !imageUrl">\n            <span class="edgecc-icon panel-list-icon-missing-rendition panel-image-no-rendition-icon">newcreativecloud</span>\n        </div>\n        <div class="topcoat-spinner edgecc-core-overlay-center" ng-show="!loadedRenditionUrl"></div>\n        <div class="edgecc-core-overlay-dimmed-center" ng-if="downloadPending && loadedRenditionUrl" edgecc-tooltip tooltip-content="{{downloadTooltip}}">\n            <div class="panel-core-overlay-icon-syncing-list edgecc-icon" ng-show="downloadProgress !== -1">newsyncing</div>\n            <div class="panel-core-overlay-icon-warning-list edgecc-icon" ng-show="downloadProgress === -1">alert</div>\n        </div>\n    </div>\n    <design-library-editable-list-name component="component"></design-library-editable-list-name>\n    <div ng-if="badgeText" class="panel-animation-list-item-filetype">{{badgeText}}</div>\n</div>\n'),e.put("configuration/designlibrary/brush/tooltip.tmpl.html",'<div class=\'tooltip\'>\n    <span ng-if="data.name" ng-bind-html="data.name"></span>\n    <br ng-if="data.name"/>\n    <span translate>DL_TYPE</span> <span translate>{{data.brushType}}</span>\n    <div ng-if="data.disabledMessage">\n        <span translate>{{data.disabledMessage}}</span>\n    </div>\n    <div ng-if="data.libraryName"><span translate translate-values="data">DL_ITEM_LIBRARY_TOOLTIP</span></div>\n</div>\n'),e.put("configuration/designlibrary/brush/view.tmpl.html",'<div ng-if="uiState.view === \'grid\'" class="panel-brush-item" ng-class="{selected: selected, \'disabled-item\': disabled}" edgecc-hover edgecc-tooltip tooltip-data="tooltip" template-url="\'configuration/designlibrary/brush/tooltip.tmpl.html\'">\n    <div class="panel-brush-item-img" ng-show="imageUrl && loadedRenditionUrl" ng-class="{\'panel-thumbnail-disabled\': disabled}" ng-style="{\'background-image\': \'url(\\\'\' + imageUrl + \'\\\')\'}"></div>\n    <div ng-show="!imageUrl && loadedRenditionUrl" class="edgecc-icon panel-grid-icon-missing-rendition panel-no-rendition-holder">newcreativecloud</div>\n    <div class="edgecc-core-overlay-container" ng-show="!loadedRenditionUrl">\n        <div class="topcoat-spinner edgecc-core-overlay-center"></div>\n    </div>\n    <div class="panel-grid-selected-overlay" ng-class="{\'disabled-overlay\': disabled}"></div>\n    <design-library-editable-grid-name component="component" selected="selected"></design-library-editable-grid-name>\n</div>\n<div ng-if="uiState.view === \'list\'" class="panel-list-item" ng-class="{selected: selected, \'disabled-item\': disabled}" edgecc-hover edgecc-tooltip tooltip-data="tooltip" template-url="\'configuration/designlibrary/brush/tooltip.tmpl.html\'">\n    <div class="panel-list-brush-item-thumb">\n        <div class="panel-list-brush-item-img" ng-class="{\'panel-thumbnail-disabled\': disabled}" ng-style="{\'background-image\': \'url(\\\'\' + imageUrl + \'\\\')\'}" ng-show="imageUrl && loadedRenditionUrl"></div>\n        <div ng-show="!imageUrl && loadedRenditionUrl" class="edgecc-icon panel-list-icon-missing-rendition">newcreativecloud</div>\n        <div class="topcoat-spinner edgecc-core-overlay-center" ng-show="!loadedRenditionUrl"></div>\n    </div>\n    <design-library-editable-list-name component="component"></design-library-editable-list-name>\n</div>\n'),e.put("configuration/designlibrary/capsule/tooltip.tmpl.html",'<div class=\'tooltip\'>\n    <span ng-if="data.name" ng-bind-html="data.name"></span>\n    <br ng-if="data.name"/>\n    <span ng-if="data.createdIn"><span translate>DL_CREATED_IN</span> <span translate>{{data.createdIn}}</span></span>\n    <span ng-if="data.type"><span translate>DL_TYPE</span> <span>{{data.type}}</span></span>\n    <br ng-if="data.createdIn || data.type"/>\n    <span ng-if="data.duration">{{data.duration}}</span>\n    <br ng-if="data.duration"/>\n    <span ng-if="data.filesize">{{data.filesize}}</span>\n    <br ng-if="data.filesize"/>\n    <div ng-if="data.libraryName"><span translate translate-values="data">DL_ITEM_LIBRARY_TOOLTIP</span></div>\n    <div ng-if="data.disabledMessage">\n        <span translate>{{data.disabledMessage}}</span>\n    </div>\n</div>\n'),e.put("configuration/designlibrary/capsule/view.tmpl.html",'<div ng-if="uiState.view === \'grid\'" class="panel-capsule-item" ng-class="{selected: selected, \'disabled-item\': disabled}" img-size edgecc-hover edgecc-tooltip tooltip-data="tooltip" template-url="\'configuration/designlibrary/capsule/tooltip.tmpl.html\'" ui-draggable="true" drag-component="component" drag-channel="dlItem" on-drag="onElementDragStart()">\n    <div class="panel-capsule-item-img-holder" ng-class="{\'panel-thumbnail-disabled\': disabled}" ng-show="loadedRenditionUrl && imageUrl" ng-style="imgStyle">\n        <img class="panel-capsule-item-img" image-on-load ng-src="{{imageUrl}}" style="display: none">\n    </div>\n    <div class="panel-no-rendition-holder" ng-show="loadedRenditionUrl && !imageUrl">\n        <span class="edgecc-icon panel-grid-icon-missing-rendition panel-capsule-no-rendition-icon">newcreativecloud</span>\n    </div>\n    <div class="edgecc-core-overlay-container" ng-show="!loadedRenditionUrl">\n        <div class="topcoat-spinner edgecc-core-overlay-center"></div>\n    </div>\n    <div class="panel-grid-selected-overlay" ng-class="{\'disabled-overlay\': disabled}"></div>\n    <design-library-editable-grid-name component="component" selected="selected"></design-library-editable-grid-name>\n</div>\n<div ng-if="uiState.view === \'list\'" class="panel-list-item" ng-class="{selected: selected, \'disabled-item\': disabled}" edgecc-hover edgecc-tooltip tooltip-data="tooltip" template-url="\'configuration/designlibrary/capsule/tooltip.tmpl.html\'" ui-draggable="true" drag-component="component" drag-channel="dlItem" on-drag="onElementDragStart()">\n    <div class="panel-list-capsule-item-thumb" ng-class="{\'panel-thumbnail-disabled\': disabled}" img-size>\n        <div class="panel-capsule-item-img-holder" ng-show="loadedRenditionUrl && imageUrl" ng-style="imgStyle">\n            <img class="panel-capsule-item-img" image-on-load ng-src="{{imageUrl}}" style="display: none">\n        </div>\n        <div class="panel-no-rendition-holder" ng-show="loadedRenditionUrl && !imageUrl">\n            <span class="edgecc-icon panel-list-icon-missing-rendition panel-image-no-rendition-icon">newcreativecloud</span>\n        </div>\n        <div class="topcoat-spinner edgecc-core-overlay-center" ng-show="!loadedRenditionUrl"></div>\n    </div>\n    <design-library-editable-list-name component="component"></design-library-editable-list-name>\n    <div ng-if="badgeText" class="panel-capsule-list-item-filetype">{{badgeText}}</div>\n</div>\n\n'),e.put("configuration/designlibrary/color/tooltip.tmpl.html",'<div class=\'tooltip\'>\n    <span ng-if="data.name" ng-bind-html="data.name"></span>\n    <br ng-if="data.name"/>\n    <span>{{data.hexValue}}</span>\n    <br/>\n    <span>{{data.primaryValue}}</span>\n    <div ng-if="data.libraryName"><span translate translate-values="data">DL_ITEM_LIBRARY_TOOLTIP</span></div>\n</div>\n'),e.put("configuration/designlibrary/color/view.tmpl.html",'<div ng-if="uiState.view === \'grid\'" class="panel-color-item" ng-class="{selected: selected, \'disabled-item\': disabled}" ng-style="colorStyle" edgecc-hover edgecc-tooltip tooltip-data="tooltip" template-url="\'configuration/designlibrary/color/tooltip.tmpl.html\'">\n    <div class="panel-grid-selected-overlay" ng-class="{\'disabled-overlay\': disabled}"></div>\n    <design-library-editable-grid-name component="component" selected="selected" default-information="defaultName" allow-blank-name="true"></design-library-editable-grid-name>\n</div>\n<div ng-if="uiState.view === \'list\'" class="panel-list-item-small" ng-class="{selected: selected, \'disabled-item\': disabled}" edgecc-hover edgecc-tooltip tooltip-data="tooltip" template-url="\'configuration/designlibrary/color/tooltip.tmpl.html\'">\n    <div class="panel-list-color-item-thumb" ng-style="colorStyle"></div>\n    <design-library-editable-list-name component="component" default-information="defaultName" allow-blank-name="true"></design-library-editable-list-name>\n</div>\n'),e.put("configuration/designlibrary/colortheme/tooltip.tmpl.html",'<div class=\'tooltip\'>\n    <span>{{data.hexValue}}</span>\n    <br/>\n    <span>{{data.primaryValue}}</span>\n    <div ng-if="data.libraryName"><span translate translate-values="data">DL_ITEM_LIBRARY_TOOLTIP</span></div>\n</div>\n'),e.put("configuration/designlibrary/colortheme/view.tmpl.html",'<div ng-if="uiState.view === \'grid\'" class="panel-color-theme-item" ng-class="{selected: selected, \'disabled-item\': disabled}" edgecc-hover>\n    <div class="panel-color-theme-item-color" ng-style="color.style" ng-repeat="color in values" edgecc-tooltip tooltip-data="color" ng-style="color.style" template-url="\'configuration/designlibrary/colortheme/tooltip.tmpl.html\'" ng-click="useColor(color.colorData)" ng-class="{\'panel-thumbnail-disabled\': disabled}">\n        <div class="panel-color-theme-item-color-inner" native-context-menu="component" context-menu-sub-element="color.colorData"></div>\n    </div>\n    <div class="panel-grid-selected-overlay" ng-class="{\'disabled-overlay\': disabled}"></div>\n    <design-library-editable-grid-name component="component" selected="selected"></design-library-editable-grid-name>\n</div>\n<div ng-if="uiState.view === \'list\'" class="panel-list-item-small panel-list-color-theme-item" ng-class="{selected: selected, \'disabled-item\': disabled}" edgecc-hover>\n    <div class="panel-list-color-theme-item-thumb" ng-class="{selected: selected, \'panel-thumbnail-disabled\': disabled}">\n        <div class="panel-list-color-theme-item-color"  ng-repeat="color in values" edgecc-tooltip tooltip-data="color" ng-style="color.style" template-url="\'configuration/designlibrary/colortheme/tooltip.tmpl.html\'" ng-style="color.style"  ng-click="useColor(color.colorData)">\n        <div class="panel-list-color-theme-item-color-inner" native-context-menu="component" context-menu-sub-element="color.colorData"></div>\n        </div>\n    </div>\n    <design-library-editable-list-name component="component" class="panel-list-color-theme-item-name"></design-library-editable-list-name>\n</div>\n'),e.put("configuration/designlibrary/image/tooltip.tmpl.html",'<div class=\'tooltip\'>\n    <span ng-if="data.name" ng-bind-html="data.name"></span>\n    <br ng-if="data.name"/>\n    <span ng-if="data.createdIn"><span translate>DL_CREATED_IN</span> <span translate>{{data.createdIn}}</span></span>\n    <span ng-if="data.type"><span translate>DL_TYPE</span> <span>{{data.type}}</span></span>\n    <br ng-if="data.createdIn || data.type"/>\n        <span ng-if="data.dimensions">{{data.dimensions}}</span>\n        <br ng-if="data.dimensions"/>\n    <span ng-if="data.filesize">{{data.filesize}}</span>\n    <br ng-if="data.isStockAsset && data.filesize"/>\n    <span ng-if="data.isStockAsset"><span translate>DL_ADOBE_STOCK_PHOTO</span></span>\n    <br ng-if="data.isStockAsset"/>\n    <span ng-if="data.isStockAsset && data.isLicensed"><span translate>DL_LICENSED</span></span>\n    <span ng-if="data.isStockAsset && !data.isLicensed"><span translate>DL_UNLICENSED</span></span>\n    <div ng-if="data.libraryName"><span translate translate-values="data">DL_ITEM_LIBRARY_TOOLTIP</span></div>\n</div>\n'),e.put("configuration/designlibrary/image/view.tmpl.html",'<div ng-if="uiState.view === \'grid\'" class="panel-image-item" ng-class="{selected: selected, \'disabled-item\': disabled}" img-size edgecc-hover edgecc-tooltip tooltip-data="tooltip" template-url="\'configuration/designlibrary/image/tooltip.tmpl.html\'" ui-draggable="true" drag-component="component" drag-channel="dlItem" on-drag-start="onElementDragStart()">\n    <div class="panel-image-item-img-holder" ng-show="loadedRenditionUrl && imageUrl" ng-style="imgStyle">\n        <img class="panel-image-item-img" image-on-load ng-src="{{imageUrl}}" style="display: none">\n    </div>\n    <div class="panel-no-rendition-holder" ng-show="loadedRenditionUrl && !imageUrl">\n        <span class="edgecc-icon panel-grid-icon-missing-rendition panel-image-no-rendition-icon">newcreativecloud</span>\n    </div>\n    <div class="edgecc-core-overlay-container" ng-show="!loadedRenditionUrl">\n        <div class="topcoat-spinner edgecc-core-overlay-center"></div>\n    </div>\n    <div class="edgecc-core-overlay-dimmed-top-right" ng-if="downloadPending && loadedRenditionUrl" edgecc-tooltip tooltip-content="{{downloadTooltip}}">\n        <div class="panel-core-overlay-icon-syncing edgecc-icon" ng-show="downloadProgress !== -1">newsyncing</div>\n        <div class="panel-core-overlay-icon-warning edgecc-icon" ng-show="downloadProgress === -1">alert</div>\n    </div>\n    <div class="panel-grid-selected-overlay" ng-class="{\'disabled-overlay\': disabled}"></div>\n    <design-library-editable-grid-name component="component" selected="selected"></design-library-editable-grid-name>\n    <div ng-if="tooltip.isLicensed" class="panel-dl-stock-content-item-licensed-mini" ng-class="{\'disabled\': disabled}" edgecc-tooltip tooltip-content="{{\'DL_LICENSED\' | translate}}">\n        <div class="panel-dl-stock-content-item-icon-licensed-mini edgecc-icon">checkmark</div>\n    </div>\n</div>\n<div ng-if="uiState.view === \'list\'" class="panel-list-item" ng-class="{selected: selected, \'disabled-item\': disabled}" edgecc-hover edgecc-tooltip tooltip-data="tooltip" template-url="\'configuration/designlibrary/image/tooltip.tmpl.html\'" ui-draggable="true" drag-component="component" drag-channel="dlItem" on-drag-start="onElementDragStart()">\n    <div class="panel-list-image-item-thumb" img-size>\n        <div class="panel-image-item-img-holder" ng-show="loadedRenditionUrl && imageUrl" ng-style="imgStyle">\n            <img class="panel-image-item-img" image-on-load ng-src="{{imageUrl}}" style="display: none">\n        </div>\n        <div class="panel-no-rendition-holder" ng-show="loadedRenditionUrl && !imageUrl">\n            <span class="edgecc-icon panel-list-icon-missing-rendition panel-image-no-rendition-icon">newcreativecloud</span>\n        </div>\n        <div class="topcoat-spinner edgecc-core-overlay-center" ng-show="!loadedRenditionUrl"></div>\n        <div class="edgecc-core-overlay-dimmed-center" ng-if="downloadPending && loadedRenditionUrl" edgecc-tooltip tooltip-content="{{downloadTooltip}}">\n            <div class="panel-core-overlay-icon-syncing-list edgecc-icon" ng-show="downloadProgress !== -1">newsyncing</div>\n            <div class="panel-core-overlay-icon-warning-list edgecc-icon" ng-show="downloadProgress === -1">alert</div>\n        </div>\n    </div>\n    <design-library-editable-list-name component="component"></design-library-editable-list-name>\n    <div ng-if="badgeText" class="panel-image-list-item-filetype">{{badgeText}}</div>\n</div>\n'),
e.put("configuration/designlibrary/layerstyle/tooltip.tmpl.html",'<div class=\'tooltip\'>\n    <span ng-bind-html="data.name"></span>\n    <div ng-if="data.libraryName"><span translate translate-values="data">DL_ITEM_LIBRARY_TOOLTIP</span></div>\n</div>\n'),e.put("configuration/designlibrary/layerstyle/view.tmpl.html",'<div ng-if="uiState.view === \'grid\'" class="panel-layer-item" ng-class="{selected: selected, \'disabled-item\': disabled}" edgecc-hover edgecc-tooltip tooltip-data="tooltip" template-url="\'configuration/designlibrary/layerstyle/tooltip.tmpl.html\'">\n    <div class="panel-layer-item-img" draggable="false" ng-class="{\'panel-thumbnail-disabled\': disabled}" ng-show="imageUrl && loadedRenditionUrl" ng-style="{\'background-image\': \'url(\\\'\' + imageUrl + \'\\\')\'}"></div>\n    <div ng-show="!imageUrl && loadedRenditionUrl" class="edgecc-icon panel-grid-icon-missing-rendition panel-no-rendition-holder layerstyle-missing-rendition-icon">newcreativecloud</div>\n    <div class="edgecc-core-overlay-container" ng-hide="loadedRenditionUrl">\n        <div class="topcoat-spinner edgecc-core-overlay-center"></div>\n    </div>\n    <div class="panel-grid-selected-overlay" ng-class="{\'disabled-overlay\': disabled}"></div>\n    <design-library-editable-grid-name component="component" selected="selected"></design-library-editable-grid-name>\n</div>\n<div ng-if="uiState.view === \'list\'" class="panel-list-item" ng-class="{selected: selected, \'disabled-item\': disabled}" edgecc-hover edgecc-tooltip tooltip-data="tooltip" template-url="\'configuration/designlibrary/layerstyle/tooltip.tmpl.html\'">\n    <div class="panel-list-item-thumb">\n        <div class="panel-list-layer-item-img" ng-class="{\'panel-thumbnail-disabled\': disabled}" ng-style="{\'background-image\': \'url(\\\'\' + imageUrl + \'\\\')\'}" ng-show="imageUrl && loadedRenditionUrl"></div>\n        <div ng-show="!imageUrl && loadedRenditionUrl" class="edgecc-icon panel-list-icon-missing-rendition layerstyle-missing-rendition-icon">newcreativecloud</div>\n        <div class="topcoat-spinner edgecc-core-overlay-center" ng-hide="loadedRenditionUrl"></div>\n    </div>\n    <design-library-editable-list-name component="component"></design-library-editable-list-name>\n</div>\n'),e.put("configuration/designlibrary/light/tooltip.tmpl.html",'<div class=\'tooltip\'>\n    <span ng-if="data.name" ng-bind-html="data.name"></span>\n    <br ng-if="data.name"/>\n    <span ng-if="data.createdIn"><span translate>DL_CREATED_IN</span> <span translate>{{data.createdIn}}</span></span>\n    <span ng-if="data.type"><span translate>DL_TYPE</span> <span>{{data.type}}</span></span>\n    <br ng-if="data.isStockAsset"/>\n    <span ng-if="data.isStockAsset"><span translate>DL_ADOBE_STOCK_LIGHT</span></span>\n    <br ng-if="data.isStockAsset"/>\n    <span ng-if="data.isStockAsset && data.isLicensed"><span translate>DL_LICENSED</span></span>\n    <span ng-if="data.isStockAsset && !data.isLicensed"><span translate>DL_UNLICENSED</span></span>\n    <div ng-if="data.libraryName"><span translate translate-values="data">DL_ITEM_LIBRARY_TOOLTIP</span></div>\n</div>\n'),e.put("configuration/designlibrary/light/view.tmpl.html",'<div ui-draggable="true" drag-component="component" drag-channel="dlItem" on-drag-start="onElementDragStart()" ng-if="uiState.view === \'grid\'" class="panel-light-item" ng-class="{selected: selected, \'disabled-item\': disabled}" edgecc-hover edgecc-tooltip tooltip-data="tooltip" template-url="\'configuration/designlibrary/light/tooltip.tmpl.html\'">\n    <div class="panel-light-item-img" draggable="false" ng-class="{\'panel-thumbnail-disabled\': disabled}" ng-show="imageUrl && loadedRenditionUrl" ng-style="{\'background-image\': \'url(\\\'\' + imageUrl + \'\\\')\'}"></div>\n    <div ng-show="!imageUrl && loadedRenditionUrl" class="edgecc-icon panel-grid-icon-missing-rendition panel-no-rendition-holder missing-light-rendition-icon">newcreativecloud</div>\n    <div class="edgecc-core-overlay-container" ng-hide="loadedRenditionUrl">\n        <div class="topcoat-spinner edgecc-core-overlay-center"></div>\n    </div>\n    <div class="edgecc-core-overlay-dimmed-top-right" ng-if="downloadPending && loadedRenditionUrl" edgecc-tooltip tooltip-content="{{downloadTooltip}}">\n        <div class="panel-core-overlay-icon-syncing edgecc-icon" ng-show="downloadProgress !== -1">newsyncing</div>\n        <div class="panel-core-overlay-icon-warning edgecc-icon" ng-show="downloadProgress === -1">alert</div>\n    </div>\n    <div class="panel-grid-selected-overlay" ng-class="{\'disabled-overlay\': disabled}"></div>\n    <design-library-editable-grid-name component="component" selected="selected"></design-library-editable-grid-name>\n    <div ng-if="tooltip.isLicensed" class="panel-dl-stock-content-item-licensed-mini" ng-class="{\'disabled\': disabled}" edgecc-tooltip tooltip-content="{{\'DL_LICENSED\' | translate}}">\n        <div class="panel-dl-stock-content-item-icon-licensed-mini edgecc-icon">checkmark</div>\n    </div>\n</div>\n<div ui-draggable="true" drag-component="component" drag-channel="dlItem" on-drag-start="onElementDragStart()" ng-if="uiState.view === \'list\'" class="panel-list-item" ng-class="{selected: selected, \'disabled-item\': disabled}" edgecc-hover edgecc-tooltip tooltip-data="tooltip" template-url="\'configuration/designlibrary/light/tooltip.tmpl.html\'">\n    <div class="panel-list-light-item-thumb">\n        <div class="panel-list-light-item-img" ng-class="{\'panel-thumbnail-disabled\': disabled}" ng-style="{\'background-image\': \'url(\\\'\' + imageUrl + \'\\\')\'}" ng-show="imageUrl && loadedRenditionUrl"></div>\n        <div ng-show="!imageUrl && loadedRenditionUrl" class="edgecc-icon panel-list-icon-missing-rendition missing-light-rendition-icon">newcreativecloud</div>\n        <div class="topcoat-spinner edgecc-core-overlay-center" ng-hide="loadedRenditionUrl"></div>\n        <div class="edgecc-core-overlay-dimmed-center" ng-if="downloadPending && loadedRenditionUrl" edgecc-tooltip tooltip-content="{{downloadTooltip}}">\n            <div class="panel-core-overlay-icon-syncing-list edgecc-icon" ng-show="downloadProgress !== -1">newsyncing</div>\n            <div class="panel-core-overlay-icon-warning-list edgecc-icon" ng-show="downloadProgress === -1">alert</div>\n        </div>\n    </div>\n    <design-library-editable-list-name component="component"></design-library-editable-list-name>\n</div>\n'),e.put("configuration/designlibrary/look/tooltip.tmpl.html",'<div class=\'tooltip\'>\n    <span ng-bind-html="data.name"></span>\n    <div ng-if="data.libraryName"><span translate translate-values="data">DL_ITEM_LIBRARY_TOOLTIP</span></div>\n</div>\n'),e.put("configuration/designlibrary/look/view.tmpl.html",'<div ui-draggable="true" drag-component="component" drag-channel="dlItem" on-drag-start="onElementDragStart()" ng-if="uiState.view === \'grid\'" class="panel-look-item" ng-class="{selected: selected, \'disabled-item\': disabled}" edgecc-hover edgecc-tooltip tooltip-data="tooltip" template-url="\'configuration/designlibrary/look/tooltip.tmpl.html\'">\n    <div class="panel-look-item-img" draggable="false" ng-class="{\'panel-thumbnail-disabled\': disabled}" ng-show="imageUrl && loadedRenditionUrl" ng-style="{\'background-image\': \'url(\\\'\' + imageUrl + \'\\\')\'}"></div>\n    <div ng-show="!imageUrl && loadedRenditionUrl" class="edgecc-icon panel-grid-icon-missing-rendition panel-no-rendition-holder look-missing-rendition-icon">newcreativecloud</div>\n    <div class="edgecc-core-overlay-container" ng-hide="loadedRenditionUrl">\n        <div class="topcoat-spinner edgecc-core-overlay-center"></div>\n    </div>\n    <div class="panel-grid-selected-overlay" ng-class="{\'disabled-overlay\': disabled}"></div>\n    <design-library-editable-grid-name component="component" selected="selected"></design-library-editable-grid-name>\n</div>\n<div ui-draggable="true" drag-component="component" drag-channel="dlItem" on-drag-start="onElementDragStart()" ng-if="uiState.view === \'list\'" class="panel-list-item" ng-class="{selected: selected, \'disabled-item\': disabled}" edgecc-hover edgecc-tooltip tooltip-data="tooltip" template-url="\'configuration/designlibrary/look/tooltip.tmpl.html\'">\n    <div class="panel-list-item-thumb">\n        <div class="panel-list-look-item-img" ng-class="{\'panel-thumbnail-disabled\': disabled}" ng-style="{\'background-image\': \'url(\\\'\' + imageUrl + \'\\\')\'}" ng-show="imageUrl && loadedRenditionUrl"></div>\n        <div ng-show="!imageUrl && loadedRenditionUrl" class="edgecc-icon panel-list-icon-missing-rendition look-missing-rendition-icon">newcreativecloud</div>\n        <div class="topcoat-spinner edgecc-core-overlay-center" ng-hide="loadedRenditionUrl"></div>\n    </div>\n    <design-library-editable-list-name component="component"></design-library-editable-list-name>\n</div>\n'),e.put("configuration/designlibrary/material/tooltip.tmpl.html",'<div class=\'tooltip\'>\n    <span ng-if="data.name" ng-bind-html="data.name"></span>\n    <br ng-if="data.name"/>\n    <span ng-if="data.createdIn"><span translate>DL_CREATED_IN</span> <span translate>{{data.createdIn}}</span></span>\n    <span ng-if="data.type"><span translate>DL_TYPE</span> <span>{{data.type}}</span></span>\n    <br ng-if="data.isStockAsset"/>\n    <span ng-if="data.isStockAsset"><span translate>DL_ADOBE_STOCK_MATERIAL</span></span>\n    <br ng-if="data.isStockAsset"/>\n    <span ng-if="data.isStockAsset && data.isLicensed"><span translate>DL_LICENSED</span></span>\n    <span ng-if="data.isStockAsset && !data.isLicensed"><span translate>DL_UNLICENSED</span></span>\n    <div ng-if="data.libraryName"><span translate translate-values="data">DL_ITEM_LIBRARY_TOOLTIP</span></div>\n</div>\n'),e.put("configuration/designlibrary/material/view.tmpl.html",'<div ui-draggable="true" drag-component="component" drag-channel="dlItem" on-drag-start="onElementDragStart()" ng-if="uiState.view === \'grid\'" class="panel-material-item" ng-class="{selected: selected, \'disabled-item\': disabled}" edgecc-hover edgecc-tooltip tooltip-data="tooltip" template-url="\'configuration/designlibrary/material/tooltip.tmpl.html\'">\n    <div class="panel-material-item-img" draggable="false" ng-class="{\'panel-thumbnail-disabled\': disabled}" ng-show="imageUrl && loadedRenditionUrl" ng-style="{\'background-image\': \'url(\\\'\' + imageUrl + \'\\\')\'}"></div>\n    <div ng-show="!imageUrl && loadedRenditionUrl" class="edgecc-icon panel-grid-icon-missing-rendition panel-no-rendition-holder missing-material-rendition-icon">newcreativecloud</div>\n    <div class="edgecc-core-overlay-container" ng-hide="loadedRenditionUrl">\n        <div class="topcoat-spinner edgecc-core-overlay-center"></div>\n    </div>\n    <div class="edgecc-core-overlay-dimmed-top-right" ng-if="downloadPending && loadedRenditionUrl" edgecc-tooltip tooltip-content="{{downloadTooltip}}">\n        <div class="panel-core-overlay-icon-syncing edgecc-icon" ng-show="downloadProgress !== -1">newsyncing</div>\n        <div class="panel-core-overlay-icon-warning edgecc-icon" ng-show="downloadProgress === -1">alert</div>\n    </div>\n    <div class="panel-grid-selected-overlay" ng-class="{\'disabled-overlay\': disabled}"></div>\n    <design-library-editable-grid-name component="component" selected="selected"></design-library-editable-grid-name>\n    <div ng-if="tooltip.isLicensed" class="panel-dl-stock-content-item-licensed-mini" ng-class="{\'disabled\': disabled}" edgecc-tooltip tooltip-content="{{\'DL_LICENSED\' | translate}}">\n        <div class="panel-dl-stock-content-item-icon-licensed-mini edgecc-icon">checkmark</div>\n    </div>\n</div>\n<div ui-draggable="true" drag-component="component" drag-channel="dlItem" on-drag-start="onElementDragStart()" ng-if="uiState.view === \'list\'" class="panel-list-item" ng-class="{selected: selected, \'disabled-item\': disabled}" edgecc-hover edgecc-tooltip tooltip-data="tooltip" template-url="\'configuration/designlibrary/material/tooltip.tmpl.html\'">\n    <div class="panel-list-material-item-thumb">\n        <div class="panel-list-material-item-img" ng-class="{\'panel-thumbnail-disabled\': disabled}" ng-style="{\'background-image\': \'url(\\\'\' + imageUrl + \'\\\')\'}" ng-show="imageUrl && loadedRenditionUrl"></div>\n        <div ng-show="!imageUrl && loadedRenditionUrl" class="edgecc-icon panel-list-icon-missing-rendition missing-material-rendition-icon">newcreativecloud</div>\n        <div class="topcoat-spinner edgecc-core-overlay-center" ng-hide="loadedRenditionUrl"></div>\n        <div class="edgecc-core-overlay-dimmed-center" ng-if="downloadPending && loadedRenditionUrl" edgecc-tooltip tooltip-content="{{downloadTooltip}}">\n            <div class="panel-core-overlay-icon-syncing-list edgecc-icon" ng-show="downloadProgress !== -1">newsyncing</div>\n            <div class="panel-core-overlay-icon-warning-list edgecc-icon" ng-show="downloadProgress === -1">alert</div>\n        </div>\n    </div>\n    <design-library-editable-list-name component="component"></design-library-editable-list-name>\n</div>\n'),e.put("configuration/designlibrary/parastyle/tooltip.tmpl.html",'<div class=\'tooltip\'>\n    <span ng-if="data.name" ng-bind-html="data.name"></span>\n    <br ng-if="data.name"/>\n    <span>{{data.properties}}</span>\n    <br ng-if="data.missingFont"/>\n    <span ng-if="data.missingFont" translate>DL_ERROR_MISSING_FONT</span>\n    <div ng-if="data.libraryName"><span translate translate-values="data">DL_ITEM_LIBRARY_TOOLTIP</span></div>\n</div>\n'),e.put("configuration/designlibrary/parastyle/view.tmpl.html",'<div ng-if="uiState.view === \'grid\'" class="panel-textstyle-item" ng-class="{selected: selected, \'disabled-item\': disabled}" edgecc-hover edgecc-tooltip tooltip-data="tooltip" template-url="\'configuration/designlibrary/parastyle/tooltip.tmpl.html\'">\n    <div class="panel-textstyle-item-img" ng-show="imageUrl && loadedRenditionUrl" ng-class="{\'panel-thumbnail-disabled\': disabled}" ng-style="{\'background-image\': \'url(\\\'\' + imageUrl + \'\\\')\'}"></div>\n    <div ng-show="!imageUrl && loadedRenditionUrl" class="edgecc-icon panel-grid-icon-missing-rendition text-missing-rendition-icon panel-no-rendition-holder">newcreativecloud</div>\n    <div ng-show="imageUrl && loadedRenditionUrl" ng-style="colorStyle" class="panel-textstyle-color"></div>\n    <div class="edgecc-core-overlay-container" ng-show="!loadedRenditionUrl">\n        <div class="topcoat-spinner edgecc-core-overlay-center"></div>\n    </div>\n    <div class="panel-grid-selected-overlay" ng-class="{\'disabled-overlay\': disabled}"></div>\n    <div ng-show="missingFont" class="panel-missing-font-overlay edgecc-icon">alert</div>\n    <design-library-editable-grid-name component="component" selected="selected" default-information="fontDescription.fullFont" allow-blank-name="false"></design-library-editable-grid-name>\n</div>\n<div ng-if="uiState.view === \'list\'" class="panel-list-item" ng-class="{selected: selected, \'disabled-item\': disabled}" edgecc-hover edgecc-tooltip tooltip-data="tooltip" template-url="\'configuration/designlibrary/parastyle/tooltip.tmpl.html\'">\n    <div class="panel-list-textstyle-thumb" ng-class="{\'disabled-item\': disabled}">\n        <div class="panel-list-textstyle-item-img" ng-class="{\'panel-thumbnail-disabled\': disabled}" ng-style="{\'background-image\': \'url(\\\'\' + imageUrl + \'\\\')\'}" ng-show="imageUrl && loadedRenditionUrl"></div>\n        <div class="topcoat-spinner edgecc-core-overlay-center" ng-show="!loadedRenditionUrl"></div>\n        <div ng-show="!imageUrl && loadedRenditionUrl" class="edgecc-icon panel-list-icon-missing-rendition text-missing-rendition-icon">newcreativecloud</div>\n\n        <div ng-show="missingFont" class="edgecc-icon panel-missing-font-overlay-list">alert</div>\n    </div>\n    <div class="panel-list-textstyle-item-name-container">\n        <design-library-editable-list-name component="component" default-information="fontDescription.fullFont" allow-blank-name="false"></design-library-editable-list-name>\n        <div class="panel-list-textstyle-item-info">{{styleDescription}}</div>\n    </div>\n    <div ng-style="colorStyle" class="panel-textstyle-list-item-color"></div>\n</div>\n'),e.put("configuration/designlibrary/pattern/tooltip.tmpl.html",'<div class=\'tooltip\'>\n    <span ng-bind-html="data.name"></span>\n    <div ng-if="data.libraryName"><span translate translate-values="data">DL_ITEM_LIBRARY_TOOLTIP</span></div>\n</div>\n'),e.put("configuration/designlibrary/pattern/view.tmpl.html",'<div ui-draggable="true" drag-component="component" drag-channel="dlItem" on-drag-start="onElementDragStart(component)" ng-if="uiState.view === \'grid\'" class="panel-pattern-item" ng-class="{selected: selected, \'disabled-item\': disabled}" edgecc-hover edgecc-tooltip tooltip-data="tooltip" template-url="\'configuration/designlibrary/pattern/tooltip.tmpl.html\'">\n    <div class="panel-pattern-item-img" ng-class="{\'panel-thumbnail-disabled\': disabled}" ng-show="imageUrl && loadedRenditionUrl" ng-style="{\'background-image\': \'url(\\\'\' + imageUrl + \'\\\')\'}"></div>\n    <div ng-show="!imageUrl && loadedRenditionUrl" class="edgecc-icon panel-grid-icon-missing-rendition panel-no-rendition-holder pattern-missing-rendition-icon">newcreativecloud</div>\n    <div class="edgecc-core-overlay-container" ng-hide="loadedRenditionUrl">\n        <div class="topcoat-spinner edgecc-core-overlay-center"></div>\n    </div>\n    <div class="panel-grid-selected-overlay" ng-class="{\'disabled-overlay\': disabled}"></div>\n    <design-library-editable-grid-name component="component" selected="selected"></design-library-editable-grid-name>\n</div>\n<div ui-draggable="true" drag-component="component" drag-channel="dlItem" on-drag-start="onElementDragStart(component)" ng-if="uiState.view === \'list\'" class="panel-list-item" ng-class="{selected: selected, \'disabled-item\': disabled}" edgecc-hover edgecc-tooltip tooltip-data="tooltip" template-url="\'configuration/designlibrary/pattern/tooltip.tmpl.html\'">\n    <div class="panel-list-item-thumb">\n        <div class="panel-list-pattern-item-img" ng-class="{\'panel-thumbnail-disabled\': disabled}" ng-style="{\'background-image\': \'url(\\\'\' + imageUrl + \'\\\')\'}" ng-show="imageUrl && loadedRenditionUrl"></div>\n        <div ng-show="!imageUrl && loadedRenditionUrl" class="edgecc-icon panel-list-icon-missing-rendition pattern-missing-rendition-icon">newcreativecloud</div>\n        <div class="topcoat-spinner edgecc-core-overlay-center" ng-hide="loadedRenditionUrl"></div>\n    </div>\n    <design-library-editable-list-name component="component"></design-library-editable-list-name>\n</div>\n'),e.put("configuration/designlibrary/template/tooltip.tmpl.html",'<div class=\'tooltip\'>\n    <span ng-if="data.name" ng-bind-html="data.name"></span>\n    <br ng-if="data.name"/>\n    <span ng-if="data.type"><span translate>DL_TYPE</span> <span>{{data.type}}</span></span>\n    <br ng-if="data.type"/>\n    <span ng-if="data.filesize">{{data.filesize}}</span>\n    <br ng-if="data.isStockAsset && data.filesize"/>\n    <span ng-if="data.isStockAsset"><span translate>DL_ADOBE_STOCK_TEMPLATE</span></span>\n    <br ng-if="data.isStockAsset"/>\n    <span ng-if="data.isStockAsset && data.isLicensed"><span translate>DL_LICENSED</span></span>\n    <span ng-if="data.isStockAsset && !data.isLicensed"><span translate>DL_UNLICENSED</span></span>\n    <div ng-if="data.libraryName"><span translate translate-values="data">DL_ITEM_LIBRARY_TOOLTIP</span></div>\n    <div ng-if="data.disabledMessage">\n        <span translate>{{data.disabledMessage}}</span>\n    </div>\n</div>\n'),e.put("configuration/designlibrary/template/view.tmpl.html",'<div ng-if="uiState.view === \'grid\'" class="panel-template-item" ng-class="{selected: selected, \'disabled-item\': disabled}" img-size edgecc-hover edgecc-tooltip tooltip-data="tooltip" template-url="\'configuration/designlibrary/template/tooltip.tmpl.html\'" ui-draggable="false">\n    <div class="panel-template-item-img-holder" ng-class="{\'panel-thumbnail-disabled\': disabled}" ng-show="loadedRenditionUrl && imageUrl" ng-style="imgStyle">\n        <img class="panel-template-item-img" image-on-load ng-src="{{imageUrl}}" style="display: none">\n    </div>\n    <div class="panel-no-rendition-holder" ng-show="loadedRenditionUrl && !imageUrl">\n        <span class="edgecc-icon panel-grid-icon-missing-rendition panel-template-no-rendition-icon">newcreativecloud</span>\n    </div>\n    <div class="edgecc-core-overlay-container" ng-show="!loadedRenditionUrl">\n        <div class="topcoat-spinner edgecc-core-overlay-center"></div>\n    </div>\n    <div class="edgecc-core-overlay-dimmed-top-right" ng-if="downloadPending && loadedRenditionUrl" edgecc-tooltip tooltip-content="{{downloadTooltip}}">\n        <div class="panel-core-overlay-icon-syncing edgecc-icon" ng-show="downloadProgress !== -1">newsyncing</div>\n        <div class="panel-core-overlay-icon-warning edgecc-icon" ng-show="downloadProgress === -1">alert</div>\n    </div>\n    <div class="panel-grid-selected-overlay" ng-class="{\'disabled-overlay\': disabled}"></div>\n    <design-library-editable-grid-name component="component" selected="selected"></design-library-editable-grid-name>\n    <div ng-if="tooltip.isLicensed" class="panel-dl-stock-content-item-licensed-mini" ng-class="{\'disabled\': disabled}" edgecc-tooltip tooltip-content="{{\'DL_LICENSED\' | translate}}">\n        <div class="panel-dl-stock-content-item-icon-licensed-mini edgecc-icon">checkmark</div>\n    </div>\n</div>\n<div ng-if="uiState.view === \'list\'" class="panel-list-item" ng-class="{selected: selected, \'disabled-item\': disabled}" edgecc-hover edgecc-tooltip tooltip-data="tooltip" template-url="\'configuration/designlibrary/template/tooltip.tmpl.html\'" ui-draggable="false">\n    <div class="panel-list-template-item-thumb" ng-class="{\'panel-thumbnail-disabled\': disabled}" img-size>\n        <div class="panel-template-item-img-holder" ng-show="loadedRenditionUrl && imageUrl" ng-style="imgStyle">\n            <img class="panel-template-item-img" image-on-load ng-src="{{imageUrl}}" style="display: none">\n        </div>\n        <div class="panel-no-rendition-holder" ng-show="loadedRenditionUrl && !imageUrl">\n            <span class="edgecc-icon panel-list-icon-missing-rendition panel-image-no-rendition-icon">newcreativecloud</span>\n        </div>\n        <div class="topcoat-spinner edgecc-core-overlay-center" ng-show="!loadedRenditionUrl"></div>\n        <div class="edgecc-core-overlay-dimmed-center" ng-if="downloadPending && loadedRenditionUrl" edgecc-tooltip tooltip-content="{{downloadTooltip}}">\n            <div class="panel-core-overlay-icon-syncing-list edgecc-icon" ng-show="downloadProgress !== -1">newsyncing</div>\n            <div class="panel-core-overlay-icon-warning-list edgecc-icon" ng-show="downloadProgress === -1">alert</div>\n        </div>\n    </div>\n    <design-library-editable-list-name component="component"></design-library-editable-list-name>\n    <div ng-if="badgeText" class="panel-template-list-item-filetype" ng-class="{\'panel-template-list-item-filetype-disabled\': disabled}">{{badgeText}}</div>\n</div>\n'),e.put("configuration/designlibrary/text/tooltip.tmpl.html",'<div class=\'tooltip\'>\r\n    <span ng-if="!data.paragraphText.firstPara && !data.paragraphText.secondPara" style="font-style:italic;">&lt;<span translate>DL_TEXT_EMPTY_CONTENT_TOOLTIP</span>&gt;</span>\r\n    <span ng-if="data.paragraphText.firstPara">{{data.paragraphText.firstPara}}</span>\r\n    <br ng-if="data.paragraphText.secondPara"/>\r\n    <span ng-if="data.paragraphText.secondPara">{{data.paragraphText.secondPara}}</span>\r\n</div>\r\n'),e.put("configuration/designlibrary/text/view.tmpl.html",'<div ng-if="uiState.view === \'grid\'" class="panel-text-item" ng-class="{selected: selected, \'disabled-item\': disabled}" edgecc-hover edgecc-tooltip tooltip-data="tooltip" template-url="\'configuration/designlibrary/text/tooltip.tmpl.html\'" ui-draggable="true" drag-component="component" drag-channel="dlItem" on-drag-start="onElementDragStart()">\r\n    <div class="panel-text-item-img" ng-show="imageUrl && loadedRenditionUrl" ng-class="{\'panel-thumbnail-disabled\': disabled}" ng-style="{\'background-image\': \'url(\\\'\' + imageUrl + \'\\\')\'}"></div>\r\n    <div ng-show="!imageUrl && loadedRenditionUrl" class="edgecc-icon panel-grid-icon-missing-rendition text-missing-rendition-icon panel-no-rendition-holder">newcreativecloud</div>\r\n    <div ng-show="imageUrl && loadedRenditionUrl" ng-style="colorStyle" class="panel-text-color"></div>\r\n    <div class="edgecc-core-overlay-container" ng-show="!loadedRenditionUrl">\r\n        <div class="topcoat-spinner edgecc-core-overlay-center"></div>\r\n    </div>\r\n    <div class="panel-grid-selected-overlay" ng-class="{\'disabled-overlay\': disabled}"></div>\r\n    <design-library-editable-grid-name component="component" selected="selected" default-information="fontDescription.fullFont" allow-blank-name="false"></design-library-editable-grid-name>\r\n</div>\r\n<div ng-if="uiState.view === \'list\'" class="panel-list-item" ng-class="{selected: selected, \'disabled-item\': disabled}" edgecc-hover edgecc-tooltip tooltip-data="tooltip" template-url="\'configuration/designlibrary/text/tooltip.tmpl.html\'" ui-draggable="true" drag-component="component" drag-channel="dlItem" on-drag-start="onElementDragStart()">\r\n    <div class="panel-list-text-thumb" ng-class="{\'disabled-item\': disabled}">\r\n        <div class="panel-list-text-item-img" ng-class="{\'panel-thumbnail-disabled\': disabled}" ng-style="{\'background-image\': \'url(\\\'\' + imageUrl + \'\\\')\', \'background-size\':\'contain\'}" ng-show="imageUrl && loadedRenditionUrl"></div>\r\n        <div class="topcoat-spinner edgecc-core-overlay-center" ng-show="!loadedRenditionUrl"></div>\r\n        <div ng-show="!imageUrl && loadedRenditionUrl" class="edgecc-icon panel-list-icon-missing-rendition text-missing-rendition-icon">newcreativecloud</div>\r\n    </div>\r\n    <div class="panel-list-text-item-name-container">\r\n        <design-library-editable-list-name component="component" default-information="fontDescription.fullFont" allow-blank-name="false"></design-library-editable-list-name>\r\n        <div class="panel-list-text-item-info">{{paragraphText}}</div>\r\n    </div>\r\n    <div ng-style="colorStyle" class="panel-text-list-item-color"></div>\r\n    <div ng-if="badgeText" class="panel-text-list-item-filetype">{{badgeText}}</div>\r\n</div>\r\n'),e.put("configuration/designlibrary/textstyle/tooltip.tmpl.html",'<div class=\'tooltip\'>\n    <span ng-if="data.name" ng-bind-html="data.name"></span>\n    <br ng-if="data.name"/>\n    <span>{{data.properties}}</span>\n    <br ng-if="data.missingFont"/>\n    <span ng-if="data.missingFont" translate>DL_ERROR_MISSING_FONT</span>\n    <div ng-if="data.libraryName"><span translate translate-values="data">DL_ITEM_LIBRARY_TOOLTIP</span></div>\n</div>\n'),e.put("configuration/designlibrary/textstyle/view.tmpl.html",'<div ng-if="uiState.view === \'grid\'" class="panel-textstyle-item" ng-class="{selected: selected, \'disabled-item\': disabled}" edgecc-hover edgecc-tooltip tooltip-data="tooltip" template-url="\'configuration/designlibrary/textstyle/tooltip.tmpl.html\'">\n    <div class="panel-textstyle-item-img" ng-show="imageUrl && loadedRenditionUrl" ng-class="{\'panel-thumbnail-disabled\': disabled}" ng-style="{\'background-image\': \'url(\\\'\' + imageUrl + \'\\\')\'}"></div>\n    <div ng-show="!imageUrl && loadedRenditionUrl" class="edgecc-icon panel-grid-icon-missing-rendition text-missing-rendition-icon panel-no-rendition-holder">newcreativecloud</div>\n    <div ng-show="imageUrl && loadedRenditionUrl" ng-style="colorStyle" class="panel-textstyle-color"></div>\n    <div class="edgecc-core-overlay-container" ng-show="!loadedRenditionUrl">\n        <div class="topcoat-spinner edgecc-core-overlay-center"></div>\n    </div>\n    <div class="panel-grid-selected-overlay" ng-class="{\'disabled-overlay\': disabled}"></div>\n    <div ng-show="missingFont" class="panel-missing-font-overlay edgecc-icon">alert</div>\n    <design-library-editable-grid-name component="component" selected="selected" default-information="fontDescription.fullFont" allow-blank-name="false"></design-library-editable-grid-name>\n</div>\n<div ng-if="uiState.view === \'list\'" class="panel-list-item" ng-class="{selected: selected, \'disabled-item\': disabled}" edgecc-hover edgecc-tooltip tooltip-data="tooltip" template-url="\'configuration/designlibrary/textstyle/tooltip.tmpl.html\'">\n    <div class="panel-list-textstyle-thumb" ng-class="{\'disabled-item\': disabled}">\n        <div class="panel-list-textstyle-item-img" ng-class="{\'panel-thumbnail-disabled\': disabled}" ng-style="{\'background-image\': \'url(\\\'\' + imageUrl + \'\\\')\'}" ng-show="imageUrl && loadedRenditionUrl"></div>\n        <div class="topcoat-spinner edgecc-core-overlay-center" ng-show="!loadedRenditionUrl"></div>\n        <div ng-show="!imageUrl && loadedRenditionUrl" class="edgecc-icon panel-list-icon-missing-rendition text-missing-rendition-icon">newcreativecloud</div>\n\n        <div ng-show="missingFont" class="edgecc-icon panel-missing-font-overlay-list">alert</div>\n    </div>\n    <div class="panel-list-textstyle-item-name-container">\n        <design-library-editable-list-name component="component" default-information="fontDescription.fullFont" allow-blank-name="false"></design-library-editable-list-name>\n        <div class="panel-list-textstyle-item-info">{{styleDescription}}</div>\n    </div>\n    <div ng-style="colorStyle" class="panel-textstyle-list-item-color"></div>\n</div>\n'),e.put("configuration/designlibrary/unsupported/tooltip.tmpl.html",'<div class=\'tooltip\'>\n    <span translate>{{data.disabledMessage}}</span>\n    <div ng-if="data.libraryName"><span translate translate-values="data">DL_ITEM_LIBRARY_TOOLTIP</span></div>\n</div>\n'),e.put("configuration/designlibrary/unsupported/view.tmpl.html",'<div ng-if="uiState.view === \'grid\'" class="panel-unsupported-item disabled-item" ng-class="{selected: selected}" edgecc-hover edgecc-tooltip tooltip-data="tooltip" template-url="\'configuration/designlibrary/unsupported/tooltip.tmpl.html\'">\n    <div class="panel-unsupported-item-img panel-thumbnail-disabled" ng-show="imageUrl && loadedRenditionUrl" ng-style="{\'background-image\': \'url(\\\'\' + imageUrl + \'\\\')\'}"></div>\n    <div ng-show="!imageUrl && loadedRenditionUrl" class="edgecc-icon panel-grid-icon-missing-rendition panel-no-rendition-holder">newcreativecloud</div>\n    <div class="edgecc-core-overlay-container" ng-hide="loadedRenditionUrl">\n        <div class="topcoat-spinner edgecc-core-overlay-center"></div>\n    </div>\n    <div class="panel-grid-selected-overlay disabled-overlay"></div>\n    <design-library-editable-grid-name component="component" selected="selected"></design-library-editable-grid-name>\n</div>\n<div ng-if="uiState.view === \'list\'" class="panel-list-item disabled-item" ng-class="{selected: selected}" edgecc-hover edgecc-tooltip tooltip-data="tooltip" template-url="\'configuration/designlibrary/unsupported/tooltip.tmpl.html\'">\n    <div class="panel-list-unsupported-item-thumb">\n        <div class="panel-list-unsupported-item-img panel-thumbnail-disabled" ng-show="imageUrl && loadedRenditionUrl" ng-style="{\'background-image\': \'url(\\\'\' + imageUrl + \'\\\')\'}"></div>\n        <div ng-show="!imageUrl && loadedRenditionUrl" class="edgecc-icon panel-list-icon-missing-rendition">newcreativecloud</div>\n        <div class="topcoat-spinner edgecc-core-overlay-center" ng-hide="loadedRenditionUrl"></div>\n    </div>\n    <design-library-editable-list-name component="component"></design-library-editable-list-name>\n</div>\n'),
e.put("configuration/designlibrary/video/tooltip.tmpl.html",'<div class="tooltip">\n    <span ng-if="data.name" ng-bind-html="data.name"></span>\n    <br ng-if="data.name"/>\n    <span ng-if="data.dimensions">{{data.dimensions}}</span>\n    <br ng-if="data.dimensions"/>\n    <span ng-if="data.duration">{{data.duration}}</span>\n    <br ng-if="data.duration"/>\n    <span ng-if="data.framerate">{{data.framerate}}</span>\n    <br ng-if="data.framerate"/>\n    <span ng-if="data.filesize">{{data.filesize}}</span>\n    <br ng-if="data.isStockAsset && data.filesize"/>\n    <span ng-if="data.isStockAsset"><span translate>DL_ADOBE_STOCK_VIDEO</span></span>\n    <br ng-if="data.isStockAsset"/>\n    <span ng-if="data.isStockAsset && data.isLicensed"><span translate>DL_LICENSED</span></span>\n    <span ng-if="data.isStockAsset && !data.isLicensed"><span translate>DL_UNLICENSED</span></span>\n    <div ng-if="data.libraryName"><span translate translate-values="data">DL_ITEM_LIBRARY_TOOLTIP</span></div>\n</div>\n'),e.put("configuration/designlibrary/video/view.tmpl.html",'<div ui-draggable="true" drag-component="component" drag-channel="dlItem" on-drag-start="onElementDragStart()" ng-if="uiState.view === \'grid\'" class="panel-video-item" ng-class="{selected: selected, \'disabled-item\': disabled}" edgecc-hover edgecc-tooltip tooltip-data="tooltip" template-url="\'configuration/designlibrary/video/tooltip.tmpl.html\'">\n    <div class="panel-video-item-img" draggable="false" ng-class="{\'panel-thumbnail-disabled\': disabled}" ng-show="imageUrl && loadedRenditionUrl" ng-style="{\'background-image\': \'url(\\\'\' + imageUrl + \'\\\')\'}"></div>\n    <div ng-show="!imageUrl && loadedRenditionUrl" class="edgecc-icon panel-grid-icon-missing-rendition panel-no-rendition-holder video-missing-rendition-icon">newcreativecloud</div>\n    <div class="edgecc-core-overlay-container" ng-hide="loadedRenditionUrl">\n        <div class="topcoat-spinner edgecc-core-overlay-center"></div>\n    </div>\n    <div class="panel-grid-selected-overlay" ng-class="{\'disabled-overlay\': disabled}"></div>\n    <design-library-editable-grid-name component="component" selected="selected"></design-library-editable-grid-name>\n    <div ng-if="!disabled" class="panel-video-badge">\n       <div class="panel-video-badge-icon"><div class="panel-video-badge-icon-triangle"></div></div>\n       <div class="panel-video-badge-duration">{{tooltip.duration}}</div>\n   </div>\n    <div ng-if="tooltip.isLicensed" class="panel-dl-stock-content-item-licensed-mini" ng-class="{\'disabled\': disabled}" edgecc-tooltip tooltip-content="{{\'DL_LICENSED\' | translate}}">\n        <div class="panel-dl-stock-content-item-icon-licensed-mini edgecc-icon">checkmark</div>\n    </div>\n</div>\n<div ui-draggable="true" drag-component="component" drag-channel="dlItem" on-drag-start="onElementDragStart()" ng-if="uiState.view === \'list\'" class="panel-list-item" ng-class="{selected: selected, \'disabled-item\': disabled}" edgecc-hover edgecc-tooltip tooltip-data="tooltip" template-url="\'configuration/designlibrary/video/tooltip.tmpl.html\'">\n    <div class="panel-list-item-thumb">\n        <div class="panel-list-video-item-img" ng-class="{\'panel-thumbnail-disabled\': disabled}" ng-style="{\'background-image\': \'url(\\\'\' + imageUrl + \'\\\')\'}" ng-show="imageUrl && loadedRenditionUrl"></div>\n        <div ng-show="!imageUrl && loadedRenditionUrl" class="edgecc-icon panel-list-icon-missing-rendition video-missing-rendition-icon">newcreativecloud</div>\n        <div class="topcoat-spinner edgecc-core-overlay-center" ng-hide="loadedRenditionUrl"></div>\n    </div>\n    <design-library-editable-list-name component="component"></design-library-editable-list-name>\n</div>\n')}}),define("../../.tmp/app.templates",function(){}),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("handlebars",[],t):"object"==typeof exports?exports.Handlebars=t():e.Handlebars=t()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function i(){var e=v();return e.compile=function(t,n){return u.compile(t,n,e)},e.precompile=function(t,n){return u.precompile(t,n,e)},e.AST=l.default,e.Compiler=u.Compiler,e.JavaScriptCompiler=p.default,e.Parser=c.parser,e.parse=c.parse,e}var r=n(1).default;t.__esModule=!0;var o=n(2),a=r(o),s=n(24),l=r(s),c=n(25),u=n(30),d=n(31),p=r(d),h=n(28),f=r(h),g=n(23),m=r(g),v=a.default.create,_=i();_.create=i,m.default(_),_.Visitor=f.default,_.default=_,t.default=_,e.exports=t.default},function(e,t){"use strict";t.default=function(e){return e&&e.__esModule?e:{default:e}},t.__esModule=!0},function(e,t,n){"use strict";function i(){var e=new s.HandlebarsEnvironment;return h.extend(e,s),e.SafeString=c.default,e.Exception=d.default,e.Utils=h,e.escapeExpression=h.escapeExpression,e.VM=g,e.template=function(t){return g.template(t,e)},e}var r=n(3).default,o=n(1).default;t.__esModule=!0;var a=n(4),s=r(a),l=n(21),c=o(l),u=n(6),d=o(u),p=n(5),h=r(p),f=n(22),g=r(f),m=n(23),v=o(m),_=i();_.create=i,v.default(_),_.default=_,t.default=_,e.exports=t.default},function(e,t){"use strict";t.default=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},t.__esModule=!0},function(e,t,n){"use strict";function i(e,t,n){this.helpers=e||{},this.partials=t||{},this.decorators=n||{},l.registerDefaultHelpers(this),c.registerDefaultDecorators(this)}var r=n(1).default;t.__esModule=!0,t.HandlebarsEnvironment=i;var o=n(5),a=n(6),s=r(a),l=n(10),c=n(18),u=n(20),d=r(u),p="4.0.5";t.VERSION=p;var h=7;t.COMPILER_REVISION=h;var f={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};t.REVISION_CHANGES=f;var g="[object Object]";i.prototype={constructor:i,logger:d.default,log:d.default.log,registerHelper:function(e,t){if(o.toString.call(e)===g){if(t)throw new s.default("Arg not supported with multiple helpers");o.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if(o.toString.call(e)===g)o.extend(this.partials,e);else{if("undefined"==typeof t)throw new s.default('Attempting to register a partial called "'+e+'" as undefined');this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(e,t){if(o.toString.call(e)===g){if(t)throw new s.default("Arg not supported with multiple decorators");o.extend(this.decorators,e)}else this.decorators[e]=t},unregisterDecorator:function(e){delete this.decorators[e]}};var m=d.default.log;t.log=m,t.createFrame=o.createFrame,t.logger=d.default},function(e,t){"use strict";function n(e){return u[e]}function i(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&(e[n]=arguments[t][n]);return e}function r(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1}function o(e){if("string"!=typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}return p.test(e)?e.replace(d,n):e}function a(e){return!e&&0!==e||!(!g(e)||0!==e.length)}function s(e){var t=i({},e);return t._parent=e,t}function l(e,t){return e.path=t,e}function c(e,t){return(e?e+".":"")+t}t.__esModule=!0,t.extend=i,t.indexOf=r,t.escapeExpression=o,t.isEmpty=a,t.createFrame=s,t.blockParams=l,t.appendContextPath=c;var u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},d=/[&<>"'`=]/g,p=/[&<>"'`=]/,h=Object.prototype.toString;t.toString=h;var f=function(e){return"function"==typeof e};f(/x/)&&(t.isFunction=f=function(e){return"function"==typeof e&&"[object Function]"===h.call(e)}),t.isFunction=f;var g=Array.isArray||function(e){return!(!e||"object"!=typeof e)&&"[object Array]"===h.call(e)};t.isArray=g},function(e,t,n){"use strict";function i(e,t){var n=t&&t.loc,a=void 0,s=void 0;n&&(a=n.start.line,s=n.start.column,e+=" - "+a+":"+s);for(var l=Error.prototype.constructor.call(this,e),c=0;c<o.length;c++)this[o[c]]=l[o[c]];Error.captureStackTrace&&Error.captureStackTrace(this,i);try{n&&(this.lineNumber=a,r?Object.defineProperty(this,"column",{value:s}):this.column=s)}catch(e){}}var r=n(7).default;t.__esModule=!0;var o=["description","fileName","lineNumber","message","name","number","stack"];i.prototype=new Error,t.default=i,e.exports=t.default},function(e,t,n){e.exports={default:n(8),__esModule:!0}},function(e,t,n){var i=n(9);e.exports=function(e,t,n){return i.setDesc(e,t,n)}},function(e,t){var n=Object;e.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach}},function(e,t,n){"use strict";function i(e){a.default(e),l.default(e),u.default(e),p.default(e),f.default(e),m.default(e),_.default(e)}var r=n(1).default;t.__esModule=!0,t.registerDefaultHelpers=i;var o=n(11),a=r(o),s=n(12),l=r(s),c=n(13),u=r(c),d=n(14),p=r(d),h=n(15),f=r(h),g=n(16),m=r(g),v=n(17),_=r(v)},function(e,t,n){"use strict";t.__esModule=!0;var i=n(5);t.default=function(e){e.registerHelper("blockHelperMissing",function(t,n){var r=n.inverse,o=n.fn;if(t===!0)return o(this);if(t===!1||null==t)return r(this);if(i.isArray(t))return t.length>0?(n.ids&&(n.ids=[n.name]),e.helpers.each(t,n)):r(this);if(n.data&&n.ids){var a=i.createFrame(n.data);a.contextPath=i.appendContextPath(n.data.contextPath,n.name),n={data:a}}return o(t,n)})},e.exports=t.default},function(e,t,n){"use strict";var i=n(1).default;t.__esModule=!0;var r=n(5),o=n(6),a=i(o);t.default=function(e){e.registerHelper("each",function(e,t){function n(t,n,o){c&&(c.key=t,c.index=n,c.first=0===n,c.last=!!o,u&&(c.contextPath=u+t)),l+=i(e[t],{data:c,blockParams:r.blockParams([e[t],t],[u+t,null])})}if(!t)throw new a.default("Must pass iterator to #each");var i=t.fn,o=t.inverse,s=0,l="",c=void 0,u=void 0;if(t.data&&t.ids&&(u=r.appendContextPath(t.data.contextPath,t.ids[0])+"."),r.isFunction(e)&&(e=e.call(this)),t.data&&(c=r.createFrame(t.data)),e&&"object"==typeof e)if(r.isArray(e))for(var d=e.length;s<d;s++)s in e&&n(s,s,s===e.length-1);else{var p=void 0;for(var h in e)e.hasOwnProperty(h)&&(void 0!==p&&n(p,s-1),p=h,s++);void 0!==p&&n(p,s-1,!0)}return 0===s&&(l=o(this)),l})},e.exports=t.default},function(e,t,n){"use strict";var i=n(1).default;t.__esModule=!0;var r=n(6),o=i(r);t.default=function(e){e.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new o.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var i=n(5);t.default=function(e){e.registerHelper("if",function(e,t){return i.isFunction(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||i.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,n){return e.helpers.if.call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})})},e.exports=t.default},function(e,t){"use strict";t.__esModule=!0,t.default=function(e){e.registerHelper("log",function(){for(var t=[void 0],n=arguments[arguments.length-1],i=0;i<arguments.length-1;i++)t.push(arguments[i]);var r=1;null!=n.hash.level?r=n.hash.level:n.data&&null!=n.data.level&&(r=n.data.level),t[0]=r,e.log.apply(e,t)})},e.exports=t.default},function(e,t){"use strict";t.__esModule=!0,t.default=function(e){e.registerHelper("lookup",function(e,t){return e&&e[t]})},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var i=n(5);t.default=function(e){e.registerHelper("with",function(e,t){i.isFunction(e)&&(e=e.call(this));var n=t.fn;if(i.isEmpty(e))return t.inverse(this);var r=t.data;return t.data&&t.ids&&(r=i.createFrame(t.data),r.contextPath=i.appendContextPath(t.data.contextPath,t.ids[0])),n(e,{data:r,blockParams:i.blockParams([e],[r&&r.contextPath])})})},e.exports=t.default},function(e,t,n){"use strict";function i(e){a.default(e)}var r=n(1).default;t.__esModule=!0,t.registerDefaultDecorators=i;var o=n(19),a=r(o)},function(e,t,n){"use strict";t.__esModule=!0;var i=n(5);t.default=function(e){e.registerDecorator("inline",function(e,t,n,r){var o=e;return t.partials||(t.partials={},o=function(r,o){var a=n.partials;n.partials=i.extend({},a,t.partials);var s=e(r,o);return n.partials=a,s}),t.partials[r.args[0]]=r.fn,o})},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var i=n(5),r={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(e){if("string"==typeof e){var t=i.indexOf(r.methodMap,e.toLowerCase());e=t>=0?t:parseInt(e,10)}return e},log:function(e){if(e=r.lookupLevel(e),"undefined"!=typeof console&&r.lookupLevel(r.level)<=e){var t=r.methodMap[e];console[t]||(t="log");for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];console[t].apply(console,i)}}};t.default=r,e.exports=t.default},function(e,t){"use strict";function n(e){this.string=e}t.__esModule=!0,n.prototype.toString=n.prototype.toHTML=function(){return""+this.string},t.default=n,e.exports=t.default},function(e,t,n){"use strict";function i(e){var t=e&&e[0]||1,n=v.COMPILER_REVISION;if(t!==n){if(t<n){var i=v.REVISION_CHANGES[n],r=v.REVISION_CHANGES[t];throw new m.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+r+").")}throw new m.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function r(e,t){function n(n,i,r){r.hash&&(i=f.extend({},i,r.hash),r.ids&&(r.ids[0]=!0)),n=t.VM.resolvePartial.call(this,n,i,r);var o=t.VM.invokePartial.call(this,n,i,r);if(null==o&&t.compile&&(r.partials[r.name]=t.compile(n,e.compilerOptions,t),o=r.partials[r.name](i,r)),null!=o){if(r.indent){for(var a=o.split("\n"),s=0,l=a.length;s<l&&(a[s]||s+1!==l);s++)a[s]=r.indent+a[s];o=a.join("\n")}return o}throw new m.default("The partial "+r.name+" could not be compiled when running in runtime-only mode")}function i(t){function n(t){return""+e.main(r,t,r.helpers,r.partials,a,l,s)}var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=o.data;i._setup(o),!o.partial&&e.useData&&(a=c(t,a));var s=void 0,l=e.useBlockParams?[]:void 0;return e.useDepths&&(s=o.depths?t!=o.depths[0]?[t].concat(o.depths):o.depths:[t]),(n=u(e.main,n,r,o.depths||[],a,l))(t,o)}if(!t)throw new m.default("No environment passed to template");if(!e||!e.main)throw new m.default("Unknown template object: "+typeof e);e.main.decorator=e.main_d,t.VM.checkRevision(e.compiler);var r={strict:function(e,t){if(!(t in e))throw new m.default('"'+t+'" not defined in '+e);return e[t]},lookup:function(e,t){for(var n=e.length,i=0;i<n;i++)if(e[i]&&null!=e[i][t])return e[i][t]},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:f.escapeExpression,invokePartial:n,fn:function(t){var n=e[t];return n.decorator=e[t+"_d"],n},programs:[],program:function(e,t,n,i,r){var a=this.programs[e],s=this.fn(e);return t||r||i||n?a=o(this,e,s,t,n,i,r):a||(a=this.programs[e]=o(this,e,s)),a},data:function(e,t){for(;e&&t--;)e=e._parent;return e},merge:function(e,t){var n=e||t;return e&&t&&e!==t&&(n=f.extend({},t,e)),n},noop:t.VM.noop,compilerInfo:e.compiler};return i.isTop=!0,i._setup=function(n){n.partial?(r.helpers=n.helpers,r.partials=n.partials,r.decorators=n.decorators):(r.helpers=r.merge(n.helpers,t.helpers),e.usePartial&&(r.partials=r.merge(n.partials,t.partials)),(e.usePartial||e.useDecorators)&&(r.decorators=r.merge(n.decorators,t.decorators)))},i._child=function(t,n,i,a){if(e.useBlockParams&&!i)throw new m.default("must pass block params");if(e.useDepths&&!a)throw new m.default("must pass parent depths");return o(r,t,e[t],n,0,i,a)},i}function o(e,t,n,i,r,o,a){function s(t){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=a;return a&&t!=a[0]&&(s=[t].concat(a)),n(e,t,e.helpers,e.partials,r.data||i,o&&[r.blockParams].concat(o),s)}return s=u(n,s,e,a,i,o),s.program=t,s.depth=a?a.length:0,s.blockParams=r||0,s}function a(e,t,n){if(e)e.call||n.name||(n.name=e,e=n.partials[e]);else if("@partial-block"===n.name){for(var i=n.data;i["partial-block"]===l;)i=i._parent;e=i["partial-block"],i["partial-block"]=l}else e=n.partials[n.name];return e}function s(e,t,n){n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var i=void 0;if(n.fn&&n.fn!==l&&(n.data=v.createFrame(n.data),i=n.data["partial-block"]=n.fn,i.partials&&(n.partials=f.extend({},n.partials,i.partials))),void 0===e&&i&&(e=i),void 0===e)throw new m.default("The partial "+n.name+" could not be found");if(e instanceof Function)return e(t,n)}function l(){return""}function c(e,t){return t&&"root"in t||(t=t?v.createFrame(t):{},t.root=e),t}function u(e,t,n,i,r,o){if(e.decorator){var a={};t=e.decorator(t,a,n,i&&i[0],r,o,i),f.extend(t,a)}return t}var d=n(3).default,p=n(1).default;t.__esModule=!0,t.checkRevision=i,t.template=r,t.wrapProgram=o,t.resolvePartial=a,t.invokePartial=s,t.noop=l;var h=n(5),f=d(h),g=n(6),m=p(g),v=n(4)},function(e,t){(function(n){"use strict";t.__esModule=!0,t.default=function(e){var t="undefined"!=typeof n?n:window,i=t.Handlebars;e.noConflict=function(){return t.Handlebars===e&&(t.Handlebars=i),e}},e.exports=t.default}).call(t,function(){return this}())},function(e,t){"use strict";t.__esModule=!0;var n={helpers:{helperExpression:function(e){return"SubExpression"===e.type||("MustacheStatement"===e.type||"BlockStatement"===e.type)&&!!(e.params&&e.params.length||e.hash)},scopedId:function(e){return/^\.|this\b/.test(e.original)},simpleId:function(e){return 1===e.parts.length&&!n.helpers.scopedId(e)&&!e.depth}}};t.default=n,e.exports=t.default},function(e,t,n){"use strict";function i(e,t){if("Program"===e.type)return e;s.default.yy=h,h.locInfo=function(e){return new h.SourceLocation(t&&t.srcName,e)};var n=new c.default(t);return n.accept(s.default.parse(e))}var r=n(1).default,o=n(3).default;t.__esModule=!0,t.parse=i;var a=n(26),s=r(a),l=n(27),c=r(l),u=n(29),d=o(u),p=n(5);t.parser=s.default;var h={};p.extend(h,d)},function(e,t){"use strict";var n=function(){function e(){this.yy={}}var t={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition_plus0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,1],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(e,t,n,i,r,o,a){var s=o.length-1;switch(r){case 1:return o[s-1];case 2:this.$=i.prepareProgram(o[s]);break;case 3:this.$=o[s];break;case 4:this.$=o[s];break;case 5:this.$=o[s];break;case 6:this.$=o[s];break;case 7:this.$=o[s];break;case 8:this.$=o[s];break;case 9:this.$={type:"CommentStatement",value:i.stripComment(o[s]),strip:i.stripFlags(o[s],o[s]),loc:i.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:o[s],value:o[s],loc:i.locInfo(this._$)};break;case 11:this.$=i.prepareRawBlock(o[s-2],o[s-1],o[s],this._$);break;case 12:this.$={path:o[s-3],params:o[s-2],hash:o[s-1]};break;case 13:this.$=i.prepareBlock(o[s-3],o[s-2],o[s-1],o[s],!1,this._$);break;case 14:this.$=i.prepareBlock(o[s-3],o[s-2],o[s-1],o[s],!0,this._$);break;case 15:this.$={open:o[s-5],path:o[s-4],params:o[s-3],hash:o[s-2],blockParams:o[s-1],strip:i.stripFlags(o[s-5],o[s])};break;case 16:this.$={path:o[s-4],params:o[s-3],hash:o[s-2],blockParams:o[s-1],strip:i.stripFlags(o[s-5],o[s])};break;case 17:this.$={path:o[s-4],params:o[s-3],hash:o[s-2],blockParams:o[s-1],strip:i.stripFlags(o[s-5],o[s])};break;case 18:this.$={strip:i.stripFlags(o[s-1],o[s-1]),program:o[s]};break;case 19:var l=i.prepareBlock(o[s-2],o[s-1],o[s],o[s],!1,this._$),c=i.prepareProgram([l],o[s-1].loc);c.chained=!0,this.$={strip:o[s-2].strip,program:c,chain:!0};break;case 20:this.$=o[s];break;case 21:this.$={path:o[s-1],strip:i.stripFlags(o[s-2],o[s])};break;case 22:this.$=i.prepareMustache(o[s-3],o[s-2],o[s-1],o[s-4],i.stripFlags(o[s-4],o[s]),this._$);break;case 23:this.$=i.prepareMustache(o[s-3],o[s-2],o[s-1],o[s-4],i.stripFlags(o[s-4],o[s]),this._$);break;case 24:this.$={type:"PartialStatement",name:o[s-3],params:o[s-2],hash:o[s-1],indent:"",strip:i.stripFlags(o[s-4],o[s]),loc:i.locInfo(this._$)};break;case 25:this.$=i.preparePartialBlock(o[s-2],o[s-1],o[s],this._$);break;case 26:this.$={path:o[s-3],params:o[s-2],hash:o[s-1],strip:i.stripFlags(o[s-4],o[s])};break;case 27:this.$=o[s];break;case 28:this.$=o[s];break;case 29:this.$={type:"SubExpression",path:o[s-3],params:o[s-2],hash:o[s-1],loc:i.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:o[s],loc:i.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:i.id(o[s-2]),value:o[s],loc:i.locInfo(this._$)};break;case 32:this.$=i.id(o[s-1]);break;case 33:this.$=o[s];break;case 34:this.$=o[s];break;case 35:this.$={type:"StringLiteral",value:o[s],original:o[s],loc:i.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(o[s]),original:Number(o[s]),loc:i.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===o[s],original:"true"===o[s],loc:i.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:i.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:i.locInfo(this._$)};break;case 40:this.$=o[s];break;case 41:this.$=o[s];break;case 42:this.$=i.preparePath(!0,o[s],this._$);break;case 43:this.$=i.preparePath(!1,o[s],this._$);break;case 44:o[s-2].push({part:i.id(o[s]),original:o[s],separator:o[s-1]}),this.$=o[s-2];break;case 45:this.$=[{part:i.id(o[s]),original:o[s]}];break;case 46:this.$=[];break;case 47:o[s-1].push(o[s]);break;case 48:this.$=[o[s]];break;case 49:o[s-1].push(o[s]);break;case 50:this.$=[];break;case 51:o[s-1].push(o[s]);break;case 58:this.$=[];break;case 59:o[s-1].push(o[s]);break;case 64:this.$=[];break;case 65:o[s-1].push(o[s]);break;case 70:this.$=[];break;case 71:o[s-1].push(o[s]);break;case 78:this.$=[];break;case 79:o[s-1].push(o[s]);break;case 82:this.$=[];break;case 83:o[s-1].push(o[s]);break;case 86:this.$=[];break;case 87:o[s-1].push(o[s]);break;case 90:this.$=[];break;case 91:o[s-1].push(o[s]);break;case 94:this.$=[];break;case 95:o[s-1].push(o[s]);break;case 98:this.$=[o[s]];break;case 99:o[s-1].push(o[s]);break;case 100:this.$=[o[s]];break;case 101:o[s-1].push(o[s])}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{13:40,15:[1,20],17:39},{20:42,56:41,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:45,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:48,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:42,56:49,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:50,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,51]},{72:[1,35],86:52},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:53,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:54,38:56,39:[1,58],43:57,44:[1,59],45:55,47:[2,54]},{28:60,43:61,44:[1,59],47:[2,56]},{13:63,15:[1,20],18:[1,62]},{15:[2,48],18:[2,48]},{33:[2,86],57:64,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:65,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:66,47:[1,67]},{30:68,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:69,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:70,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:71,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:75,33:[2,80],50:72,63:73,64:76,65:[1,44],69:74,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,80]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,51]},{20:75,53:81,54:[2,84],63:82,64:76,65:[1,44],69:83,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:84,47:[1,67]},{47:[2,55]},{4:85,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:86,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:87,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:88,47:[1,67]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:75,33:[2,88],58:89,63:90,64:76,65:[1,44],69:91,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:92,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:93,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,31:94,33:[2,60],63:95,64:76,65:[1,44],69:96,70:77,71:78,72:[1,79],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,66],36:97,63:98,64:76,65:[1,44],69:99,70:77,71:78,72:[1,79],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,22:100,23:[2,52],63:101,64:76,65:[1,44],69:102,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],
86:33},{20:75,33:[2,92],62:103,63:104,64:76,65:[1,44],69:105,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,106]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:107,72:[1,108],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,109],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,110]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:56,39:[1,58],43:57,44:[1,59],45:112,46:111,47:[2,76]},{33:[2,70],40:113,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,114]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:75,63:116,64:76,65:[1,44],67:115,68:[2,96],69:117,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,118]},{32:119,33:[2,62],74:120,75:[1,121]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:122,74:123,75:[1,121]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,124]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,125]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,109]},{20:75,63:126,64:76,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:75,33:[2,72],41:127,63:128,64:76,65:[1,44],69:129,70:77,71:78,72:[1,79],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,130]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,131]},{33:[2,63]},{72:[1,133],76:132},{33:[1,134]},{33:[2,69]},{15:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:135,74:136,75:[1,121]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,138],77:[1,137]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,139]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],55:[2,55],57:[2,20],61:[2,57],74:[2,81],83:[2,85],87:[2,18],91:[2,89],102:[2,53],105:[2,93],111:[2,19],112:[2,77],117:[2,97],120:[2,63],123:[2,69],124:[2,12],136:[2,75],137:[2,32]},parseError:function(e,t){throw new Error(e)},parse:function(e){function t(){var e;return e=n.lexer.lex()||1,"number"!=typeof e&&(e=n.symbols_[e]||e),e}var n=this,i=[0],r=[null],o=[],a=this.table,s="",l=0,c=0,u=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var d=this.lexer.yylloc;o.push(d);var p=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var h,f,g,m,v,_,y,E,b,T={};;){if(g=i[i.length-1],this.defaultActions[g]?m=this.defaultActions[g]:(null!==h&&"undefined"!=typeof h||(h=t()),m=a[g]&&a[g][h]),"undefined"==typeof m||!m.length||!m[0]){var S="";if(!u){b=[];for(_ in a[g])this.terminals_[_]&&_>2&&b.push("'"+this.terminals_[_]+"'");S=this.lexer.showPosition?"Parse error on line "+(l+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+b.join(", ")+", got '"+(this.terminals_[h]||h)+"'":"Parse error on line "+(l+1)+": Unexpected "+(1==h?"end of input":"'"+(this.terminals_[h]||h)+"'"),this.parseError(S,{text:this.lexer.match,token:this.terminals_[h]||h,line:this.lexer.yylineno,loc:d,expected:b})}}if(m[0]instanceof Array&&m.length>1)throw new Error("Parse Error: multiple actions possible at state: "+g+", token: "+h);switch(m[0]){case 1:i.push(h),r.push(this.lexer.yytext),o.push(this.lexer.yylloc),i.push(m[1]),h=null,f?(h=f,f=null):(c=this.lexer.yyleng,s=this.lexer.yytext,l=this.lexer.yylineno,d=this.lexer.yylloc,u>0&&u--);break;case 2:if(y=this.productions_[m[1]][1],T.$=r[r.length-y],T._$={first_line:o[o.length-(y||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(y||1)].first_column,last_column:o[o.length-1].last_column},p&&(T._$.range=[o[o.length-(y||1)].range[0],o[o.length-1].range[1]]),v=this.performAction.call(T,s,c,l,this.yy,m[1],r,o),"undefined"!=typeof v)return v;y&&(i=i.slice(0,-1*y*2),r=r.slice(0,-1*y),o=o.slice(0,-1*y)),i.push(this.productions_[m[1]][0]),r.push(T.$),o.push(T._$),E=a[i[i.length-2]][i[i.length-1]],i.push(E);break;case 3:return!0}}return!0}},n=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e;var t=e.match(/(?:\r\n?|\n).*/g);return t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t-1),this.offset-=t;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-t]),this},more:function(){return this._more=!0,this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var e,t,n,i,r;this._more||(this.yytext="",this.match="");for(var o=this._currentRules(),a=0;a<o.length&&(n=this._input.match(this.rules[o[a]]),!n||t&&!(n[0].length>t[0].length)||(t=n,i=a,this.options.flex));a++);return t?(r=t[0].match(/(?:\r\n?|\n).*/g),r&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,o[i],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e?e:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return"undefined"!=typeof e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)}};return e.options={},e.performAction=function(e,t,n,i){function r(e,n){return t.yytext=t.yytext.substr(e,t.yyleng-n)}switch(n){case 0:if("\\\\"===t.yytext.slice(-2)?(r(0,1),this.begin("mu")):"\\"===t.yytext.slice(-1)?(r(0,1),this.begin("emu")):this.begin("mu"),t.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),"raw"===this.conditionStack[this.conditionStack.length-1]?15:(t.yytext=t.yytext.substr(5,t.yyleng-9),"END_RAW_BLOCK");case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:return this.popState(),44;case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(t.yytext),this.popState(),this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:return 72;case 26:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return t.yytext=r(1,2).replace(/\\"/g,'"'),80;case 32:return t.yytext=r(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:return 82;case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return t.yytext=t.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},e.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^\/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],e.conditions={mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}},e}();return t.lexer=n,e.prototype=t,t.Parser=e,new e}();t.__esModule=!0,t.default=n},function(e,t,n){"use strict";function i(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=e}function r(e,t,n){void 0===t&&(t=e.length);var i=e[t-1],r=e[t-2];return i?"ContentStatement"===i.type?(r||!n?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(i.original):void 0:n}function o(e,t,n){void 0===t&&(t=-1);var i=e[t+1],r=e[t+2];return i?"ContentStatement"===i.type?(r||!n?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(i.original):void 0:n}function a(e,t,n){var i=e[null==t?0:t+1];if(i&&"ContentStatement"===i.type&&(n||!i.rightStripped)){var r=i.value;i.value=i.value.replace(n?/^\s+/:/^[ \t]*\r?\n?/,""),i.rightStripped=i.value!==r}}function s(e,t,n){var i=e[null==t?e.length-1:t-1];if(i&&"ContentStatement"===i.type&&(n||!i.leftStripped)){var r=i.value;return i.value=i.value.replace(n?/\s+$/:/[ \t]+$/,""),i.leftStripped=i.value!==r,i.leftStripped}}var l=n(1).default;t.__esModule=!0;var c=n(28),u=l(c);i.prototype=new u.default,i.prototype.Program=function(e){var t=!this.options.ignoreStandalone,n=!this.isRootSeen;this.isRootSeen=!0;for(var i=e.body,l=0,c=i.length;l<c;l++){var u=i[l],d=this.accept(u);if(d){var p=r(i,l,n),h=o(i,l,n),f=d.openStandalone&&p,g=d.closeStandalone&&h,m=d.inlineStandalone&&p&&h;d.close&&a(i,l,!0),d.open&&s(i,l,!0),t&&m&&(a(i,l),s(i,l)&&"PartialStatement"===u.type&&(u.indent=/([ \t]+$)/.exec(i[l-1].original)[1])),t&&f&&(a((u.program||u.inverse).body),s(i,l)),t&&g&&(a(i,l),s((u.inverse||u.program).body))}}return e},i.prototype.BlockStatement=i.prototype.DecoratorBlock=i.prototype.PartialBlockStatement=function(e){this.accept(e.program),this.accept(e.inverse);var t=e.program||e.inverse,n=e.program&&e.inverse,i=n,l=n;if(n&&n.chained)for(i=n.body[0].program;l.chained;)l=l.body[l.body.length-1].program;var c={open:e.openStrip.open,close:e.closeStrip.close,openStandalone:o(t.body),closeStandalone:r((i||t).body)};if(e.openStrip.close&&a(t.body,null,!0),n){var u=e.inverseStrip;u.open&&s(t.body,null,!0),u.close&&a(i.body,null,!0),e.closeStrip.open&&s(l.body,null,!0),!this.options.ignoreStandalone&&r(t.body)&&o(i.body)&&(s(t.body),a(i.body))}else e.closeStrip.open&&s(t.body,null,!0);return c},i.prototype.Decorator=i.prototype.MustacheStatement=function(e){return e.strip},i.prototype.PartialStatement=i.prototype.CommentStatement=function(e){var t=e.strip||{};return{inlineStandalone:!0,open:t.open,close:t.close}},t.default=i,e.exports=t.default},function(e,t,n){"use strict";function i(){this.parents=[]}function r(e){this.acceptRequired(e,"path"),this.acceptArray(e.params),this.acceptKey(e,"hash")}function o(e){r.call(this,e),this.acceptKey(e,"program"),this.acceptKey(e,"inverse")}function a(e){this.acceptRequired(e,"name"),this.acceptArray(e.params),this.acceptKey(e,"hash")}var s=n(1).default;t.__esModule=!0;var l=n(6),c=s(l);i.prototype={constructor:i,mutating:!1,acceptKey:function(e,t){var n=this.accept(e[t]);if(this.mutating){if(n&&!i.prototype[n.type])throw new c.default('Unexpected node type "'+n.type+'" found when accepting '+t+" on "+e.type);e[t]=n}},acceptRequired:function(e,t){if(this.acceptKey(e,t),!e[t])throw new c.default(e.type+" requires "+t)},acceptArray:function(e){for(var t=0,n=e.length;t<n;t++)this.acceptKey(e,t),e[t]||(e.splice(t,1),t--,n--)},accept:function(e){if(e){if(!this[e.type])throw new c.default("Unknown type: "+e.type,e);this.current&&this.parents.unshift(this.current),this.current=e;var t=this[e.type](e);return this.current=this.parents.shift(),!this.mutating||t?t:t!==!1?e:void 0}},Program:function(e){this.acceptArray(e.body)},MustacheStatement:r,Decorator:r,BlockStatement:o,DecoratorBlock:o,PartialStatement:a,PartialBlockStatement:function(e){a.call(this,e),this.acceptKey(e,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:r,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(e){this.acceptArray(e.pairs)},HashPair:function(e){this.acceptRequired(e,"value")}},t.default=i,e.exports=t.default},function(e,t,n){"use strict";function i(e,t){if(t=t.path?t.path.original:t,e.path.original!==t){var n={loc:e.path.loc};throw new m.default(e.path.original+" doesn't match "+t,n)}}function r(e,t){this.source=e,this.start={line:t.first_line,column:t.first_column},this.end={line:t.last_line,column:t.last_column}}function o(e){return/^\[.*\]$/.test(e)?e.substr(1,e.length-2):e}function a(e,t){return{open:"~"===e.charAt(2),close:"~"===t.charAt(t.length-3)}}function s(e){return e.replace(/^\{\{~?\!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function l(e,t,n){n=this.locInfo(n);for(var i=e?"@":"",r=[],o=0,a="",s=0,l=t.length;s<l;s++){var c=t[s].part,u=t[s].original!==c;if(i+=(t[s].separator||"")+c,u||".."!==c&&"."!==c&&"this"!==c)r.push(c);else{if(r.length>0)throw new m.default("Invalid path: "+i,{loc:n});".."===c&&(o++,a+="../")}}return{type:"PathExpression",data:e,depth:o,parts:r,original:i,loc:n}}function c(e,t,n,i,r,o){var a=i.charAt(3)||i.charAt(2),s="{"!==a&&"&"!==a,l=/\*/.test(i);return{type:l?"Decorator":"MustacheStatement",path:e,params:t,hash:n,escaped:s,strip:r,loc:this.locInfo(o)}}function u(e,t,n,r){i(e,n),r=this.locInfo(r);var o={type:"Program",body:t,strip:{},loc:r};return{type:"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:o,openStrip:{},inverseStrip:{},closeStrip:{},loc:r}}function d(e,t,n,r,o,a){r&&r.path&&i(e,r);var s=/\*/.test(e.open);t.blockParams=e.blockParams;var l=void 0,c=void 0;if(n){if(s)throw new m.default("Unexpected inverse block on decorator",n);n.chain&&(n.program.body[0].closeStrip=r.strip),c=n.strip,l=n.program}return o&&(o=l,l=t,t=o),{type:s?"DecoratorBlock":"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:t,inverse:l,openStrip:e.strip,inverseStrip:c,closeStrip:r&&r.strip,loc:this.locInfo(a)}}function p(e,t){if(!t&&e.length){var n=e[0].loc,i=e[e.length-1].loc;n&&i&&(t={source:n.source,start:{line:n.start.line,column:n.start.column},end:{line:i.end.line,column:i.end.column}})}return{type:"Program",body:e,strip:{},loc:t}}function h(e,t,n,r){return i(e,n),{type:"PartialBlockStatement",name:e.path,params:e.params,hash:e.hash,program:t,openStrip:e.strip,closeStrip:n&&n.strip,loc:this.locInfo(r)}}var f=n(1).default;t.__esModule=!0,t.SourceLocation=r,t.id=o,t.stripFlags=a,t.stripComment=s,t.preparePath=l,t.prepareMustache=c,t.prepareRawBlock=u,t.prepareBlock=d,t.prepareProgram=p,t.preparePartialBlock=h;var g=n(6),m=f(g)},function(e,t,n){"use strict";function i(){}function r(e,t,n){if(null==e||"string"!=typeof e&&"Program"!==e.type)throw new u.default("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+e);t=t||{},"data"in t||(t.data=!0),t.compat&&(t.useDepths=!0);var i=n.parse(e,t),r=(new n.Compiler).compile(i,t);return(new n.JavaScriptCompiler).compile(r,t)}function o(e,t,n){function i(){var i=n.parse(e,t),r=(new n.Compiler).compile(i,t),o=(new n.JavaScriptCompiler).compile(r,t,void 0,!0);return n.template(o)}function r(e,t){return o||(o=i()),o.call(this,e,t)}if(void 0===t&&(t={}),null==e||"string"!=typeof e&&"Program"!==e.type)throw new u.default("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+e);"data"in t||(t.data=!0),t.compat&&(t.useDepths=!0);var o=void 0;return r._setup=function(e){return o||(o=i()),o._setup(e)},r._child=function(e,t,n,r){return o||(o=i()),o._child(e,t,n,r)},r}function a(e,t){if(e===t)return!0;if(d.isArray(e)&&d.isArray(t)&&e.length===t.length){for(var n=0;n<e.length;n++)if(!a(e[n],t[n]))return!1;return!0}}function s(e){if(!e.path.parts){var t=e.path;e.path={type:"PathExpression",data:!1,depth:0,parts:[t.original+""],original:t.original+"",loc:t.loc}}}var l=n(1).default;t.__esModule=!0,t.Compiler=i,t.precompile=r,t.compile=o;var c=n(6),u=l(c),d=n(5),p=n(24),h=l(p),f=[].slice;i.prototype={compiler:i,equals:function(e){var t=this.opcodes.length;if(e.opcodes.length!==t)return!1;for(var n=0;n<t;n++){var i=this.opcodes[n],r=e.opcodes[n];if(i.opcode!==r.opcode||!a(i.args,r.args))return!1}t=this.children.length;for(var n=0;n<t;n++)if(!this.children[n].equals(e.children[n]))return!1;return!0},guid:0,compile:function(e,t){this.sourceNode=[],this.opcodes=[],this.children=[],this.options=t,this.stringParams=t.stringParams,this.trackIds=t.trackIds,t.blockParams=t.blockParams||[];var n=t.knownHelpers;if(t.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0,lookup:!0},n)for(var i in n)i in n&&(t.knownHelpers[i]=n[i]);return this.accept(e)},compileProgram:function(e){var t=new this.compiler,n=t.compile(e,this.options),i=this.guid++;return this.usePartial=this.usePartial||n.usePartial,this.children[i]=n,this.useDepths=this.useDepths||n.useDepths,i},accept:function(e){if(!this[e.type])throw new u.default("Unknown type: "+e.type,e);this.sourceNode.unshift(e);var t=this[e.type](e);return this.sourceNode.shift(),t},Program:function(e){this.options.blockParams.unshift(e.blockParams);for(var t=e.body,n=t.length,i=0;i<n;i++)this.accept(t[i]);return this.options.blockParams.shift(),this.isSimple=1===n,this.blockParams=e.blockParams?e.blockParams.length:0,this},BlockStatement:function(e){s(e);var t=e.program,n=e.inverse;t=t&&this.compileProgram(t),n=n&&this.compileProgram(n);var i=this.classifySexpr(e);"helper"===i?this.helperSexpr(e,t,n):"simple"===i?(this.simpleSexpr(e),this.opcode("pushProgram",t),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("blockValue",e.path.original)):(this.ambiguousSexpr(e,t,n),this.opcode("pushProgram",t),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function(e){var t=e.program&&this.compileProgram(e.program),n=this.setupFullMustacheParams(e,t,void 0),i=e.path;this.useDecorators=!0,this.opcode("registerDecorator",n.length,i.original)},PartialStatement:function(e){this.usePartial=!0;var t=e.program;t&&(t=this.compileProgram(e.program));var n=e.params;if(n.length>1)throw new u.default("Unsupported number of partial arguments: "+n.length,e);n.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):n.push({type:"PathExpression",parts:[],depth:0}));var i=e.name.original,r="SubExpression"===e.name.type;r&&this.accept(e.name),this.setupFullMustacheParams(e,t,void 0,!0);var o=e.indent||"";this.options.preventIndent&&o&&(this.opcode("appendContent",o),o=""),this.opcode("invokePartial",r,i,o),this.opcode("append")},PartialBlockStatement:function(e){this.PartialStatement(e)},MustacheStatement:function(e){this.SubExpression(e),e.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(e){this.DecoratorBlock(e)},ContentStatement:function(e){e.value&&this.opcode("appendContent",e.value)},CommentStatement:function(){},SubExpression:function(e){s(e);var t=this.classifySexpr(e);"simple"===t?this.simpleSexpr(e):"helper"===t?this.helperSexpr(e):this.ambiguousSexpr(e)},ambiguousSexpr:function(e,t,n){var i=e.path,r=i.parts[0],o=null!=t||null!=n;this.opcode("getContext",i.depth),this.opcode("pushProgram",t),this.opcode("pushProgram",n),i.strict=!0,this.accept(i),this.opcode("invokeAmbiguous",r,o)},simpleSexpr:function(e){var t=e.path;t.strict=!0,this.accept(t),this.opcode("resolvePossibleLambda")},helperSexpr:function(e,t,n){var i=this.setupFullMustacheParams(e,t,n),r=e.path,o=r.parts[0];if(this.options.knownHelpers[o])this.opcode("invokeKnownHelper",i.length,o);else{if(this.options.knownHelpersOnly)throw new u.default("You specified knownHelpersOnly, but used the unknown helper "+o,e);r.strict=!0,r.falsy=!0,this.accept(r),this.opcode("invokeHelper",i.length,r.original,h.default.helpers.simpleId(r))}},PathExpression:function(e){this.addDepth(e.depth),this.opcode("getContext",e.depth);var t=e.parts[0],n=h.default.helpers.scopedId(e),i=!e.depth&&!n&&this.blockParamIndex(t);i?this.opcode("lookupBlockParam",i,e.parts):t?e.data?(this.options.data=!0,this.opcode("lookupData",e.depth,e.parts,e.strict)):this.opcode("lookupOnContext",e.parts,e.falsy,e.strict,n):this.opcode("pushContext")},StringLiteral:function(e){this.opcode("pushString",e.value)},NumberLiteral:function(e){this.opcode("pushLiteral",e.value)},BooleanLiteral:function(e){this.opcode("pushLiteral",e.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(e){var t=e.pairs,n=0,i=t.length;for(this.opcode("pushHash");n<i;n++)this.pushParam(t[n].value);for(;n--;)this.opcode("assignToHash",t[n].key);this.opcode("popHash")},opcode:function(e){this.opcodes.push({opcode:e,args:f.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(e){e&&(this.useDepths=!0)},classifySexpr:function(e){var t=h.default.helpers.simpleId(e.path),n=t&&!!this.blockParamIndex(e.path.parts[0]),i=!n&&h.default.helpers.helperExpression(e),r=!n&&(i||t);if(r&&!i){var o=e.path.parts[0],a=this.options;a.knownHelpers[o]?i=!0:a.knownHelpersOnly&&(r=!1)}return i?"helper":r?"ambiguous":"simple"},pushParams:function(e){for(var t=0,n=e.length;t<n;t++)this.pushParam(e[t])},pushParam:function(e){var t=null!=e.value?e.value:e.original||"";if(this.stringParams)t.replace&&(t=t.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),e.depth&&this.addDepth(e.depth),this.opcode("getContext",e.depth||0),this.opcode("pushStringParam",t,e.type),"SubExpression"===e.type&&this.accept(e);else{if(this.trackIds){var n=void 0;if(!e.parts||h.default.helpers.scopedId(e)||e.depth||(n=this.blockParamIndex(e.parts[0])),n){var i=e.parts.slice(1).join(".");this.opcode("pushId","BlockParam",n,i)}else t=e.original||t,t.replace&&(t=t.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",e.type,t)}this.accept(e)}},setupFullMustacheParams:function(e,t,n,i){var r=e.params;return this.pushParams(r),this.opcode("pushProgram",t),this.opcode("pushProgram",n),e.hash?this.accept(e.hash):this.opcode("emptyHash",i),r},blockParamIndex:function(e){for(var t=0,n=this.options.blockParams.length;t<n;t++){var i=this.options.blockParams[t],r=i&&d.indexOf(i,e);if(i&&r>=0)return[t,r]}}}},function(e,t,n){"use strict";function i(e){this.value=e}function r(){}function o(e,t,n,i){var r=t.popStack(),o=0,a=n.length;for(e&&a--;o<a;o++)r=t.nameLookup(r,n[o],i);return e?[t.aliasable("container.strict"),"(",r,", ",t.quotedString(n[o]),")"]:r}var a=n(1).default;t.__esModule=!0;var s=n(4),l=n(6),c=a(l),u=n(5),d=n(32),p=a(d);r.prototype={nameLookup:function(e,t){return r.isValidJavaScriptVariableName(t)?[e,".",t]:[e,"[",JSON.stringify(t),"]"]},depthedLookup:function(e){return[this.aliasable("container.lookup"),'(depths, "',e,'")']},compilerInfo:function(){var e=s.COMPILER_REVISION,t=s.REVISION_CHANGES[e];return[e,t]},appendToBuffer:function(e,t,n){return u.isArray(e)||(e=[e]),e=this.source.wrap(e,t),this.environment.isSimple?["return ",e,";"]:n?["buffer += ",e,";"]:(e.appendToBuffer=!0,e)},initializeBuffer:function(){return this.quotedString("")},compile:function(e,t,n,i){this.environment=e,this.options=t,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!i,this.name=this.environment.name,this.isChild=!!n,this.context=n||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(e,t),this.useDepths=this.useDepths||e.useDepths||e.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||e.useBlockParams;var r=e.opcodes,o=void 0,a=void 0,s=void 0,l=void 0;for(s=0,l=r.length;s<l;s++)o=r[s],this.source.currentLocation=o.loc,a=a||o.loc,this[o.opcode].apply(this,o.args);if(this.source.currentLocation=a,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new c.default("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend("var decorators = container.decorators;\n"),this.decorators.push("return fn;"),i?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));var u=this.createFunctionContext(i);if(this.isChild)return u;var d={compiler:this.compilerInfo(),main:u};this.decorators&&(d.main_d=this.decorators,d.useDecorators=!0);var p=this.context,h=p.programs,f=p.decorators;for(s=0,l=h.length;s<l;s++)h[s]&&(d[s]=h[s],f[s]&&(d[s+"_d"]=f[s],d.useDecorators=!0));return this.environment.usePartial&&(d.usePartial=!0),this.options.data&&(d.useData=!0),this.useDepths&&(d.useDepths=!0),this.useBlockParams&&(d.useBlockParams=!0),this.options.compat&&(d.compat=!0),i?d.compilerOptions=this.options:(d.compiler=JSON.stringify(d.compiler),this.source.currentLocation={start:{line:1,column:0}},d=this.objectLiteral(d),t.srcName?(d=d.toStringWithSourceMap({file:t.destName}),d.map=d.map&&d.map.toString()):d=d.toString()),d},preamble:function(){this.lastContext=0,this.source=new p.default(this.options.srcName),this.decorators=new p.default(this.options.srcName)},createFunctionContext:function(e){var t="",n=this.stackVars.concat(this.registers.list);n.length>0&&(t+=", "+n.join(", "));var i=0;for(var r in this.aliases){var o=this.aliases[r];this.aliases.hasOwnProperty(r)&&o.children&&o.referenceCount>1&&(t+=", alias"+ ++i+"="+r,o.children[0]="alias"+i)}var a=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&a.push("blockParams"),this.useDepths&&a.push("depths");var s=this.mergeSource(t);return e?(a.push(s),Function.apply(this,a)):this.source.wrap(["function(",a.join(","),") {\n  ",s,"}"])},mergeSource:function(e){var t=this.environment.isSimple,n=!this.forceBuffer,i=void 0,r=void 0,o=void 0,a=void 0;return this.source.each(function(e){e.appendToBuffer?(o?e.prepend("  + "):o=e,a=e):(o&&(r?o.prepend("buffer += "):i=!0,a.add(";"),o=a=void 0),r=!0,t||(n=!1))}),n?o?(o.prepend("return "),a.add(";")):r||this.source.push('return "";'):(e+=", buffer = "+(i?"":this.initializeBuffer()),o?(o.prepend("return buffer + "),a.add(";")):this.source.push("return buffer;")),e&&this.source.prepend("var "+e.substring(2)+(i?"":";\n")),this.source.merge()},blockValue:function(e){var t=this.aliasable("helpers.blockHelperMissing"),n=[this.contextName(0)];this.setupHelperArgs(e,0,n);var i=this.popStack();n.splice(1,0,i),this.push(this.source.functionCall(t,"call",n))},ambiguousBlockValue:function(){var e=this.aliasable("helpers.blockHelperMissing"),t=[this.contextName(0)];this.setupHelperArgs("",0,t,!0),this.flushInline();var n=this.topStack();t.splice(1,0,n),this.pushSource(["if (!",this.lastHelper,") { ",n," = ",this.source.functionCall(e,"call",t),"}"]);
},appendContent:function(e){this.pendingContent?e=this.pendingContent+e:this.pendingLocation=this.source.currentLocation,this.pendingContent=e},append:function(){if(this.isInline())this.replaceStack(function(e){return[" != null ? ",e,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var e=this.popStack();this.pushSource(["if (",e," != null) { ",this.appendToBuffer(e,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(e){this.lastContext=e},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(e,t,n,i){var r=0;i||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(e[r++])),this.resolvePath("context",e,r,t,n)},lookupBlockParam:function(e,t){this.useBlockParams=!0,this.push(["blockParams[",e[0],"][",e[1],"]"]),this.resolvePath("context",t,1)},lookupData:function(e,t,n){e?this.pushStackLiteral("container.data(data, "+e+")"):this.pushStackLiteral("data"),this.resolvePath("data",t,0,!0,n)},resolvePath:function(e,t,n,i,r){var a=this;if(this.options.strict||this.options.assumeObjects)return void this.push(o(this.options.strict&&r,this,t,e));for(var s=t.length;n<s;n++)this.replaceStack(function(r){var o=a.nameLookup(r,t[n],e);return i?[" && ",o]:[" != null ? ",o," : ",r]})},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(e,t){this.pushContext(),this.pushString(t),"SubExpression"!==t&&("string"==typeof e?this.pushString(e):this.pushStackLiteral(e))},emptyHash:function(e){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(e?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[],ids:[]}},popHash:function(){var e=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(e.ids)),this.stringParams&&(this.push(this.objectLiteral(e.contexts)),this.push(this.objectLiteral(e.types))),this.push(this.objectLiteral(e.values))},pushString:function(e){this.pushStackLiteral(this.quotedString(e))},pushLiteral:function(e){this.pushStackLiteral(e)},pushProgram:function(e){null!=e?this.pushStackLiteral(this.programExpression(e)):this.pushStackLiteral(null)},registerDecorator:function(e,t){var n=this.nameLookup("decorators",t,"decorator"),i=this.setupHelperArgs(t,e);this.decorators.push(["fn = ",this.decorators.functionCall(n,"",["fn","props","container",i])," || fn;"])},invokeHelper:function(e,t,n){var i=this.popStack(),r=this.setupHelper(e,t),o=n?[r.name," || "]:"",a=["("].concat(o,i);this.options.strict||a.push(" || ",this.aliasable("helpers.helperMissing")),a.push(")"),this.push(this.source.functionCall(a,"call",r.callParams))},invokeKnownHelper:function(e,t){var n=this.setupHelper(e,t);this.push(this.source.functionCall(n.name,"call",n.callParams))},invokeAmbiguous:function(e,t){this.useRegister("helper");var n=this.popStack();this.emptyHash();var i=this.setupHelper(0,e,t),r=this.lastHelper=this.nameLookup("helpers",e,"helper"),o=["(","(helper = ",r," || ",n,")"];this.options.strict||(o[0]="(helper = ",o.push(" != null ? helper : ",this.aliasable("helpers.helperMissing"))),this.push(["(",o,i.paramsInit?["),(",i.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",i.callParams)," : helper))"])},invokePartial:function(e,t,n){var i=[],r=this.setupParams(t,1,i);e&&(t=this.popStack(),delete r.name),n&&(r.indent=JSON.stringify(n)),r.helpers="helpers",r.partials="partials",r.decorators="container.decorators",e?i.unshift(t):i.unshift(this.nameLookup("partials",t,"partial")),this.options.compat&&(r.depths="depths"),r=this.objectLiteral(r),i.push(r),this.push(this.source.functionCall("container.invokePartial","",i))},assignToHash:function(e){var t=this.popStack(),n=void 0,i=void 0,r=void 0;this.trackIds&&(r=this.popStack()),this.stringParams&&(i=this.popStack(),n=this.popStack());var o=this.hash;n&&(o.contexts[e]=n),i&&(o.types[e]=i),r&&(o.ids[e]=r),o.values[e]=t},pushId:function(e,t,n){"BlockParam"===e?this.pushStackLiteral("blockParams["+t[0]+"].path["+t[1]+"]"+(n?" + "+JSON.stringify("."+n):"")):"PathExpression"===e?this.pushString(t):"SubExpression"===e?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:r,compileChildren:function(e,t){for(var n=e.children,i=void 0,r=void 0,o=0,a=n.length;o<a;o++){i=n[o],r=new this.compiler;var s=this.matchExistingProgram(i);if(null==s){this.context.programs.push("");var l=this.context.programs.length;i.index=l,i.name="program"+l,this.context.programs[l]=r.compile(i,t,this.context,!this.precompile),this.context.decorators[l]=r.decorators,this.context.environments[l]=i,this.useDepths=this.useDepths||r.useDepths,this.useBlockParams=this.useBlockParams||r.useBlockParams,i.useDepths=this.useDepths,i.useBlockParams=this.useBlockParams}else i.index=s.index,i.name="program"+s.index,this.useDepths=this.useDepths||s.useDepths,this.useBlockParams=this.useBlockParams||s.useBlockParams}},matchExistingProgram:function(e){for(var t=0,n=this.context.environments.length;t<n;t++){var i=this.context.environments[t];if(i&&i.equals(e))return i}},programExpression:function(e){var t=this.environment.children[e],n=[t.index,"data",t.blockParams];return(this.useBlockParams||this.useDepths)&&n.push("blockParams"),this.useDepths&&n.push("depths"),"container.program("+n.join(", ")+")"},useRegister:function(e){this.registers[e]||(this.registers[e]=!0,this.registers.list.push(e))},push:function(e){return e instanceof i||(e=this.source.wrap(e)),this.inlineStack.push(e),e},pushStackLiteral:function(e){this.push(new i(e))},pushSource:function(e){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),e&&this.source.push(e)},replaceStack:function(e){var t=["("],n=void 0,r=void 0,o=void 0;if(!this.isInline())throw new c.default("replaceStack on non-inline");var a=this.popStack(!0);if(a instanceof i)n=[a.value],t=["(",n],o=!0;else{r=!0;var s=this.incrStack();t=["((",this.push(s)," = ",a,")"],n=this.topStack()}var l=e.call(this,n);o||this.popStack(),r&&this.stackSlot--,this.push(t.concat(l,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var e=this.inlineStack;this.inlineStack=[];for(var t=0,n=e.length;t<n;t++){var r=e[t];if(r instanceof i)this.compileStack.push(r);else{var o=this.incrStack();this.pushSource([o," = ",r,";"]),this.compileStack.push(o)}}},isInline:function(){return this.inlineStack.length},popStack:function(e){var t=this.isInline(),n=(t?this.inlineStack:this.compileStack).pop();if(!e&&n instanceof i)return n.value;if(!t){if(!this.stackSlot)throw new c.default("Invalid stack pop");this.stackSlot--}return n},topStack:function(){var e=this.isInline()?this.inlineStack:this.compileStack,t=e[e.length-1];return t instanceof i?t.value:t},contextName:function(e){return this.useDepths&&e?"depths["+e+"]":"depth"+e},quotedString:function(e){return this.source.quotedString(e)},objectLiteral:function(e){return this.source.objectLiteral(e)},aliasable:function(e){var t=this.aliases[e];return t?(t.referenceCount++,t):(t=this.aliases[e]=this.source.wrap(e),t.aliasable=!0,t.referenceCount=1,t)},setupHelper:function(e,t,n){var i=[],r=this.setupHelperArgs(t,e,i,n),o=this.nameLookup("helpers",t,"helper"),a=this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : {}");return{params:i,paramsInit:r,name:o,callParams:[a].concat(i)}},setupParams:function(e,t,n){var i={},r=[],o=[],a=[],s=!n,l=void 0;s&&(n=[]),i.name=this.quotedString(e),i.hash=this.popStack(),this.trackIds&&(i.hashIds=this.popStack()),this.stringParams&&(i.hashTypes=this.popStack(),i.hashContexts=this.popStack());var c=this.popStack(),u=this.popStack();(u||c)&&(i.fn=u||"container.noop",i.inverse=c||"container.noop");for(var d=t;d--;)l=this.popStack(),n[d]=l,this.trackIds&&(a[d]=this.popStack()),this.stringParams&&(o[d]=this.popStack(),r[d]=this.popStack());return s&&(i.args=this.source.generateArray(n)),this.trackIds&&(i.ids=this.source.generateArray(a)),this.stringParams&&(i.types=this.source.generateArray(o),i.contexts=this.source.generateArray(r)),this.options.data&&(i.data="data"),this.useBlockParams&&(i.blockParams="blockParams"),i},setupHelperArgs:function(e,t,n,i){var r=this.setupParams(e,t,n);return r=this.objectLiteral(r),i?(this.useRegister("options"),n.push("options"),["options=",r]):n?(n.push(r),""):r}},function(){for(var e="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),t=r.RESERVED_WORDS={},n=0,i=e.length;n<i;n++)t[e[n]]=!0}(),r.isValidJavaScriptVariableName=function(e){return!r.RESERVED_WORDS[e]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e)},t.default=r,e.exports=t.default},function(e,t,n){"use strict";function i(e,t,n){if(o.isArray(e)){for(var i=[],r=0,a=e.length;r<a;r++)i.push(t.wrap(e[r],n));return i}return"boolean"==typeof e||"number"==typeof e?e+"":e}function r(e){this.srcFile=e,this.source=[]}t.__esModule=!0;var o=n(5),a=void 0;try{}catch(e){}a||(a=function(e,t,n,i){this.src="",i&&this.add(i)},a.prototype={add:function(e){o.isArray(e)&&(e=e.join("")),this.src+=e},prepend:function(e){o.isArray(e)&&(e=e.join("")),this.src=e+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}}),r.prototype={isEmpty:function(){return!this.source.length},prepend:function(e,t){this.source.unshift(this.wrap(e,t))},push:function(e,t){this.source.push(this.wrap(e,t))},merge:function(){var e=this.empty();return this.each(function(t){e.add(["  ",t,"\n"])}),e},each:function(e){for(var t=0,n=this.source.length;t<n;t++)e(this.source[t])},empty:function(){var e=this.currentLocation||{start:{}};return new a(e.start.line,e.start.column,this.srcFile)},wrap:function(e){var t=arguments.length<=1||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return e instanceof a?e:(e=i(e,this,t),new a(t.start.line,t.start.column,this.srcFile,e))},functionCall:function(e,t,n){return n=this.generateList(n),this.wrap([e,t?"."+t+"(":"(",n,")"])},quotedString:function(e){return'"'+(e+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(e){var t=[];for(var n in e)if(e.hasOwnProperty(n)){var r=i(e[n],this);"undefined"!==r&&t.push([this.quotedString(n),":",r])}var o=this.generateList(t);return o.prepend("{"),o.add("}"),o},generateList:function(e){for(var t=this.empty(),n=0,r=e.length;n<r;n++)n&&t.add(","),t.add(i(e[n],this));return t},generateArray:function(e){var t=this.generateList(e);return t.prepend("["),t.add("]"),t}},t.default=r,e.exports=t.default}])}),require(["app"]);;define("jquery", [], function () {});define("moment", [], function () {});